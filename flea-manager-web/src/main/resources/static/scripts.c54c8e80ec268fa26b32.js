!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";function e(t,e){"createCanvas"===t&&(Wg=null),Gg[t]=e}function n(t){if(null==t||"object"!=typeof t)return t;var e=t,r=Lg.call(t);if("[object Array]"===r){if(!D(t)){e=[];for(var i=0,a=t.length;i<a;i++)e[i]=n(t[i])}}else if(Dg[r]){if(!D(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else for(e=new o(t.length),i=0,a=t.length;i<a;i++)e[i]=n(t[i])}}else if(!kg[r]&&!D(t)&&!M(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=n(t[s]));return e}function r(t,e,i){if(!_(e)||!_(t))return i?n(e):t;for(var a in e)if(e.hasOwnProperty(a)){var o=t[a],s=e[a];!_(s)||!_(o)||y(s)||y(o)||M(s)||M(o)||w(s)||w(o)||D(s)||D(o)?!i&&a in t||(t[a]=n(e[a])):r(o,s,i)}return t}function i(t,e){for(var n=t[0],i=1,a=t.length;i<a;i++)n=r(n,t[i],e);return n}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}function s(){return Wg||(Wg=Hg().getContext("2d")),Wg}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function l(t,e){function n(){}var r=t.prototype;for(var i in n.prototype=e.prototype,t.prototype=new n,r)t.prototype[i]=r[i];t.prototype.constructor=t,t.superClass=e}function c(t,e,n){o(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function h(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function f(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Ng)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function d(t,e,n){if(t&&e){if(t.map&&t.map===Fg)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}}function p(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===Vg)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function g(t,e,n){if(t&&e){if(t.filter&&t.filter===zg)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function v(t,e){var n=Bg.call(arguments,2);return function(){return t.apply(e,n.concat(Bg.call(arguments)))}}function m(t){var e=Bg.call(arguments,1);return function(){return t.apply(this,e.concat(Bg.call(arguments)))}}function y(t){return"[object Array]"===Lg.call(t)}function x(t){return"function"==typeof t}function b(t){return"[object String]"===Lg.call(t)}function _(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function w(t){return!!kg[Lg.call(t)]}function S(t){return!!Dg[Lg.call(t)]}function M(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function O(t){return t!=t}function C(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function A(t,e){return null!=t?t:e}function I(t,e,n){return null!=t?t:null!=e?e:n}function T(){return Function.call.apply(Bg,arguments)}function E(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function j(t,e){if(!t)throw new Error(e)}function P(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function k(t){t[qg]=!0}function D(t){return t[qg]}function L(t){function e(t,e){n?r.set(t,e):r.set(e,t)}var n=y(t);this.data={};var r=this;t instanceof L?t.each(e):t&&f(t,e)}function R(t){return new L(t)}function N(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function z(){}function B(t,e){var n=new Yg(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function F(t,e){return t[0]=e[0],t[1]=e[1],t}function V(t){var e=new Yg(2);return e[0]=t[0],e[1]=t[1],e}function G(t,e,n){return t[0]=e,t[1]=n,t}function H(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function W(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function q(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function U(t){return Math.sqrt(Y(t))}function Y(t){return t[0]*t[0]+t[1]*t[1]}function X(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Z(t,e){var n=U(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function $(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function Q(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function J(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function K(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function tt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function et(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function nt(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function rt(t,e){return{target:t,topTarget:e&&e.topTarget}}function it(t,e,n,r,i,a){var o=t._$handlers;if("function"==typeof n&&(i=r,r=n,n=null),!r||!e)return t;n=function(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}(t,n),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===r)return t;var u={h:r,one:a,query:n,ctx:i||t,callAtLast:r.zrEventfulCallAtLast},l=o[e].length-1,c=o[e][l];return c&&c.callAtLast?o[e].splice(l,0,u):o[e].push(u),t}function at(t,e,n,r){return n=n||{},r||!Pg.canvasSupported?ot(t,e,n):Pg.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):ot(t,e,n),n}function ot(t,e,n){var r=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function st(t,e,n){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];i&&at(t,i,e,n)}else at(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var a=e.button;return null==e.which&&void 0!==a&&tv.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function ut(t,e,n){Kg?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function lt(t,e,n){Kg?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}function ct(t){return 2===t.which||3===t.which}function ht(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function ft(t){ev(this.event)}function dt(){}function pt(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||iv}return!1}function gt(){var t=new sv(6);return vt(t),t}function vt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function yt(t,e,n){var r=e[1]*n[0]+e[3]*n[1],i=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],o=e[0]*n[4]+e[2]*n[5]+e[4],s=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=e[0]*n[0]+e[2]*n[1],t[1]=r,t[2]=i,t[3]=a,t[4]=o,t[5]=s,t}function xt(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function bt(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=-r*l+o*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*a+l*u,t[5]=c*u-l*a,t}function _t(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function wt(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=n*o-a*r;return u?(t[0]=o*(u=1/u),t[1]=-a*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-o*i)*u,t[5]=(a*i-n*s)*u,t):null}function St(t){var e=gt();return mt(e,t),e}function Mt(t){return t>cv||t<-cv}function Ot(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function Ct(t){return(t=Math.round(t))<0?0:t>255?255:t}function At(t){return t<0?0:t>1?1:t}function It(t){return Ct(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function Tt(t){return At(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function Et(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function jt(t,e,n){return t+(e-t)*n}function Pt(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function kt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Dt(t,e){Mv&&kt(Mv,e),Mv=Sv.put(t,Mv||e.slice())}function Lt(t,e){if(t){e=e||[];var n=Sv.get(t);if(n)return kt(e,n);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in wv)return kt(e,wv[r]),Dt(t,e),e;if("#"!==r.charAt(0)){var i=r.indexOf("("),a=r.indexOf(")");if(-1!==i&&a+1===r.length){var o=r.substr(0,i),s=r.substr(i+1,a-(i+1)).split(","),u=1;switch(o){case"rgba":if(4!==s.length)return void Pt(e,0,0,0,1);u=Tt(s.pop());case"rgb":return 3!==s.length?void Pt(e,0,0,0,1):(Pt(e,It(s[0]),It(s[1]),It(s[2]),u),Dt(t,e),e);case"hsla":return 4!==s.length?void Pt(e,0,0,0,1):(s[3]=Tt(s[3]),Rt(s,e),Dt(t,e),e);case"hsl":return 3!==s.length?void Pt(e,0,0,0,1):(Rt(s,e),Dt(t,e),e);default:return}}Pt(e,0,0,0,1)}else{if(4===r.length)return(l=parseInt(r.substr(1),16))>=0&&l<=4095?(Pt(e,(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1),Dt(t,e),e):void Pt(e,0,0,0,1);if(7===r.length){var l=parseInt(r.substr(1),16);return l>=0&&l<=16777215?(Pt(e,(16711680&l)>>16,(65280&l)>>8,255&l,1),Dt(t,e),e):void Pt(e,0,0,0,1)}}}}function Rt(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=Tt(t[1]),i=Tt(t[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return Pt(e=e||[],Ct(255*Et(o,a,n+1/3)),Ct(255*Et(o,a,n)),Ct(255*Et(o,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Nt(t,e){var n=Lt(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return Ht(n,4===n.length?"rgba":"rgb")}}function zt(t){var e=Lt(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Bt(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=e[i],s=e[a],u=r-i;return n[0]=Ct(jt(o[0],s[0],u)),n[1]=Ct(jt(o[1],s[1],u)),n[2]=Ct(jt(o[2],s[2],u)),n[3]=At(jt(o[3],s[3],u)),n}}function Ft(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=Lt(e[i]),s=Lt(e[a]),u=r-i,l=Ht([Ct(jt(o[0],s[0],u)),Ct(jt(o[1],s[1],u)),Ct(jt(o[2],s[2],u)),At(jt(o[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:a,value:r}:l}}function Vt(t,e,n,r){if(t=Lt(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=function(t){return(t=Math.round(t))<0?0:t>360?360:t}(e)),null!=n&&(t[1]=Tt(n)),null!=r&&(t[2]=Tt(r)),Ht(Rt(t),"rgba")}function Gt(t,e){if((t=Lt(t))&&null!=e)return t[3]=At(e),Ht(t,"rgba")}function Ht(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function Wt(t,e){return t[e]}function qt(t,e,n){t[e]=n}function Ut(t,e,n){return(e-t)*n+t}function Yt(t,e,n){return n>.5?e:t}function Xt(t,e,n,r,i){var a=t.length;if(1===i)for(s=0;s<a;s++)r[s]=Ut(t[s],e[s],n);else for(var o=a&&t[0].length,s=0;s<a;s++)for(var u=0;u<o;u++)r[s][u]=Ut(t[s][u],e[s][u],n)}function Zt(t,e,n){var r=t.length,i=e.length;if(r!==i)if(r>i)t.length=i;else for(o=r;o<i;o++)t.push(1===n?e[o]:Cv.call(e[o]));for(var a=t[0]&&t[0].length,o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var s=0;s<a;s++)isNaN(t[o][s])&&(t[o][s]=e[o][s])}function $t(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(a=0;a<r;a++)if(t[a]!==e[a])return!1}else for(var i=t[0].length,a=0;a<r;a++)for(var o=0;o<i;o++)if(t[a][o]!==e[a][o])return!1;return!0}function Qt(t,e,n,r,i,a,o,s,u){var l=t.length;if(1===u)for(h=0;h<l;h++)s[h]=Jt(t[h],e[h],n[h],r[h],i,a,o);else for(var c=t[0].length,h=0;h<l;h++)for(var f=0;f<c;f++)s[h][f]=Jt(t[h][f],e[h][f],n[h][f],r[h][f],i,a,o)}function Jt(t,e,n,r,i,a,o){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*o+(-3*(e-n)-2*s-u)*a+s*i+e}function Kt(t){if(h(t)){var e=t.length;if(h(t[0])){for(var n=[],r=0;r<e;r++)n.push(Cv.call(t[r]));return n}return Cv.call(t)}return t}function te(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function ee(t,e,n,r,i,a){var o=t._getter,s=t._setter,u="spline"===e,l=r.length;if(l){var c,f=h(r[0].value),d=!1,p=!1,g=f?function(t){var e=r[r.length-1].value;return h(e&&e[0])?2:1}():0;r.sort(function(t,e){return t.time-e.time}),c=r[l-1].time;for(var v=[],m=[],y=r[0].value,x=!0,b=0;b<l;b++){v.push(r[b].time/c);var _=r[b].value;if(f&&$t(_,y,g)||!f&&_===y||(x=!1),y=_,"string"==typeof _){var w=Lt(_);w?(_=w,d=!0):p=!0}m.push(_)}if(a||!x){var S=m[l-1];for(b=0;b<l-1;b++)f?Zt(m[b],S,g):!isNaN(m[b])||isNaN(S)||p||d||(m[b]=S);f&&Zt(o(t._target,i),S,g);var M,O,C,A,I,T=0,E=0;if(d)var j=[0,0,0,0];var P=new Ot({target:t._target,life:c,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<E){for(n=Math.min(T+1,l-1);n>=0&&!(v[n]<=e);n--);n=Math.min(n,l-2)}else{for(n=T;n<l&&!(v[n]>e);n++);n=Math.min(n-1,l-2)}T=n,E=e;var r=v[n+1]-v[n];if(0!==r)if(M=(e-v[n])/r,u)if(C=m[n],O=m[0===n?n:n-1],A=m[n>l-2?l-1:n+1],I=m[n>l-3?l-1:n+2],f)Qt(O,C,A,I,M,M*M,M*M*M,o(t,i),g);else{if(d)a=Qt(O,C,A,I,M,M*M,M*M*M,j,1),a=te(j);else{if(p)return Yt(C,A,M);a=Jt(O,C,A,I,M,M*M,M*M*M)}s(t,i,a)}else if(f)Xt(m[n],m[n+1],M,o(t,i),g);else{var a;if(d)Xt(m[n],m[n+1],M,j,1),a=te(j);else{if(p)return Yt(m[n],m[n+1],M);a=Ut(m[n],m[n+1],M)}s(t,i,a)}},ondestroy:n});return e&&"spline"!==e&&(P.easing=e),P}}}function ne(t,e,n,r,i,a,o,s){b(r)?(a=i,i=r,r=0):x(i)?(a=i,i="linear",r=0):x(r)?(a=r,r=0):x(n)?(a=n,n=500):n||(n=500),t.stopAnimation(),function t(e,n,r,i,a,o,s){var u={},l=0;for(var c in i)i.hasOwnProperty(c)&&(null!=r[c]?_(i[c])&&!h(i[c])?t(e,n?n+"."+c:c,r[c],i[c],a,o,s):(s?(u[c]=r[c],re(e,n,c,i[c])):u[c]=i[c],l++):null==i[c]||s||re(e,n,c,i[c]));l>0&&e.animate(n,!1).when(null==a?500:a,u).delay(o||0)}(t,"",t,e,n,r,s);var u=t.animators.slice(),l=u.length;l||a&&a();for(var c=0;c<u.length;c++)u[c].done(function(){--l||a&&a()}).start(i,o)}function re(t,e,n,r){if(e){var i={};i[e]={},i[e][n]=r,t.attr(i)}else t.attr(n,r)}function ie(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}function ae(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function oe(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var a,o=t[r],s=e,u=r;s<u;)i(o,t[a=s+u>>>1])<0?u=a:s=a+1;var l=r-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=o}}function se(t,e,n,r,i,a){var o=0,s=0,u=1;if(a(t,e[n+i])>0){for(s=r-i;u<s&&a(t,e[n+i+u])>0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(t,e[n+i-u])<=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[n+c])>0?o=c+1:u=c}return u}function ue(t,e,n,r,i,a){var o=0,s=0,u=1;if(a(t,e[n+i])<0){for(s=i+1;u<s&&a(t,e[n+i-u])<0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=r-i;u<s&&a(t,e[n+i+u])>=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[n+c])<0?u=c:o=c+1}return u}function le(t,e){function n(n){var s=a[n],l=o[n],c=a[n+1],h=o[n+1];o[n]=l+h,n===u-3&&(a[n+1]=a[n+2],o[n+1]=o[n+2]),u--;var f=ue(t[c],t,s,l,0,e);s+=f,0!=(l-=f)&&0!==(h=se(t[s+l-1],t,c,h,h-1,e))&&(l<=h?r(s,l,c,h):i(s,l,c,h))}function r(n,r,i,a){var o=0;for(o=0;o<r;o++)l[o]=t[n+o];var u=0,c=i,h=n;if(t[h++]=t[c++],0!=--a)if(1!==r){for(var f,d,p,g=s;;){f=0,d=0,p=!1;do{if(e(t[c],l[u])<0){if(t[h++]=t[c++],d++,f=0,0==--a){p=!0;break}}else if(t[h++]=l[u++],f++,d=0,1==--r){p=!0;break}}while((f|d)<g);if(p)break;do{if(0!==(f=ue(t[c],l,u,r,0,e))){for(o=0;o<f;o++)t[h+o]=l[u+o];if(h+=f,u+=f,(r-=f)<=1){p=!0;break}}if(t[h++]=t[c++],0==--a){p=!0;break}if(0!==(d=se(l[u],t,c,a,0,e))){for(o=0;o<d;o++)t[h+o]=t[c+o];if(h+=d,c+=d,0==(a-=d)){p=!0;break}}if(t[h++]=l[u++],1==--r){p=!0;break}g--}while(f>=Nv||d>=Nv);if(p)break;g<0&&(g=0),g+=2}if((s=g)<1&&(s=1),1===r){for(o=0;o<a;o++)t[h+o]=t[c+o];t[h+a]=l[u]}else{if(0===r)throw new Error;for(o=0;o<r;o++)t[h+o]=l[u+o]}}else{for(o=0;o<a;o++)t[h+o]=t[c+o];t[h+a]=l[u]}else for(o=0;o<r;o++)t[h+o]=l[u+o]}function i(n,r,i,a){var o=0;for(o=0;o<a;o++)l[o]=t[i+o];var u=n+r-1,c=a-1,h=i+a-1,f=0,d=0;if(t[h--]=t[u--],0!=--r)if(1!==a){for(var p=s;;){var g=0,v=0,m=!1;do{if(e(l[c],t[u])<0){if(t[h--]=t[u--],g++,v=0,0==--r){m=!0;break}}else if(t[h--]=l[c--],v++,g=0,1==--a){m=!0;break}}while((g|v)<p);if(m)break;do{if(0!=(g=r-ue(l[c],t,n,r,r-1,e))){for(r-=g,d=1+(h-=g),f=1+(u-=g),o=g-1;o>=0;o--)t[d+o]=t[f+o];if(0===r){m=!0;break}}if(t[h--]=l[c--],1==--a){m=!0;break}if(0!=(v=a-se(t[u],l,0,a,a-1,e))){for(a-=v,d=1+(h-=v),f=1+(c-=v),o=0;o<v;o++)t[d+o]=l[f+o];if(a<=1){m=!0;break}}if(t[h--]=t[u--],0==--r){m=!0;break}p--}while(g>=Nv||v>=Nv);if(m)break;p<0&&(p=0),p+=2}if((s=p)<1&&(s=1),1===a){for(d=1+(h-=r),f=1+(u-=r),o=r-1;o>=0;o--)t[d+o]=t[f+o];t[h]=l[c]}else{if(0===a)throw new Error;for(f=h-(a-1),o=0;o<a;o++)t[f+o]=l[o]}}else{for(d=1+(h-=r),f=1+(u-=r),o=r-1;o>=0;o--)t[d+o]=t[f+o];t[h]=l[c]}else for(f=h-(a-1),o=0;o<a;o++)t[f+o]=l[o]}var a,o,s=Nv,u=0,l=[];a=[],o=[],this.mergeRuns=function(){for(;u>1;){var t=u-2;if(t>=1&&o[t-1]<=o[t]+o[t+1]||t>=2&&o[t-2]<=o[t]+o[t-1])o[t-1]<o[t+1]&&t--;else if(o[t]>o[t+1])break;n(t)}},this.forceMergeRuns=function(){for(;u>1;){var t=u-2;t>0&&o[t-1]<o[t+1]&&t--,n(t)}},this.pushRun=function(t,e){a[u]=t,o[u]=e,u+=1}}function ce(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var a=0;if(i<Rv)return void oe(t,n,r,n+(a=ae(t,n,r,e)),e);var o=new le(t,e),s=function(t){for(var e=0;t>=Rv;)e|=1&t,t>>=1;return t+e}(i);do{if((a=ae(t,n,r,e))<s){var u=i;u>s&&(u=s),oe(t,n,n+u,n+a,e),a=u}o.pushRun(n,a),o.mergeRuns(),i-=a,n+=a}while(0!==i);o.forceMergeRuns()}}function he(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function fe(){return!1}function de(t,e,n){var r=Hg(),i=e.getWidth(),a=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=a*n,r}function pe(t){if("string"==typeof t){var e=Qv.get(t);return e&&e.image}return t}function ge(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var a=Qv.get(t),o={hostEl:n,cb:r,cbPayload:i};return a?!me(e=a.image)&&a.pending.push(o):((e=new Image).onload=e.onerror=ve,Qv.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return t}return e}function ve(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function me(t){return t&&t.width&&t.height}function ye(t,e){var n=t+":"+(e=e||nm);if(Jv[n])return Jv[n];for(var r=(t+"").split("\n"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(Ie(r[a],e).width,i);return Kv>tm&&(Kv=0,Jv={}),Kv++,Jv[n]=i,i}function xe(t,e,n,r,i,a,o,s){return o?function(t,e,n,r,i,a,o,s){var u=Ee(t,{rich:o,truncate:s,font:e,textAlign:n,textPadding:i,textLineHeight:a}),l=u.outerWidth,c=u.outerHeight;return new ie(be(0,l,n),_e(0,c,r),l,c)}(t,e,n,r,i,a,o,s):function(t,e,n,r,i,a,o){var s=Te(t,e,i,a,o),u=ye(t,e);i&&(u+=i[1]+i[3]);var l=s.outerHeight,c=new ie(be(0,u,n),_e(0,l,r),u,l);return c.lineHeight=s.lineHeight,c}(t,e,n,r,i,a,s)}function be(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function _e(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function we(t,e,n){var r=e.x,i=e.y,a=e.height,o=e.width,s=a/2,u="left",l="top";switch(t){case"left":r-=n,i+=s,u="right",l="middle";break;case"right":r+=n+o,i+=s,l="middle";break;case"top":r+=o/2,i-=n,u="center",l="bottom";break;case"bottom":r+=o/2,i+=a+n,u="center";break;case"inside":r+=o/2,i+=s,u="center",l="middle";break;case"insideLeft":r+=n,i+=s,l="middle";break;case"insideRight":r+=o-n,i+=s,u="right",l="middle";break;case"insideTop":r+=o/2,i+=n,u="center";break;case"insideBottom":r+=o/2,i+=a-n,u="center",l="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=o-n,i+=n,u="right";break;case"insideBottomLeft":r+=n,i+=a-n,l="bottom";break;case"insideBottomRight":r+=o-n,i+=a-n,u="right",l="bottom"}return{x:r,y:i,textAlign:u,textVerticalAlign:l}}function Se(t,e,n,r,i){if(!e)return"";var a=(t+"").split("\n");i=Me(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=Oe(a[o],i);return a.join("\n")}function Me(t,e,n,r){(r=a({},r)).font=e,n=A(n,"..."),r.maxIterations=A(r.maxIterations,2);var i=r.minChar=A(r.minChar,0);r.cnCharWidth=ye("\u56fd",e);var o=r.ascCharWidth=ye("a",e);r.placeholder=A(r.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<i&&s>=o;u++)s-=o;var l=ye(n,e);return l>s&&(n="",l=0),s=t-l,r.ellipsis=n,r.ellipsisWidth=l,r.contentWidth=s,r.containerWidth=t,r}function Oe(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=ye(t,r);if(a<=n)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?Ce(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;a=ye(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function Ce(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function Ae(t){return ye("\u56fd",t)}function Ie(t,e){return rm.measureText(t,e)}function Te(t,e,n,r,i){null!=t&&(t+="");var a=A(r,Ae(e)),o=t?t.split("\n"):[],s=o.length*a,u=s;if(n&&(u+=n[0]+n[2]),t&&i){var l=i.outerHeight,c=i.outerWidth;if(null!=l&&u>l)t="",o=[];else if(null!=c)for(var h=Me(c-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,d=o.length;f<d;f++)o[f]=Oe(o[f],h)}return{lines:o,height:s,outerHeight:u,lineHeight:a}}function Ee(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,i=em.lastIndex=0;null!=(r=em.exec(t));){var a=r.index;a>i&&je(n,t.substring(i,a)),je(n,r[2],r[1]),i=em.lastIndex}i<t.length&&je(n,t.substring(i,t.length));var o=n.lines,s=0,u=0,l=[],c=e.textPadding,h=e.truncate,f=h&&h.outerWidth,d=h&&h.outerHeight;for(c&&(null!=f&&(f-=c[1]+c[3]),null!=d&&(d-=c[0]+c[2])),E=0;E<o.length;E++){for(var p=o[E],g=0,v=0,m=0;m<p.tokens.length;m++){var y=(j=p.tokens[m]).styleName&&e.rich[j.styleName]||{},x=j.textPadding=y.textPadding,b=j.font=y.font||e.font,_=j.textHeight=A(y.textHeight,Ae(b));if(x&&(_+=x[0]+x[2]),j.height=_,j.lineHeight=I(y.textLineHeight,e.textLineHeight,_),j.textAlign=y&&y.textAlign||e.textAlign,j.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=d&&s+j.lineHeight>d)return{lines:[],width:0,height:0};j.textWidth=ye(j.text,b);var w=y.textWidth,S=null==w||"auto"===w;if("string"==typeof w&&"%"===w.charAt(w.length-1))j.percentWidth=w,l.push(j),w=0;else{if(S){w=j.textWidth;var M=y.textBackgroundColor,O=M&&M.image;O&&me(O=pe(O))&&(w=Math.max(w,O.width*_/O.height))}var C=x?x[1]+x[3]:0;w+=C;var T=null!=f?f-v:null;null!=T&&T<w&&(!S||T<C?(j.text="",j.textWidth=w=0):(j.text=Se(j.text,T-C,b,h.ellipsis,{minChar:h.minChar}),j.textWidth=ye(j.text,b),w=j.textWidth+C))}v+=j.width=w,y&&(g=Math.max(g,j.lineHeight))}p.width=v,p.lineHeight=g,s+=g,u=Math.max(u,v)}n.outerWidth=n.width=A(e.textWidth,u),n.outerHeight=n.height=A(e.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(var E=0;E<l.length;E++){var j=l[E];j.width=parseInt(j.percentWidth,10)/100*u}return n}function je(t,e,n){for(var r=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var s=i[o],u={styleName:n,text:s,isLineHolder:!s&&!r};if(o)a.push({tokens:[u]});else{var l=(a[a.length-1]||(a[0]={tokens:[]})).tokens,c=l.length;1===c&&l[0].isLineHolder?l[0]=u:(s||!c||r)&&l.push(u)}}}function Pe(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&P(e)||t.textFont||t.font}function ke(t,e){var n,r,i,a,o,s=e.x,u=e.y,l=e.width,c=e.height,h=e.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"==typeof h?n=r=i=a=h:h instanceof Array?1===h.length?n=r=i=a=h[0]:2===h.length?(n=i=h[0],r=a=h[1]):3===h.length?(n=h[0],r=a=h[1],i=h[2]):(n=h[0],r=h[1],i=h[2],a=h[3]):n=r=i=a=0,n+r>l&&(n*=l/(o=n+r),r*=l/o),i+a>l&&(i*=l/(o=i+a),a*=l/o),r+i>c&&(r*=c/(o=r+i),i*=c/o),n+a>c&&(n*=c/(o=n+a),a*=c/o),t.moveTo(s+n,u),t.lineTo(s+l-r,u),0!==r&&t.arc(s+l-r,u+r,r,-Math.PI/2,0),t.lineTo(s+l,u+c-i),0!==i&&t.arc(s+l-i,u+c-i,i,0,Math.PI/2),t.lineTo(s+a,u+c),0!==a&&t.arc(s+a,u+c-a,a,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}function De(t){return Le(t),f(t.rich,Le),t}function Le(t){if(t){t.font=Pe(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||am[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||om[n]?n:"top",t.textPadding&&(t.textPadding=E(t.textPadding))}}function Re(t,e,n,r,i,a){r.rich?function(t,e,n,r,i,a){a!==Gv&&(e.__attrCachedBy=Vv.NONE);var o=t.__textCotentBlock;o&&!t.__dirtyText||(o=t.__textCotentBlock=Ee(n,r)),function(t,e,n,r,i){var a=n.width,o=n.outerWidth,s=n.outerHeight,u=r.textPadding,l=Ge(0,r,i),c=l.baseX,h=l.baseY,f=l.textAlign,d=l.textVerticalAlign;Ne(e,r,i,c,h);var p=be(c,o,f),g=_e(h,s,d),v=p,m=g;u&&(v+=u[3],m+=u[0]);var y=v+a;Be(r)&&Fe(t,e,r,p,g,o,s);for(var x=0;x<n.lines.length;x++){for(var b,_=n.lines[x],w=_.tokens,S=w.length,M=_.lineHeight,O=_.width,C=0,A=v,I=y,T=S-1;C<S&&(!(b=w[C]).textAlign||"left"===b.textAlign);)ze(t,e,b,r,M,m,A,"left"),O-=b.width,A+=b.width,C++;for(;T>=0&&"right"===(b=w[T]).textAlign;)ze(t,e,b,r,M,m,I,"right"),O-=b.width,I-=b.width,T--;for(A+=(a-(A-v)-(y-I)-O)/2;C<=T;)ze(t,e,b=w[C],r,M,m,A+b.width/2,"center"),A+=b.width,C++;m+=M}}(t,e,o,r,i)}(t,e,n,r,i,a):function(t,e,n,r,i,a){var o,s=Be(r),u=!1,l=e.__attrCachedBy===Vv.PLAIN_TEXT;a!==Gv?(a&&(o=a.style,u=!s&&l&&o),e.__attrCachedBy=s?Vv.NONE:Vv.PLAIN_TEXT):l&&(e.__attrCachedBy=Vv.NONE);var c=r.font||im;u&&c===(o.font||im)||(e.font=c);var h=t.__computedFont;t.__styleFont!==c&&(t.__styleFont=c,h=t.__computedFont=e.font);var f=r.textPadding,d=t.__textCotentBlock;d&&!t.__dirtyText||(d=t.__textCotentBlock=Te(n,h,f,r.textLineHeight,r.truncate));var p=d.outerHeight,g=d.lines,v=d.lineHeight,m=Ge(0,r,i),y=m.baseX,x=m.baseY,b=m.textAlign||"left",_=m.textVerticalAlign;Ne(e,r,i,y,x);var w=_e(x,p,_),S=y,M=w;if(s||f){var O=ye(n,h);f&&(O+=f[1]+f[3]);var C=be(y,O,b);s&&Fe(t,e,r,C,w,O,p),f&&(S=Ye(y,b,f),M+=f[0])}for(e.textAlign=b,e.textBaseline="middle",e.globalAlpha=r.opacity||1,R=0;R<sm.length;R++){var A=sm[R],I=A[0],T=A[1],E=r[I];u&&E===o[I]||(e[T]=Fv(e,T,E||A[2]))}M+=v/2;var j=r.textStrokeWidth,P=!u||j!==(u?o.textStrokeWidth:null),k=!u||P||r.textStroke!==o.textStroke,D=We(r.textStroke,j),L=qe(r.textFill);if(D&&(P&&(e.lineWidth=j),k&&(e.strokeStyle=D)),L&&(u&&r.textFill===o.textFill||(e.fillStyle=L)),1===g.length)D&&e.strokeText(g[0],S,M),L&&e.fillText(g[0],S,M);else for(var R=0;R<g.length;R++)D&&e.strokeText(g[R],S,M),L&&e.fillText(g[R],S,M),M+=v}(t,e,n,r,i,a)}function Ne(t,e,n,r,i){if(n&&e.textRotation){var a=e.textOrigin;"center"===a?(r=n.width/2+n.x,i=n.height/2+n.y):a&&(r=a[0]+n.x,i=a[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i)}}function ze(t,e,n,r,i,a,o,s){var u=r.rich[n.styleName]||{};u.text=n.text;var l=n.textVerticalAlign,c=a+i/2;"top"===l?c=a+n.height/2:"bottom"===l&&(c=a+i-n.height/2),!n.isLineHolder&&Be(u)&&Fe(t,e,u,"right"===s?o-n.width:"center"===s?o-n.width/2:o,c-n.height/2,n.width,n.height);var h=n.textPadding;h&&(o=Ye(o,s,h),c-=n.height/2-h[2]-n.textHeight/2),He(e,"shadowBlur",I(u.textShadowBlur,r.textShadowBlur,0)),He(e,"shadowColor",u.textShadowColor||r.textShadowColor||"transparent"),He(e,"shadowOffsetX",I(u.textShadowOffsetX,r.textShadowOffsetX,0)),He(e,"shadowOffsetY",I(u.textShadowOffsetY,r.textShadowOffsetY,0)),He(e,"textAlign",s),He(e,"textBaseline","middle"),He(e,"font",n.font||im);var f=We(u.textStroke||r.textStroke,p),d=qe(u.textFill||r.textFill),p=A(u.textStrokeWidth,r.textStrokeWidth);f&&(He(e,"lineWidth",p),He(e,"strokeStyle",f),e.strokeText(n.text,o,c)),d&&(He(e,"fillStyle",d),e.fillText(n.text,o,c))}function Be(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function Fe(t,e,n,r,i,a,o){var s=n.textBackgroundColor,u=n.textBorderWidth,l=n.textBorderColor,c=b(s);if(He(e,"shadowBlur",n.textBoxShadowBlur||0),He(e,"shadowColor",n.textBoxShadowColor||"transparent"),He(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),He(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),c||u&&l){e.beginPath();var h=n.textBorderRadius;h?ke(e,{x:r,y:i,width:a,height:o,r:h}):e.rect(r,i,a,o),e.closePath()}if(c)He(e,"fillStyle",s),null!=n.fillOpacity?(d=e.globalAlpha,e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=d):e.fill();else if(_(s)){var f=s.image;(f=ge(f,null,t,Ve,s))&&me(f)&&e.drawImage(f,r,i,a,o)}if(u&&l)if(He(e,"lineWidth",u),He(e,"strokeStyle",l),null!=n.strokeOpacity){var d=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=d}else e.stroke()}function Ve(t,e){e.image=t}function Ge(t,e,n){var r=e.x||0,i=e.y||0,a=e.textAlign,o=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)r=n.x+Ue(s[0],n.width),i=n.y+Ue(s[1],n.height);else{var u=we(s,n,e.textDistance);r=u.x,i=u.y,a=a||u.textAlign,o=o||u.textVerticalAlign}var l=e.textOffset;l&&(r+=l[0],i+=l[1])}return{baseX:r,baseY:i,textAlign:a,textVerticalAlign:o}}function He(t,e,n){return t[e]=Fv(t,e,n),t[e]}function We(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function qe(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Ue(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Ye(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Xe(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function Ze(t){for(var e in jv.call(this,t=t||{}),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new Wv(t.style,this),this._rect=null,this.__clipPaths=[]}function $e(t){Ze.call(this,t)}function Qe(t){return parseInt(t,10)}function Je(t){return"mousewheel"===t&&Pg.browser.firefox?"DOMMouseScroll":t}function Ke(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function tn(t){var e=t.pointerType;return"pen"===e||"touch"===e}function en(t){function e(e,n){f(e,function(e){ut(t,Je(e),n._handlers[e])},n)}Jg.call(this),this.dom=t,this._touching=!1,this._handlers={},function(t){f(gm,function(e){t._handlers[e]=v(ym[e],t)}),f(mm,function(e){t._handlers[e]=v(ym[e],t)}),f(pm,function(e){t._handlers[e]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(ym[e],t)})}(this),Pg.pointerEventsSupported?e(mm,this):(Pg.touchEventsSupported&&e(gm,this),e(pm,this))}function nn(t,e){var n=new Sm(jg(),t,e);return wm[n.id]=n,n}function rn(t,e){_m[t]=e}function an(t){return t instanceof Array?t:null==t?[]:[t]}function on(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}function sn(t){return!Cm(t)||Am(t)||t instanceof Date?t:t.value}function un(t,e){e=(e||[]).slice();var n=d(t||[],function(t,e){return{exist:t}});return Om(e,function(t,r){if(Cm(t)){for(i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[r]=null);for(var i=0;i<n.length;i++){var a=n[i].exist;if(!(n[i].option||null!=a.id&&null!=t.id||null==t.name||hn(t)||hn(a)||a.name!==t.name+""))return n[i].option=t,void(e[r]=null)}}}),Om(e,function(t,e){if(Cm(t)){for(var r=0;r<n.length;r++)if(!n[r].option&&!hn(n[r].exist)&&null==t.id){n[r].option=t;break}r>=n.length&&n.push({option:t})}}),n}function ln(t){var e=R();Om(t,function(t,n){var r=t.exist;r&&e.set(r.id,t)}),Om(t,function(t,n){var r=t.option;j(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),Om(t,function(t,n){var r=t.exist,i=t.option,a=t.keyInfo;if(Cm(i)){if(a.name=null!=i.name?i.name+"":r?r.name:Im+n,r)a.id=r.id;else if(null!=i.id)a.id=i.id+"";else{var o=0;do{a.id="\0"+a.name+"\0"+o++}while(e.get(a.id))}e.set(a.id,t)}})}function cn(t){var e=t.name;return!(!e||!e.indexOf(Im))}function hn(t){return Cm(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function fn(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?y(e.dataIndex)?d(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?y(e.name)?d(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function dn(){var t="__\0ec_inner_"+Em+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function pn(t,e,n){if(b(e)){var r={};r[e+"Index"]=0,e=r}var i=n&&n.defaultMainType;!i||gn(e,i+"Index")||gn(e,i+"Id")||gn(e,i+"Name")||(e[i+"Index"]=0);var a={};return Om(e,function(r,i){if(r=e[i],"dataIndex"!==i&&"dataIndexInside"!==i){var o=i.match(/^(\w+)(Index|Id|Name)$/)||[],s=o[1],l=(o[2]||"").toLowerCase();if(!(!s||!l||null==r||"index"===l&&"none"===r||n&&n.includeMainTypes&&u(n.includeMainTypes,s)<0)){var c={mainType:s};"index"===l&&"all"===r||(c[l]=r);var h=t.queryComponents(c);a[s+"Models"]=h,a[s+"Model"]=h[0]}}else a[i]=r}),a}function gn(t,e){return t&&t.hasOwnProperty(e)}function vn(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function mn(t){return"auto"===t?Pg.domSupported?"html":"richText":t||"html"}function yn(t,e){var n=R(),r=[];return f(t,function(t){var i=e(t);(n.get(i)||(r.push(i),n.set(i,[]))).push(t)}),{keys:r,buckets:n}}function xn(t){var e={main:"",sub:""};return t&&(t=t.split(jm),e.main=t[0]||"",e.sub=t[1]||""),e}function bn(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return a(n.prototype,t),n.extend=this.extend,n.superCall=wn,n.superApply=Sn,l(n,this),n.superClass=e,n}}function _n(t){var e=["__\0is_clz",km++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function wn(t,e){var n=T(arguments,2);return this.superClass.prototype[e].apply(t,n)}function Sn(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Mn(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){return e&&(function(t){j(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=xn(e)).sub?e.sub!==Pm&&((function(t){var e=n[t.main];return e&&e[Pm]||((e=n[t.main]={})[Pm]=!0),e}(e))[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,r){var i=n[t];if(i&&i[Pm]&&(i=e?i[e]:null),r&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=xn(t);var e=[],r=n[t.main];return r&&r[Pm]?f(r,function(t,n){n!==Pm&&e.push(t)}):e.push(r),e},t.hasClass=function(t){return t=xn(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return f(n,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=xn(t);var e=n[t.main];return e&&e[Pm]},t.parseClassType=xn,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t}function On(t){return t>-Vm&&t<Vm}function Cn(t){return t>Vm||t<-Vm}function An(t,e,n,r,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*r+3*a*n)}function In(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)}function Tn(t,e,n,r,i){var a=6*n-12*e+6*t,o=9*e+3*r-3*t-9*n,s=3*e-3*t,u=0;if(On(o))Cn(a)&&(h=-s/a)>=0&&h<=1&&(i[u++]=h);else{var l=a*a-4*o*s;if(On(l))i[0]=-a/(2*o);else if(l>0){var c=Fm(l),h=(-a+c)/(2*o),f=(-a-c)/(2*o);h>=0&&h<=1&&(i[u++]=h),f>=0&&f<=1&&(i[u++]=f)}}return u}function En(t,e,n,r,i,a){var o=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,l=(s-o)*i+o,c=(u-s)*i+s,h=(c-l)*i+l;a[0]=t,a[1]=o,a[2]=l,a[3]=h,a[4]=h,a[5]=c,a[6]=u,a[7]=r}function jn(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function Pn(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function kn(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function Dn(t,e,n,r,i){var a=(e-t)*r+t,o=(n-e)*r+e,s=(o-a)*r+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function Ln(t,e,n){if(0!==t.length){var r,i=t[0],a=i[0],o=i[0],s=i[1],u=i[1];for(r=1;r<t.length;r++)a=Xm(a,(i=t[r])[0]),o=Zm(o,i[0]),s=Xm(s,i[1]),u=Zm(u,i[1]);e[0]=a,e[1]=s,n[0]=o,n[1]=u}}function Rn(t,e,n,r,i,a){i[0]=Xm(t,n),i[1]=Xm(e,r),a[0]=Zm(t,n),a[1]=Zm(e,r)}function Nn(t,e,n,r,i,a,o,s,u,l){var c,h=Tn,f=An,d=h(t,n,i,o,ny);for(u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0,c=0;c<d;c++){var p=f(t,n,i,o,ny[c]);u[0]=Xm(p,u[0]),l[0]=Zm(p,l[0])}for(d=h(e,r,a,s,ry),c=0;c<d;c++){var g=f(e,r,a,s,ry[c]);u[1]=Xm(g,u[1]),l[1]=Zm(g,l[1])}u[0]=Xm(t,u[0]),l[0]=Zm(t,l[0]),u[0]=Xm(o,u[0]),l[0]=Zm(o,l[0]),u[1]=Xm(e,u[1]),l[1]=Zm(e,l[1]),u[1]=Xm(s,u[1]),l[1]=Zm(s,l[1])}function zn(t,e,n,r,i,a,o,s){var u=kn,l=jn,c=Zm(Xm(u(t,n,i),1),0),h=Zm(Xm(u(e,r,a),1),0),f=l(t,n,i,c),d=l(e,r,a,h);o[0]=Xm(t,i,f),o[1]=Xm(e,a,d),s[0]=Zm(t,i,f),s[1]=Zm(e,a,d)}function Bn(t,e,n,r,i,a,o,s,u){var l=tt,c=et,h=Math.abs(i-a);if(h%Jm<1e-4&&h>1e-4)return s[0]=t-n,s[1]=e-r,u[0]=t+n,void(u[1]=e+r);if(Km[0]=Qm(i)*n+t,Km[1]=$m(i)*r+e,ty[0]=Qm(a)*n+t,ty[1]=$m(a)*r+e,l(s,Km,ty),c(u,Km,ty),(i%=Jm)<0&&(i+=Jm),(a%=Jm)<0&&(a+=Jm),i>a&&!o?a+=Jm:i<a&&o&&(i+=Jm),o){var f=a;a=i,i=f}for(var d=0;d<a;d+=Math.PI/2)d>i&&(ey[0]=Qm(d)*n+t,ey[1]=$m(d)*r+e,l(s,ey,s),c(u,ey,u))}function Fn(t,e,n,r,i,a,o){if(0===i)return!1;var s,u=i;if(o>e+u&&o>r+u||o<e-u&&o<r-u||a>t+u&&a>n+u||a<t-u&&a<n-u)return!1;if(t===n)return Math.abs(a-t)<=u/2;var l=(s=(e-r)/(t-n))*a-o+(t*r-n*e)/(t-n);return l*l/(s*s+1)<=u/2*u/2}function Vn(t,e,n,r,i,a,o,s,u,l,c){if(0===u)return!1;var h=u;return!(c>e+h&&c>r+h&&c>a+h&&c>s+h||c<e-h&&c<r-h&&c<a-h&&c<s-h||l>t+h&&l>n+h&&l>i+h&&l>o+h||l<t-h&&l<n-h&&l<i-h&&l<o-h)&&function(t,e,n,r,i,a,o,s,u,l,c){var h,f,d,p,g,v=.005,m=1/0;qm[0]=u,qm[1]=l;for(var y=0;y<1;y+=.05)Um[0]=An(t,n,i,o,y),Um[1]=An(e,r,a,s,y),(p=Zg(qm,Um))<m&&(h=y,m=p);m=1/0;for(var x=0;x<32&&!(v<Gm);x++)d=h+v,Um[0]=An(t,n,i,o,f=h-v),Um[1]=An(e,r,a,s,f),p=Zg(Um,qm),f>=0&&p<m?(h=f,m=p):(Ym[0]=An(t,n,i,o,d),Ym[1]=An(e,r,a,s,d),g=Zg(Ym,qm),d<=1&&g<m?(h=d,m=g):v*=.5);return Fm(m)}(t,e,n,r,i,a,o,s,l,c)<=h/2}function Gn(t,e,n,r,i,a,o,s,u){if(0===o)return!1;var l=o;return!(u>e+l&&u>r+l&&u>a+l||u<e-l&&u<r-l&&u<a-l||s>t+l&&s>n+l&&s>i+l||s<t-l&&s<n-l&&s<i-l)&&function(t,e,n,r,i,a,o,s,u){var l,c=.005,h=1/0;qm[0]=o,qm[1]=s;for(var f=0;f<1;f+=.05)Um[0]=jn(t,n,i,f),Um[1]=jn(e,r,a,f),(v=Zg(qm,Um))<h&&(l=f,h=v);h=1/0;for(var d=0;d<32&&!(c<Gm);d++){var p=l-c,g=l+c;Um[0]=jn(t,n,i,p),Um[1]=jn(e,r,a,p);var v=Zg(Um,qm);if(p>=0&&v<h)l=p,h=v;else{Ym[0]=jn(t,n,i,g),Ym[1]=jn(e,r,a,g);var m=Zg(Ym,qm);g<=1&&m<h?(l=g,h=m):c*=.5}}return Fm(h)}(t,e,n,r,i,a,s,u)<=l/2}function Hn(t){return(t%=my)<0&&(t+=my),t}function Wn(t,e,n,r,i,a,o,s,u){if(0===o)return!1;var l=o;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>n||c+l<n)return!1;if(Math.abs(r-i)%yy<1e-4)return!0;if(a){var h=r;r=Hn(i),i=Hn(h)}else r=Hn(r),i=Hn(i);r>i&&(i+=yy);var f=Math.atan2(u,s);return f<0&&(f+=yy),f>=r&&f<=i||f+yy>=r&&f+yy<=i}function qn(t,e,n,r,i,a){if(a>e&&a>r||a<e&&a<r)return 0;if(r===e)return 0;var o=r<e?1:-1,s=(a-e)/(r-e);1!==s&&0!==s||(o=r<e?.5:-.5);var u=s*(n-t)+t;return u===i?1/0:u>i?o:0}function Un(){var t=Sy[0];Sy[0]=Sy[1],Sy[1]=t}function Yn(t,e,n,r,i,a,o,s,u,l){if(l>e&&l>r&&l>a&&l>s||l<e&&l<r&&l<a&&l<s)return 0;var c=function(t,e,n,r,i,a){var o=r+3*(e-n)-t,s=3*(n-2*e+t),u=3*(e-t),l=t-i,c=s*s-3*o*u,h=s*u-9*o*l,f=u*u-3*s*l,d=0;if(On(c)&&On(h))On(s)?a[0]=0:(M=-u/s)>=0&&M<=1&&(a[d++]=M);else{var p=h*h-4*c*f;if(On(p)){var g=h/c,v=-g/2;(M=-s/o+g)>=0&&M<=1&&(a[d++]=M),v>=0&&v<=1&&(a[d++]=v)}else if(p>0){var m=Fm(p),y=c*s+1.5*o*(-h+m),x=c*s+1.5*o*(-h-m);(M=(-s-((y=y<0?-Bm(-y,Wm):Bm(y,Wm))+(x=x<0?-Bm(-x,Wm):Bm(x,Wm))))/(3*o))>=0&&M<=1&&(a[d++]=M)}else{var b=(2*c*s-3*o*h)/(2*Fm(c*c*c)),_=Math.acos(b)/3,w=Fm(c),S=Math.cos(_),M=(-s-2*w*S)/(3*o),O=(v=(-s+w*(S+Hm*Math.sin(_)))/(3*o),(-s+w*(S-Hm*Math.sin(_)))/(3*o));M>=0&&M<=1&&(a[d++]=M),v>=0&&v<=1&&(a[d++]=v),O>=0&&O<=1&&(a[d++]=O)}}return d}(e,r,a,s,l,wy);if(0===c)return 0;for(var h,f,d=0,p=-1,g=0;g<c;g++){var v=wy[g],m=0===v||1===v?.5:1;An(t,n,i,o,v)<u||(p<0&&(p=Tn(e,r,a,s,Sy),Sy[1]<Sy[0]&&p>1&&Un(),h=An(e,r,a,s,Sy[0]),p>1&&(f=An(e,r,a,s,Sy[1]))),d+=2===p?v<Sy[0]?h<e?m:-m:v<Sy[1]?f<h?m:-m:s<f?m:-m:v<Sy[0]?h<e?m:-m:s<h?m:-m)}return d}function Xn(t,e,n,r,i,a,o,s){if(s>e&&s>r&&s>a||s<e&&s<r&&s<a)return 0;var u=function(t,e,n,r,i){var a=t-2*e+n,o=2*(e-t),s=t-r,u=0;if(On(a))Cn(o)&&(h=-s/o)>=0&&h<=1&&(i[u++]=h);else{var l=o*o-4*a*s;if(On(l))(h=-o/(2*a))>=0&&h<=1&&(i[u++]=h);else if(l>0){var c=Fm(l),h=(-o+c)/(2*a),f=(-o-c)/(2*a);h>=0&&h<=1&&(i[u++]=h),f>=0&&f<=1&&(i[u++]=f)}}return u}(e,r,a,s,wy);if(0===u)return 0;var l=kn(e,r,a);if(l>=0&&l<=1){for(var c=0,h=jn(e,r,a,l),f=0;f<u;f++)d=0===wy[f]||1===wy[f]?.5:1,(p=jn(t,n,i,wy[f]))<o||(c+=wy[f]<l?h<e?d:-d:a<h?d:-d);return c}var d=0===wy[0]||1===wy[0]?.5:1,p=jn(t,n,i,wy[0]);return p<o?0:a<e?d:-d}function Zn(t,e,n,r,i,a,o,s){if((s-=e)>n||s<-n)return 0;l=Math.sqrt(n*n-s*s),wy[0]=-l,wy[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u%by<1e-4)return r=0,i=by,p=a?1:-1,o>=wy[0]+t&&o<=wy[1]+t?p:0;if(a){var l=r;r=Hn(i),i=Hn(l)}else r=Hn(r),i=Hn(i);r>i&&(i+=by);for(var c=0,h=0;h<2;h++){var f=wy[h];if(f+t>o){var d=Math.atan2(s,f),p=a?1:-1;d<0&&(d=by+d),(d>=r&&d<=i||d+by>=r&&d+by<=i)&&(d>Math.PI/2&&d<1.5*Math.PI&&(p=-p),c+=p)}}return c}function $n(t,e,n,r,i){for(var a=0,o=0,s=0,u=0,l=0,c=0;c<t.length;){var h=t[c++];switch(h===xy.M&&c>1&&(n||(a+=qn(o,s,u,l,r,i))),1===c&&(u=o=t[c],l=s=t[c+1]),h){case xy.M:o=u=t[c++],s=l=t[c++];break;case xy.L:if(n){if(Fn(o,s,t[c],t[c+1],e,r,i))return!0}else a+=qn(o,s,t[c],t[c+1],r,i)||0;o=t[c++],s=t[c++];break;case xy.C:if(n){if(Vn(o,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],e,r,i))return!0}else a+=Yn(o,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],r,i)||0;o=t[c++],s=t[c++];break;case xy.Q:if(n){if(Gn(o,s,t[c++],t[c++],t[c],t[c+1],e,r,i))return!0}else a+=Xn(o,s,t[c++],t[c++],t[c],t[c+1],r,i)||0;o=t[c++],s=t[c++];break;case xy.A:var f=t[c++],d=t[c++],p=t[c++],g=t[c++],v=t[c++],m=t[c++];c+=1;var y=1-t[c++],x=Math.cos(v)*p+f,b=Math.sin(v)*g+d;c>1?a+=qn(o,s,x,b,r,i):(u=x,l=b);var _=(r-f)*g/p+f;if(n){if(Wn(f,d,g,v,v+m,y,e,_,i))return!0}else a+=Zn(f,d,g,v,v+m,y,_,i);o=Math.cos(v+m)*p+f,s=Math.sin(v+m)*g+d;break;case xy.R:if(u=o=t[c++],l=s=t[c++],x=u+t[c++],b=l+t[c++],n){if(Fn(u,l,x,l,e,r,i)||Fn(x,l,x,b,e,r,i)||Fn(x,b,u,b,e,r,i)||Fn(u,b,u,l,e,r,i))return!0}else a+=qn(x,l,x,b,r,i),a+=qn(u,b,u,l,r,i);break;case xy.Z:if(n){if(Fn(o,s,u,l,e,r,i))return!0}else a+=qn(o,s,u,l,r,i);o=u,s=l}}return n||Math.abs(s-l)<_y||(a+=qn(o,s,u,l,r,i)||0),0!==a}function Qn(t){Ze.call(this,t),this.path=null}function Jn(t,e,n,r,i,a,o,s,u,l,c){var h=u*(Ly/180),f=Dy(h)*(t-n)/2+ky(h)*(e-r)/2,d=-1*ky(h)*(t-n)/2+Dy(h)*(e-r)/2,p=f*f/(o*o)+d*d/(s*s);p>1&&(o*=Py(p),s*=Py(p));var g=(i===a?-1:1)*Py((o*o*(s*s)-o*o*(d*d)-s*s*(f*f))/(o*o*(d*d)+s*s*(f*f)))||0,v=g*o*d/s,m=g*-s*f/o,y=(t+n)/2+Dy(h)*v-ky(h)*m,x=(e+r)/2+ky(h)*v+Dy(h)*m,b=zy([1,0],[(f-v)/o,(d-m)/s]),_=[(f-v)/o,(d-m)/s],w=[(-1*f-v)/o,(-1*d-m)/s],S=zy(_,w);Ny(_,w)<=-1&&(S=Ly),Ny(_,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Ly),1===a&&S<0&&(S+=2*Ly),c.addData(l,y,x,o,s,b,S,h,a)}function Kn(t,e){var n=function(t){if(!t)return new vy;for(var e,n=0,r=0,i=n,a=r,o=new vy,s=vy.CMD,u=t.match(By),l=0;l<u.length;l++){for(var c,h=u[l],f=h.charAt(0),d=h.match(Fy)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);for(var v=0;v<p;){var m,y,x,b,_,w,S,M=n,O=r;switch(f){case"l":n+=d[v++],r+=d[v++],o.addData(c=s.L,n,r);break;case"L":n=d[v++],r=d[v++],o.addData(c=s.L,n,r);break;case"m":n+=d[v++],r+=d[v++],o.addData(c=s.M,n,r),i=n,a=r,f="l";break;case"M":n=d[v++],r=d[v++],o.addData(c=s.M,n,r),i=n,a=r,f="L";break;case"h":n+=d[v++],o.addData(c=s.L,n,r);break;case"H":n=d[v++],o.addData(c=s.L,n,r);break;case"v":r+=d[v++],o.addData(c=s.L,n,r);break;case"V":r=d[v++],o.addData(c=s.L,n,r);break;case"C":o.addData(c=s.C,d[v++],d[v++],d[v++],d[v++],d[v++],d[v++]),n=d[v-2],r=d[v-1];break;case"c":o.addData(c=s.C,d[v++]+n,d[v++]+r,d[v++]+n,d[v++]+r,d[v++]+n,d[v++]+r),n+=d[v-2],r+=d[v-1];break;case"S":m=n,y=r;var C=o.len(),A=o.data;e===s.C&&(m+=n-A[C-4],y+=r-A[C-3]),M=d[v++],O=d[v++],n=d[v++],r=d[v++],o.addData(c=s.C,m,y,M,O,n,r);break;case"s":m=n,y=r,C=o.len(),A=o.data,e===s.C&&(m+=n-A[C-4],y+=r-A[C-3]),M=n+d[v++],O=r+d[v++],n+=d[v++],r+=d[v++],o.addData(c=s.C,m,y,M,O,n,r);break;case"Q":M=d[v++],O=d[v++],n=d[v++],r=d[v++],o.addData(c=s.Q,M,O,n,r);break;case"q":M=d[v++]+n,O=d[v++]+r,n+=d[v++],r+=d[v++],o.addData(c=s.Q,M,O,n,r);break;case"T":m=n,y=r,C=o.len(),A=o.data,e===s.Q&&(m+=n-A[C-4],y+=r-A[C-3]),n=d[v++],r=d[v++],o.addData(c=s.Q,m,y,n,r);break;case"t":m=n,y=r,C=o.len(),A=o.data,e===s.Q&&(m+=n-A[C-4],y+=r-A[C-3]),n+=d[v++],r+=d[v++],o.addData(c=s.Q,m,y,n,r);break;case"A":x=d[v++],b=d[v++],_=d[v++],w=d[v++],S=d[v++],Jn(M=n,O=r,n=d[v++],r=d[v++],w,S,x,b,_,c=s.A,o);break;case"a":x=d[v++],b=d[v++],_=d[v++],w=d[v++],S=d[v++],Jn(M=n,O=r,n+=d[v++],r+=d[v++],w,S,x,b,_,c=s.A,o)}}"z"!==f&&"Z"!==f||(o.addData(c=s.Z),n=i,r=a),e=c}return o.toStatic(),o}(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){jy(n,t),this.dirty(!0)},e}function tr(t,e){return new Qn(Kn(t,e))}function er(t,e,n,r,i,a,o){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*o+(-3*(e-n)-2*s-u)*a+s*i+e}function nr(t,e,n){var r=e.points,i=e.smooth;if(r&&r.length>=2){if(i&&"spline"!==i){var a=Xy(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(n?o:o-1);s++){var u=a[2*s],l=a[2*s+1],c=r[(s+1)%o];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{"spline"===i&&(r=Yy(r,n)),t.moveTo(r[0][0],r[0][1]),s=1;for(var h=r.length;s<h;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}function rr(t,e,n){var r=Qy(2*t);return(r+Qy(e))%2==0?r/2:(r+(n?1:-1))/2}function ir(t,e,n){return null===t.cpx2||null===t.cpy2?[(n?In:An)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?In:An)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Pn:jn)(t.x1,t.cpx1,t.x2,e),(n?Pn:jn)(t.y1,t.cpy1,t.y2,e)]}function ar(t){Ze.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function or(t){return Qn.extend(t)}function sr(t,e,n,r){var i=tr(t,e);return n&&("center"===r&&(n=lr(n,i.getBoundingRect())),cr(i,n)),i}function ur(t,e,n){var r=new $e({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){"center"===n&&r.setStyle(lr(e,{width:t.width,height:t.height}))}});return r}function lr(t,e){var n,r=e.width/e.height,i=t.height*r;return n=i<=t.width?t.height:(i=t.width)/r,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-n/2,width:i,height:n}}function cr(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function hr(t){var e=t.shape,n=t.style.lineWidth;return cx(2*e.x1)===cx(2*e.x2)&&(e.x1=e.x2=dr(e.x1,n,!0)),cx(2*e.y1)===cx(2*e.y2)&&(e.y1=e.y2=dr(e.y1,n,!0)),t}function fr(t){var e=t.shape,n=t.style.lineWidth,r=e.x,i=e.y,a=e.width,o=e.height;return e.x=dr(e.x,n,!0),e.y=dr(e.y,n,!0),e.width=Math.max(dr(r+a,n,!1)-e.x,0===a?0:1),e.height=Math.max(dr(i+o,n,!1)-e.y,0===o?0:1),t}function dr(t,e,n){var r=cx(2*t);return(r+cx(e))%2==0?r/2:(r+(n?1:-1))/2}function pr(t){return null!=t&&"none"!==t}function gr(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.useHoverLayer;t.__highlighted=n?"layer":"plain";var r=t.__zr;if(r||!n){var i=t,a=t.style;n&&(a=(i=r.addHover(t)).style),kr(a),n||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var r=t.style;for(var i in e)null!=e[i]&&(n[i]=r[i]);n.fill=r.fill,n.stroke=r.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(i),a.extendFrom(e),vr(a,e,"fill"),vr(a,e,"stroke"),Pr(a),n||(t.dirty(!1),t.z2+=px)}}}function vr(t,e,n){!pr(e[n])&&pr(t[n])&&(t[n]=function(t){if("string"!=typeof t)return t;var e=vx.get(t);return e||(e=Nt(t,-.1),mx<1e4&&(vx.set(t,e),mx++)),e}(t[n]))}function mr(t){var e=t.__highlighted;if(e)if(t.__highlighted=!1,"layer"===e)t.__zr&&t.__zr.removeHover(t);else if(e){var n=t.style,r=t.__cachedNormalStl;r&&(kr(n),t.setStyle(r),Pr(n));var i=t.__cachedNormalZ2;null!=i&&t.z2-i===px&&(t.z2=i)}}function yr(t,e){t.isGroup?t.traverse(function(t){!t.isGroup&&e(t)}):e(t)}function xr(t,e){e=t.__hoverStl=!1!==e&&(e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,mr(t),gr(t))}function br(t){return t&&t.__isEmphasisEntered}function _r(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasisEntered&&yr(this,gr)}function wr(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasisEntered&&yr(this,mr)}function Sr(){this.__isEmphasisEntered=!0,yr(this,gr)}function Mr(){this.__isEmphasisEntered=!1,yr(this,mr)}function Or(t,e,n){t.isGroup?t.traverse(function(t){!t.isGroup&&xr(t,t.hoverStyle||e)}):xr(t,t.hoverStyle||e),Cr(t,n)}function Cr(t,e){var n=!1===e;if(t.__hoverSilentOnTouch=null!=e&&e.hoverSilentOnTouch,!n||t.__hoverStyleTrigger){var r=n?"off":"on";t[r]("mouseover",_r)[r]("mouseout",wr),t[r]("emphasis",Sr)[r]("normal",Mr),t.__hoverStyleTrigger=!n}}function Ar(t,e,n,r,i,a,o){var s,u=(i=i||dx).labelFetcher,l=i.labelDataIndex,c=i.labelDimIndex,h=n.getShallow("show"),f=r.getShallow("show");(h||f)&&(u&&(s=u.getFormattedLabel(l,"normal",null,c)),null==s&&(s=x(i.defaultText)?i.defaultText(l,i):i.defaultText));var d=h?s:null,p=f?A(u?u.getFormattedLabel(l,"emphasis",null,c):null,s):null;null==d&&null==p||(Ir(t,n,a,i),Ir(e,r,o,i,!0)),t.text=d,e.text=p}function Ir(t,e,n,r,i){return Tr(t,e,r,i),n&&a(t,n),t}function Tr(t,e,n,r){if((n=n||dx).isRectText){var i=e.getShallow("position")||(r?null:"inside");"outside"===i&&(i="top"),t.textPosition=i,t.textOffset=e.getShallow("offset");var a=e.getShallow("rotate");null!=a&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=A(e.getShallow("distance"),r?null:5)}var o,s=e.ecModel,u=s&&s.option.textStyle,l=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||dx).rich;if(n)for(var r in e=e||{},n)n.hasOwnProperty(r)&&(e[r]=1);t=t.parentModel}return e}(e);if(l)for(var c in o={},l)if(l.hasOwnProperty(c)){var h=e.getModel(["rich",c]);Er(o[c]={},h,u,n,r)}return t.rich=o,Er(t,e,u,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function Er(t,e,n,r,i,a){n=!i&&n||dx,t.textFill=jr(e.getShallow("color"),r)||n.color,t.textStroke=jr(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=A(e.getShallow("textBorderWidth"),n.textBorderWidth),t.insideRawTextPosition=t.textPosition,i||(a&&(t.insideRollbackOpt=r,Pr(t)),null==t.textFill&&(t.textFill=r.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),a&&r.disableBox||(t.textBackgroundColor=jr(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=jr(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function jr(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Pr(t){var e=t.insideRollbackOpt;if(e&&null==t.textFill){var n,r=e.useInsideStyle,i=t.insideRawTextPosition,a=e.autoColor;!1!==r&&(!0===r||e.isRectText&&i&&"string"==typeof i&&i.indexOf("inside")>=0)?(n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=a,null==t.textStrokeWidth&&(t.textStrokeWidth=2))):null!=a&&(n={textFill:null},t.textFill=a),n&&(t.insideRollback=n)}}function kr(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function Dr(t,e){var n=e||e.getModel("textStyle");return P([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function Lr(t,e,n,r,i,a){if("function"==typeof i&&(a=i,i=null),r&&r.isAnimationEnabled()){var o=t?"Update":"",s=r.getShallow("animationDuration"+o),u=r.getShallow("animationEasing"+o),l=r.getShallow("animationDelay"+o);"function"==typeof l&&(l=l(i,r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null)),"function"==typeof s&&(s=s(i)),s>0?e.animateTo(n,s,l||0,u,a,!!a):(e.stopAnimation(),e.attr(n),a&&a())}else e.stopAnimation(),e.attr(n),a&&a()}function Rr(t,e,n,r,i){Lr(!0,t,e,n,r,i)}function Nr(t,e,n,r,i){Lr(!1,t,e,n,r,i)}function zr(t,e){for(var n=vt([]);t&&t!==e;)yt(n,t.getLocalTransform(),n),t=t.parent;return n}function Br(t,e,n){return e&&!h(e)&&(e=hv.getLocalTransform(e)),n&&(e=wt([],e)),K([],t,e)}function Fr(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0];return a=Br(a,e,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Vr(t,e,n,r){function i(t){var e={position:V(t.position),rotation:t.rotation};return t.shape&&(e.shape=a({},t.shape)),e}if(t&&e){var o=function(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var r=i(t);t.attr(i(e)),Rr(t,r,n,t.dataIndex)}}})}}function Gr(t,e){return d(t,function(t){var n=t[0];n=hx(n,e.x),n=fx(n,e.x+e.width);var r=t[1];return r=hx(r,e.y),[n,r=fx(r,e.y+e.height)]})}function Hr(t,e,n){var r=(e=a({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),o(r,n),new $e(e)):sr(t.replace("path://",""),e,n,"center")}function Wr(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function qr(t,e,n){for(var r=0;r<e.length&&(!e[r]||null!=(t=t&&"object"==typeof t?t[e[r]]:null));r++);return null==t&&n&&(t=n.get(e)),t}function Ur(t,e){var n=Ox(t).getParent;return n?n.call(t,e):t.parentModel}function Yr(t){return[t||"",Cx++,Math.random().toFixed(5)].join("_")}function Xr(t,e,n,r){var i=e[1]-e[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*a+n[0]}function Zr(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function $r(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function Qr(t){return t.sort(function(t,e){return t-e}),t}function Jr(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Kr(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i}function ti(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function ei(t,e,n){if(!t[e])return 0;var r=p(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===r)return 0;for(var i=Math.pow(10,n),a=d(t,function(t){return(isNaN(t)?0:t)/r*i*100}),o=100*i,s=d(a,function(t){return Math.floor(t)}),u=p(s,function(t,e){return t+e},0),l=d(a,function(t,e){return t-s[e]});u<o;){for(var c=Number.NEGATIVE_INFINITY,h=null,f=0,g=l.length;f<g;++f)l[f]>c&&(c=l[f],h=f);++s[h],l[h]=0,++u}return s[e]/i}function ni(t){var e=2*Math.PI;return(t%e+e)%e}function ri(t){return t>-Ax&&t<Ax}function ii(t){if(t instanceof Date)return t;if("string"==typeof t){var e=Tx.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function ai(t){return Math.pow(10,oi(t))}function oi(t){return Math.floor(Math.log(t)/Math.LN10)}function si(t,e){var n=oi(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t}function ui(t){t.sort(function(t,e){return function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]==(r?-1:1)||!r&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,a=t[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-n),e=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!=1?t.splice(r,1):r++}return t}function li(t){return t-parseFloat(t)>=0}function ci(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function hi(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function fi(t){return null==t?"":(t+"").replace(Px,function(t,e){return kx[e]})}function di(t,e,n){y(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=Dx[a];t=t.replace(Lx(o),Lx(o,0))}for(var s=0;s<r;s++)for(var u=0;u<i.length;u++){var l=e[s][i[u]];t=t.replace(Lx(Dx[u],s),n?fi(l):l)}return t}function pi(t,e,n){return f(e,function(e,r){t=t.replace("{"+r+"}",n?fi(e):e)}),t}function gi(t,e){var n=(t=b(t)?{color:t,extraCssText:e}:t||{}).color,r=(e=t.extraCssText,t.renderMode||"html"),i=t.markerId||"X";return n?"html"===r?"subItem"===t.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+fi(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+fi(n)+";"+(e||"")+'"></span>':{renderMode:r,content:"{marker"+i+"|}  ",style:{color:n}}:""}function vi(t,e){return"0000".substr(0,e-(t+="").length)+t}function mi(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=ii(e),i=n?"UTC":"",a=r["get"+i+"FullYear"](),o=r["get"+i+"Month"]()+1,s=r["get"+i+"Date"](),u=r["get"+i+"Hours"](),l=r["get"+i+"Minutes"](),c=r["get"+i+"Seconds"](),h=r["get"+i+"Milliseconds"]();return t.replace("MM",vi(o,2)).replace("M",o).replace("yyyy",a).replace("yy",a%100).replace("dd",vi(s,2)).replace("d",s).replace("hh",vi(u,2)).replace("h",u).replace("mm",vi(l,2)).replace("m",l).replace("ss",vi(c,2)).replace("s",c).replace("SSS",vi(h,3))}function yi(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function xi(t,e,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(u,l){var c,h,f=u.position,d=u.getBoundingRect(),p=e.childAt(l+1),g=p&&p.getBoundingRect();if("horizontal"===t){var v=d.width+(g?-g.x+d.x:0);(c=a+v)>r||u.newline?(a=0,c=v,o+=s+n,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(g?-g.y+d.y:0);(h=o+m)>i||u.newline?(a+=s+n,o=0,h=m,s=d.width):s=Math.max(s,d.width)}u.newline||(f[0]=a,f[1]=o,"horizontal"===t?a=c+n:o=h+n)})}function bi(t,e,n){n=jx(n||0);var r=e.width,i=e.height,a=Zr(t.left,r),o=Zr(t.top,i),s=Zr(t.right,r),u=Zr(t.bottom,i),l=Zr(t.width,r),c=Zr(t.height,i),h=n[2]+n[0],f=n[1]+n[3],d=t.aspect;switch(isNaN(l)&&(l=r-s-f-a),isNaN(c)&&(c=i-u-h-o),null!=d&&(isNaN(l)&&isNaN(c)&&(d>r/i?l=.8*r:c=.8*i),isNaN(l)&&(l=d*c),isNaN(c)&&(c=l/d)),isNaN(a)&&(a=r-s-l-f),isNaN(o)&&(o=i-u-c-h),t.left||t.right){case"center":a=r/2-l/2-n[3];break;case"right":a=r-l-f}switch(t.top||t.bottom){case"middle":case"center":o=i/2-c/2-n[0];break;case"bottom":o=i-c-h}a=a||0,o=o||0,isNaN(l)&&(l=r-f-a-(s||0)),isNaN(c)&&(c=i-h-o-(u||0));var p=new ie(a+n[3],o+n[0],l,c);return p.margin=n,p}function _i(t,e,n,r,i){var a=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||"all";if(a||s){var l;if("raw"===u)l="group"===t.type?new ie(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();(l=l.clone()).applyTransform(c)}e=bi(o({width:l.width,height:l.height},e),n,r);var h=t.position,f=a?e.x-l.x:0,d=s?e.y-l.y:0;t.attr("position","raw"===u?[f,d]:[h[0]+f,h[1]+d])}}function wi(t,e,n){function r(n,r){var o={},u=0,l={},c=0;if(zx(n,function(e){l[e]=t[e]}),zx(n,function(t){i(e,t)&&(o[t]=l[t]=e[t]),a(o,t)&&u++,a(l,t)&&c++}),s[r])return a(e,n[1])?l[n[2]]=null:a(e,n[2])&&(l[n[1]]=null),l;if(2!==c&&u){if(u>=2)return o;for(var h=0;h<n.length;h++){var f=n[h];if(!i(o,f)&&i(t,f)){o[f]=t[f];break}}return o}return l}function i(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&"auto"!==t[e]}function o(t,e,n){zx(t,function(t){e[t]=n[t]})}!_(n)&&(n={});var s=n.ignoreSize;!y(s)&&(s=[s,s]);var u=r(Fx[0],0),l=r(Fx[1],1);o(Fx[0],t,u),o(Fx[1],t,l)}function Si(t){return Mi({},t)}function Mi(t,e){return e&&t&&zx(Bx,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function Oi(t){var e=t.get("coordinateSystem"),n={coordSysName:e,coordSysDims:[],axisMap:R(),categoryAxisMap:R()},r=Zx[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}function Ci(t){return"category"===t.get("type")}function Ai(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Kx?{}:[]),this.sourceFormat=t.sourceFormat||tb,this.seriesLayoutBy=t.seriesLayoutBy||nb,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&R(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function Ii(t){var e=t.option,n=e.data,r=S(n)?eb:$x,i=!1,a=e.seriesLayoutBy,o=e.sourceHeader,s=e.dimensions,u=function(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);if(u){var l=u.option;n=l.source,r=ib(u).sourceFormat,i=!0,a=a||l.seriesLayoutBy,null==o&&(o=l.sourceHeader),s=s||l.dimensions}var c=function(t,e,n,r,i){if(!t)return{dimensionsDefine:Ti(i)};var a,o,s,u;if(e===Qx)"auto"===r||null==r?Ei(function(t){null!=t&&"-"!==t&&(b(t)?null==o&&(o=1):o=0)},n,t,10):o=r?1:0,i||1!==o||(i=[],Ei(function(t,e){i[e]=null!=t?t:""},n,t)),a=i?i.length:n===rb?t.length:t[0]?t[0].length:null;else if(e===Jx)i||(i=function(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var r=[];return f(e,function(t,e){r.push(e)}),r}}(t),s=!0);else if(e===Kx)i||(i=[],s=!0,f(t,function(t,e){i.push(e)}));else if(e===$x){var l=sn(t[0]);a=y(l)&&l.length||1}return s&&f(i,function(t,e){"name"===(_(t)?t.name:t)&&(u=e)}),{startIndex:o,dimensionsDefine:Ti(i),dimensionsDetectCount:a,potentialNameDimIndex:u}}(n,r,a,o,s),h=e.encode;!h&&u&&(h=function(t,e,n,r,i,a){var o=Oi(t),s={},u=[],l=[],c=t.subType,h=R(["pie","map","funnel"]),d=R(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(o&&null!=d.get(c)){var p=ib(t.ecModel).datasetMap,g=e.uid+"_"+i,v=p.get(g)||p.set(g,{categoryWayDim:1,valueWayDim:0});f(o.coordSysDims,function(t){if(null==o.firstCategoryDimIndex)e=v.valueWayDim++,s[t]=e,l.push(e);else if(o.categoryAxisMap.get(t))s[t]=0,u.push(0);else{var e=v.categoryWayDim++;s[t]=e,l.push(e)}})}else if(null!=h.get(c)){for(var m,y=0;y<5&&null==m;y++)Pi(n,r,i,a.dimensionsDefine,a.startIndex,y)||(m=y);if(null!=m){s.value=m;var x=a.potentialNameDimIndex||Math.max(m-1,0);l.push(x),u.push(x)}}return u.length&&(s.itemName=u),l.length&&(s.seriesName=l),s}(t,u,n,r,a,c)),ib(t).source=new Ai({data:n,fromDataset:i,seriesLayoutBy:a,sourceFormat:r,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:h})}function Ti(t){if(t){var e=R();return d(t,function(t,n){if(null==(t=a({},_(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var r=e.get(t.name);return r?t.name+="-"+r.count++:e.set(t.name,{count:1}),t})}}function Ei(t,e,n,r){if(null==r&&(r=1/0),e===rb)for(a=0;a<n.length&&a<r;a++)t(n[a]?n[a][0]:null,a);else for(var i=n[0]||[],a=0;a<i.length&&a<r;a++)t(i[a],a)}function ji(t,e){return Pi(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Pi(t,e,n,r,i,a){function o(t){return(null==t||!isFinite(t)||""===t)&&(!(!b(t)||"-"===t)||void 0)}var s,u;if(S(t))return!1;if(r&&(u=_(u=r[a])?u.name:u),e===Qx)if(n===rb){for(var l=t[a],c=0;c<(l||[]).length&&c<5;c++)if(null!=(s=o(l[i+c])))return s}else for(c=0;c<t.length&&c<5;c++){var h=t[i+c];if(h&&null!=(s=o(h[a])))return s}else if(e===Jx){if(!u)return;for(c=0;c<t.length&&c<5;c++)if((f=t[c])&&null!=(s=o(f[u])))return s}else if(e===Kx){if(!u)return;if(!(l=t[u])||S(l))return!1;for(c=0;c<l.length&&c<5;c++)if(null!=(s=o(l[c])))return s}else if(e===$x)for(c=0;c<t.length&&c<5;c++){var f=t[c],d=sn(f);if(!y(d))return!1;if(null!=(s=o(d[a])))return s}return!1}function ki(t){t=t,this.option={},this.option[ab]=1,this._componentsMap=R({series:[]}),function(t,e){var i=t.color&&!t.colorLayer;f(e,function(e,a){"colorLayer"===a&&i||Wx.hasClass(a)||("object"==typeof e?t[a]=t[a]?r(t[a],e,!1):n(e):null==t[a]&&(t[a]=e))})}(t,this._theme.option),r(t,Ux,!1),this.mergeOption(t)}function Di(t,e){t._seriesIndicesMap=R(t._seriesIndices=d(e,function(t){return t.componentIndex})||[])}function Li(t,e){return e.hasOwnProperty("subType")?g(t,function(t){return t.subType===e.subType}):t}function Ri(t){f(sb,function(e){this[e]=v(t[e],t)},this)}function Ni(){this._coordinateSystems=[]}function zi(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function Bi(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return f(t,function(t,e){var n=e.match(db);if(n&&n[1]&&n[2]){var a=n[1],o=n[2].toLowerCase();(function(t,e,n){return"min"===a?t>=e:"max"===a?t<=e:t===e})(r[o],t)||(i=!1)}}),i}function Fi(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=vb.length;n<i;n++){var a=vb[n],o=e.normal,s=e.emphasis;o&&o[a]&&(t[a]=t[a]||{},t[a].normal?r(t[a].normal,o[a]):t[a].normal=o[a],o[a]=null),s&&s[a]&&(t[a]=t[a]||{},t[a].emphasis?r(t[a].emphasis,s[a]):t[a].emphasis=s[a],s[a]=null)}}function Vi(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,o(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i)}}function Gi(t){Vi(t,"itemStyle"),Vi(t,"lineStyle"),Vi(t,"areaStyle"),Vi(t,"label"),Vi(t,"labelLine"),Vi(t,"upperLabel"),Vi(t,"edgeLabel")}function Hi(t,e){var n=gb(t)&&t[e],r=gb(n)&&n.textStyle;if(r)for(var i=0,a=Tm.length;i<a;i++)r.hasOwnProperty(e=Tm[i])&&(n[e]=r[e])}function Wi(t){t&&(Gi(t),Hi(t,"label"),t.emphasis&&Hi(t.emphasis,"label"))}function qi(t){return y(t)?t:t?[t]:[]}function Ui(t){return(y(t)?t[0]:t)||{}}function Yi(t){f(mb,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function Xi(t){f(t,function(e,n){var r=[],i=[NaN,NaN],a=e.data,o=e.isStackedByIndex,s=a.map([e.stackResultDimension,e.stackedOverDimension],function(s,u,l){var c,h,f=a.get(e.stackedDimension,l);if(isNaN(f))return i;o?h=a.getRawIndex(l):c=a.get(e.stackedByDimension,l);for(var d=NaN,p=n-1;p>=0;p--){var g=t[p];if(o||(h=g.data.rawIndexOf(g.stackedByDimension,c)),h>=0){var v=g.data.getByRawIndex(g.stackResultDimension,h);if(f>=0&&v>0||f<=0&&v<0){f+=v,d=v;break}}}return r[0]=f,r[1]=d,r});a.hostModel.setData(s),e.data=s})}function Zi(t,e){Ai.isInstance(t)||(t=Ai.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,r=t.sourceFormat;r===eb&&(this._offset=0,this._dimSize=e,this._data=n),a(this,_b[r===Qx?r+"_"+t.seriesLayoutBy:r])}function $i(){return this._data.length}function Qi(t){return this._data[t]}function Ji(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Ki(t,e,n,r){return null!=n?t[n]:t}function ta(t,e,n,r){return ea(t[r],this._dimensionInfos[e])}function ea(t,e){var n=e&&e.type;if("ordinal"===n){var r=e&&e.ordinalMeta;return r?r.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+ii(t)),null==t||""===t?NaN:+t}function na(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i,a,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(i=s.name,a=s.index),wb[o](r,e,a,i)}}}function ra(t,e,n){if(t){var r=t.getProvider().getSource().sourceFormat;if(r===$x||r===Jx){var i=t.getRawDataItem(e);return r!==$x||_(i)||(i=null),i?i[n]:void 0}}}function ia(t){return new aa(t)}function aa(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}function oa(t,e,n,r,i,a){Ab.reset(n,r,i,a),t._callingProgress=e,t._callingProgress({start:n,end:r,count:r-n,next:Ab.next},t.context)}function sa(t){var e=t.name;cn(t)||(t.name=function(t){var e=t.getRawData(),n=[];return f(e.mapDimension("seriesName",!0),function(t){var r=e.getDimensionInfo(t);r.displayName&&n.push(r.displayName)}),n.join(" ")}(t)||e)}function ua(t){return t.model.getRawData().count()}function la(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),ca}function ca(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function ha(t,e){f(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,m(fa,e))})}function fa(t){var e=da(t);e&&e.setOutputEnd(this.count())}function da(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}function pa(){this.group=new Lv,this.uid=Yr("viewChart"),this.renderTask=ia({plan:ma,reset:ya}),this.renderTask.context={view:this}}function ga(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)ga(t.childAt(n),e)}function va(t,e,n){var r=fn(t,e);null!=r?f(an(r),function(e){ga(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){ga(t,n)})}function ma(t){return Db(t.model)}function ya(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&kb(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==u&&o[u](e,n,r,i),Rb[u]}function xa(t,e,n){function r(){c=(new Date).getTime(),h=null,t.apply(o,s||[])}var i,a,o,s,u,l=0,c=0,h=null;e=e||0;var f=function(){i=(new Date).getTime(),o=this,s=arguments;var t=u||e,f=u||n;u=null,a=i-(f?l:c)-t,clearTimeout(h),f?h=setTimeout(r,t):a>=0?r():h=setTimeout(r,-a),l=i};return f.clear=function(){h&&(clearTimeout(h),h=null)},f.debounceNextCall=function(t){u=t},f}function ba(t,e,n,r){var i=t[e];if(i){var a=i[Nb]||i;if(i[zb]!==n||i[Bb]!==r){if(null==n||!r)return t[e]=a;(i=t[e]=xa(a,n,"debounce"===r))[Nb]=a,i[Bb]=r,i[zb]=n}return i}}function _a(t,e){var n=t[e];n&&n[Nb]&&(t[e]=n[Nb])}function wa(t,e,n,r){this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r),this._stageTaskMap=R()}function Sa(t,e,n,r,i){function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var o;i=i||{},f(e,function(e,s){if(!i.visualType||i.visualType===e.visualType){var u=t._stageTaskMap.get(e.uid),l=u.seriesTaskMap,c=u.overallTask;if(c){var h,f=c.agentStubMap;f.each(function(t){a(i,t)&&(t.dirty(),h=!0)}),h&&c.dirty(),qb(c,r);var d=t.getPerformArgs(c,i.block);f.each(function(t){t.perform(d)}),o|=c.perform(d)}else l&&l.each(function(s,u){a(i,s)&&s.dirty();var l=t.getPerformArgs(s,i.block);l.skip=!e.performRawSeries&&n.isSeriesFiltered(s.context.model),qb(s,r),o|=s.perform(l)})}}),t.unfinished|=o}function Ma(t){t.overallReset(t.ecModel,t.api,t.payload)}function Oa(t,e){return t.overallProgress&&Ca}function Ca(){this.agent.dirty(),this.getDownstream().dirty()}function Aa(){this.agent&&this.agent.dirty()}function Ia(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Ta(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=an(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?d(e,function(t,e){return Ea(e)}):Ub}function Ea(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function ja(t){return t.data.count()}function Pa(t,e,n){var r=t._pipelineMap.get(e.uid);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r}function ka(t,e){for(var n in e.prototype)t[n]=z}function Da(t){for(b(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function La(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Ra(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),o(e.__inheritedStyle,t.__inheritedStyle))}function Na(t){for(var e=P(t).split(e_),n=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),a=parseFloat(e[r+1]);n.push([i,a])}return n}function za(t,e,n,r){var i=e.__inheritedStyle||{},o="text"===e.type;if(1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){var r=null,i=[];(n=n.replace(/,/g," ")).replace(o_,function(t,e,n){i.push(e,n)});for(var a=i.length-1;a>0;a-=2){var o=i[a],s=i[a-1];switch(r=r||gt(),s){case"translate":o=P(o).split(e_),xt(r,r,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=P(o).split(e_),_t(r,r,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=P(o).split(e_),bt(r,r,parseFloat(o[0]));break;case"skew":o=P(o).split(e_),console.warn("Skew transform is not supported yet");break;case"matrix":o=P(o).split(e_),r[0]=parseFloat(o[0]),r[1]=parseFloat(o[1]),r[2]=parseFloat(o[2]),r[3]=parseFloat(o[3]),r[4]=parseFloat(o[4]),r[5]=parseFloat(o[5])}}e.setLocalTransform(r)}}(t,e),a(i,function(t){var e=t.getAttribute("style"),n={};if(!e)return n;var r,i={};for(s_.lastIndex=0;null!=(r=s_.exec(e));)i[r[1]]=r[2];for(var a in i_)i_.hasOwnProperty(a)&&null!=i[a]&&(n[i_[a]]=i[a]);return n}(t)),!r))for(var s in i_)if(i_.hasOwnProperty(s)){var u=t.getAttribute(s);null!=u&&(i[i_[s]]=u)}var l=o?"textFill":"fill",c=o?"textStroke":"stroke";e.style=e.style||new Wv;var h=e.style;null!=i.fill&&h.set(l,Ba(i.fill,n)),null!=i.stroke&&h.set(c,Ba(i.stroke,n)),f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){null!=i[t]&&h.set("lineWidth"===t&&o?"textStrokeWidth":t,parseFloat(i[t]))}),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=i[t]&&h.set(t,i[t])}),i.lineDash&&(e.style.lineDash=P(i.lineDash).split(e_)),h[c]&&"none"!==h[c]&&(e[c]=!0),e.__inheritedStyle=i}function Ba(t,e){var n=e&&t&&t.match(a_);return n?e[P(n[1])]:t}function Fa(t,e,n){var r=Math.min(e/t.width,n/t.height);return{scale:[r,r],position:[-(t.x+t.width/2)*r+e/2,-(t.y+t.height/2)*r+n/2]}}function Va(t){return function(e,n,r){e=e&&e.toLowerCase(),Jg.prototype[t].call(this,e,n,r)}}function Ga(){Jg.call(this)}function Ha(t,e,r){function i(t,e){return t.__prio-e.__prio}r=r||{},"string"==typeof e&&(e=P_[e]),this._dom=t;var a=this._zr=nn(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height});this._throttledZrFlush=xa(v(a.flush,a),17),(e=n(e))&&xb(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Ni;var o=this._api=ro(this);ce(j_,i),ce(I_,i),this._scheduler=new wa(this,o,I_,j_),Jg.call(this,this._ecEventProcessor=new io),this._messageCenter=new Ga,this._initEvents(),this.resize=v(this.resize,this),this._pendingActions=[],a.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[__]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}(a,this),k(this)}function Wa(t,e,n){var r,i=this._model,a=this._coordSysMgr.getCoordinateSystems();e=pn(i,e);for(var o=0;o<a.length;o++){var s=a[o];if(s[t]&&null!=(r=s[t](i,e,n)))return r}}function qa(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),Qa(t,"component",e,n),Qa(t,"chart",e,n),n.plan()}function Ua(t,e,n,r,i){function a(r){r&&r.__alive&&r[e]&&r[e](r.__model,o,t._api,n)}var o=t._model;if(r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var u={mainType:r,query:s};i&&(u.subType=i);var l=n.excludeSeriesId;null!=l&&(l=R(an(l))),o&&o.eachComponent(u,function(e){l&&null!=l.get(e.id)||a(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else f_(t._componentsViews.concat(t._chartsViews),a)}function Ya(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})}function Xa(t,e){var n=t.type,r=t.escapeConnect,i=C_[n],s=i.actionInfo,u=(s.update||"update").split(":"),l=u.pop();u=null!=u[0]&&g_(u[0]),this[b_]=!0;var c=[t],h=!1;t.batch&&(h=!0,c=d(t.batch,function(e){return(e=o(a({},e),t)).batch=null,e}));var f,p=[],g="highlight"===n||"downplay"===n;f_(c,function(t){(f=(f=i.action(t,this._model,this._api))||a({},t)).type=s.event||f.type,p.push(f),g?Ua(this,l,t,"series"):u&&Ua(this,l,t,u.main,u.sub)},this),"none"===l||g||u||(this[__]?(qa(this),M_.update.call(this,t),this[__]=!1):M_[l].call(this,t)),f=h?{type:s.event||n,escapeConnect:r,batch:p}:p[0],this[b_]=!1,!e&&this._messageCenter.trigger(f.type,f)}function Za(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Xa.call(this,n,t)}}function $a(t){!t&&this.trigger("updated")}function Qa(t,e,n,r){function i(t){var e="_ec_"+t.id+"_"+t.type,i=s[e];if(!i){var c=g_(t.type);(i=new(a?Eb.getClass(c.main,c.sub):pa.getClass(c.sub))).init(n,l),s[e]=i,o.push(i),u.add(i.group)}t.__viewId=i.__id=e,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!a&&r.prepareView(i,t,n,l)}for(var a="component"===e,o=a?t._componentsViews:t._chartsViews,s=a?t._componentsMap:t._chartsMap,u=t._zr,l=t._api,c=0;c<o.length;c++)o[c].__alive=!1;for(a?n.eachComponent(function(t,e){"series"!==t&&i(e)}):n.eachSeries(i),c=0;c<o.length;){var h=o[c];h.__alive?c++:(!a&&h.renderTask.dispose(),u.remove(h.group),h.dispose(n,l),o.splice(c,1),delete s[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function Ja(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function Ka(t,e,n,r){(function(t,e,n,r,i){f_(t._componentsViews,function(t){var i=t.__model;t.render(i,e,n,r),no(i,t)})})(t,e,n,r),f_(t._chartsViews,function(t){t.__alive=!1}),to(t,e,0,r),f_(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function to(t,e,n,r,i){var a,o=t._scheduler;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var s=n.renderTask;o.updatePayload(s,r),i&&i.get(e.uid)&&s.dirty(),a|=s.perform(o.getPerformArgs(s)),n.group.silent=!!e.get("silent"),no(e,n),function(t,e){var n=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}(e,n)}),o.unfinished|=a,function(t,e){var n=t.storage,r=0;n.traverse(function(t){t.isGroup||r++}),r>e.get("hoverLayerThreshold")&&!Pg.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}(t._zr,e),Gb(t._zr.dom,e)}function eo(t,e){f_(E_,function(n){n(t,e)})}function no(t,e){var n=t.get("z"),r=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=r&&(t.zlevel=r))})}function ro(t){var e=t._coordSysMgr;return a(new Ri(t),{getCoordinateSystems:v(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}function io(){}function ao(t){L_[t]=!1}function oo(t){return D_[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,z_)]}function so(t,e){P_[t]=e}function uo(t){T_.push(t)}function lo(t,e){go(I_,t,e,v_)}function co(t,e,n){"function"==typeof e&&(n=e,e="");var r=p_(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,h_(w_.test(r)&&w_.test(e)),C_[r]||(C_[r]={action:n,actionInfo:t}),A_[e]=r}function ho(t,e){Ni.register(t,e)}function fo(t,e){go(j_,t,e,m_,"layout")}function po(t,e){go(j_,t,e,y_,"visual")}function go(t,e,n,r,i){(d_(e)||p_(e))&&(n=e,e=r);var a=wa.wrapStageHandler(n,i);return a.__prio=e,a.__raw=n,t.push(a),a}function vo(t,e){k_[t]=e}function mo(t){return Wx.extend(t)}function yo(t){return Eb.extend(t)}function xo(t){return Tb.extend(t)}function bo(t){return pa.extend(t)}function _o(t){return t}function wo(t,e,n,r,i){this._old=t,this._new=e,this._oldKeyGetter=n||_o,this._newKeyGetter=r||_o,this.context=i}function So(t,e,n,r,i){for(var a=0;a<t.length;a++){var o="_ec_"+i[r](t[a],a),s=e[o];null==s?(n.push(o),e[o]=a):(s.length||(e[o]=s=[s]),s.push(a))}}function Mo(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Oo(t){return t._rawCount>65535?q_:Y_}function Co(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Ao(t,e){f(X_.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,f(Z_,function(r){t[r]=n(e[r])}),t._calculationInfo=a(e._calculationInfo)}function Io(t,e,n,r,i){var a=W_[e.type],o=r-1,s=e.name,u=t[s][o];if(u&&u.length<n){for(var l=new a(Math.min(i-o*n,n)),c=0;c<u.length;c++)l[c]=u[c];t[s][o]=l}for(var h=r*n;h<i;h+=n)t[s].push(new a(Math.min(i-h,n)))}function To(t){var e=t._invertedIndicesMap;f(e,function(n,r){var i=t._dimensionInfos[r].ordinalMeta;if(i){for(n=e[r]=new U_(i.categories.length),a=0;a<n.length;a++)n[a]=G_;for(var a=0;a<t._count;a++)n[t.get(r,a)]=a}})}function Eo(t,e,n){var r;if(null!=e){var i=t._chunkSize,a=Math.floor(n/i),o=t.dimensions[e],s=t._storage[o][a];if(s){r=s[n%i];var u=t._dimensionInfos[o].ordinalMeta;u&&u.categories.length&&(r=u.categories[r])}}return r}function jo(t){return t}function Po(t){return t<this._count&&t>=0?this._indices[t]:-1}function ko(t,e){var n=t._idList[e];return null==n&&(n=Eo(t,t._idDimIdx,e)),null==n&&(n=H_+e),n}function Do(t){return y(t)||(t=[t]),t}function Lo(t,e){var n=t.dimensions,r=new $_(d(n,t.getDimensionInfo,t),t.hostModel);Ao(r,t);for(var i=r._storage={},a=t._storage,o=0;o<n.length;o++){var s=n[o];a[s]&&(u(e,s)>=0?(i[s]=Ro(a[s]),r._rawExtent[s]=[1/0,-1/0],r._extent[s]=null):i[s]=a[s])}return r}function Ro(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=Co(t[n]);return e}function No(t,e,r){function i(t,e,n){null!=F_.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,c.set(e,!0))}Ai.isInstance(e)||(e=Ai.seriesDataToSource(e)),r=r||{},t=(t||[]).slice();for(var s=(r.dimsDef||[]).slice(),u=R(r.encodeDef),l=R(),c=R(),h=[],d=function(t,e,n,r){var i=Math.max(t.dimensionsDetectCount||1,e.length,s.length,r||0);return f(e,function(t){var e=t.dimsDef;e&&(i=Math.max(i,e.length))}),i}(e,t,0,r.dimCount),p=0;p<d;p++){var g=s[p]=a({},_(s[p])?s[p]:{name:s[p]}),v=g.name,m=h[p]={otherDims:{}};null!=v&&null==l.get(v)&&(m.name=m.displayName=v,l.set(v,p)),null!=g.type&&(m.type=g.type),null!=g.displayName&&(m.displayName=g.displayName)}u.each(function(t,e){if(1===(t=an(t).slice()).length&&t[0]<0)u.set(e,!1);else{var n=u.set(e,[]);f(t,function(t,r){b(t)&&(t=l.get(t)),null!=t&&t<d&&(n[r]=t,i(h[t],e,r))})}});var y=0;f(t,function(t,e){var r,a,s;if(b(t))r=t,t={};else{r=t.name;var l=t.ordinalMeta;t.ordinalMeta=null,(t=n(t)).ordinalMeta=l,a=t.dimsDef,s=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var c=u.get(r);if(!1!==c){if(!(c=an(c)).length)for(var d=0;d<(a&&a.length||1);d++){for(;y<h.length&&null!=h[y].coordDim;)y++;y<h.length&&c.push(y++)}f(c,function(e,n){var u=h[e];if(i(o(u,t),r,n),null==u.name&&a){var l=a[n];!_(l)&&(l={name:l}),u.name=u.displayName=l.name,u.defaultTooltip=l.defaultTooltip}s&&o(u.otherDims,s)})}});var x=r.generateCoord,w=r.generateCoordCount,S=null!=w;w=x?w||1:0;for(var M=x||"value",O=0;O<d;O++)null==(m=h[O]=h[O]||{}).coordDim&&(m.coordDim=zo(M,c,S),m.coordDimIndex=0,(!x||w<=0)&&(m.isExtraCoord=!0),w--),null==m.name&&(m.name=zo(m.coordDim,l)),null==m.type&&ji(e,O)&&(m.type="ordinal");return h}function zo(t,e,n){if(n||null!=e.get(t)){for(var r=0;null!=e.get(t+r);)r++;t+=r}return e.set(t,!0),t}function Bo(t,e,n){var r,i,a,o,s=(n=n||{}).byIndex,u=n.stackedCoordDimension,l=!(!t||!t.get("stack"));if(f(e,function(t,n){b(t)&&(e[n]=t={name:t}),l&&!t.isExtraCoord&&(s||r||!t.ordinalMeta||(r=t),i||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(i=t))}),!i||s||r||(s=!0),i){a="__\0ecstackresult",o="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var c=i.coordDim,h=i.type,d=0;f(e,function(t){t.coordDim===c&&d++}),e.push({name:a,coordDim:c,coordDimIndex:d,type:h,isExtraCoord:!0,isCalculationCoord:!0}),e.push({name:o,coordDim:o,coordDimIndex:++d,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:i&&i.name,stackedByDimension:r&&r.name,isStackedByIndex:s,stackedOverDimension:o,stackResultDimension:a}}function Fo(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Vo(t,e){return Fo(t,e)?t.getCalculationInfo("stackResultDimension"):e}function Go(t,e,n){n=n||{},Ai.isInstance(t)||(t=Ai.seriesDataToSource(t));var r,i=e.get("coordinateSystem"),a=Ni.get(i),o=Oi(e);o&&(r=d(o.coordSysDims,function(t){var e={name:t},n=o.axisMap.get(t);if(n){var r=n.get("type");e.type=Mo(r)}return e})),r||(r=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]);var s,u,l=K_(t,{coordDimensions:r,generateCoord:n.generateCoord});o&&f(l,function(t,e){var n=o.categoryAxisMap.get(t.coordDim);n&&(null==s&&(s=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(u=!0)}),u||null==s||(l[s].otherDims.itemName=0);var c=Bo(e,l),h=new $_(l,e);h.setCalculationInfo(c);var p=null!=s&&function(t){if(t.sourceFormat===$x){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!y(sn(e))}}(t)?function(t,e,n,r){return r===s?n:this.defaultDimValueGetter(t,e,n,r)}:null;return h.hasItemOption=!1,h.initData(t,null,p),h}function Ho(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function Wo(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}function qo(t){return t._map||(t._map=R(t.categories))}function Uo(t){return _(t)&&null!=t.value?t.value:t+""}function Yo(t){return Kr(t)+2}function Xo(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Zo(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Xo(t,0,e),Xo(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function $o(t){return t.get("stack")||ow+t.seriesIndex}function Qo(t){return t.dim+t.index}function Jo(t,e){var n=[];return e.eachSeriesByType(t,function(t){rs(t)&&!is(t)&&n.push(t)}),n}function Ko(t){var e=[];return f(t,function(t){var n=t.getData(),r=t.coordinateSystem.getBaseAxis(),i=r.getExtent(),a="category"===r.type?r.getBandWidth():Math.abs(i[1]-i[0])/n.count(),o=Zr(t.get("barWidth"),a),s=Zr(t.get("barMaxWidth"),a),u=t.get("barGap"),l=t.get("barCategoryGap");e.push({bandWidth:a,barWidth:o,barMaxWidth:s,barGap:u,barCategoryGap:l,axisKey:Qo(r),stackId:$o(t)})}),ts(e)}function ts(t){var e={};f(t,function(t,n){var r=t.axisKey,i=t.bandWidth,a=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=a.stacks;e[r]=a;var s=t.stackId;o[s]||a.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var u=t.barWidth;u&&!o[s].width&&(o[s].width=u,u=Math.min(a.remainedWidth,u),a.remainedWidth-=u);var l=t.barMaxWidth;l&&(o[s].maxWidth=l);var c=t.barGap;null!=c&&(a.gap=c);var h=t.barCategoryGap;null!=h&&(a.categoryGap=h)});var n={};return f(e,function(t,e){n[e]={};var r=t.stacks,i=Zr(t.categoryGap,t.bandWidth),a=Zr(t.gap,1),o=t.remainedWidth,s=t.autoWidthCount,u=(o-i)/(s+(s-1)*a);u=Math.max(u,0),f(r,function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,o),t.width&&(n=Math.min(n,t.width)),o-=n,t.width=n,s--)}),u=(o-i)/(s+(s-1)*a),u=Math.max(u,0);var l,c=0;f(r,function(t,e){t.width||(t.width=u),l=t,c+=t.width*(1+a)}),l&&(c-=l.width*a);var h=-c/2;f(r,function(t,r){n[e][r]=n[e][r]||{offset:h,width:t.width},h+=t.width*(1+a)})}),n}function es(t,e,n){if(t&&e){var r=t[Qo(e)];return null!=r&&null!=n&&(r=r[$o(n)]),r}}function ns(t,e){var n=Jo(t,e),r=Ko(n),i={};f(n,function(t){var e=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),o=$o(t),s=r[Qo(a)][o],u=s.offset,l=s.width,c=n.getOtherAxis(a),h=t.get("barMinHeight")||0;i[o]=i[o]||[],e.setLayout({offset:u,size:l});for(var f=e.mapDimension(c.dim),d=e.mapDimension(a.dim),p=Fo(e,f),g=c.isHorizontal(),v=as(0,c),m=0,y=e.count();m<y;m++){var x=e.get(f,m),b=e.get(d,m);if(!isNaN(x)){var _,w,S,M,O=x>=0?"p":"n",C=v;if(p&&(i[o][b]||(i[o][b]={p:v,n:v}),C=i[o][b][O]),g)_=C,w=(A=n.dataToPoint([x,b]))[1]+u,S=A[0]-v,M=l,Math.abs(S)<h&&(S=(S<0?-1:1)*h),p&&(i[o][b][O]+=S);else{var A=n.dataToPoint([b,x]);_=A[0]+u,w=C,S=l,M=A[1]-v,Math.abs(M)<h&&(M=(M<=0?-1:1)*h),p&&(i[o][b][O]+=M)}e.setItemLayout(m,{x:_,y:w,width:S,height:M})}}},this)}function rs(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function is(t){return t.pipelineContext&&t.pipelineContext.large}function as(t,e,n){var r,i,a=e.getGlobalExtent();a[0]>a[1]?(r=a[1],i=a[0]):(r=a[0],i=a[1]);var o=e.toGlobalCoord(e.dataToCoord(0));return o<r&&(o=r),o>i&&(o=i),o}function os(t,e){return mw(t,vw(e))}function ss(t,e){var n,r,i,a=t.type,o=e.getMin(),s=e.getMax(),u=null!=o,l=null!=s,c=t.getExtent();"ordinal"===a?n=e.getCategories().length:(y(r=e.get("boundaryGap"))||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=Zr(r[0],1),r[1]=Zr(r[1],1),i=c[1]-c[0]||Math.abs(c[0])),null==o&&(o="ordinal"===a?n?0:NaN:c[0]-r[0]*i),null==s&&(s="ordinal"===a?n?n-1:NaN:c[1]+r[1]*i),"dataMin"===o?o=c[0]:"function"==typeof o&&(o=o({min:c[0],max:c[1]})),"dataMax"===s?s=c[1]:"function"==typeof s&&(s=s({min:c[0],max:c[1]})),(null==o||!isFinite(o))&&(o=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(O(o)||O(s)||"ordinal"===a&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(o>0&&s>0&&!u&&(o=0),o<0&&s<0&&!l&&(s=0));var h=e.ecModel;if(h&&"time"===a){var d,p=Jo("bar",h);if(f(p,function(t){d|=t.getBaseAxis()===e.axis}),d){var g=Ko(p),v=function(t,e,n,r){var i=n.axis.getExtent(),a=i[1]-i[0],o=es(r,n.axis);if(void 0===o)return{min:t,max:e};var s=1/0;f(o,function(t){s=Math.min(t.offset,s)});var u=-1/0;f(o,function(t){u=Math.max(t.offset+t.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=e-t,h=c/(1-(s+u)/a)-c;return{min:t-=h*(s/l),max:e+=h*(u/l)}}(o,s,e,g);o=v.min,s=v.max}}return[o,s]}function us(t,e){var n=ss(t,e),r=null!=e.getMin(),i=null!=e.getMax(),a=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:a,fixMin:r,fixMax:i,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function ls(t,e){if(e=e||t.get("type"))switch(e){case"category":return new nw(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new aw;default:return(Ho.getClass(e)||aw).create(t)}}function cs(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(e){return function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}}(e):"function"==typeof e?function(r,i){return null!=n&&(i=r-n),e(hs(t,r),i)}:function(e){return t.scale.getLabel(e)}}function hs(t,e){return"category"===t.type?t.scale.getLabel(e):e}function fs(t,e){var n=e*Math.PI/180,r=t.plain(),i=r.width,a=r.height,o=i*Math.cos(n)+a*Math.sin(n),s=i*Math.sin(n)+a*Math.cos(n);return new ie(r.x,r.y,o,s)}function ds(t){var e=t.get("interval");return null==e?"auto":e}function ps(t){return"category"===t.type&&0===ds(t.getLabelModel())}function gs(t,e){if("image"!==this.type){var n=this.style,r=this.shape;r&&"line"===r.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function vs(t,e,n,r,i,a,o){var s,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?ur(t.slice(8),new ie(e,n,r,i),o?"center":"cover"):0===t.indexOf("path://")?sr(t.slice(7),{},new ie(e,n,r,i),o?"center":"cover"):new Ew({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=u,s.setColor=gs,s.setColor(a),s}function ms(t,e){return Math.abs(t-e)<Pw}function ys(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var a=1;a<t.length;a++){var o=t[a];r+=qn(i[0],i[1],o[0],o[1],e,n),i=o}var s=t[0];return ms(i[0],s[0])&&ms(i[1],s[1])||(r+=qn(i[0],i[1],s[0],s[1],e,n)),0!==r}function xs(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}function bs(t,e,n){for(var r=[],i=e[0],a=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,u=t.charCodeAt(o+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),i=s+=i,a=u+=a,r.push([s/n,u/n])}return r}function _s(t,e){var n,r=ws(t,"labels"),i=ds(e);return Ss(r,i)||Ms(r,i,{labels:x(i)?Cs(t,i):Os(t,n="auto"===i?function(t){var e=Dw(t).autoInterval;return null!=e?e:Dw(t).autoInterval=t.calculateCategoryInterval()}(t):i),labelCategoryInterval:n})}function ws(t,e){return Dw(t)[e]||(Dw(t)[e]=[])}function Ss(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Ms(t,e,n){return t.push({key:e,value:n}),n}function Os(t,e,n){function r(t){u.push(n?t:{formattedLabel:i(t),rawLabel:a.getLabel(t),tickValue:t})}var i=cs(t),a=t.scale,o=a.getExtent(),s=t.getLabelModel(),u=[],l=Math.max((e||0)+1,1),c=o[0],h=a.count();0!==c&&l>1&&h/l>2&&(c=Math.round(Math.ceil(c/l)*l));var f=ps(t),d=s.get("showMinLabel")||f,p=s.get("showMaxLabel")||f;d&&c!==o[0]&&r(o[0]);for(var g=c;g<=o[1];g+=l)r(g);return p&&g!==o[1]&&r(o[1]),u}function Cs(t,e,n){var r=t.scale,i=cs(t),a=[];return f(r.getTicks(),function(t){var o=r.getLabel(t);e(t,o)&&a.push(n?t:{formattedLabel:i(t),rawLabel:o,tickValue:t})}),a}function As(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function Is(t,e){var n=t.mapDimension("defaultedLabel",!0),r=n.length;if(1===r)return na(t,e,n[0]);if(r){for(var i=[],a=0;a<n.length;a++){var o=na(t,e,n[a]);i.push(o)}return i.join(" ")}}function Ts(t,e,n){Lv.call(this),this.updateData(t,e,n)}function Es(t){return[t[0]/2,t[1]/2]}function js(t,e){this.parent.drift(t,e)}function Ps(){!br(this)&&Ds.call(this)}function ks(){!br(this)&&Ls.call(this)}function Ds(){if(!this.incremental&&!this.useHoverLayer){var t=this.__symbolOriginalScale,e=t[1]/t[0];this.animateTo({scale:[Math.max(1.1*t[0],t[0]+3),Math.max(1.1*t[1],t[1]+3*e)]},400,"elasticOut")}}function Ls(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function Rs(t){this.group=new Lv,this._symbolCtor=t||Ts}function Ns(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function zs(t){return null==t||_(t)||(t={isIgnore:t}),t||{}}function Bs(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function Fs(t,e,n){var r,i=t.getBaseAxis(),a=t.getOtherAxis(i),o=function(t,e){var n=0,r=a.scale.getExtent();return"start"===e?n=r[0]:"end"===e?n=r[1]:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}(0,n),s=i.dim,u=a.dim,l=e.mapDimension(u),c=e.mapDimension(s),h="x"===u||"radius"===u?1:0,f=d(t.dimensions,function(t){return e.mapDimension(t)}),p=e.getCalculationInfo("stackResultDimension");return(r|=Fo(e,f[0]))&&(f[0]=p),(r|=Fo(e,f[1]))&&(f[1]=p),{dataDimsForPoint:f,valueStart:o,valueAxisDim:u,baseAxisDim:s,stacked:!!r,valueDim:l,baseDim:c,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Vs(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=n.get(t.baseDim,r),o[1-a]=i,e.dataToPoint(o)}function Gs(t){return isNaN(t[0])||isNaN(t[1])}function Hs(t,e,n,r,i,a,o,s,u,l,c){return"none"!==l&&l?(function(t,e,n,r,i,a,o,s,u,l,c){for(var h=0,f=n,d=0;d<r;d++){var p=e[f];if(f>=i||f<0)break;if(Gs(p)){if(c){f+=a;continue}break}if(f===n)t[a>0?"moveTo":"lineTo"](p[0],p[1]);else if(u>0){var g=e[h],v="y"===l?1:0,m=(p[v]-g[v])*u;$w(Jw,g),Jw[v]=g[v]+m,$w(Kw,p),Kw[v]=p[v]-m,t.bezierCurveTo(Jw[0],Jw[1],Kw[0],Kw[1],p[0],p[1])}else t.lineTo(p[0],p[1]);h=f,f+=a}return d}).apply(this,arguments):(function(t,e,n,r,i,a,o,s,u,l,c){for(var h=0,f=n,d=0;d<r;d++){var p=e[f];if(f>=i||f<0)break;if(Gs(p)){if(c){f+=a;continue}break}if(f===n)t[a>0?"moveTo":"lineTo"](p[0],p[1]),$w(Jw,p);else if(u>0){var g=f+a,v=e[g];if(c)for(;v&&Gs(e[g]);)v=e[g+=a];var m=.5,y=e[h];if(!(v=e[g])||Gs(v))$w(Kw,p);else{var x,b;if(Gs(v)&&!c&&(v=p),q(Qw,v,y),"x"===l||"y"===l){var _="x"===l?0:1;x=Math.abs(p[_]-y[_]),b=Math.abs(p[_]-v[_])}else x=Xg(p,y),b=Xg(p,v);Zw(Kw,p,Qw,-u*(1-(m=b/(b+x))))}Yw(Jw,Jw,s),Xw(Jw,Jw,o),Yw(Kw,Kw,s),Xw(Kw,Kw,o),t.bezierCurveTo(Jw[0],Jw[1],Kw[0],Kw[1],p[0],p[1]),Zw(Jw,p,Qw,u*m)}else t.lineTo(p[0],p[1]);h=f,f+=a}return d}).apply(this,arguments)}function Ws(t,e){var n=[1/0,1/0],r=[-1/0,-1/0];if(e)for(var i=0;i<t.length;i++){var a=t[i];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>r[0]&&(r[0]=a[0]),a[1]>r[1]&&(r[1]=a[1])}return{min:e?n:r,max:e?r:n}}function qs(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r[0]!==i[0]||r[1]!==i[1])return}return!0}}function Us(t){return"number"==typeof t?t:t?.5:0}function Ys(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,r=e[1]>e[0]?1:-1;e[0]+=r*n,e[1]-=r*n}return e}function Xs(t,e,n,r){return"polar"===t.type?function(t,e,n,r){var i=t.getAngleAxis(),a=t.getRadiusAxis().getExtent().slice();a[0]>a[1]&&a.reverse();var o=i.getExtent(),s=Math.PI/180;n&&(a[0]-=.5,a[1]+=.5);var u=new qy({shape:{cx:$r(t.cx,1),cy:$r(t.cy,1),r0:$r(a[0],1),r:$r(a[1],1),startAngle:-o[0]*s,endAngle:-o[1]*s,clockwise:i.inverse}});return e&&(u.shape.endAngle=-o[0]*s,Nr(u,{shape:{endAngle:-o[1]*s}},r)),u}(t,e,n,r):function(t,e,n,r){var i=Ys(t.getAxis("x")),a=Ys(t.getAxis("y")),o=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),u=Math.min(a[0],a[1]),l=Math.max(i[0],i[1])-s,c=Math.max(a[0],a[1])-u;if(n)s-=.5,l+=.5,u-=.5,c+=.5;else{var h=r.get("lineStyle.width")||2,f=r.get("clipOverflow")?h/2:Math.max(l,c);o?(u-=f,c+=2*f):(s-=f,l+=2*f)}var d=new Ky({shape:{x:s,y:u,width:l,height:c}});return e&&(d.shape[o?"width":"height"]=0,Nr(d,{shape:{width:l,height:c}},r)),d}(t,e,n,r)}function Zs(t,e,n){for(var r=e.getBaseAxis(),i="x"===r.dim||"radius"===r.dim?0:1,a=[],o=0;o<t.length-1;o++){var s=t[o+1],u=t[o];a.push(u);var l=[];switch(n){case"end":l[i]=s[i],l[1-i]=u[1-i],a.push(l);break;case"middle":var c=[];l[i]=c[i]=(u[i]+s[i])/2,l[1-i]=u[1-i],c[1-i]=s[1-i],a.push(l),a.push(c);break;default:l[i]=u[i],l[1-i]=s[1-i],a.push(l)}}return t[o]&&a.push(t[o]),a}function $s(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var r,i,a=n.length-1;a>=0;a--){var o=t.getDimensionInfo(t.dimensions[n[a].dimension]);if("x"===(r=o&&o.coordDim)||"y"===r){i=n[a];break}}if(i){var s=e.getAxis(r),u=d(i.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),l=u.length,c=i.outerColors.slice();l&&u[0].coord>u[l-1].coord&&(u.reverse(),c.reverse());var h=u[0].coord-10,p=u[l-1].coord+10,g=p-h;if(g<.001)return"transparent";f(u,function(t){t.offset=(t.coord-h)/g}),u.push({offset:l?u[l-1].offset:.5,color:c[1]||"transparent"}),u.unshift({offset:l?u[0].offset:.5,color:c[0]||"transparent"});var v=new sx(0,0,0,0,u,!0);return v[r]=h,v[r+"2"]=p,v}}}function Qs(t,e,n){var r=t.get("showAllSymbol"),i="auto"===r;if(!r||i){var a=n.getAxesByScale("ordinal")[0];if(a&&(!i||!function(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(1.5*Ts.getSymbolSize(e,o)[t.isHorizontal()?1:0]>r)return!1;return!0}(a,e))){var o=e.mapDimension(a.dim),s={};return f(a.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(o,t))}}}}function Js(t){return this._axes[t]}function Ks(t){oS.call(this,t)}function tu(t,e){return e.type||(e.data?"category":"value")}function eu(t,e,n){return t.getCoordSysModel()===e}function nu(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function ru(t,e,n,r){function i(t){return t.dim+"_"+t.index}n.getAxesOnZeroOf=function(){return a?[a]:[]};var a,o=t[e],s=n.model,u=s.get("axisLine.onZero"),l=s.get("axisLine.onZeroAxisIndex");if(u){if(null!=l)iu(o[l])&&(a=o[l]);else for(var c in o)if(o.hasOwnProperty(c)&&iu(o[c])&&!r[i(o[c])]){a=o[c];break}a&&(r[i(a)]=!0)}}function iu(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}(t)}function au(t,e){return d(gS,function(e){return t.getReferringComponents(e)[0]})}function ou(t){return"cartesian2d"===t.get("coordinateSystem")}function su(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e}function uu(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function lu(t){t&&(t.ignore=!0)}function cu(t,e,n){var r=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(r&&i){var a=vt([]);return bt(a,a,-t.rotation),r.applyTransform(yt([],a,t.getLocalTransform())),i.applyTransform(yt([],a,e.getLocalTransform())),r.intersect(i)}}function hu(t){return"middle"===t||"center"===t}function fu(t,e,r,i,a,s){var u=e.getModel("axisPointer"),l={};bS(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){l[t]=n(u.get(t))}),l.snap="category"!==t.type&&!!s,"cross"===u.get("type")&&(l.type="line");var c=l.label||(l.label={});if(null==c.show&&(c.show=!1),"cross"===a){var h=u.get("label.show");if(c.show=null==h||h,!s){var f=l.lineStyle=u.get("crossStyle");f&&o(c,f.textStyle)}}return t.model.getModel("axisPointer",new Wr(l,r,i))}function du(t,e){return"all"===t||y(t)&&u(t,e)>=0||t===e}function pu(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[vu(t)]}function gu(t){return!!t.get("handle.show")}function vu(t){return t.type+"||"+t.id}function mu(t,e,n,r,i,a){var o=wS.getAxisPointerClass(t.axisPointerClass);if(o){var s=function(t){var e=pu(t);return e&&e.axisPointerModel}(e);s?(t._axisPointer||(t._axisPointer=new o)).render(e,s,r,a):yu(t,r)}}function yu(t,e,n){var r=t._axisPointer;r&&r.dispose(e,n),t._axisPointer=null}function xu(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,u=o?"onZero":s,l=i.dim,c=r.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p="x"===l?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));p[f.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=["y"===l?p[f[u]]:h[0],"x"===l?p[f[u]]:h[3]],a.rotation=Math.PI/2*("x"===l?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=o?p[f[s]]-p[f.onZero]:0,e.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),C(n.labelInside,e.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var v=e.get("axisLabel.rotate");return a.labelRotate="top"===u?-v:v,a.z2=1,a}function bu(t,e,n,r,i,a,o){Ar(t,e,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:i,labelDataIndex:a,defaultText:Is(i.getData(),a),isRectText:!0,autoColor:r}),_u(t),_u(e)}function _u(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function wu(t,e,n){n.style.text=null,Rr(n,{shape:{width:0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Su(t,e,n){n.style.text=null,Rr(n,{shape:{r:n.shape.r0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Mu(t,e,n,r,i,a,s,u){var l=e.getItemVisual(n,"color"),c=e.getItemVisual(n,"opacity"),h=r.getModel("itemStyle"),f=r.getModel("emphasis.itemStyle").getBarItemStyle();u||t.setShape("r",h.get("barBorderRadius")||0),t.useStyle(o({fill:l,opacity:c},h.getBarItemStyle()));var d=r.getShallow("cursor");d&&t.attr("cursor",d),u||bu(t.style,f,r,l,a,n),Or(t,f)}function Ou(t,e,n){var r=t.getData(),i=[],a=r.getLayout("valueAxisHorizontal")?1:0;i[1-a]=r.getLayout("valueAxisStart");var o=new PS({shape:{points:r.getLayout("largePoints")},incremental:!!n,__startPoint:i,__valueIdx:a});e.add(o),function(t,e,n){var r=n.getVisual("borderColor")||n.getVisual("color"),i=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(i),t.style.fill=null,t.style.stroke=r,t.style.lineWidth=n.getLayout("barWidth")}(o,t,r)}function Cu(t,e,n,r){var i=e.getData(),a=i.getName(this.dataIndex),o=e.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:t,name:a,seriesId:e.id}),i.each(function(t){Au(i.getItemGraphicEl(t),i.getItemLayout(t),e.isSelected(i.getName(t)),o,n)})}function Au(t,e,n,r,i){var a=(e.startAngle+e.endAngle)/2,o=n?r:0,s=[Math.cos(a)*o,Math.sin(a)*o];i?t.animate().when(200,{position:s}).start("bounceOut"):t.attr("position",s)}function Iu(t,e){function n(){a.ignore=a.hoverIgnore,o.ignore=o.hoverIgnore}function r(){a.ignore=a.normalIgnore,o.ignore=o.normalIgnore}Lv.call(this);var i=new qy({z2:2}),a=new $y,o=new Vy;this.add(i),this.add(a),this.add(o),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function Tu(t,e,n,r,i,a,o){function s(e,n){for(var r=e;r>=0&&(t[r].y-=n,!(r>0&&t[r].y>t[r-1].y+t[r-1].height));r--);}function u(t,e,n,r,i,a){for(var o=e?Number.MAX_VALUE:0,s=0,u=t.length;s<u;s++){var l=Math.abs(t[s].y-r),c=t[s].len,h=t[s].len2,f=l<i+c?Math.sqrt((i+c+h)*(i+c+h)-l*l):Math.abs(t[s].x-n);e&&f>=o&&(f=o-10),!e&&f<=o&&(f=o+10),t[s].x=n+f*a,o=f}}t.sort(function(t,e){return t.y-e.y});for(var l,c=0,h=t.length,f=[],d=[],p=0;p<h;p++)(l=t[p].y-c)<0&&function(e,n,r,i){for(var a=e;a<n;a++)if(t[a].y+=r,a>e&&a+1<n&&t[a+1].y>t[a].y+t[a].height)return void s(a,r/2);s(n-1,r/2)}(p,h,-l),c=t[p].y+t[p].height;for(o-c<0&&s(h-1,c-o),p=0;p<h;p++)t[p].y>=n?d.push(t[p]):f.push(t[p]);u(f,!1,e,n,r,i),u(d,!0,e,n,r,i)}function Eu(t){return"center"===t.position}function ju(){this.group=new Lv}function Pu(t,e,n){Rw.call(this,t,e,n),this.type="value",this.angle=0,this.name=""}function ku(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=d(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,r=new Pu(n,new aw);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(n),r},this),this.resize(t,n)}function Du(t,e){return o({show:e},t)}function Lu(t,e){var n,r,i=t.svgXML;try{j(null!=(r=(n=i&&function(t,e){return(new La).parse(t,{ignoreViewBox:!0,ignoreRootClip:!0})}(i)||{}).root))}catch(t){throw new Error("Invalid svg format\n"+t.message)}var a=n.width,o=n.height,s=n.viewBoxRect;if(e||(e=null==a||null==o?r.getBoundingRect():new ie(0,0,0,0),null!=a&&(e.width=a),null!=o&&(e.height=o)),s){var u=Fa(s,e.width,e.height),l=r;(r=new Lv).add(l),l.scale=u.scale,l.position=u.position}return r.setClipPath(new Ky({shape:e.plain()})),{root:r,boundingRect:e}}function Ru(t){return function(e,n){var r=[];return f(Nu(e),function(i){var a=rM[i.type][t];a&&r.push(a(e,i,n))}),r}}function Nu(t){return l_.retrieveMap(t)||[]}function zu(t,e){return!!Bu(t)[e]}function Bu(t){return t[aM]||(t[aM]={})}function Fu(t){this._zr=t,this._opt={};var e=v,r=e(Vu,this),i=e(Gu,this),a=e(Hu,this),s=e(Wu,this),u=e(qu,this);Jg.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,l){this.disable(),this._opt=o(n(l)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",r),t.on("mousemove",i),t.on("mouseup",a)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",u))},this.disable=function(){t.off("mousedown",r),t.off("mousemove",i),t.off("mouseup",a),t.off("mousewheel",s),t.off("pinch",u)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function Vu(t){if(!(ct(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function Gu(t){if(this._dragging&&Xu("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!zu(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,r=this._x,i=this._y,a=e-r,o=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&ev(t.event),Yu(this,"pan","moveOnMouseMove",t,{dx:a,dy:o,oldX:r,oldY:i,newX:e,newY:n})}}function Hu(t){ct(t)||(this._dragging=!1)}function Wu(t){var e=Xu("zoomOnMouseWheel",t,this._opt),n=Xu("moveOnMouseWheel",t,this._opt),r=t.wheelDelta,i=Math.abs(r),a=t.offsetX,o=t.offsetY;if(0!==r&&(e||n)){if(e){var s=i>3?1.4:i>1?1.2:1.1;Uu(this,"zoom","zoomOnMouseWheel",t,{scale:r>0?s:1/s,originX:a,originY:o})}if(n){var u=Math.abs(r);Uu(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(r>0?1:-1)*(u>3?.4:u>1?.15:.05),originX:a,originY:o})}}}function qu(t){zu(this._zr,"globalPan")||Uu(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function Uu(t,e,n,r,i){t.pointerChecker&&t.pointerChecker(r,i.originX,i.originY)&&(ev(r.event),Yu(t,e,n,r,i))}function Yu(t,e,n,r,i){i.isAvailableBehavior=v(Xu,null,n,r),t.trigger(e,i)}function Xu(t,e,n){var r=n[t];return!t||r&&(!b(r)||e.event[r+"Key"])}function Zu(t,e,n){var r=t.target,i=r.position;i[0]+=e,i[1]+=n,r.dirty()}function $u(t,e,n,r){var i=t.target,a=t.zoomLimit,o=i.position,s=i.scale,u=t.zoom=t.zoom||1;if(u*=e,a){var l=a.min||0;u=Math.max(Math.min(a.max||1/0,u),l)}var c=u/t.zoom;t.zoom=u,o[0]-=(n-o[0])*(c-1),o[1]-=(r-o[1])*(c-1),s[0]*=c,s[1]*=c,i.dirty()}function Qu(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!oM[r.mainType]&&i&&i.model!==n}function Ju(t,e){var n=t.getItemStyle(),r=t.get("areaColor");return null!=r&&(n.fill=r),n}function Ku(t,e,n,r,i){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",function(){t._mouseDownFlag=!0}),n.on("click",function(a){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var o=a.target;!o.__regions;)o=o.parent;if(o){var s={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:d(o.__regions,function(t){return{name:t.name,from:i.uid}})};s[e.mainType+"Id"]=e.id,r.dispatchAction(s),tl(e,n)}}}))}function tl(t,e){e.eachChild(function(e){f(e.__regions,function(n){e.trigger(t.isSelected(n.name)?"emphasis":"normal")})})}function el(t,e){var n=new Lv;this.uid=Yr("ec_map_draw"),this._controller=new Fu(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,n.add(this._regionsGroup=new Lv),n.add(this._backgroundGroup=new Lv)}function nl(t){var e=this[sM];e&&e.recordVersion===this[uM]&&rl(e,t)}function rl(t,e){var n=t.circle,r=t.labelModel,i=t.hoverLabelModel,a=t.emphasisText,o=t.normalText;e?(n.style.extendFrom(Ir({},i,{text:i.get("show")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=px):(Ir(n.style,r,{text:r.get("show")?o:null,textPosition:r.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}function il(t,e,n){var r=t.getZoom(),i=t.getCenter(),a=e.zoom,o=t.dataToPoint(i);if(null!=e.dx&&null!=e.dy&&(o[0]-=e.dx,o[1]-=e.dy,i=t.pointToData(o),t.setCenter(i)),null!=a){if(n){var s=n.min||0;a=Math.max(Math.min(r*a,n.max||1/0),s)/r}t.scale[0]*=a,t.scale[1]*=a;var u=t.position,l=(e.originY-u[1])*(a-1);u[0]-=(e.originX-u[0])*(a-1),u[1]-=l,t.updateTransform(),i=t.pointToData(o),t.setCenter(i),t.setZoom(a*r)}return{center:t.getCenter(),zoom:t.getZoom()}}function al(){hv.call(this)}function ol(t){this.name=t,hv.call(this),this._roamTransformable=new al,this._rawTransformable=new al}function sl(t,e,n,r){var i=n.seriesModel,a=i?i.coordinateSystem:null;return a===this?a[t](r):null}function ul(t,e,n,r){ol.call(this,t),this.map=e;var i=iM.load(e,n);this._nameCoordMap=i.nameCoordMap,this._regionsMap=i.regionsMap,this._invertLongitute=null==r||r,this.regions=i.regions,this._rect=i.boundingRect}function ll(t,e,n,r){var i=n.geoModel,a=n.seriesModel,o=i?i.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return o===this?o[t](r):null}function cl(t,e){var n=t.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];isNaN(r[0])||isNaN(r[1])||isNaN(i[0])||isNaN(i[1])||this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}var a,o=this.getBoundingRect(),s=t.get("layoutCenter"),u=t.get("layoutSize"),l=e.getWidth(),c=e.getHeight(),h=o.width/o.height*this.aspectScale,f=!1;if(s&&u&&(s=[Zr(s[0],l),Zr(s[1],c)],u=Zr(u,Math.min(l,c)),isNaN(s[0])||isNaN(s[1])||isNaN(u)||(f=!0)),f){var d={};h>1?(d.width=u,d.height=u/h):(d.height=u,d.width=u*h),d.y=s[1]-d.height/2,d.x=s[0]-d.width/2}else(a=t.getBoxLayoutParams()).aspect=h,d=bi(a,{width:l,height:c});this.setViewRect(d.x,d.y,d.width,d.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function hl(t,e){f(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}function fl(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,ml(e,n,t),hM(n,function(n){hM(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,m(dl,t))})}),e.wrapMethod("cloneShallow",m(gl,t)),hM(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,m(pl,t))}),j(n[e.dataType]===e)}function dl(t,e){if(function(t){return t[dM]===t}(this)){var n=a({},this[fM]);n[this.dataType]=e,ml(e,n,t)}else yl(e,this.dataType,this[dM],t);return e}function pl(t,e){return t.struct&&t.struct.update(this),e}function gl(t,e){return hM(e[fM],function(n,r){n!==e&&yl(n.cloneShallow(),r,e,t)}),e}function vl(t){var e=this[dM];return null==t||null==e?e:e[fM][t]}function ml(t,e,n){t[fM]={},hM(e,function(e,r){yl(e,r,t,n)})}function yl(t,e,n,r){n[fM][e]=t,t[dM]=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=vl}function xl(t,e,n){this._nodes=[],this.hostModel=t,this.levelModels=d(e||[],function(e){return new Wr(e,t,t.ecModel)}),this.leavesModel=new Wr(n||{},t,t.ecModel)}function bl(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,i=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){!function(t){for(var e=t.children,n=e.length,r=0,i=0;--n>=0;){var a=e[n];a.hierNode.prelim+=r,a.hierNode.modifier+=r,r+=a.hierNode.shift+(i+=a.hierNode.change)}}(t);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(t.hierNode.prelim=i.hierNode.prelim+e(t,i),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else i&&(t.hierNode.prelim=i.hierNode.prelim+e(t,i));t.parentNode.hierNode.defaultAncestor=function(t,e,n,r){if(e){for(var i=t,a=t,o=a.parentNode.children[0],s=e,u=i.hierNode.modifier,l=a.hierNode.modifier,c=o.hierNode.modifier,h=s.hierNode.modifier;s=Ml(s),a=Ol(a),s&&a;){i=Ml(i),o=Ol(o),i.hierNode.ancestor=t;var f=s.hierNode.prelim+h-a.hierNode.prelim-l+r(s,a);f>0&&(Al(Cl(s,t,n),t,f),l+=f,u+=f),h+=s.hierNode.modifier,l+=a.hierNode.modifier,u+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!Ml(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=h-u),a&&!Ol(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=l-c,n=t)}return n}(t,i,t.parentNode.hierNode.defaultAncestor||r[0],e)}function _l(t){t.setLayout({x:t.hierNode.prelim+t.parentNode.hierNode.modifier},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function wl(t){return arguments.length?t:Il}function Sl(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n}function Ml(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Ol(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Cl(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function Al(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}function Il(t,e){return t.parentNode===e.parentNode?1:2}function Tl(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==t.getItemVisual(e,"symbol")}function El(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),n.symbolInnerColor=!1===t.isExpand&&0!==t.children.length?n.itemStyle.fill:"#fff",n}function jl(t,e,n,r,i,a){var s=!n,u=t.tree.getNodeByDataIndex(e),l=(a=El(u,u.getModel(),a),t.tree.root),c=u.parentNode===l?u:u.parentNode||u,h=t.getItemGraphicEl(c.dataIndex),f=c.getLayout(),d=h?{x:h.position[0],y:h.position[1],rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:f,p=u.getLayout();s?(n=new Ts(t,e,a)).attr("position",[d.x,d.y]):n.updateData(t,e,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=p.rawX,n.__radialRawY=p.rawY,r.add(n),t.setItemGraphicEl(e,n),Rr(n,{position:[p.x,p.y]},i);var g=n.getSymbolPath();if("radial"===a.layout){var v,m,y=l.children[0],x=y.getLayout(),b=y.children.length;if(p.x===x.x&&!0===u.isExpand){var _={};_.x=(y.children[0].getLayout().x+y.children[b-1].getLayout().x)/2,_.y=(y.children[0].getLayout().y+y.children[b-1].getLayout().y)/2,(v=Math.atan2(_.y-x.y,_.x-x.x))<0&&(v=2*Math.PI+v),(m=_.x<x.x)&&(v-=Math.PI)}else(v=Math.atan2(p.y-x.y,p.x-x.x))<0&&(v=2*Math.PI+v),0===u.children.length||0!==u.children.length&&!1===u.isExpand?(m=p.x<x.x)&&(v-=Math.PI):(m=p.x>x.x)||(v-=Math.PI);g.setStyle({textPosition:m?"left":"right",textRotation:-v,textOrigin:"center",verticalAlign:"middle"})}if(u.parentNode&&u.parentNode!==l){var w=n.__edge;w||(w=n.__edge=new rx({shape:kl(a,d,d),style:o({opacity:0,strokeNoScale:!0},a.lineStyle)})),Rr(w,{shape:kl(a,f,p),style:{opacity:1}},i),r.add(w)}}function Pl(t,e,n,r,i,a){for(var o,s=t.tree.getNodeByDataIndex(e),u=t.tree.root,l=(a=El(s,s.getModel(),a),s.parentNode===u?s:s.parentNode||s);null==(o=l.getLayout());)l=l.parentNode===u?l:l.parentNode||l;Rr(n,{position:[o.x+1,o.y+1]},i,function(){r.remove(n),t.setItemGraphicEl(e,null)}),n.fadeOut(null,{keepLabel:!0});var c=n.__edge;c&&Rr(c,{shape:kl(a,o,o),style:{opacity:0}},i,function(){r.remove(c)})}function kl(t,e,n){var r,i,a,o,s,u,l,c,h=t.orient;if("radial"===t.layout){u=n.rawX,c=n.rawY;var f=Sl(s=e.rawX,l=e.rawY),d=Sl(s,l+(c-l)*t.curvature),p=Sl(u,c+(l-c)*t.curvature),g=Sl(u,c);return{x1:f.x,y1:f.y,x2:g.x,y2:g.y,cpx1:d.x,cpy1:d.y,cpx2:p.x,cpy2:p.y}}return s=e.x,l=e.y,u=n.x,c=n.y,"LR"!==h&&"RL"!==h||(r=s+(u-s)*t.curvature,i=l,a=u+(s-u)*t.curvature,o=c),"TB"!==h&&"BT"!==h||(r=s,i=l+(c-l)*t.curvature,a=u,o=c+(l-c)*t.curvature),{x1:s,y1:l,x2:u,y2:c,cpx1:r,cpy1:i,cpx2:a,cpy2:o}}function Dl(t,e){for(var n,r=[t];n=r.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)r.push(i[a])}}function Ll(t,e,n){if(t&&u(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if("string"==typeof i&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=t.targetNodeId;if(null!=a&&(i=r.getNodeById(a)))return{node:i}}}function Rl(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function Nl(t,e){return u(Rl(t),e)>=0}function zl(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}function Bl(t){this.group=new Lv,t.add(this.group)}function Fl(t,e,n,r,i,a){var o=[[i?t:t-gM,e],[t+n,e],[t+n,e+r],[i?t:t-gM,e+r]];return!a&&o.splice(2,0,[t+n+gM,e+r/2]),!i&&o.push([t,e+r/2]),o}function Vl(t,e,n){t.eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&zl(n,e)}}function Gl(t,e,r,i,o,s,u,l,c,h){function f(t,e){_?!t.invisible&&s.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function d(e,r,i,a,o,s){var l=u.getModel(),c=C(t.getFormattedLabel(u.dataIndex,"normal",null,null,s?"upperLabel":"label"),l.get("name"));if(!s&&m.isLeafRoot){var h=t.get("drillDownIcon",!0);c=h?h+" "+c:c}var f=l.getModel(s?wM:bM),d=l.getModel(s?SM:_M),p=f.getShallow("show");Ar(e,r,f,d,{defaultText:p?c:null,autoColor:i,isRectText:!0}),s&&(e.textRect=n(s)),e.truncate=p&&f.get("ellipsis")?{outerWidth:a,outerHeight:o,minChar:2}:null}function p(t,n,i,a){var s=null!=S&&r[t][S],u=o[t];return s?(r[t][S]=null,g(u,s,t)):_||((s=new n({z:function(t,e){var n=i*MM+a;return(n-1)/n}()})).__tmDepth=i,s.__tmStorageName=t,v(u,0,t)),e[t][w]=s}function g(t,e,n){(t[w]={}).old="nodeGroup"===n?e.position.slice():a({},e.shape)}function v(t,e,n){var r=t[w]={},a=u.parentNode;if(a&&(!i||"drillDown"===i.direction)){var s=0,l=0,c=o.background[a.getRawIndex()];!i&&c&&c.old&&(s=c.old.width,l=c.old.height),r.old="nodeGroup"===n?[0,l]:{x:s,y:l,width:0,height:0}}r.fadein="nodeGroup"!==n}if(u){var m=u.getLayout();if(m&&m.isInView){var y=m.width,x=m.height,b=m.borderWidth,_=m.invisible,w=u.getRawIndex(),S=l&&l.getRawIndex(),M=u.viewChildren,O=m.upperHeight,A=M&&M.length,I=u.getModel("itemStyle"),T=u.getModel("emphasis.itemStyle"),E=p("nodeGroup",mM);if(E){if(c.add(E),E.attr("position",[m.x||0,m.y||0]),E.__tmNodeWidth=y,E.__tmNodeHeight=x,m.isAboveViewRoot)return E;var j=p("background",yM,h,OM);if(j&&function(e,n,r){n.dataIndex=u.dataIndex,n.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:y,height:x});var i=u.getVisual("borderColor",!0),a=T.get("borderColor");f(n,function(){var t=IM(I);t.fill=i;var e=AM(T);if(e.fill=a,r){var o=y-2*b;d(t,e,i,o,O,{x:b,y:0,width:o,height:O})}else t.text=e.text=null;n.setStyle(t),Or(n,e)}),e.add(n)}(E,j,A&&m.upperHeight),!A){var P=p("content",yM,h,CM);P&&function(e,n){n.dataIndex=u.dataIndex,n.seriesIndex=t.seriesIndex;var r=Math.max(y-2*b,0),i=Math.max(x-2*b,0);n.culling=!0,n.setShape({x:b,y:b,width:r,height:i});var a=u.getVisual("color",!0);f(n,function(){var t=IM(I);t.fill=a;var e=AM(T);d(t,e,a,r,i),n.setStyle(t),Or(n,e)}),e.add(n)}(E,P)}return E}}}}function Hl(t,e){var n=t.visual,r=[];_(n)?jM(n,function(t){r.push(t)}):null!=n&&r.push(n),e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),Ql(t,r)}function Wl(t){return{applyVisual:function(e,n,r){e=this.mapValueToVisual(e),r("color",t(n("color"),e))},_doMap:Zl([0,1])}}function ql(t){var e=this.option.visual;return e[Math.round(Xr(t,[0,1],[0,e.length-1],!0))]||{}}function Ul(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function Yl(t){var e=this.option.visual;return e[this.option.loop&&t!==kM?t%e.length:t]}function Xl(){return this.option.visual[0]}function Zl(t){return{linear:function(e){return Xr(e,t,this.option.visual,!0)},category:Yl,piecewise:function(e,n){var r=$l.call(this,n);return null==r&&(r=Xr(e,t,this.option.visual,!0)),r},fixed:Xl}}function $l(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=n[DM.findPieceIndex(t,n)];if(r&&r.visual)return r.visual[this.type]}}function Ql(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=d(e,function(t){return Lt(t)})),e}function Jl(t,e,n){return t?e<=n:e<n}function Kl(t,e,n,r){var i=a({},e);return f(["color","colorAlpha","colorSaturation"],function(a){var o=t.get(a,!0);null==o&&n&&(o=n[a]),null==o&&(o=e[a]),null==o&&(o=r.get(a)),null!=o&&(i[a]=o)}),i}function tc(t){var e=ec(t,"color");if(e){var n=ec(t,"colorAlpha"),r=ec(t,"colorSaturation");return r&&(e=Vt(e,null,null,r)),n&&(e=Gt(e,n)),e}}function ec(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function nc(t,e){var n=t.get(e);return NM(n)&&n.length?{name:e,range:n}:null}function rc(t,e,n,r,i,o){var s=a({},e);if(i){var u=i.type,l="color"===u&&i.__drColorMappingBy,c="index"===l?r:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));s[u]=i.mapValueToVisual(c)}return s}function ic(t,e,n,r,i,a){var o=t.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=r.leafDepth&&r.leafDepth<=a;if(i&&!u)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,n){var r="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r})}(o=g(o,function(t){return!t.isRemoved()}),s);var l=function(t,e,n){for(var r=0,i=0,a=e.length;i<a;i++)r+=e[i].getValue();var o=t.get("visualDimension");if(e&&e.length)if("value"===o&&n)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&s.reverse();else{var s=[1/0,-1/0];GM(e,function(t){var e=t.getValue(o);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{sum:r,dataExtent:s}}(e,o,s);if(0===l.sum)return t.viewChildren=[];if(l.sum=function(t,e,n,r,i){if(!r)return n;for(var a=t.get("visibleMin"),o=i.length,s=o,u=o-1;u>=0;u--){var l=i["asc"===r?o-u-1:u].getValue();l/n*e<a&&(s=u,n-=l)}return i.splice("asc"===r?0:s,o-s),n}(e,n,l.sum,s,o),0===l.sum)return t.viewChildren=[];for(var c=0,h=o.length;c<h;c++){var f=o[c].getValue()/l.sum*n;o[c].setLayout({area:f})}return u&&(o.length&&t.setLayout({isLeafRoot:!0},!0),o.length=0),t.viewChildren=o,t.setLayout({dataExtent:l.dataExtent},!0),o}function ac(t,e,n){for(var r,i=0,a=1/0,o=0,s=t.length;o<s;o++)(r=t[o].getLayout().area)&&(r<a&&(a=r),r>i&&(i=r));var u=t.area*t.area,l=e*e*n;return u?BM(l*i/u,u/(l*a)):1/0}function oc(t,e,n,r,i){var a=e===n.width?0:1,o=1-a,s=["x","y"],u=["width","height"],l=n[s[a]],c=e?t.area/e:0;(i||c>n[u[o]])&&(c=n[u[o]]);for(var h=0,f=t.length;h<f;h++){var d=t[h],p={},g=c?d.getLayout().area/c:0,v=p[u[o]]=BM(c-2*r,0),m=n[s[a]]+n[u[a]]-l,y=h===f-1||m<g?m:g,x=p[u[a]]=BM(y-2*r,0);p[s[o]]=n[s[o]]+FM(r,v/2),p[s[a]]=l+FM(r,x/2),l+=y,d.setLayout(p,!0)}n[s[o]]+=c,n[u[o]]-=c}function sc(t){return t.get(qM)?t.get(UM):0}function uc(t){return"_EC_"+t}function lc(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=null==e?-1:e}function cc(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}function hc(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function fc(t){return"_"+t+"Type"}function dc(t,e,n){var r=e.getItemVisual(n,"color"),i=e.getItemVisual(n,t),a=e.getItemVisual(n,t+"Size");if(i&&"none"!==i){y(a)||(a=[a,a]);var o=vs(i,-a[0]/2,-a[1]/2,a[0],a[1],r);return o.name=t,o}}function pc(t,e){var n=e[0],r=e[1],i=e[2];t.x1=n[0],t.y1=n[1],t.x2=r[0],t.y2=r[1],t.percent=1,i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}function gc(t,e,n){Lv.call(this),this._createLine(t,e,n)}function vc(t){this._ctor=t||gc,this.group=new Lv}function mc(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function yc(t){return isNaN(t[0])||isNaN(t[1])}function xc(t){return!yc(t[0])&&!yc(t[1])}function bc(t,e,n){for(var r,i=t[0],a=t[1],o=t[2],s=1/0,u=n*n,l=.1,c=.1;c<=.9;c+=.1)aO[0]=uO(i[0],a[0],o[0],c),aO[1]=uO(i[1],a[1],o[1],c),(d=cO(lO(aO,e)-u))<s&&(s=d,r=c);for(var h=0;h<32;h++){var f=r+l;oO[0]=uO(i[0],a[0],o[0],r),oO[1]=uO(i[1],a[1],o[1],r),sO[0]=uO(i[0],a[0],o[0],f),sO[1]=uO(i[1],a[1],o[1],f);var d=lO(oO,e)-u;if(cO(d)<.01)break;var p=lO(sO,e)-u;l/=2,d<0?p>=0?r+=l:r-=l:p>=0?r-=l:r+=l}return r}function _c(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function wc(t,e,n){var r=t.getGraphicEl(),i=_c(t,e);null!=n&&(null==i&&(i=1),i*=n),r.downplay&&r.downplay(),r.traverse(function(t){if("group"!==t.type){var e=t.lineLabelOriginalOpacity;null!=e&&null==n||(e=i),t.setStyle("opacity",e)}})}function Sc(t,e){var n=_c(t,e),r=t.getGraphicEl();r.highlight&&r.highlight(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function Mc(t){return t instanceof Array||(t=[t,t]),t}function Oc(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),Cc(n)}}function Cc(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,n=V(t.node1.getLayout()),r=V(t.node2.getLayout()),i=[n,r];+e&&i.push([(n[0]+r[0])/2-(n[1]-r[1])*e,(n[1]+r[1])/2-(r[0]-n[0])*e]),t.setLayout(i)})}function Ac(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=e.getBoundingRect(),r=t.getData(),i=r.graph,a=0,o=r.getSum("value"),s=2*Math.PI/(o||r.count()),u=n.width/2+n.x,l=n.height/2+n.y,c=Math.min(n.width,n.height)/2;i.eachNode(function(t){var e=t.getValue("value");a+=s*(o?e:1)/2,t.setLayout([c*Math.cos(a)+u,c*Math.sin(a)+l]),a+=s*(o?e:1)/2}),r.setLayout({cx:u,cy:l}),i.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.curveness")||0,r=V(t.node1.getLayout()),i=V(t.node2.getLayout());+n&&(e=[u*(n*=3)+(r[0]+i[0])/2*(1-n),l*n+(r[1]+i[1])/2*(1-n)]),t.setLayout([r,i,e])})}}function Ic(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}function Tc(t,e){function n(){a.ignore=a.hoverIgnore,o.ignore=o.hoverIgnore}function r(){a.ignore=a.normalIgnore,o.ignore=o.normalIgnore}Lv.call(this);var i=new Zy,a=new $y,o=new Vy;this.add(i),this.add(a),this.add(o),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function Ec(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function jc(t,e){return Math.min(e[1],Math.max(e[0],t))}function Pc(t,e,n){this._axesMap=R(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}function kc(t,e){return MO(OO(t,e[0]),e[1])}function Dc(t){Jg.call(this),this._zr=t,this.group=new Lv,this._track=[],this._covers=[],this._uid="brushController_"+WO++,this._handlers={},PO(qO,function(t,e){this._handlers[e]=v(t,this)},this)}function Lc(t,e){var n=UO[e.brushType].createCover(t,e);return n.__brushOption=e,zc(n,e),t.group.add(n),n}function Rc(t,e){var n=Fc(e);return n.endCreating&&(n.endCreating(t,e),zc(e,e.__brushOption)),e}function Nc(t,e){var n=e.__brushOption;Fc(e).updateCoverShape(t,e,n.range,n)}function zc(t,e){var n=e.z;null==n&&(n=NO),t.traverse(function(t){t.z=n,t.z2=n})}function Bc(t,e){Fc(e).updateCommon(t,e),Nc(t,e)}function Fc(t){return UO[t.__brushOption.brushType]}function Vc(t,e,n){var r=t._panels;if(!r)return!0;var i,a=t._transform;return PO(r,function(t){t.isTargetByCursor(e,n,a)&&(i=t)}),i}function Gc(t,e){var n=t._panels;if(!n)return!0;var r=e.__brushOption.panelId;return null==r||n[r]}function Hc(t){var e=t._covers,n=e.length;return PO(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function Wc(t,e){var r=kO(t._covers,function(t){var e=t.__brushOption,r=n(e.range);return{brushType:e.brushType,panelId:e.panelId,range:r}});t.trigger("brush",r,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function qc(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Uc(t,e,n,r){var i=new Lv;return i.add(new Ky({name:"main",style:$c(n),silent:!0,draggable:!0,cursor:"move",drift:jO(t,e,i,"nswe"),ondragend:jO(Wc,e,{isEnd:!0})})),PO(r,function(n){i.add(new Ky({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:jO(t,e,i,n),ondragend:jO(Wc,e,{isEnd:!0})}))}),i}function Yc(t,e,n,r){var i=r.brushStyle.lineWidth||0,a=LO(i,BO),o=n[0][0],s=n[1][0],u=o-i/2,l=s-i/2,c=n[0][1],h=n[1][1],f=c-a+i/2,d=h-a+i/2,p=c-o,g=h-s,v=p+i,m=g+i;Zc(t,e,"main",o,s,p,g),r.transformable&&(Zc(t,e,"w",u,l,a,m),Zc(t,e,"e",f,l,a,m),Zc(t,e,"n",u,l,v,a),Zc(t,e,"s",u,d,v,a),Zc(t,e,"nw",u,l,a,a),Zc(t,e,"ne",f,l,a,a),Zc(t,e,"sw",u,d,a,a),Zc(t,e,"se",f,d,a,a))}function Xc(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle($c(n)),i.attr({silent:!r,cursor:r?"move":"default"}),PO(["w","e","n","s","se","sw","ne","nw"],function(n){var i=e.childOfName(n),a=function t(e,n){if(n.length>1)return("e"===(r=[t(e,(n=n.split(""))[0]),t(e,n[1])])[0]||"w"===r[0])&&r.reverse(),r.join("");var r=Fr({w:"left",e:"right",n:"top",s:"bottom"}[n],function(t){return zr(t.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}(t,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?GO[a]+"-resize":null})})}function Zc(t,e,n,r,i,a,o){var s=e.childOfName(n);s&&s.setShape(function(t){var e=DO(t[0][0],t[1][0]),n=DO(t[0][1],t[1][1]);return{x:e,y:n,width:LO(t[0][0],t[1][0])-e,height:LO(t[0][1],t[1][1])-n}}(eh(t,e,[[r,i],[r+a,i+o]])))}function $c(t){return o({strokeNoScale:!0},t.brushStyle)}function Qc(t,e,n,r){var i=[DO(t,n),DO(e,r)],a=[LO(t,n),LO(e,r)];return[[i[0],a[0]],[i[1],a[1]]]}function Jc(t,e,n,r,i,a,o,s){var u=r.__brushOption,l=t(u.range),c=th(n,a,o);PO(i.split(""),function(t){var e=VO[t];l[e[0]][e[1]]+=c[e[0]]}),u.range=e(Qc(l[0][0],l[1][0],l[0][1],l[1][1])),Bc(n,r),Wc(n,{isEnd:!1})}function Kc(t,e,n,r,i){var a=e.__brushOption.range,o=th(t,n,r);PO(a,function(t){t[0]+=o[0],t[1]+=o[1]}),Bc(t,e),Wc(t,{isEnd:!1})}function th(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function eh(t,e,r){var i=Gc(t,e);return i&&!0!==i?i.clipPath(r,t._transform):n(r)}function nh(t){var e=t.event;e.preventDefault&&e.preventDefault()}function rh(t,e,n){return t.childOfName("main").contain(e,n)}function ih(t,e,r,i){var a,o=t._creatingCover,s=t._creatingPanel,u=t._brushOption;if(t._track.push(r.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],a=n[1]-r[1];return RO(i*i+a*a,.5)>zO}(t)||o){if(s&&!o){"single"===u.brushMode&&Hc(t);var l=n(u);l.brushType=ah(l.brushType,s),l.panelId=!0===s?null:s.panelId,o=t._creatingCover=Lc(t,l),t._covers.push(o)}if(o){var c=UO[ah(t._brushType,s)];o.__brushOption.range=c.getCreatingRange(eh(t,o,t._track)),i&&(Rc(t,o),c.updateCommon(t,o)),Nc(t,o),a={isEnd:i}}}else i&&"single"===u.brushMode&&u.removeOnClick&&Vc(t,e,r)&&Hc(t)&&(a={isEnd:i,removeOnClick:!0});return a}function ah(t,e){return"auto"===t?e.defaultBrushType:t}function oh(t){if(this._dragging){nh(t);var e=ih(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&Wc(this,e)}}function sh(t){return{createCover:function(e,n){return Uc(jO(Jc,function(e){var n=[e,[0,100]];return t&&n.reverse(),n},function(e){return e[t]}),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=qc(e);return[DO(n[0][t],n[1][t]),LO(n[0][t],n[1][t])]},updateCoverShape:function(e,n,r,i){var a,o=Gc(e,n);if(!0!==o&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[r,a];t&&u.reverse(),Yc(e,n,u,i)},updateCommon:Xc,contain:rh}}function uh(t){return t=hh(t),function(e,n){return Gr(e,t)}}function lh(t,e){return t=hh(t),function(n){var r=null!=e?e:n,i=r?t.x:t.y;return[i,i+((r?t.width:t.height)||0)]}}function ch(t,e,n){return t=hh(t),function(r,i,a){return t.contain(i[0],i[1])&&!Qu(r,e,n)}}function hh(t){return ie.create(t)}function fh(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}function dh(t,e,n,r){for(var i=[],a=0;a<n.length;a++){var o=n[a],s=t.get(t.mapDimension(o),e);mh(s,r.getAxis(o).type)||i.push(r.dataToPoint(s,o))}return i}function ph(t,e,n,r,i){var a=dh(t,n,r,i),o=new $y({shape:{points:a},silent:!0,z2:10});return e.add(o),t.setItemGraphicEl(n,o),o}function gh(t){var e=t.get("smooth",!0);return!0===e&&(e=$O),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:$O}}function vh(t,e,n,r){var i=r.lineStyle;e.hasItemOption&&(i=e.getItemModel(n).getModel("lineStyle").getLineStyle()),t.useStyle(i);var a=t.style;a.fill=null,a.stroke=e.getItemVisual(n,"color"),a.opacity=e.getItemVisual(n,"opacity"),r.smooth&&(t.shape.smooth=r.smooth)}function mh(t,e){return"category"===e?null==t:null==t||isNaN(t)}function yh(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function xh(t,e,n){var r=t.getGraphicEl(),i=yh(t,e);null!=n&&(null==i&&(i=1),i*=n),r.downplay&&r.downplay(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",i)})}function bh(t,e){var n=yh(t,e),r=t.getGraphicEl();r.highlight&&r.highlight(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function _h(t,e,n){f(t,function(t){t.outEdges.length||t.setLayout("vertical"===n?{y:e-1}:{x:e-1},!0)})}function wh(t,e,n){f(t,function(t){if("vertical"===n){var r=t.getLayout().y*e;t.setLayout({y:r},!0)}else{var i=t.getLayout().x*e;t.setLayout({x:i},!0)}})}function Sh(t,e,n,r,i){f(t,function(t){var a,o,s,u=0,l=t.length;if("vertical"===i){var c;for(t.sort(function(t,e){return t.getLayout().x-e.getLayout().x}),s=0;s<l;s++)(o=u-(a=t[s]).getLayout().x)>0&&(c=a.getLayout().x+o,a.setLayout({x:c},!0)),u=a.getLayout().x+a.getLayout().dx+e;if((o=u-e-r)>0)for(c=a.getLayout().x-o,a.setLayout({x:c},!0),u=c,s=l-2;s>=0;--s)(o=(a=t[s]).getLayout().x+a.getLayout().dx+e-u)>0&&(c=a.getLayout().x-o,a.setLayout({x:c},!0)),u=a.getLayout().x}else{var h;for(t.sort(function(t,e){return t.getLayout().y-e.getLayout().y}),s=0;s<l;s++)(o=u-(a=t[s]).getLayout().y)>0&&(h=a.getLayout().y+o,a.setLayout({y:h},!0)),u=a.getLayout().y+a.getLayout().dy+e;if((o=u-e-n)>0)for(h=a.getLayout().y-o,a.setLayout({y:h},!0),u=h,s=l-2;s>=0;--s)(o=(a=t[s]).getLayout().y+a.getLayout().dy+e-u)>0&&(h=a.getLayout().y-o,a.setLayout({y:h},!0)),u=a.getLayout().y}})}function Mh(t,e,n){f(t.slice().reverse(),function(t){f(t,function(t){if(t.outEdges.length){var r=Th(t.outEdges,Oh,n)/Th(t.outEdges,Ih,n);if("vertical"===n){var i=t.getLayout().x+(r-Ah(t,n))*e;t.setLayout({x:i},!0)}else{var a=t.getLayout().y+(r-Ah(t,n))*e;t.setLayout({y:a},!0)}}})})}function Oh(t,e){return Ah(t.node2,e)*t.getValue()}function Ch(t,e){return Ah(t.node1,e)*t.getValue()}function Ah(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Ih(t){return t.getValue()}function Th(t,e,n){for(var r=0,i=t.length,a=-1;++a<i;){var o=+e.call(t,t[a],n);isNaN(o)||(r+=o)}return r}function Eh(t,e,n){f(t,function(t){f(t,function(t){if(t.inEdges.length){var r=Th(t.inEdges,Ch,n)/Th(t.inEdges,Ih,n);if("vertical"===n){var i=t.getLayout().x+(r-Ah(t,n))*e;t.setLayout({x:i},!0)}else{var a=t.getLayout().y+(r-Ah(t,n))*e;t.setLayout({y:a},!0)}}})})}function jh(t,e,n,r,i){var a=t.ends,o=new aC({shape:{points:i?function(t,e,n){return d(a,function(t){return(t=t.slice())[e]=n.initBaseline,t})}(0,r,t):a}});return Ph(t,o,e,n,i),o}function Ph(t,e,n,r,i){(0,yx[i?"initProps":"updateProps"])(e,{shape:{points:t.ends}},n.hostModel,r);var a=n.getItemModel(r),o=a.getModel(rC),s=n.getItemVisual(r,"color"),u=o.getItemStyle(["borderColor"]);u.stroke=s,u.strokeNoScale=!0,e.useStyle(u),e.z2=100,Or(e,a.getModel(iC).getItemStyle())}function kh(t,e,n){var r=t.ends;return new hC({shape:{points:n?function(t,e){return d(r,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(0,t):r},z2:100})}function Dh(t,e,n,r){var i=e.getItemModel(n),a=i.getModel(uC),o=e.getItemVisual(n,"color"),s=e.getItemVisual(n,"borderColor")||o,u=a.getItemStyle(cC);t.useStyle(u),t.style.strokeNoScale=!0,t.style.fill=o,t.style.stroke=s,t.__simpleBox=r,Or(t,i.getModel(lC).getItemStyle())}function Lh(t,e,n){var r=t.getData(),i=r.getLayout("largePoints"),a=new fC({shape:{points:i},__sign:1});e.add(a);var o=new fC({shape:{points:i},__sign:-1});e.add(o),Rh(1,a,t,r),Rh(-1,o,t,r),n&&(a.incremental=!0,o.incremental=!0)}function Rh(t,e,n,r){var i=t>0?"P":"N",a=r.getVisual("borderColor"+i)||r.getVisual("color"+i),o=n.getModel(uC).getItemStyle(cC);e.useStyle(o),e.style.fill=null,e.style.stroke=a}function Nh(t,e,n,r,i){return n>r?-1:n<r?1:e>0?t.get(i,e-1)<=r?1:-1:1}function zh(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function Bh(t,e){Lv.call(this);var n=new Ts(t,e),r=new Lv;this.add(n),this.add(r),r.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}function Fh(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=d(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),i([e,t[0],t[1]])}))}function Vh(t,e,n){Lv.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}function Gh(t,e,n){Lv.call(this),this._createPolyline(t,e,n)}function Hh(t,e,n){Vh.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}function Wh(){this.group=new Lv}function qh(t){return t instanceof Array||(t=[t,t]),t}function Uh(){var t=Hg();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function Yh(t,e,n){var r=t[1]-t[0],i=(e=d(e,function(e){return{interval:[(e.interval[0]-t[0])/r,(e.interval[1]-t[0])/r]}})).length,a=0;return function(t){for(r=a;r<i;r++)if((o=e[r].interval)[0]<=t&&t<=o[1]){a=r;break}if(r===i)for(var r=a-1;r>=0;r--){var o=e[r].interval;if(o[0]<=t&&t<=o[1]){a=r;break}}return r>=0&&r<i&&n[r]}}function Xh(t,e,n,r){var i=t.getItemLayout(e),a=n.get("symbolRepeat"),o=n.get("symbolClip"),s=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,l=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:u,animationModel:c?n:null,hoverAnimation:c&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};(function(t,e,n,r,i){var a,o=r.valueDim,s=t.get("symbolBoundingData"),u=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=u.toGlobalCoord(u.dataToCoord(0)),c=1-+(n[o.wh]<=0);if(y(s)){var h=[Zh(u,s[0])-l,Zh(u,s[1])-l];h[1]<h[0]&&h.reverse(),a=h[c]}else a=null!=s?Zh(u,s)-l:e?r.coordSysExtent[o.index][c]-l:n[o.wh];i.boundingLength=a,e&&(i.repeatCutLength=n[o.wh]),i.pxSign=a>0?1:a<0?-1:0})(n,a,i,r,h),function(t,e,n,r,i,a,o,s,u,l){var c=u.valueDim,h=u.categoryDim,f=Math.abs(n[h.wh]),d=t.getItemVisual(e,"symbolSize");y(d)?d=d.slice():(null==d&&(d="100%"),d=[d,d]),d[h.index]=Zr(d[h.index],f),d[c.index]=Zr(d[c.index],r?f:Math.abs(a)),l.symbolSize=d,(l.symbolScale=[d[0]/s,d[1]/s])[c.index]*=(u.isHorizontal?-1:1)*o}(t,e,i,a,0,h.boundingLength,h.pxSign,l,r,h),function(t,e,n,r,i){var a=t.get(kC)||0;a&&(LC.attr({scale:e.slice(),rotation:n}),LC.updateTransform(),a/=LC.getLineScale(),a*=e[r.valueDim.index]),i.valueLineWidth=a}(n,h.symbolScale,u,r,h);var f=h.symbolSize,d=n.get("symbolOffset");return y(d)&&(d=[Zr(d[0],f[0]),Zr(d[1],f[1])]),$h(n,f,i,a,0,d,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function Zh(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function $h(t,e,n,r,i,o,s,u,l,c,h,f){var d=h.categoryDim,p=h.valueDim,g=f.pxSign,v=Math.max(e[p.index]+u,0),m=v;if(r){var y=Math.abs(l),x=C(t.get("symbolMargin"),"15%")+"",b=!1;x.lastIndexOf("!")===x.length-1&&(b=!0,x=x.slice(0,x.length-1)),x=Zr(x,e[p.index]);var _=Math.max(v+2*x,0),w=b?0:2*x,S=li(r),M=S?r:df((y+w)/_);_=v+2*(x=(y-M*v)/2/(b?M:M-1)),w=b?0:2*x,S||"fixed"===r||(M=c?df((Math.abs(c)+w)/_):0),m=M*_-w,f.repeatTimes=M,f.symbolMargin=x}var O=g*(m/2),A=f.pathPosition=[];A[d.index]=n[d.wh]/2,A[p.index]="start"===s?O:"end"===s?l-O:l/2,o&&(A[0]+=o[0],A[1]+=o[1]);var I=f.bundlePosition=[];I[d.index]=n[d.xy],I[p.index]=n[p.xy];var T=f.barRectShape=a({},n);T[p.wh]=g*Math.max(Math.abs(n[p.wh]),Math.abs(A[p.index]+O)),T[d.wh]=n[d.wh];var E=f.clipShape={};E[d.xy]=-n[d.xy],E[d.wh]=h.ecSize[d.wh],E[p.xy]=0,E[p.wh]=n[p.wh]}function Qh(t){var e=t.symbolPatternSize,n=vs(t.symbolType,-e/2,-e/2,e,e,t.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Jh(t,e,n,r){function i(t){var e=o.slice(),r=n.pxSign,i=t;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=u-1-t),e[s.index]=c*(i-u/2+.5)+o[s.index],{position:e,scale:n.symbolScale.slice(),rotation:n.rotation}}var a=t.__pictorialBundle,o=n.pathPosition,s=e.valueDim,u=n.repeatTimes||0,l=0,c=n.symbolSize[e.valueDim.index]+n.valueLineWidth+2*n.symbolMargin;for(cf(t,function(t){t.__pictorialAnimationIndex=l,t.__pictorialRepeatTimes=u,l<u?hf(t,null,i(l),n,r):hf(t,null,{scale:[0,0]},n,r,function(){a.remove(t)}),of(t,n),l++});l<u;l++){var h=Qh(n);h.__pictorialAnimationIndex=l,h.__pictorialRepeatTimes=u,a.add(h);var f=i(l);hf(h,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},n,r),h.on("mouseover",function(){cf(t,function(t){t.trigger("emphasis")})}).on("mouseout",function(){cf(t,function(t){t.trigger("normal")})}),of(h,n)}}function Kh(t,e,n,r){var i=t.__pictorialBundle,a=t.__pictorialMainPath;a?hf(a,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,r):(a=t.__pictorialMainPath=Qh(n),i.add(a),hf(a,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,r),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),of(a,n)}function tf(t,e,n){var r=a({},e.barRectShape),i=t.__pictorialBarRect;i?hf(i,null,{shape:r},e,n):(i=t.__pictorialBarRect=new Ky({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(i))}function ef(t,e,n,r){if(n.symbolClip){var i=t.__pictorialClipPath,o=a({},n.clipShape),s=e.valueDim,u=n.animationModel,l=n.dataIndex;if(i)Rr(i,{shape:o},u,l);else{o[s.wh]=0,i=new Ky({shape:o}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var c={};c[s.wh]=n.clipShape[s.wh],yx[r?"updateProps":"initProps"](i,{shape:c},u,l)}}}function nf(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=rf,n.isAnimationEnabled=af,n}function rf(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function af(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function of(t,e){t.off("emphasis").off("normal");var n=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function sf(t,e,n,r){var i=new Lv,a=new Lv;return i.add(a),i.__pictorialBundle=a,a.attr("position",n.bundlePosition.slice()),n.symbolRepeat?Jh(i,e,n):Kh(i,0,n),tf(i,n,r),ef(i,e,n,r),i.__pictorialShapeStr=lf(t,n),i.__pictorialSymbolMeta=n,i}function uf(t,e,n,r){var i=r.__pictorialBarRect;i&&(i.style.text=null);var a=[];cf(r,function(t){a.push(t)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),f(a,function(t){Rr(t,{scale:[0,0]},n,e,function(){r.parent&&r.parent.remove(r)})}),t.setItemGraphicEl(e,null)}function lf(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function cf(t,e,n){f(t.__pictorialBundle.children(),function(r){r!==t.__pictorialBarRect&&e.call(n,r)})}function hf(t,e,n,r,i,a){e&&t.attr(e),r.symbolClip&&!i?n&&t.attr(n):n&&yx[i?"updateProps":"initProps"](t,n,r.animationModel,r.dataIndex,a)}function ff(t,e,n){var r=n.color,i=n.dataIndex,a=n.itemModel,s=a.getModel("itemStyle").getItemStyle(["color"]),u=a.getModel("emphasis.itemStyle").getItemStyle(),l=a.getShallow("cursor");cf(t,function(t){t.setColor(r),t.setStyle(o({fill:r,opacity:n.opacity},s)),Or(t,u),l&&(t.cursor=l),t.z2=n.z2});var c={},h=t.__pictorialBarRect;bu(h.style,c,a,r,e.seriesModel,i),Or(h,c)}function df(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function pf(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(t,e,n),this.model=t}function gf(t,e){e=e||{};var n=t.axis,r={},i=n.position,a=n.orient,o=t.coordinateSystem.getRect(),s=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};r.position=["vertical"===a?u.vertical[i]:s[0],"horizontal"===a?u.horizontal[i]:s[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[i],t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),C(e.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var l=e.rotate;return null==l&&(l=t.get("axisLabel.rotate")),r.labelRotation="top"===i?-l:l,r.z2=1,r}function vf(t,e,n,r,i){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var s=function(t,e){var n=e.axis,r=n.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return VC(e.seriesModels,function(e,u){var l,c,h=e.getData().mapDimension(r,!0);if(e.getAxisTooltipData){var f=e.getAxisTooltipData(h,t,n);c=f.dataIndices,l=f.nestestValue}else{if(!(c=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null)).length)return;l=e.getData().get(h[0],c[0])}if(null!=l&&isFinite(l)){var d=t-l,p=Math.abs(d);p<=o&&((p<o||d>=0&&s<0)&&(o=p,s=d,i=l,a.length=0),VC(c,function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:a,snapToValue:i}}(e,t),u=s.payloadBatch,l=s.snapToValue;u[0]&&null==i.seriesIndex&&a(i,u[0]),!r&&t.snap&&o.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,u,i),n.showTooltip(t,s,l)}else n.showPointer(t,e)}function mf(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function yf(t,e,n,r){var i=n.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&i.length){var u=e.coordSys.model,l=vu(u),c=t.map[l];c||(c=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:i.slice()})}}function xf(t,e,n){var r=n.getZr(),i=HC(r).axisPointerLastHighlights||{},a=HC(r).axisPointerLastHighlights={};VC(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&VC(n.seriesDataIndices,function(t){a[t.seriesIndex+" | "+t.dataIndex]=t})});var o=[],s=[];f(i,function(t,e){!a[e]&&s.push(t)}),f(a,function(t,e){!i[e]&&o.push(t)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),o.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:o})}function bf(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function _f(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function wf(t,e,n){if(!Pg.node){var r=e.getZr();WC(r).records||(WC(r).records={}),function(t,e){function n(n,r){t.on(n,function(n){var i=function(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}(e);qC(WC(t).records,function(t){t&&r(t,n,i.dispatchAction)}),function(t,e){var n,r=t.showTip.length,i=t.hideTip.length;r?n=t.showTip[r-1]:i&&(n=t.hideTip[i-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}(i.pendings,e)})}WC(t).initialized||(WC(t).initialized=!0,n("click",m(Mf,"click")),n("mousemove",m(Mf,"mousemove")),n("globalout",Sf))}(r,e),(WC(r).records[t]||(WC(r).records[t]={})).handler=n}}function Sf(t,e,n){t.handler("leave",null,n)}function Mf(t,e,n,r){e.handler(t,n,r)}function Of(t,e){if(!Pg.node){var n=e.getZr();(WC(n).records||{})[t]&&(WC(n).records[t]=null)}}function Cf(){}function Af(t,e,n,r){(function t(e,n){if(_(e)&&_(n)){var r=!0;return f(n,function(n,i){r=r&&t(e[i],n)}),!!r}return e===n})(YC(n).lastProp,r)||(YC(n).lastProp=r,e?Rr(n,r,t):(n.stopAnimation(),n.attr(r)))}function If(t,e){t[e.get("label.show")?"show":"hide"]()}function Tf(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Ef(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=i&&(t.zlevel=i),t.silent=n)})}function jf(t){var e,n=t.get("type"),r=t.getModel(n+"Style");return"line"===n?(e=r.getLineStyle()).fill=null:"shadow"===n&&((e=r.getAreaStyle()).stroke=null),e}function Pf(t,e,n,r,i){var a=kf(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),o=n.getModel("label"),s=jx(o.get("padding")||0),u=o.getFont(),l=xe(a,u),c=i.position,h=l.width+s[1]+s[3],f=l.height+s[0]+s[2],d=i.align;"right"===d&&(c[0]-=h),"center"===d&&(c[0]-=h/2);var p=i.verticalAlign;"bottom"===p&&(c[1]-=f),"middle"===p&&(c[1]-=f/2),function(t,e,n,r){var i=r.getWidth(),a=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,a)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(c,h,f,r);var g=o.get("backgroundColor");g&&"auto"!==g||(g=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:h,height:f,r:o.get("borderRadius")},position:c.slice(),style:{text:a,textFont:u,textFill:o.getTextColor(),textPosition:"inside",fill:g,stroke:o.get("borderColor")||"transparent",lineWidth:o.get("borderWidth")||0,shadowBlur:o.get("shadowBlur"),shadowColor:o.get("shadowColor"),shadowOffsetX:o.get("shadowOffsetX"),shadowOffsetY:o.get("shadowOffsetY")},z2:10}}function kf(t,e,n,r,i){t=e.scale.parse(t);var a=e.scale.getLabel(t,{precision:i.precision}),o=i.formatter;if(o){var s={value:hs(e,t),seriesData:[]};f(r,function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=e&&e.getDataParams(t.dataIndexInside);r&&s.seriesData.push(r)}),b(o)?a=o.replace("{value}",a):x(o)&&(a=o(s))}return a}function Df(t,e,n){var r=gt();return bt(r,r,n.rotation),xt(r,r,n.position),Br([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function Lf(t,e,n,r,i,a){var o=mS.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),Pf(e,r,i,a,{position:Df(r.axis,t,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Rf(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function Nf(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function zf(t,e,n,r,i,a){return{cx:t,cy:e,r0:n,r:r,startAngle:i,endAngle:a,clockwise:!0}}function Bf(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function Ff(t){return"x"===t.dim?0:1}function Vf(t){return t.isHorizontal()?0:1}function Gf(t,e){var n=t.getRect();return[n[JC[e]],n[JC[e]]+n[KC[e]]]}function Hf(t,e,n){if(t.count())for(var r,i=e.coordinateSystem,a=e.getLayerSeries(),o=t.mapDimension("single"),s=t.mapDimension("value"),u=d(a,function(e){return d(e.indices,function(e){var n=i.dataToPoint(t.get(o,e));return n[1]=t.get(s,e),n})}),l=function(t){for(var e=t.length,n=t[0].length,r=[],i=[],a=0,o={},s=0;s<n;++s){for(var u=0,l=0;u<e;++u)l+=t[u][s][1];l>a&&(a=l),r.push(l)}for(var c=0;c<n;++c)i[c]=(a-r[c])/2;a=0;for(var h=0;h<n;++h){var f=r[h]+i[h];f>a&&(a=f)}return o.y0=i,o.max=a,o}(u),c=l.y0,h=n/l.max,f=a.length,p=a[0].indices.length,g=0;g<p;++g){t.setItemLayout(a[0].indices[g],{layerIndex:0,x:u[0][g][0],y0:r=c[g]*h,y:u[0][g][1]*h});for(var v=1;v<f;++v)t.setItemLayout(a[v].indices[g],{layerIndex:v,x:u[v][g][0],y0:r+=u[v-1][g][1]*h,y:u[v][g][1]*h})}}function Wf(t,e,n){function r(){o.ignore=o.hoverIgnore}function i(){o.ignore=o.normalIgnore}Lv.call(this);var a=new qy({z2:rA});a.seriesIndex=e.seriesIndex;var o=new Vy({z2:iA,silent:t.getModel("label").get("silent")});this.add(a),this.add(o),this.updateData(!0,t,"normal",e,n),this.on("emphasis",r).on("normal",i).on("mouseover",r).on("mouseout",i)}function qf(t,e,n){var r=t.getVisual("color"),i=t.getVisual("visualMeta");i&&0!==i.length||(r=null);var a=t.getModel("itemStyle").get("color");if(a)return a;if(r)return r;if(0===t.depth)return n.option.color[0];var o=n.option.color.length;return n.option.color[function(t){for(var e=t;e.depth>1;)e=e.parentNode;return u(t.getAncestors()[0].children,e)}(t)%o]}function Uf(t,e){return e=e||[0,0],d(["x","y"],function(n,r){var i=this.getAxis(n),a=e[r],o=t[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function Yf(t,e){return e=e||[0,0],d([0,1],function(n){var r=e[n],i=t[n]/2,a=[],o=[];return a[n]=r-i,o[n]=r+i,a[1-n]=o[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(o)[n])},this)}function Xf(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,i=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function Zf(t,e){return d(["Radius","Angle"],function(n,r){var i=this["get"+n+"Axis"](),a=e[r],o=t[r]/2,s="dataTo"+n,u="category"===i.type?i.getBandWidth():Math.abs(i[s](a-o)-i[s](a+o));return"Angle"===n&&(u=u*Math.PI/180),u},this)}function $f(t,e,r,i,a,o,s){var u={},l=r.style||{};if(r.shape&&(u.shape=n(r.shape)),r.position&&(u.position=r.position.slice()),r.scale&&(u.scale=r.scale.slice()),r.origin&&(u.origin=r.origin.slice()),r.rotation&&(u.rotation=r.rotation),"image"===t.type&&r.style&&(c=u.style={},f(["x","y","width","height"],function(e){Qf(e,c,l,t.style,o)})),"text"===t.type&&r.style){var c=u.style={};f(["x","y"],function(e){Qf(e,c,l,t.style,o)}),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke)}if("group"!==t.type&&(t.useStyle(l),o)){t.style.opacity=0;var h=l.opacity;null==h&&(h=1),Nr(t,{style:{opacity:h}},i,e)}o?t.attr(u):Rr(t,u,i,e),r.hasOwnProperty("z2")&&t.attr("z2",r.z2||0),r.hasOwnProperty("silent")&&t.attr("silent",r.silent),r.hasOwnProperty("invisible")&&t.attr("invisible",r.invisible),r.hasOwnProperty("ignore")&&t.attr("ignore",r.ignore),r.hasOwnProperty("info")&&t.attr("info",r.info);var d=r.styleEmphasis,p=!1===d;t.__cusHasEmphStl&&null==d||!t.__cusHasEmphStl&&p||(xr(t,d),t.__cusHasEmphStl=!p),s&&Cr(t,!p)}function Qf(t,e,n,r,i){null==n[t]||i||(e[t]=n[t],n[t]=r[t])}function Jf(t,e,n,r){function i(t){null==t&&(t=c),m&&(h=e.getItemModel(t),f=h.getModel(hA),d=h.getModel(fA),p=e.getItemVisual(t,"color"),m=!1)}var s=t.get("renderItem"),u=t.coordinateSystem,l={};u&&(l=u.prepareCustoms?u.prepareCustoms():pA[u.type](u));var c,h,f,d,p,g=o({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(t,n){return null==n&&(n=c),e.get(e.getDimension(t||0),n)},style:function(n,r){null==r&&(r=c),i(r);var o=h.getModel(lA).getItemStyle();null!=p&&(o.fill=p);var s=e.getItemVisual(r,"opacity");return null!=s&&(o.opacity=s),Ir(o,f,null,{autoColor:p,isRectText:!0}),o.text=f.getShallow("show")?A(t.getFormattedLabel(r,"normal"),Is(e,r)):null,n&&a(o,n),o},styleEmphasis:function(n,r){null==r&&(r=c),i(r);var o=h.getModel(cA).getItemStyle();return Ir(o,d,null,{isRectText:!0},!0),o.text=d.getShallow("show")?I(t.getFormattedLabel(r,"emphasis"),t.getFormattedLabel(r,"normal"),Is(e,r)):null,n&&a(o,n),o},visual:function(t,n){return null==n&&(n=c),e.getItemVisual(n,t)},barLayout:function(t){if(u.getBaseAxis)return function(t){var e=[],n=t.axis;if("category"===n.type){for(var r=n.getBandWidth(),i=0;i<t.count;i++)e.push(o({bandWidth:r,axisKey:"axis0",stackId:ow+i},t));var a=ts(e),s=[];for(i=0;i<t.count;i++){var u=a.axis0[ow+i];u.offsetCenter=u.offset+u.width/2,s.push(u)}return s}}(o({axis:u.getBaseAxis()},t))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return Dr(t,n)}},l.api||{}),v={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:l.coordSys,dataInsideLength:e.count(),encode:Kf(t.getData())},m=!0;return function(t,n){return c=t,m=!0,s&&s(o({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},v),g)}}function Kf(t){var e={};return f(t.dimensions,function(n,r){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var a=i.coordDim;(e[a]=e[a]||[])[i.coordDimIndex]=r}}),e}function td(t,e,n,r,i,a){return(t=ed(t,e,n,r,i,a,!0))&&a.setItemGraphicEl(e,t),t}function ed(t,e,n,r,i,a,o){var s=!n,u=(n=n||{}).type,l=n.shape,c=n.style;if(t&&(s||null!=u&&u!==t.__customGraphicType||"path"===u&&function(t){return t&&(t.hasOwnProperty("pathData")||t.hasOwnProperty("d"))}(l)&&ad(l)!==t.__customPathData||"image"===u&&od(c,"image")&&c.image!==t.__customImagePath||"text"===u&&od(l,"text")&&c.text!==t.__customText)&&(i.remove(t),t=null),!s){var h=!t;return!t&&(t=function(t){var e,n=t.type;if("path"===n){var r=t.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=ad(r);(e=sr(a,null,i,r.layout||"center")).__customPathData=a}else"image"===n?(e=new $e({})).__customImagePath=t.style.image:"text"===n?(e=new Vy({})).__customText=t.style.text:e=new(0,yx[n.charAt(0).toUpperCase()+n.slice(1)]);return e.__customGraphicType=n,e.name=t.name,e}(n)),$f(t,e,n,r,0,h,o),"group"===u&&function(t,e,n,r,i){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,u="byName"===s||n.diffChildrenByName,l=!1===s;if(o||u||l)if(u)!function(t){new wo(t.oldChildren,t.newChildren,nd,nd,t).add(rd).update(rd).remove(id).execute()}({oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,animatableModel:r,group:t,data:i});else{l&&t.removeAll();for(var c=0;c<o;c++)a[c]&&ed(t.childAt(c),e,a[c],r,t,i)}}(t,e,n,r,a),i.add(t),t}}function nd(t,e){var n=t&&t.name;return null!=n?n:dA+e}function rd(t,e){var n=this.context;ed(null!=e?n.oldChildren[e]:null,n.dataIndex,null!=t?n.newChildren[t]:null,n.animatableModel,n.group,n.data)}function id(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}function ad(t){return t&&(t.pathData||t.d)}function od(t,e){return t&&t.hasOwnProperty(e)}function sd(t,e,n,r){var i=n.type,a=new(0,yx[i.charAt(0).toUpperCase()+i.slice(1)])(n);e.add(a),r.set(t,a),a.__ecGraphicId=t}function ud(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){ud(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function ld(t){return t=a({},t),f(["id","parentId","$action","hv","bounding"].concat(Bx),function(e){delete t[e]}),t}function cd(t,e){var n;return f(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}function hd(t,e,n){var i=a({},n),o=t[e],s=n.$action||"merge";"merge"===s?o?(r(o,i,!0),wi(o,i,{ignoreSize:!0}),Mi(n,o)):t[e]=i:"replace"===s?t[e]=i:"remove"===s&&o&&(t[e]=null)}function fd(t,e,n){var r,i={},a="toggleSelected"===t;return n.eachComponent("legend",function(n){a&&null!=r?n[r?"select":"unSelect"](e.name):(n[t](e.name),r=n.isSelected(e.name)),f(n.getData(),function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);i[e]=i.hasOwnProperty(e)?i[e]&&r:r}})}),{name:e.name,selected:i}}function dd(t,e){var n=jx(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),new Ky({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1})}function pd(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function gd(t,e,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function vd(t,e,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}function md(t,e,n){var r=[1,1];r[t.getOrient().index]=0,wi(e,n,{type:"box",ignoreSize:r})}function yd(t,e){if(Pg.wxa)return null;var n=document.createElement("div"),r=this._zr=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1;var i=this;n.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0),i._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!i._enterable){var n=r.handler;st(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay),i._inContent=!1}}function xd(t){this._zr=t.getZr(),this._show=!1}function bd(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(Wr.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new Wr(n,e,e.ecModel))}return e}function _d(t,e){return t.dispatchAction||v(e.dispatchAction,e)}function wd(t){return"center"===t||"middle"===t}function Sd(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Md(t){return t.dim}function Od(t,e){Rw.call(this,"radius",t,e),this.type="category"}function Cd(t,e){Rw.call(this,"angle",t,e=e||[0,360]),this.type="category"}function Ad(t,e){return e.type||(e.data?"category":"value")}function Id(t,e){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();f(e.mapDimension("radius",!0),function(t){i.scale.unionExtentFromData(e,Vo(e,t))}),f(e.mapDimension("angle",!0),function(t){r.scale.unionExtentFromData(e,Vo(e,t))})}}),us(r.scale,r.model),us(i.scale,i.model),"category"===r.type&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function Td(t,e){if(t.type=e.get("type"),t.scale=ls(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}function Ed(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function jd(t){return t.getRadiusAxis().inverse?0:1}function Pd(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}function kd(t,e){e.update="updateView",co(e,function(e,n){var r={};return n.eachComponent({mainType:"geo",query:e},function(n){n[t](e.name),f(n.coordinateSystem.regions,function(t){r[t.name]=n.isSelected(t.name)||!1})}),{selected:r,name:e.name}})}function Dd(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function Ld(t,e,r){var i={};return GA(e,function(e){var a=i[e]=function(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}();GA(t[e],function(t,i){if(DM.isValidType(i)){var o={type:i,visual:t};r&&r(o,e),a[i]=new DM(o),"opacity"===i&&((o=n(o)).type="colorAlpha",a.__hidden.__alphaForOpacity=new DM(o))}})}),i}function Rd(t,e,r){var i;f(r,function(t){e.hasOwnProperty(t)&&Dd(e[t])&&(i=!0)}),i&&f(r,function(r){e.hasOwnProperty(r)&&Dd(e[r])?t[r]=n(e[r]):delete t[r]})}function Nd(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,r){if(e)return zd(e[t],r.range)},rect:function(r,i,a){if(r){var o=a.range,s=[r[e[t]],r[e[t]]+r[n[t]]];return s[1]<s[0]&&s.reverse(),zd(s[0],o)||zd(s[1],o)||zd(o[0],s)||zd(o[1],s)}}}}function zd(t,e){return e[0]<=t&&t<=e[1]}function Bd(t,e,n,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(Fd(t,e,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function Fd(t,e,n,r,i,a,o,s){var u=Vd(n-t,i-o,r-e,a-s);if(u<=1e-6&&u>=-1e-6)return!1;var l=Vd(i-t,i-o,a-e,a-s)/u;if(l<0||l>1)return!1;var c=Vd(n-t,i-t,r-e,a-e)/u;return!(c<0||c>1)}function Vd(t,e,n,r){return t*r-e*n}function Gd(t,e,n){var r=this._targetInfoList=[],i={},a=Wd(e,t);WA($A,function(t,e){(!n||!n.include||qA(n.include,e)>=0)&&t(a,r,i)})}function Hd(t){return t[0]>t[1]&&t.reverse(),t}function Wd(t,e){return pn(t,e,{includeMainTypes:XA})}function qd(t,e,n,r){var i=n.getAxis(["x","y"][t]),a=Hd(d([0,1],function(t){return e?i.coordToData(i.toLocalCoord(r[t])):i.toGlobalCoord(i.dataToCoord(r[t]))})),o=[];return o[t]=a,o[1-t]=[NaN,NaN],{values:a,xyMinMax:o}}function Ud(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function Yd(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function Xd(t,e){if(!t.isDisposed()){var n=t.getZr();n[rI]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[rI]=!1}}function Zd(t,e,n,r){for(var i=0,a=e.length;i<a;i++){var o=e[i];if(t[o.brushType](r,n,o.selectors,o))return!0}}function $d(t){var e=t.brushSelector;if(b(e)){var n=[];return f(HA,function(t,r){n[r]=function(n,r,i,a){var o=r.getItemLayout(n);return t[e](o,i,a)}}),n}if(x(e)){var r={};return f(HA,function(t,n){r[n]=e}),r}return e}function Qd(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(y(n)?u(n,e)<0:e!==n)}function Jd(t){return new ie(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function Kd(t,e){return r({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Wr(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function tp(t,e,n,r){(!r||r.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function ep(t,e){sI[t]=e}function np(t){return sI[t]}function rp(t,e,n){this.model=t,this.ecModel=e,this.api=n}function ip(t,e,n){this._model=t}function ap(t,e,n,r){var i=n.calendarModel,a=n.seriesModel,o=i?i.coordinateSystem:a?a.coordinateSystem:null;return o===this?o[t](r):null}function op(t,e){var n=t.cellSize;y(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var r=d([0,1],function(t){return function(t,e){return null!=t[Fx[e][0]]||null!=t[Fx[e][1]]&&null!=t[Fx[e][2]]}(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]});wi(t,e,{type:"box",ignoreSize:r})}function sp(t,e){var n=t.getAxisModel(),r=t._percentWindow,i=t._valueWindow;if(r){var a=ti(i,[0,500]);a=Math.min(a,20);var o=e||0===r[0]&&100===r[1];n.setRange(o?null:+i[0].toFixed(a),o?null:+i[1].toFixed(a))}}function up(t){var e={};return mI(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function lp(t,e){var n=t._rangePropMode,r=t.get("rangeMode");mI([["start","startValue"],["end","endValue"]],function(t,i){var a=null!=e[t[0]],o=null!=e[t[1]];a&&!o?n[i]="percent":!a&&o?n[i]="value":r?n[i]=r[i]:a&&(n[i]="percent")})}function cp(t){return"vertical"===t?"ns-resize":"ew-resize"}function hp(t){return t.type+"\0_"+t.id}function fp(t){var e=t.getZr();return e[EI]||(e[EI]={})}function dp(t){f(t,function(e,n){e.count||(e.controller.dispose(),delete t[n])})}function pp(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function gp(t){return function(e,n,r,i){var a=this._range,o=a.slice(),s=e.axisModels[0];if(s){var u=t(o,s,e,n,r,i);return wO(u,o,[0,100],"all"),this._range=o,a[0]!==o[0]||a[1]!==o[1]?o:void 0}}}function vp(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}function mp(t,e,n,r){for(var i=e.targetVisuals[r],a=DM.prepareVisualTypes(i),o={color:t.getData().getVisual("color")},s=0,u=a.length;s<u;s++){var l=a[s],c=i["opacity"===l?"__alphaForOpacity":l];c&&c.applyVisual(n,function(t){return o[t]},function(t,e){o[t]=e})}return o.color}function yp(t,e,n){if(n[0]===n[1])return n.slice();for(var r=(n[1]-n[0])/200,i=n[0],a=[],o=0;o<=200&&i<n[1];o++)a.push(i),i+=r;return a.push(n[1]),a}function xp(t,e,n){var r=t.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var a={width:e.getWidth(),height:e.getHeight()},o="horizontal"===r.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],u=s[o],l=[0,null,10],c={},h=0;h<3;h++)c[s[1-o][h]]=l[h],c[u[h]]=2===h?n[0]:r[u[h]];var f=[["x","width",3],["y","height",0]][o],d=bi(c,a,r.padding);return u[(d.margin[f[2]]||0)+d[f[0]]+.5*d[f[1]]<.5*a[f[1]]?0:1]}function bp(t){return f(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}function _p(t,e,n,r){return new Zy({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){ev(t.event)},ondragend:r})}function wp(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function Sp(t){return"vertical"===t?"ns-resize":"ew-resize"}function Mp(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}function Op(t){on(t,"label",["show"])}function Cp(t,e,n,r,i,a){var o=[],s=Fo(e,r)?e.getCalculationInfo("stackResultDimension"):r,u=jp(e,s,t),l=e.indicesOfNearest(s,u)[0];o[i]=e.get(n,l),o[a]=e.get(r,l);var c=Jr(e.get(r,l));return(c=Math.min(c,20))>=0&&(o[a]=+o[a].toFixed(c)),o}function Ap(t,e){var r=t.getData(),i=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!y(e.coord)&&i){var a=i.dimensions,o=Ip(e,r,i,t);if((e=n(e)).type&&uT[e.type]&&o.baseAxis&&o.valueAxis){var s=oT(a,o.baseAxis.dim),u=oT(a,o.valueAxis.dim);e.coord=uT[e.type](r,o.baseDataDim,o.valueDataDim,s,u),e.value=e.coord[u]}else{for(var l=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],c=0;c<2;c++)uT[l[c]]&&(l[c]=jp(r,r.mapDimension(a[c]),l[c]));e.coord=l}}return e}function Ip(t,e,n,r){var i={};return null!=t.valueIndex||null!=t.valueDim?(i.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,i.valueAxis=n.getAxis(function(t,e){var n=t.getData(),r=n.dimensions;e=n.getDimension(e);for(var i=0;i<r.length;i++){var a=n.getDimensionInfo(r[i]);if(a.name===e)return a.coordDim}}(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function Tp(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)}function Ep(t,e,n,r){return r<2?t.coord&&t.coord[r]:t.value}function jp(t,e,n){if("average"===n){var r=0,i=0;return t.each(e,function(t,e){isNaN(t)||(r+=t,i++)}),r/i}return"median"===n?t.getMedian(e):t.getDataExtent(e,!0)["max"===n?1:0]}function Pp(t,e,n){var r=e.coordinateSystem;t.each(function(i){var a,o=t.getItemModel(i),s=Zr(o.get("x"),n.getWidth()),u=Zr(o.get("y"),n.getHeight());if(isNaN(s)||isNaN(u)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,i));else if(r){var l=t.get(r.dimensions[0],i),c=t.get(r.dimensions[1],i);a=r.dataToPoint([l,c])}}else a=[s,u];isNaN(s)||(a[0]=s),isNaN(u)||(a[1]=u),t.setItemLayout(i,a)})}function kp(t,e,n){var r;r=t?d(t&&t.dimensions,function(t){return o({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var i=new $_(r,n),a=d(n.get("data"),m(Ap,e));return t&&(a=g(a,m(Tp,t))),i.initData(a,null,t?Ep:function(t){return t.value}),i}function Dp(t){return!isNaN(t)&&!isFinite(t)}function Lp(t,e,n,r){var i=1-t,a=r.dimensions[t];return Dp(e[i])&&Dp(n[i])&&e[t]===n[t]&&r.getAxis(a).containData(e[t])}function Rp(t,e){if("cartesian2d"===t.type){var n=e[0].coord,r=e[1].coord;if(n&&r&&(Lp(1,n,r,t)||Lp(0,n,r,t)))return!0}return Tp(t,e[0])&&Tp(t,e[1])}function Np(t,e,n,r,i){var a,o=r.coordinateSystem,s=t.getItemModel(e),u=Zr(s.get("x"),i.getWidth()),l=Zr(s.get("y"),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)a=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=t.get((f=o.dimensions)[0],e),h=t.get(f[1],e);a=o.dataToPoint([c,h])}if("cartesian2d"===o.type){var f,d=o.getAxis("x"),p=o.getAxis("y");Dp(t.get((f=o.dimensions)[0],e))?a[0]=d.toGlobalCoord(d.getExtent()[n?0:1]):Dp(t.get(f[1],e))&&(a[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(u)||(a[0]=u),isNaN(l)||(a[1]=l)}else a=[u,l];t.setItemLayout(e,a)}function zp(t,e,n){var r;r=t?d(t&&t.dimensions,function(t){return o({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var i=new $_(r,n),a=new $_(r,n),s=new $_([],n),u=d(n.get("data"),m(cT,e,t,n));t&&(u=g(u,m(Rp,t)));var l=t?Ep:function(t){return t.value};return i.initData(d(u,function(t){return t[0]}),null,l),a.initData(d(u,function(t){return t[1]}),null,l),s.initData(d(u,function(t){return t[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function Bp(t){return!isNaN(t)&&!isFinite(t)}function Fp(t,e,n,r){var i=1-t;return Bp(e[i])&&Bp(n[i])}function Vp(t,e){var n=e.coord[0],r=e.coord[1];return!("cartesian2d"!==t.type||!n||!r||!Fp(1,n,r)&&!Fp(0,n,r))||Tp(t,{coord:n,x:e.x0,y:e.y0})||Tp(t,{coord:r,x:e.x1,y:e.y1})}function Gp(t,e,n,r,i){var a,o=r.coordinateSystem,s=t.getItemModel(e),u=Zr(s.get(n[0]),i.getWidth()),l=Zr(s.get(n[1]),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)a=r.getMarkerPosition(t.getValues(n,e));else{var c=[d=t.get(n[0],e),p=t.get(n[1],e)];o.clampData&&o.clampData(c,c),a=o.dataToPoint(c,!0)}if("cartesian2d"===o.type){var h=o.getAxis("x"),f=o.getAxis("y"),d=t.get(n[0],e),p=t.get(n[1],e);Bp(d)?a[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):Bp(p)&&(a[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(a[0]=u),isNaN(l)||(a[1]=l)}else a=[u,l];return a}function Hp(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};f(r,function(t,e){a[e]||Wp(i,e)||(i[e]=t)}),n.label&&!Wp(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function Wp(t,e){return t.hasOwnProperty(e)}function qp(t,e,r,i){return sr(t.get(e).replace(/^path:\/\//,""),n(i||{}),new ie(r[0],r[1],r[2],r[3]),"center")}function Up(t,e,n,i,a,o){var s=e.get("color");a?(a.setColor(s),n.add(a),o&&o.onUpdate(a)):((a=vs(t.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),n.add(a),o&&o.onCreate(a));var u=e.getItemStyle(["color","symbol","symbolSize"]);a.setStyle(u),i=r({rectHover:!0,z2:100},i,!0);var l=t.get("symbolSize");(l=l instanceof Array?l.slice():[+l,+l])[0]/=2,l[1]/=2,i.scale=l;var c=t.get("symbolOffset");if(c){var h=i.position=i.position||[0,0];h[0]+=Zr(c[0],l[0]),h[1]+=Zr(c[1],l[1])}var f=t.get("symbolRotate");return i.rotation=(f||0)*Math.PI/180||0,a.attr(i),a.updateTransform(),a}function Yp(t,e,n,r,i){if(!t.dragging){var a=r.getModel("checkpointStyle"),o=n.dataToCoord(r.getData().get(["value"],e));i||!a.get("animation",!0)?t.attr({position:[o,0]}):(t.stopAnimation(!0),t.animateTo({position:[o,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}function Xp(t){this.model=t}function Zp(t){this.model=t}function $p(t){var e=function(t){var e={},n=[],r=[];return t.eachRawSeries(function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var a=i.getBaseAxis();if("category"===a.type){var o=a.dim+"_"+a.index;e[o]||(e[o]={categoryAxis:a,valueAxis:i.getOtherAxis(a),series:[]},r.push({axisDim:a.dim,axisIndex:a.index})),e[o].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:r}}(t);return{value:g([function(t){var e=[];return f(t,function(t,n){var r=t.categoryAxis,i=t.valueAxis.dim,a=[" "].concat(d(t.series,function(t){return t.name})),o=[r.model.getCategories()];f(t.series,function(t){o.push(t.getRawData().mapArray(i,function(t){return t}))});for(var s=[a.join(CT)],u=0;u<o[0].length;u++){for(var l=[],c=0;c<o.length;c++)l.push(o[c][u]);s.push(l.join(CT))}e.push(s.join("\n"))}),e.join("\n\n"+OT+"\n\n")}(e.seriesGroupByCategoryAxis),d(e.other,function(t){var e=t.getRawData(),n=[t.name],r=[];return e.each(e.dimensions,function(){for(var t=arguments.length,i=e.getName(arguments[t-1]),a=0;a<t-1;a++)r[a]=arguments[a];n.push((i?i+CT:"")+r.join(CT))}),n.join("\n")}).join("\n\n"+OT+"\n\n")],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+OT+"\n\n"),meta:e.meta}}function Qp(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Jp(t,e){var n={series:[]};return f(t.split(new RegExp("\n*"+OT+"\n*","g")),function(t,r){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(CT)>=0)return!0}(t)){var i=function(t){for(var e=t.split(/\n+/g),n=[],r=d(Qp(e.shift()).split(AT),function(t){return{name:t,data:[]}}),i=0;i<e.length;i++){var a=Qp(e[i]).split(AT);n.push(a.shift());for(var o=0;o<a.length;o++)r[o]&&(r[o].data[i]=a[o])}return{series:r,categories:n}}(t),a=e[r],o=a.axisDim+"Axis";a&&(n[o]=n[o]||[],n[o][a.axisIndex]={data:i.categories},n.series=n.series.concat(i.series))}else i=function(t){for(var e=t.split(/\n+/g),n=Qp(e.shift()),r=[],i=0;i<e.length;i++){var a,o=Qp(e[i]).split(AT),s="",u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},a=r[i].value):a=r[i]=[];for(var l=0;l<o.length;l++)a.push(+o[l]);1===a.length&&(u?r[i].value=a[0]:r[i]=a[0])}return{name:n,data:r}}(t),n.series.push(i)}),n}function Kp(t){this._dom=null,this.model=t}function tg(t){var e=t[TT];return e||(e=t[TT]=[{}]),e}function eg(t,e,n){(this._brushController=new Dc(n.getZr())).on("brush",v(this._onBrush,this)).mount()}function ng(t){var e={};return f(["xAxisIndex","yAxisIndex"],function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(!1===e[n]||"none"===e[n])&&(e[n]=[])}),e}function rg(t){this.model=t}function ig(t){return DT(t)}function ag(t){return parseInt(t,10)}function og(t,e){(function(){if(!NT&&zT){NT=!0;var t=zT.styleSheets;t.length<31?zT.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=t,this.storage=e;var n=document.createElement("div"),r=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",r.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=r,this._vmlViewport=n,this.resize();var i=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){i.call(e,t),t&&t.onRemove&&t.onRemove(r)},e.addToStorage=function(t){t.onAdd&&t.onAdd(r),a.call(e,t)},this._firstPaint=!0}function sg(t){return document.createElementNS(pE,t)}function ug(t){return yE(1e4*t)/1e4}function lg(t){return t<ME&&t>-ME}function cg(t,e){e&&hg(t,"transform","matrix("+vE.call(e,",")+")")}function hg(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function fg(t,e,n,r){if(function(t,e){var n=e?t.textFill:t.fill;return null!=n&&n!==mE}(e,n)){var i=n?e.textFill:e.fill;i="transparent"===i?mE:i,"none"!==t.getAttribute("clip-path")&&i===mE&&(i="rgba(0, 0, 0, 0.002)"),hg(t,"fill",i),hg(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else hg(t,"fill",mE);if(function(t,e){var n=e?t.textStroke:t.stroke;return null!=n&&n!==mE}(e,n)){var a=n?e.textStroke:e.stroke;hg(t,"stroke",a="transparent"===a?mE:a),hg(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?r.getLineScale():1)),hg(t,"paint-order",n?"stroke":"fill"),hg(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(hg(t,"stroke-dasharray",e.lineDash.join(",")),hg(t,"stroke-dashoffset",yE(e.lineDashOffset||0))):hg(t,"stroke-dasharray",""),e.lineCap&&hg(t,"stroke-linecap",e.lineCap),e.lineJoin&&hg(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&hg(t,"stroke-miterlimit",e.miterLimit)}else hg(t,"stroke",mE)}function dg(t){return"middle"===t?"middle":"bottom"===t?"after-edge":"hanging"}function pg(){}function gg(t,e,n,r){for(var i=0,a=e.length,o=0,s=0;i<a;i++){var u=e[i];if(u.removed){for(var l=[],c=s;c<s+u.count;c++)l.push(c);u.indices=l,s+=u.count}else{for(l=[],c=o;c<o+u.count;c++)l.push(c);u.indices=l,o+=u.count,u.added||(s+=u.count)}}return e}function vg(t){return{newPos:t.newPos,components:t.components.slice(0)}}function mg(t,e,n,r,i){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=r,this._domName=i||"_dom",this.nextId=0}function yg(t,e){mg.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function xg(t,e){mg.call(this,t,e,"clipPath","__clippath_in_use__")}function bg(t,e){mg.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function _g(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function wg(t){return parseInt(t,10)}function Sg(t){return t instanceof Qn?OE:t instanceof $e?CE:t instanceof Vy?AE:OE}function Mg(t,e){return e&&t&&e.parentNode!==t}function Og(t,e,n){if(Mg(t,e)&&n){var r=n.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}}function Cg(t,e){if(Mg(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function Ag(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function Ig(t){return t.__textSvgEl}function Tg(t){return t.__svgEl}var Eg=2311,jg=function(){return Eg++},Pg="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);return n&&(e.firefox=!0,e.version=n[1]),r&&(e.ie=!0,e.version=r[1]),i&&(e.edge=!0,e.version=i[1]),a&&(e.weChat=!0),{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent),kg={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Dg={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Lg=Object.prototype.toString,Rg=Array.prototype,Ng=Rg.forEach,zg=Rg.filter,Bg=Rg.slice,Fg=Rg.map,Vg=Rg.reduce,Gg={},Hg=function(){return Gg.createCanvas()};Gg.createCanvas=function(){return document.createElement("canvas")};var Wg,qg="__ec_primitive__";L.prototype={constructor:L,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=v(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}};var Ug=(Object.freeze||Object)({$override:e,clone:n,merge:r,mergeAll:i,extend:a,defaults:o,createCanvas:Hg,getContext:s,indexOf:u,inherits:l,mixin:c,isArrayLike:h,each:f,map:d,reduce:p,filter:g,find:function(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},bind:v,curry:m,isArray:y,isFunction:x,isString:b,isObject:_,isBuiltInObject:w,isTypedArray:S,isDom:M,eqNaN:O,retrieve:C,retrieve2:A,retrieve3:I,slice:T,normalizeCssArray:E,assert:j,trim:P,setAsPrimitive:k,isPrimitive:D,createHashMap:R,concatArray:N,noop:z}),Yg="undefined"==typeof Float32Array?Array:Float32Array,Xg=$,Zg=Q,$g=(Object.freeze||Object)({create:B,copy:F,clone:V,set:G,add:H,scaleAndAdd:W,sub:q,len:U,length:U,lenSquare:Y,lengthSquare:Y,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:X,normalize:Z,distance:$,dist:Xg,distanceSquare:Q,distSquare:Zg,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:J,applyTransform:K,min:tt,max:et});nt.prototype={constructor:nt,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(rt(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,a=r-this._y;this._x=n,this._y=r,e.drift(i,a,t),this.dispatchToElement(rt(e,t),"drag",t.event);var o=this.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=o,e!==o&&(s&&o!==s&&this.dispatchToElement(rt(s,t),"dragleave",t.event),o&&o!==s&&this.dispatchToElement(rt(o,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(rt(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(rt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Qg=Array.prototype.slice,Jg=function(t){this._$handlers={},this._$eventProcessor=t};Jg.prototype={constructor:Jg,one:function(t,e,n,r){return it(this,t,e,n,r,!0)},on:function(t,e,n,r){return it(this,t,e,n,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,a=n[t].length;i<a;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,i=r.length;i>3&&(r=Qg.call(r,1));for(var a=e.length,o=0;o<a;){var s=e[o];if(n&&n.filter&&null!=s.query&&!n.filter(t,s.query))o++;else{switch(i){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,r[1]);break;case 3:s.h.call(s.ctx,r[1],r[2]);break;default:s.h.apply(s.ctx,r)}s.one?(e.splice(o,1),a--):o++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,i=r.length;i>4&&(r=Qg.call(r,1,r.length-1));for(var a=r[r.length-1],o=e.length,s=0;s<o;){var u=e[s];if(n&&n.filter&&null!=u.query&&!n.filter(t,u.query))s++;else{switch(i){case 1:u.h.call(a);break;case 2:u.h.call(a,r[1]);break;case 3:u.h.call(a,r[1],r[2]);break;default:u.h.apply(a,r)}u.one?(e.splice(s,1),o--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var Kg="undefined"!=typeof window&&!!window.addEventListener,tv=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ev=Kg?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},nv=function(){this._track=[]};nv.prototype={constructor:nv,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},a=0,o=r.length;a<o;a++){var s=r[a],u=at(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in rv)if(rv.hasOwnProperty(e)){var n=rv[e](this._track,t);if(n)return n}}};var rv={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=ht(r)/ht(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}},iv="silent";dt.prototype.dispose=function(){};var av=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ov=function(t,e,n,r){Jg.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new dt,this.proxy=null,this._hovered={},nt.call(this),this.setHandlerProxy(n)};ov.prototype={constructor:ov,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(f(av,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(i=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=this.findHover(e,n),o=a.target,s=this.proxy;s.setCursor&&s.setCursor(o?o.cursor:"default"),i&&o!==i&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),o&&o!==i&&this.dispatchToElement(a,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!==n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,a=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:ft}}(e,t,n);r&&(r[i]&&(a.cancelBubble=r[i].call(r,a)),r.trigger(e,a),r=r.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),i={x:t,y:e},a=r.length-1;a>=0;a--){var o;if(r[a]!==n&&!r[a].ignore&&(o=pt(r[a],t,e))&&(!i.topTarget&&(i.topTarget=r[a]),o!==iv)){i.target=r[a];break}}return i},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new nv);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i,this.dispatchToElement({target:r.target},i,r.event)}}},f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ov.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Xg(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),c(ov,Jg),c(ov,nt);var sv="undefined"==typeof Float32Array?Array:Float32Array,uv=(Object.freeze||Object)({create:gt,identity:vt,copy:mt,mul:yt,translate:xt,rotate:bt,scale:_t,invert:wt,clone:St}),lv=vt,cv=5e-5,hv=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},fv=hv.prototype;fv.transform=null,fv.needLocalTransform=function(){return Mt(this.rotation)||Mt(this.position[0])||Mt(this.position[1])||Mt(this.scale[0]-1)||Mt(this.scale[1]-1)};var dv=[];fv.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;if(n||e){r=r||gt(),n?this.getLocalTransform(r):lv(r),e&&(n?yt(r,t.transform,r):mt(r,t.transform)),this.transform=r;var i=this.globalScaleRatio;if(null!=i&&1!==i){this.getGlobalScale(dv);var a=dv[0]<0?-1:1,o=dv[1]<0?-1:1,s=((dv[0]-a)*i+a)/dv[0]||0,u=((dv[1]-o)*i+o)/dv[1]||0;r[0]*=s,r[1]*=s,r[2]*=u,r[3]*=u}this.invTransform=this.invTransform||gt(),wt(this.invTransform,r)}else r&&lv(r)},fv.getLocalTransform=function(t){return hv.getLocalTransform(this,t)},fv.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},fv.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var pv=[],gv=gt();fv.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=this.position,i=this.scale;Mt(e-1)&&(e=Math.sqrt(e)),Mt(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),r[0]=t[4],r[1]=t[5],i[0]=e,i[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},fv.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(yt(pv,t.invTransform,e),e=pv);var n=this.origin;n&&(n[0]||n[1])&&(gv[4]=n[0],gv[5]=n[1],yt(pv,e,gv),pv[4]-=n[0],pv[5]-=n[1],e=pv),this.setLocalTransform(e)}},fv.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},fv.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&K(n,n,r),n},fv.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&K(n,n,r),n},hv.getLocalTransform=function(t,e){lv(e=e||[]);var n=t.origin,r=t.scale||[1,1],i=t.rotation||0,a=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),_t(e,e,r),i&&bt(e,e,i),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=a[0],e[5]+=a[1],e};var vv={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-vv.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*vv.bounceIn(2*t):.5*vv.bounceOut(2*t-1)+.5}};Ot.prototype={constructor:Ot,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,i="string"==typeof r?vv[r]:r,a="function"==typeof i?i(n):n;return this.fire("frame",a),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){this._startTime=t-(t-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var mv=function(){this.head=null,this.tail=null,this._len=0},yv=mv.prototype;yv.insert=function(t){var e=new xv(t);return this.insertEntry(e),e},yv.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},yv.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},yv.len=function(){return this._len},yv.clear=function(){this.head=this.tail=null,this._len=0};var xv=function(t){this.value=t},bv=function(t){this._list=new mv,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},_v=bv.prototype;_v.put=function(t,e){var n=this._list,r=this._map,i=null;if(null==r[t]){var a=n.len(),o=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}o?o.value=e:o=new xv(e),o.key=t,n.insertEntry(o),r[t]=o}return i},_v.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},_v.clear=function(){this._list.clear(),this._map={}};var wv={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Sv=new bv(20),Mv=null,Ov=(Object.freeze||Object)({parse:Lt,lift:Nt,toHex:zt,fastLerp:Bt,fastMapToColor:Bt,lerp:Ft,mapToColor:Ft,modifyHSL:Vt,modifyAlpha:Gt,stringify:Ht}),Cv=Array.prototype.slice,Av=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||Wt,this._setter=r||qt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Av.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:Kt(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0;for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var o=ee(this,t,function(){--i||r._doneCallback()},this._tracks[a],a,e);o&&(this._clipList.push(o),i++,this.animation&&this.animation.addClip(o),n=o)}if(n){var s=n.onframe;n.onframe=function(t,e){s(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Iv=1;"undefined"!=typeof window&&(Iv=Math.max(window.devicePixelRatio||1,1));var Tv=Iv,Ev=function(){this.animators=[]};Ev.prototype={constructor:Ev,animate:function(t,e){var n,r=!1,i=this,a=this.__zr;if(t){var o=t.split("."),s=i;r="shape"===o[0];for(var l=0,c=o.length;l<c;l++)s&&(s=s[o[l]]);s&&(n=s)}else n=i;if(n){var h=i.animators,f=new Av(n,e);return f.during(function(t){i.dirty(r)}).done(function(){h.splice(u(h,f),1)}),h.push(f),a&&a.animation.addAnimator(f),f}},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,a){ne(this,t,e,n,r,i,a)},animateFrom:function(t,e,n,r,i,a){ne(this,t,e,n,r,i,a,!0)}};var jv=function(t){hv.call(this,t),Jg.call(this,t),Ev.call(this,t),this.id=t.id||jg()};jv.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(_(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},c(jv,Ev),c(jv,hv),c(jv,Jg);var Pv=K,kv=Math.min,Dv=Math.max;ie.prototype={constructor:ie,union:function(t){var e=kv(t.x,this.x),n=kv(t.y,this.y);this.width=Dv(t.x+t.width,this.x+this.width)-e,this.height=Dv(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,Pv(t,t,i),Pv(e,e,i),Pv(n,n,i),Pv(r,r,i),this.x=kv(t[0],e[0],n[0],r[0]),this.y=kv(t[1],e[1],n[1],r[1]);var a=Dv(t[0],e[0],n[0],r[0]),o=Dv(t[1],e[1],n[1],r[1]);this.width=a-this.x,this.height=o-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=gt();return xt(i,i,[-e.x,-e.y]),_t(i,i,[n,r]),xt(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof ie||(t=ie.create(t));var e=this;return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new ie(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},ie.create=function(t){return new ie(t.x,t.y,t.width,t.height)};var Lv=function(t){for(var e in jv.call(this,t=t||{}),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Lv.prototype={constructor:Lv,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Lv&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,i=u(r,t);return i<0?this:(r.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof Lv&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,r=this.__storage;for(e=0;e<n.length;e++)t=n[e],r&&(r.delFromStorage(t),t instanceof Lv&&t.delChildrenFromStorage(r)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++)t.call(e,n[r],r);return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof Lv&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof Lv&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new ie(0,0,0,0),r=t||this._children,i=[],a=0;a<r.length;a++){var o=r[a];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),u=o.getLocalTransform(i);u?(n.copy(s),n.applyTransform(u),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},l(Lv,jv);var Rv=32,Nv=7,zv=function(){this._roots=[],this._displayList=[],this._displayListLen=0};zv.prototype={constructor:zv,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Pg.canvasSupported&&ce(n,he)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var i=r,a=t;i;)i.parent=a,i.updateTransform(),e.push(i),a=i,i=i.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var u=o[s];t.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Lv&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(n=0;n<this._roots.length;n++){var e=this._roots[n];e instanceof Lv&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);else{var i=u(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof Lv&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:he};var Bv={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Fv=function(t,e,n){return Bv.hasOwnProperty(e)?n*=t.dpr:n},Vv={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Gv=9,Hv=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Wv=function(t){this.extendFrom(t,!1)};Wv.prototype={constructor:Wv,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var r=this,i=n&&n.style,a=!i||t.__attrCachedBy!==Vv.STYLE_BIND;t.__attrCachedBy=Vv.STYLE_BIND;for(var o=0;o<Hv.length;o++){var s=Hv[o],u=s[0];(a||r[u]!==i[u])&&(t[u]=Fv(t,u,r[u]||s[1]))}(a||r.fill!==i.fill)&&(t.fillStyle=r.fill),(a||r.stroke!==i.stroke)&&(t.strokeStyle=r.stroke),(a||r.opacity!==i.opacity)&&(t.globalAlpha=null==r.opacity?1:r.opacity),(a||r.blend!==i.blend)&&(t.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()&&(t.lineWidth=r.lineWidth/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1))},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r=("radial"===e.type?function(t,e,n){var r=n.width,i=n.height,a=Math.min(r,i),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(o=o*r+n.x,s=s*i+n.y,u*=a),t.createRadialGradient(o,s,0,o,s,u)}:function(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,a=isNaN(a)?0:a,o=isNaN(o)?0:o,t.createLinearGradient(r,a,i,o)})(t,e,n),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}};for(var qv=Wv.prototype,Uv=0;Uv<Hv.length;Uv++){var Yv=Hv[Uv];Yv[0]in qv||(qv[Yv[0]]=Yv[1])}Wv.getGradient=qv.getGradient;var Xv=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};Xv.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var Zv=function(t,e,n){var r;n=n||Tv,"string"==typeof t?r=de(t,e,n):_(t)&&(t=(r=t).id),this.id=t,this.dom=r;var i=r.style;i&&(r.onselectstart=fe,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};Zv.prototype={constructor:Zv,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=de("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,i=r.style,a=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,a&&(a.width=t*n,a.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,r=this.dom,i=this.ctx,a=r.width,o=r.height,s=(e=e||this.clearColor,this.motionBlur&&!t),u=this.lastFrameAlpha,l=this.dpr;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/l,o/l)),i.clearRect(0,0,a,o),e&&"transparent"!==e&&(e.colorStops?(n=e.__canvasGradient||Wv.getGradient(i,e,{x:0,y:0,width:a,height:o}),e.__canvasGradient=n):e.image&&(n=Xv.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=n||e,i.fillRect(0,0,a,o),i.restore()),s){var c=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(c,0,0,a,o),i.restore()}}};var $v="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Qv=new bv(50),Jv={},Kv=0,tm=5e3,em=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,nm="12px sans-serif",rm={measureText:function(t,e){var n=s();return n.font=e||nm,n.measureText(t)}},im=nm,am={left:1,right:1,center:1},om={top:1,bottom:1,middle:1},sm=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],um=new ie,lm=function(){};lm.prototype={constructor:lm,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&De(n);var r=n.text;if(null!=r&&(r+=""),Xe(r,n)){t.save();var i=this.transform;n.transformText?this.setTransform(t):i&&(um.copy(e),um.applyTransform(i),e=um),Re(this,t,r,n,e,Gv),t.restore()}}},Ze.prototype={constructor:Ze,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?jv.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new Wv(t,this),this.dirty(!1),this}},l(Ze,jv),c(Ze,lm),$e.prototype={constructor:$e,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i=this._image=ge(r,this._image,this,this.onload);if(i&&me(i)){var a=n.x||0,o=n.y||0,s=n.width,u=n.height,l=i.width/i.height;if(null==s&&null!=u?s=u*l:null==u&&null!=s?u=s/l:null==s&&null==u&&(s=i.width,u=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var c=n.sx||0,h=n.sy||0;t.drawImage(i,c,h,n.sWidth,n.sHeight,a,o,s,u)}else if(n.sx&&n.sy){var f=s-(c=n.sx),d=u-(h=n.sy);t.drawImage(i,c,h,f,d,a,o,s,u)}else t.drawImage(i,a,o,s,u);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new ie(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},l($e,Ze);var cm=new ie(0,0,0,0),hm=new ie(0,0,0,0),fm=function(t,e,n){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=a({},n||{}),this.dpr=n.devicePixelRatio||Tv,this._singleCanvas=r,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var u=t.width,l=t.height;null!=n.width&&(u=n.width),null!=n.height&&(l=n.height),this.dpr=n.devicePixelRatio||1,t.width=u*this.dpr,t.height=l*this.dpr,this._width=u,this._height=l;var c=new Zv(t,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=314159,o.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};fm.prototype={constructor:fm,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<n.length;r++){var i=this._layers[n[r]];!i.__builtin__&&i.refresh&&i.refresh(0===r?this._backgroundColor:null)}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=this._hoverElements,n=u(e,t.__hoverMir);n>=0&&e.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var r=e[n].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){ce(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<e;){var a=t[i],o=a.__from;o&&o.__zr?(i++,o.invisible||(a.transform=o.transform,a.invTransform=o.invTransform,a.__clipPaths=o.__clipPaths,this._doPaintEl(a,n,!0,r))):(t.splice(i,1),o.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var i=this;$v(function(){i._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],r=0;r<this._zlevelList.length;r++)(o=this._layers[this._zlevelList[r]]).__builtin__&&o!==this._hoverlayer&&(o.__dirty||e)&&n.push(o);for(var i=!0,a=0;a<n.length;a++){var o=n[a],s=o.ctx,u={};s.save();var l=e?o.__startIndex:o.__drawIndex,c=!e&&o.incremental&&Date.now,h=c&&Date.now(),d=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,d);else if(l===o.__startIndex){var p=t[l];p.incremental&&p.notClear&&!e||o.clear(!1,d)}-1===l&&(console.error("For some unknown reason. drawIndex is -1"),l=o.__startIndex);for(var g=l;g<o.__endIndex;g++){var v=t[g];if(this._doPaintEl(v,o,e,u),v.__dirty=v.__dirtyText=!1,c&&Date.now()-h>15)break}o.__drawIndex=g,o.__drawIndex<o.__endIndex&&(i=!1),u.prevElClipPaths&&s.restore(),s.restore()}return Pg.wxa&&f(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),i},_doPaintEl:function(t,e,n,r){var i=e.ctx,a=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!function(t,e,n){return cm.copy(t.getBoundingRect()),t.transform&&cm.applyTransform(t.transform),hm.width=e,hm.height=n,!cm.intersect(hm)}(t,this._width,this._height))){var o=t.__clipPaths;r.prevElClipPaths&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}(o,r.prevElClipPaths)||(r.prevElClipPaths&&(e.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),o&&(i.save(),function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}(o,i),r.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new Zv("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&r(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,a=null,o=-1,s=this._domRoot;if(n[t]);else if(e&&(e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)){if(i>0&&t>r[0]){for(o=0;o<i-1&&!(r[o]<t&&r[o+1]>t);o++);a=n[r[o]]}if(r.splice(o+1,0,t),n[t]=e,!e.virtual)if(a){var u=a.dom;u.nextSibling?s.insertBefore(e.dom,u.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}},eachLayer:function(t,e){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)t.call(e,this._layers[n=i[r]],n)},eachBuiltinLayer:function(t,e){var n,r,i,a=this._zlevelList;for(i=0;i<a.length;i++)(n=this._layers[r=a[i]]).__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,a=this._zlevelList;for(i=0;i<a.length;i++)(n=this._layers[r=a[i]]).__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(i=1;i<t.length;i++)if((o=t[i]).zlevel!==t[i-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,r=0,i=0;i<t.length;i++){var a,o=t[i],s=o.zlevel;o.incremental?((a=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,r=1):a=this.getLayer(s+(r>0?.01:0),this._needsManuallyCompositing),a!==n&&(a.__used=!0,a.__startIndex!==i&&(a.__dirty=!0),a.__startIndex=i,a.__drawIndex=a.incremental?-1:i,e(i),n=a),o.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?r(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];a!==t&&a!==t+.01||r(this._layers[a],n[t],!0)}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(u(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);f(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Zv("image",this,(t=t||{}).pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++)this._doPaintEl(o[s],e,!0,a);return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[r]||Qe(s[n])||Qe(o.style[n]))-(Qe(s[i])||0)-(Qe(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.getBoundingRect(),a=t.style,o=a.shadowBlur*e,s=a.shadowOffsetX*e,u=a.shadowOffsetY*e,l=a.hasStroke()?a.lineWidth:0,c=Math.max(l/2,-s+o),h=Math.max(l/2,s+o),f=Math.max(l/2,-u+o),d=Math.max(l/2,u+o),p=i.width+c+h,g=i.height+f+d;n.width=p*e,n.height=g*e,r.scale(e,e),r.clearRect(0,0,p,g),r.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-i.x,f-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var m=new $e({style:{x:0,y:0,image:n}});return null!=v.position&&(m.position=t.position=v.position),null!=v.rotation&&(m.rotation=t.rotation=v.rotation),null!=v.scale&&(m.scale=t.scale=v.scale),m}};var dm=function(t){this.stage=(t=t||{}).stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,Jg.call(this)};dm.prototype={constructor:dm,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=u(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,r=n.length,i=[],a=[],o=0;o<r;o++){var s=n[o],u=s.step(t,e);u&&(i.push(u),a.push(s))}for(o=0;o<r;)n[o]._needsRemove?(n[o]=n[r-1],n.pop(),r--):o++;for(r=i.length,o=0;o<r;o++)a[o].fire(i[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,$v(function e(){t._running&&($v(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new Av(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},c(dm,Jg);var pm=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],gm=["touchstart","touchend","touchmove"],vm={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},mm=d(pm,function(t){var e=t.replace("mouse","pointer");return vm[e]?e:t}),ym={mousemove:function(t){t=st(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=st(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=st(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),ym.mousemove.call(this,t),ym.mousedown.call(this,t),Ke(this)},touchmove:function(t){(t=st(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),ym.mousemove.call(this,t),Ke(this)},touchend:function(t){(t=st(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),ym.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&ym.click.call(this,t),Ke(this)},pointerdown:function(t){ym.mousedown.call(this,t)},pointermove:function(t){tn(t)||ym.mousemove.call(this,t)},pointerup:function(t){ym.mouseup.call(this,t)},pointerout:function(t){tn(t)||ym.mouseout.call(this,t)}};f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ym[t]=function(e){e=st(this.dom,e),this.trigger(t,e)}});var xm=en.prototype;xm.dispose=function(){for(var t=pm.concat(gm),e=0;e<t.length;e++){var n=t[e];lt(this.dom,Je(n),this._handlers[n])}},xm.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},c(en,Jg);var bm=!Pg.canvasSupported,_m={canvas:fm},wm={},Sm=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,i=new zv,a=n.renderer;if(bm){if(!_m.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&_m[a]||(a="canvas");var o=new _m[a](e,i,n,t);this.storage=i,this.painter=o;var s=Pg.node||Pg.worker?null:new en(o.getViewportRoot());this.handler=new ov(i,o,s,o.root),this.animation=new dm({stage:{update:v(this.flush,this)}}),this.animation.start();var u=i.delFromStorage,l=i.addToStorage;i.delFromStorage=function(t){u.call(i,t),t&&t.removeSelfFromZr(r)},i.addToStorage=function(t){l.call(i,t),t.addSelfToZr(r)}};Sm.prototype={constructor:Sm,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete wm[this.id]}};var Mm=(Object.freeze||Object)({version:"4.0.7",init:nn,dispose:function(t){if(t)t.dispose();else{for(var e in wm)wm.hasOwnProperty(e)&&wm[e].dispose();wm={}}return this},getInstance:function(t){return wm[t]},registerPainter:rn}),Om=f,Cm=_,Am=y,Im="series\0",Tm=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],Em=0,jm=".",Pm="___EC__COMPONENT__CONTAINER___",km=0,Dm=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,r){for(var i={},a=0;a<t.length;a++){var o=t[a][1];if(!(n&&u(n,o)>=0||r&&u(r,o)<0)){var s=e.getShallow(o);null!=s&&(i[t[a][0]]=s)}}return i}},Lm=Dm([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Rm={getLineStyle:function(t){var e=Lm(this,t),n=this.getLineDash(e.lineWidth);return n&&(e.lineDash=n),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),r=4*t;return"solid"===e||null==e?null:"dashed"===e?[r,r]:[n,n]}},Nm=Dm([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),zm={getAreaStyle:function(t,e){return Nm(this,t,e)}},Bm=Math.pow,Fm=Math.sqrt,Vm=1e-8,Gm=1e-4,Hm=Fm(3),Wm=1/3,qm=B(),Um=B(),Ym=B(),Xm=Math.min,Zm=Math.max,$m=Math.sin,Qm=Math.cos,Jm=2*Math.PI,Km=B(),ty=B(),ey=B(),ny=[],ry=[],iy={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ay=[],oy=[],sy=[],uy=[],ly=Math.min,cy=Math.max,hy=Math.cos,fy=Math.sin,dy=Math.sqrt,py=Math.abs,gy="undefined"!=typeof Float32Array,vy=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};vy.prototype={constructor:vy,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=py(1/Tv/t)||0,this._uy=py(1/Tv/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(iy.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=py(t-this._xi)>this._ux||py(e-this._yi)>this._uy||this._len<5;return this.addData(iy.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,a){return this.addData(iy.C,t,e,n,r,i,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,a):this._ctx.bezierCurveTo(t,e,n,r,i,a)),this._xi=i,this._yi=a,this},quadraticCurveTo:function(t,e,n,r){return this.addData(iy.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,a){return this.addData(iy.A,t,e,n,n,r,i-r,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,a),this._xi=hy(i)*n+t,this._yi=fy(i)*n+e,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(iy.R,t,e,n,r),this},closePath:function(){this.addData(iy.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!gy||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();for(gy&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n)),i=0;i<e;i++)for(var a=t[i].data,o=0;o<a.length;o++)this.data[r++]=a[o];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,u=this._xi,l=this._yi,c=t-u,h=e-l,f=dy(c*c+h*h),d=u,p=l,g=o.length;for(a<0&&(a=i+a),d-=(a%=i)*(c/=f),p-=a*(h/=f);c>0&&d<=t||c<0&&d>=t||0===c&&(h>0&&p<=e||h<0&&p>=e);)d+=c*(n=o[r=this._dashIdx]),p+=h*n,this._dashIdx=(r+1)%g,c>0&&d<u||c<0&&d>u||h>0&&p<l||h<0&&p>l||s[r%2?"moveTo":"lineTo"](c>=0?ly(d,t):cy(d,t),h>=0?ly(p,e):cy(p,e));this._dashOffset=-dy((c=d-t)*c+(h=p-e)*h)},_dashedBezierTo:function(t,e,n,r,i,a){var o,s,u,l,c,h=this._dashSum,f=this._dashOffset,d=this._lineDash,p=this._ctx,g=this._xi,v=this._yi,m=An,y=0,x=this._dashIdx,b=d.length,_=0;for(f<0&&(f=h+f),f%=h,o=0;o<1;o+=.1)s=m(g,t,n,i,o+.1)-m(g,t,n,i,o),u=m(v,e,r,a,o+.1)-m(v,e,r,a,o),y+=dy(s*s+u*u);for(;x<b&&!((_+=d[x])>f);x++);for(o=(_-f)/y;o<=1;)l=m(g,t,n,i,o),c=m(v,e,r,a,o),x%2?p.moveTo(l,c):p.lineTo(l,c),o+=d[x]/y,x=(x+1)%b;x%2!=0&&p.lineTo(i,a),this._dashOffset=-dy((s=i-l)*s+(u=a-c)*u)},_dashedQuadraticTo:function(t,e,n,r){var i=n,a=r;n=(n+2*t)/3,r=(r+2*e)/3,this._dashedBezierTo(t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,n,r,i,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,gy&&(this.data=new Float32Array(t)))},getBoundingRect:function(){ay[0]=ay[1]=sy[0]=sy[1]=Number.MAX_VALUE,oy[0]=oy[1]=uy[0]=uy[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,i=0,a=0;a<t.length;){var o=t[a++];switch(1===a&&(r=e=t[a],i=n=t[a+1]),o){case iy.M:e=r=t[a++],n=i=t[a++],sy[0]=r,sy[1]=i,uy[0]=r,uy[1]=i;break;case iy.L:Rn(e,n,t[a],t[a+1],sy,uy),e=t[a++],n=t[a++];break;case iy.C:Nn(e,n,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],sy,uy),e=t[a++],n=t[a++];break;case iy.Q:zn(e,n,t[a++],t[a++],t[a],t[a+1],sy,uy),e=t[a++],n=t[a++];break;case iy.A:var s=t[a++],u=t[a++],l=t[a++],c=t[a++],h=t[a++],f=t[a++]+h;a+=1;var d=1-t[a++];1===a&&(r=hy(h)*l+s,i=fy(h)*c+u),Bn(s,u,l,c,h,f,d,sy,uy),e=hy(f)*l+s,n=fy(f)*c+u;break;case iy.R:Rn(r=e=t[a++],i=n=t[a++],r+t[a++],i+t[a++],sy,uy);break;case iy.Z:e=r,n=i}tt(ay,ay,sy),et(oy,oy,uy)}return 0===a&&(ay[0]=ay[1]=oy[0]=oy[1]=0),new ie(ay[0],ay[1],oy[0]-ay[0],oy[1]-ay[1])},rebuildPath:function(t){for(var e,n,r,i,a,o,s=this.data,u=this._ux,l=this._uy,c=this._len,h=0;h<c;){var f=s[h++];switch(1===h&&(e=r=s[h],n=i=s[h+1]),f){case iy.M:e=r=s[h++],n=i=s[h++],t.moveTo(r,i);break;case iy.L:a=s[h++],o=s[h++],(py(a-r)>u||py(o-i)>l||h===c-1)&&(t.lineTo(a,o),r=a,i=o);break;case iy.C:t.bezierCurveTo(s[h++],s[h++],s[h++],s[h++],s[h++],s[h++]),r=s[h-2],i=s[h-1];break;case iy.Q:t.quadraticCurveTo(s[h++],s[h++],s[h++],s[h++]),r=s[h-2],i=s[h-1];break;case iy.A:var d=s[h++],p=s[h++],g=s[h++],v=s[h++],m=s[h++],y=s[h++],x=s[h++],b=s[h++],_=g>v?g:v,w=g>v?1:g/v,S=g>v?v/g:1,M=m+y;Math.abs(g-v)>.001?(t.translate(d,p),t.rotate(x),t.scale(w,S),t.arc(0,0,_,m,M,1-b),t.scale(1/w,1/S),t.rotate(-x),t.translate(-d,-p)):t.arc(d,p,_,m,M,1-b),1===h&&(e=hy(m)*g+d,n=fy(m)*v+p),r=hy(M)*g+d,i=fy(M)*v+p;break;case iy.R:e=r=s[h],n=i=s[h+1],t.rect(s[h++],s[h++],s[h++],s[h++]);break;case iy.Z:t.closePath(),r=e,i=n}}}},vy.CMD=iy;var my=2*Math.PI,yy=2*Math.PI,xy=vy.CMD,by=2*Math.PI,_y=1e-4,wy=[-1,-1,-1],Sy=[-1,-1],My=Xv.prototype.getCanvasPattern,Oy=Math.abs,Cy=new vy(!0);Qn.prototype={constructor:Qn,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(t,e){var n,r=this.style,i=this.path||Cy,a=r.hasStroke(),o=r.hasFill(),s=r.fill,u=r.stroke,l=o&&!!s.colorStops,c=a&&!!u.colorStops,h=o&&!!s.image,f=a&&!!u.image;r.bind(t,this,e),this.setTransform(t),this.__dirty&&(l&&(n=n||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,n)),c&&(n=n||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,u,n))),l?t.fillStyle=this._fillGradient:h&&(t.fillStyle=My.call(s,t)),c?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=My.call(u,t));var d=r.lineDash,p=r.lineDashOffset,g=!!t.setLineDash,v=this.getGlobalScale();if(i.setScale(v[0],v[1]),this.__dirtyPath||d&&!g&&a?(i.beginPath(t),d&&!g&&(i.setLineDash(d),i.setLineDashOffset(p)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o&&(null!=r.fillOpacity?(m=t.globalAlpha,t.globalAlpha=r.fillOpacity*r.opacity,i.fill(t),t.globalAlpha=m):i.fill(t)),d&&g&&(t.setLineDash(d),t.lineDashOffset=p),a)if(null!=r.strokeOpacity){var m=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,i.stroke(t),t.globalAlpha=m}else i.stroke(t);d&&g&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new vy},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var r=this.path;r||(r=this.path=new vy),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var a=e.lineWidth,o=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),o>1e-10&&(i.width+=a/o,i.height+=a/o,i.x-=a/o/2,i.y-=a/o/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(r.contain(t=n[0],e=n[1])){var a=this.path.data;if(i.hasStroke()){var o=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),function(t,e,n,r){return $n(a,o/s,!0,n,r)}(0,0,t,e)))return!0}if(i.hasFill())return function(t,e,n){return $n(a,0,!1,e,n)}(0,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Ze.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(_(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&Oy(t[0]-1)>1e-10&&Oy(t[3]-1)>1e-10?Math.sqrt(Oy(t[0]*t[3]-t[2]*t[1])):1}},Qn.extend=function(t){var e=function(e){Qn.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}t.init&&t.init.call(this,e)};for(var n in l(e,Qn),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},l(Qn,Ze);var Ay=vy.CMD,Iy=[[],[],[]],Ty=Math.sqrt,Ey=Math.atan2,jy=function(t,e){var n,r,i,a,o,s,u=t.data,l=Ay.M,c=Ay.C,h=Ay.L,f=Ay.R,d=Ay.A,p=Ay.Q;for(i=0,a=0;i<u.length;){switch(n=u[i++],a=i,r=0,n){case l:case h:r=1;break;case c:r=3;break;case p:r=2;break;case d:var g=e[4],v=e[5],m=Ty(e[0]*e[0]+e[1]*e[1]),y=Ty(e[2]*e[2]+e[3]*e[3]),x=Ey(-e[1]/y,e[0]/m);u[i]*=m,u[i++]+=g,u[i]*=y,u[i++]+=v,u[i++]*=m,u[i++]*=y,u[i++]+=x,u[i++]+=x,a=i+=2;break;case f:s[0]=u[i++],s[1]=u[i++],K(s,s,e),u[a++]=s[0],u[a++]=s[1],s[0]+=u[i++],s[1]+=u[i++],K(s,s,e),u[a++]=s[0],u[a++]=s[1]}for(o=0;o<r;o++)(s=Iy[o])[0]=u[i++],s[1]=u[i++],K(s,s,e),u[a++]=s[0],u[a++]=s[1]}},Py=Math.sqrt,ky=Math.sin,Dy=Math.cos,Ly=Math.PI,Ry=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Ny=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Ry(t)*Ry(e))},zy=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ny(t,e))},By=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Fy=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,Vy=function(t){Ze.call(this,t)};Vy.prototype={constructor:Vy,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&De(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),Xe(r,n)?(this.setTransform(t),Re(this,t,r,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=Vv.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&De(t),!this._rect){var e=t.text;null!=e?e+="":e="";var n=xe(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,We(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},l(Vy,Ze);var Gy=Qn.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Hy=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Wy=function(t){return Pg.browser.ie&&Pg.browser.version>=11?function(){var e,n=this.__clipPaths,r=this.style;if(n)for(var i=0;i<n.length;i++){var a=n[i],o=a&&a.shape,s=a&&a.type;if(o&&("sector"===s&&o.startAngle===o.endAngle||"rect"===s&&(!o.width||!o.height))){for(u=0;u<Hy.length;u++)Hy[u][2]=r[Hy[u][0]],r[Hy[u][0]]=Hy[u][1];e=!0;break}}if(t.apply(this,arguments),e)for(var u=0;u<Hy.length;u++)r[Hy[u][0]]=Hy[u][2]}:t},qy=Qn.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Wy(Qn.prototype.brush),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,u=e.clockwise,l=Math.cos(o),c=Math.sin(o);t.moveTo(l*i+n,c*i+r),t.lineTo(l*a+n,c*a+r),t.arc(n,r,a,o,s,!u),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,o,u),t.closePath()}}),Uy=Qn.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}}),Yy=function(t,e){for(var n=t.length,r=[],i=0,a=1;a<n;a++)i+=$(t[a-1],t[a]);var o=i/2;for(o=o<n?n:o,a=0;a<o;a++){var s,u,l,c=a/(o-1)*(e?n:n-1),h=Math.floor(c),f=c-h,d=t[h%n];e?(s=t[(h-1+n)%n],u=t[(h+1)%n],l=t[(h+2)%n]):(s=t[0===h?h:h-1],u=t[h>n-2?n-1:h+1],l=t[h>n-3?n-1:h+2]);var p=f*f,g=f*p;r.push([er(s[0],d[0],u[0],l[0],f,p,g),er(s[1],d[1],u[1],l[1],f,p,g)])}return r},Xy=function(t,e,n,r){var i,a,o,s,u=[],l=[],c=[],h=[];if(r){o=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)tt(o,o,t[f]),et(s,s,t[f]);tt(o,o,r[0]),et(s,s,r[1])}for(f=0,d=t.length;f<d;f++){var p=t[f];if(n)i=t[f?f-1:d-1],a=t[(f+1)%d];else{if(0===f||f===d-1){u.push(V(t[f]));continue}i=t[f-1],a=t[f+1]}q(l,a,i),X(l,l,e);var g=$(p,i),v=$(p,a),m=g+v;0!==m&&(g/=m,v/=m),X(c,l,-g),X(h,l,v);var y=H([],p,c),x=H([],p,h);r&&(et(y,y,o),tt(y,y,s),et(x,x,o),tt(x,x,s)),u.push(y),u.push(x)}return n&&u.push(u.shift()),u},Zy=Qn.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){nr(t,e,!0)}}),$y=Qn.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){nr(t,e,!1)}}),Qy=Math.round,Jy={},Ky=Qn.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,r,i,a;this.subPixelOptimize?(function(t,e,n){var r=n&&n.lineWidth;if(e&&r){var i=e.x,a=e.y,o=e.width,s=e.height;t.x=rr(i,r,!0),t.y=rr(a,r,!0),t.width=Math.max(rr(i+o,r,!1)-t.x,0===o?0:1),t.height=Math.max(rr(a+s,r,!1)-t.y,0===s?0:1)}}(Jy,e,this.style),n=Jy.x,r=Jy.y,i=Jy.width,a=Jy.height,Jy.r=e.r,e=Jy):(n=e.x,r=e.y,i=e.width,a=e.height),e.r?ke(t,e):t.rect(n,r,i,a),t.closePath()}}),tx={},ex=Qn.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,r,i,a;this.subPixelOptimize?(function(t,e,n){var r=n&&n.lineWidth;if(e&&r){var i=e.x1,a=e.x2,o=e.y1,s=e.y2;Qy(2*i)===Qy(2*a)?t.x1=t.x2=rr(i,r,!0):(t.x1=i,t.x2=a),Qy(2*o)===Qy(2*s)?t.y1=t.y2=rr(o,r,!0):(t.y1=o,t.y2=s)}}(tx,e,this.style),n=tx.x1,r=tx.y1,i=tx.x2,a=tx.y2):(n=e.x1,r=e.y1,i=e.x2,a=e.y2);var o=e.percent;0!==o&&(t.moveTo(n,r),o<1&&(i=n*(1-o)+i*o,a=r*(1-o)+a*o),t.lineTo(i,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),nx=[],rx=Qn.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=e.cpx1,s=e.cpy1,u=e.cpx2,l=e.cpy2,c=e.percent;0!==c&&(t.moveTo(n,r),null==u||null==l?(c<1&&(Dn(n,o,i,c,nx),o=nx[1],i=nx[2],Dn(r,s,a,c,nx),s=nx[1],a=nx[2]),t.quadraticCurveTo(o,s,i,a)):(c<1&&(En(n,o,u,i,c,nx),o=nx[1],u=nx[2],i=nx[3],En(r,s,l,a,c,nx),s=nx[1],l=nx[2],a=nx[3]),t.bezierCurveTo(o,s,u,l,i,a)))},pointAt:function(t){return ir(this.shape,t,!1)},tangentAt:function(t){var e=ir(this.shape,t,!0);return Z(e,e)}}),ix=Qn.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),a=e.startAngle,o=e.endAngle,s=e.clockwise,u=Math.cos(a),l=Math.sin(a);t.moveTo(u*i+n,l*i+r),t.arc(n,r,i,a,o,!s)}}),ax=Qn.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Qn.prototype.getBoundingRect.call(this)}}),ox=function(t){this.colorStops=t||[]};ox.prototype={constructor:ox,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var sx=function(t,e,n,r,i,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=a||!1,ox.call(this,i)};sx.prototype={constructor:sx},l(sx,ox);var ux=function(t,e,n,r,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,ox.call(this,r)};ux.prototype={constructor:ux},l(ux,ox),ar.prototype.incremental=!0,ar.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},ar.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},ar.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},ar.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},ar.prototype.update=function(){for(this.updateTransform(),t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},ar.prototype.brush=function(t,e){for(n=this._cursor;n<this._displayables.length;n++)(r=this._displayables[n]).beforeBrush&&r.beforeBrush(t),r.brush(t,n===this._cursor?null:this._displayables[n-1]),r.afterBrush&&r.afterBrush(t);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.beforeBrush&&r.beforeBrush(t),r.brush(t,0===n?null:this._temporaryDisplayables[n-1]),r.afterBrush&&r.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var lx=[];ar.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new ie(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(lx)),t.union(r)}this._rect=t}return this._rect},ar.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++)if(this._displayables[r].contain(t,e))return!0;return!1},l(ar,Ze);var cx=Math.round,hx=Math.max,fx=Math.min,dx={},px=1,gx=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var a=t[i];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var o=new Qn(e);return o.createPathProxy(),o.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},o},vx=R(),mx=0,yx=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:px,extendShape:or,extendPath:function(t,e){return function(t,e){return Qn.extend(Kn(t,e))}(t,e)},makePath:sr,makeImage:ur,mergePath:gx,resizePath:cr,subPixelOptimizeLine:hr,subPixelOptimizeRect:fr,subPixelOptimize:dr,setElementHoverStyle:xr,isInEmphasis:br,setHoverStyle:Or,setAsHoverStyleTrigger:Cr,setLabelStyle:Ar,setTextStyle:Ir,setText:function(t,e,n){var r,i={isRectText:!0};!1===n?r=!0:i.autoColor=n,Tr(t,e,i,r)},getFont:Dr,updateProps:Rr,initProps:Nr,getTransform:zr,applyTransform:Br,transformDirection:Fr,groupTransition:Vr,clipPointsByRect:Gr,clipRectByRect:function(t,e){var n=hx(t.x,e.x),r=fx(t.x+t.width,e.x+e.width),i=hx(t.y,e.y),a=fx(t.y+t.height,e.y+e.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}},createIcon:Hr,Group:Lv,Image:$e,Text:Vy,Circle:Gy,Sector:qy,Ring:Uy,Polygon:Zy,Polyline:$y,Rect:Ky,Line:ex,BezierCurve:rx,Arc:ix,IncrementalDisplayable:ar,CompoundPath:ax,LinearGradient:sx,RadialGradient:ux,BoundingRect:ie}),xx=["textStyle","color"],bx={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(xx):null)},getFont:function(){return Dr({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return xe(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},_x=Dm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Sx={getItemStyle:function(t,e){var n=_x(this,t,e),r=this.getBorderLineDash();return r&&(n.lineDash=r),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Mx=c,Ox=dn();Wr.prototype={constructor:Wr,init:null,mergeOption:function(t){r(this.option,t,!0)},get:function(t,e){return null==t?this.option:qr(this.option,this.parsePath(t),!e&&Ur(this,t))},getShallow:function(t,e){var n=this.option,r=null==n?n:n[t],i=!e&&Ur(this,t);return null==r&&i&&(r=i.getShallow(t)),r},getModel:function(t,e){var n;return new Wr(null==t?this.option:qr(this.option,t=this.parsePath(t)),e=e||(n=Ur(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(n(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Ox(this).getParent=t},isAnimationEnabled:function(){if(!Pg.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},bn(Wr),_n(Wr),Mx(Wr,Rm),Mx(Wr,zm),Mx(Wr,bx),Mx(Wr,Sx);var Cx=0,Ax=1e-4,Ix=9007199254740991,Tx=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Ex=(Object.freeze||Object)({linearMap:Xr,parsePercent:Zr,round:$r,asc:Qr,getPrecision:Jr,getPrecisionSafe:Kr,getPixelPrecision:ti,getPercentWithPrecision:ei,MAX_SAFE_INTEGER:Ix,remRadian:ni,isRadianAroundZero:ri,parseDate:ii,quantity:ai,nice:si,quantile:function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},reformIntervals:ui,isNumeric:li}),jx=E,Px=/([&<>"'])/g,kx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dx=["a","b","c","d","e","f","g"],Lx=function(t,e){return"{"+t+(null==e?"":e)+"}"},Rx=Se,Nx=(Object.freeze||Object)({addCommas:ci,toCamelCase:hi,normalizeCssArray:jx,encodeHTML:fi,formatTpl:di,formatTplSimple:pi,getTooltipMarker:gi,formatTime:mi,capitalFirst:yi,truncateText:Rx,getTextBoundingRect:function(t){return xe(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)},getTextRect:function(t,e,n,r,i,a,o,s){return xe(t,e,n,r,i,s,a,o)}}),zx=f,Bx=["left","right","top","bottom","width","height"],Fx=[["width","left","right"],["height","top","bottom"]],Vx=xi,Gx=(m(xi,"vertical"),m(xi,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Hx=dn(),Wx=Wr.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,r){Wr.call(this,t,e,n,r),this.uid=Yr("ec_cpt_model")},init:function(t,e,n,r){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?Si(t):{};r(t,e.getTheme().get(this.mainType)),r(t,this.getDefaultOption()),n&&wi(t,i,n)},mergeOption:function(t,e){r(this.option,t,!0);var n=this.layoutMode;n&&wi(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=Hx(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&e.push(i),n=n.superClass}for(var a={},o=e.length-1;o>=0;o--)a=r(a,e[o],!0);t.defaultOption=a}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});Mn(Wx,{registerWhenExtend:!0}),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){t=xn(t),e[t.main]=n},t.determineSubType=function(n,r){var i=r.type;if(!i){var a=xn(n).main;t.hasSubTypes(n)&&e[a]&&(i=e[a](r))}return i}}(Wx),function(t,e){function n(t){var n={},i=[];return f(t,function(a){var o=r(n,a),s=function(t,e){var n=[];return f(t,function(t){u(e,t)>=0&&n.push(t)}),n}(o.originalDeps=e(a),t);o.entryCount=s.length,0===o.entryCount&&i.push(a),f(s,function(t){u(o.predecessor,t)<0&&o.predecessor.push(t);var e=r(n,t);u(e.successor,t)<0&&e.successor.push(a)})}),{graph:n,noEntryList:i}}function r(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}Wx.topologicalTravel=function(t,e,r,i){function a(t){s[t].entryCount--,0===s[t].entryCount&&u.push(t)}if(t.length){var o=n(e),s=o.graph,u=o.noEntryList,l={};for(f(t,function(t){l[t]=!0});u.length;){var c=u.pop(),h=s[c],d=!!l[c];d&&(r.call(i,c,h.originalDeps.slice()),delete l[c]),f(h.successor,d?function(t){l[t]=!0,a(t)}:a)}f(l,function(){throw new Error("Circle dependency may exists")})}}}(0,function(t){var e=[];return f(Wx.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=d(e,function(t){return xn(t).main}),"dataset"!==t&&u(e,"dataset")<=0&&e.unshift("dataset"),e}),c(Wx,Gx);var qx="";"undefined"!=typeof navigator&&(qx=navigator.platform||"");var Ux={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:qx.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Yx=dn(),Xx={clearColorPalette:function(){Yx(this).colorIdx=0,Yx(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var r=Yx(e=e||this),i=r.colorIdx||0,a=r.colorNameMap=r.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var o=an(this.get("color",!0)),s=this.get("colorLayer",!0),u=null!=n&&s?function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}(s,n):o;if((u=u||o)&&u.length){var l=u[i];return t&&(a[t]=l),r.colorIdx=(i+1)%u.length,l}}},Zx={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis")[0],a=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),Ci(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),Ci(a)&&(r.set("y",a),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",i),Ci(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar")[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",o),Ci(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),Ci(o)&&(r.set("angle",o),e.firstCategoryDimIndex=1)},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();f(a.parallelAxisIndex,function(t,a){var s=i.getComponent("parallelAxis",t),u=o[a];n.set(u,s),Ci(s)&&null==e.firstCategoryDimIndex&&(r.set(u,s),e.firstCategoryDimIndex=a)})}},$x="original",Qx="arrayRows",Jx="objectRows",Kx="keyedColumns",tb="unknown",eb="typedArray",nb="column",rb="row";Ai.seriesDataToSource=function(t){return new Ai({data:t,sourceFormat:S(t)?eb:$x,fromDataset:!1})},_n(Ai);var ib=dn(),ab="\0_ec_inner",ob=Wr.extend({init:function(t,e,n,r){n=n||{},this.option=null,this._theme=new Wr(n),this._optionManager=r},setOption:function(t,e){j(!(ab in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var r=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(r)):ki.call(this,r),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var i=n.getTimelineOption(this);i&&(this.mergeOption(i),e=!0)}if(!t||"recreate"===t||"media"===t){var a=n.getMediaOption(this,this._api);a.length&&f(a,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,i=this._componentsMap,o=[];(function(t){ib(t).datasetMap=R()})(this),f(t,function(t,i){null!=t&&(Wx.hasClass(i)?i&&o.push(i):e[i]=null==e[i]?n(t):r(e[i],t,!0))}),Wx.topologicalTravel(o,Wx.getAllClassMainTypes(),function(n,r){var o=an(t[n]),s=un(i.get(n),o);ln(s),f(s,function(t,e){var r=t.option;_(r)&&(t.keyInfo.mainType=n,t.keyInfo.subType=function(t,e,n){return r.type?r.type:n?n.subType:Wx.determineSubType(t,r)}(n,0,t.exist))});var u=function(t,e){y(e)||(e=e?[e]:[]);var n={};return f(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}(i,r);e[n]=[],i.set(n,[]),f(s,function(t,r){var o=t.exist,s=t.option;if(j(_(s)||o,"Empty component definition"),s){var l=Wx.getClass(n,t.keyInfo.subType,!0);if(o&&o instanceof l)o.name=t.keyInfo.name,o.mergeOption(s,this),o.optionUpdated(s,!1);else{var c=a({dependentModels:u,componentIndex:r},t.keyInfo);a(o=new l(s,this,this,c),c),o.init(s,this,this,c),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);i.get(n)[r]=o,e[n][r]=o.option},this),"series"===n&&Di(this,i.get("series"))},this),this._seriesIndicesMap=R(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=n(this.option);return f(t,function(e,n){if(Wx.hasClass(n)){for(var r=(e=an(e)).length-1;r>=0;r--)hn(e[r])&&e.splice(r,1);t[n]=e}}),delete t[ab],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,a=t.name,o=this._componentsMap.get(e);if(!o||!o.length)return[];if(null!=r)y(r)||(r=[r]),n=g(d(r,function(t){return o[t]}),function(t){return!!t});else if(null!=i){var s=y(i);n=g(o,function(t){return s&&u(i,t.id)>=0||!s&&t.id===i})}else if(null!=a){var l=y(a);n=g(o,function(t){return l&&u(a,t.name)>=0||!l&&t.name===a})}else n=o.slice();return Li(n,t)},findComponents:function(t){var e=t.mainType,n=function(t){var n=e+"Index",r=e+"Id",i=e+"Name";return!t||null==t[n]&&null==t[r]&&null==t[i]?null:{mainType:e,index:t[n],id:t[r],name:t[i]}}(t.query);return function(e){return t.filter?g(e,t.filter):e}(Li(n?this.queryComponents(n):this._componentsMap.get(e),t))},eachComponent:function(t,e,n){var r=this._componentsMap;"function"==typeof t?(n=e,e=t,r.each(function(t,r){f(t,function(t,i){e.call(n,r,t,i)})})):b(t)?f(r.get(t),e,n):_(t)&&f(this.findComponents(t),e,n)},getSeriesByName:function(t){return g(this._componentsMap.get("series"),function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){return g(this._componentsMap.get("series"),function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){f(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)},this)},eachRawSeries:function(t,e){f(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){f(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];i.subType===t&&e.call(n,i,r)},this)},eachRawSeriesByType:function(t,e,n){return f(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Di(this,g(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;Di(this,e.get("series"));var n=[];e.each(function(t,e){n.push(e)}),Wx.topologicalTravel(n,Wx.getAllClassMainTypes(),function(n,r){f(e.get(n),function(e){("series"!==n||!function(t,e){if(e){var n=e.seiresIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}(e,t))&&e.restoreData()})})}});c(ob,Xx);var sb=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],ub={};Ni.prototype={constructor:Ni,create:function(t,e){var n=[];f(ub,function(r,i){var a=r.create(t,e);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(t,e){f(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Ni.register=function(t,e){ub[t]=e},Ni.get=function(t){return ub[t]};var lb=f,cb=n,hb=d,fb=r,db=/^(min|max)?(.+)$/;zi.prototype={constructor:zi,setOption:function(t,e){t&&f(an(t.series),function(t){t&&t.data&&S(t.data)&&k(t.data)}),t=cb(t,!0);var n=this._optionBackup,r=(function(t,e,n){var r,i,a=[],o=[],s=t.timeline;return t.baseOption&&(i=t.baseOption),(s||t.options)&&(i=i||{},a=(t.options||[]).slice()),t.media&&(i=i||{},lb(t.media,function(t){t&&t.option&&(t.query?o.push(t):r||(r=t))})),i||(i=t),i.timeline||(i.timeline=s),lb([i].concat(a).concat(d(o,function(t){return t.option})),function(t){lb(e,function(e){e(t,n)})}),{baseOption:i,timelineOptions:a,mediaDefault:r,mediaList:o}}).call(this,t,e,!n);this._newBaseOption=r.baseOption,n?(function(t,e){lb(e=e||{},function(e,n){if(null!=e){var r=t[n];if(Wx.hasClass(n)){e=an(e);var i=un(r=an(r),e);t[n]=hb(i,function(t){return t.option&&t.exist?fb(t.exist,t.option,!0):t.exist||t.option})}else t[n]=fb(r,e,!0)}})}(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=hb(e.timelineOptions,cb),this._mediaList=hb(e.mediaList,cb),this._mediaDefault=cb(e.mediaDefault),this._currentMediaIndices=[],cb(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=cb(n[r.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,a=[],o=[];if(!r.length&&!i)return o;for(var s=0,u=r.length;s<u;s++)Bi(r[s].query,e,n)&&a.push(s);return!a.length&&i&&(a=[-1]),a.length&&!function(t,e){return a.join(",")===e.join(",")}(0,this._currentMediaIndices)&&(o=hb(a,function(t){return cb(-1===t?i.option:r[t].option)})),this._currentMediaIndices=a,o}};var pb=f,gb=_,vb=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],mb=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],yb=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],xb=function(t,e){(function(t,e){pb(qi(t.series),function(t){gb(t)&&function(t){if(gb(t)){Fi(t),Gi(t),Hi(t,"label"),Hi(t,"upperLabel"),Hi(t,"edgeLabel"),t.emphasis&&(Hi(t.emphasis,"label"),Hi(t.emphasis,"upperLabel"),Hi(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Fi(e),Wi(e));var n=t.markLine;n&&(Fi(n),Wi(n));var r=t.markArea;r&&Wi(r);var i=t.data;if("graph"===t.type){i=i||t.nodes;var a=t.links||t.edges;if(a&&!S(a))for(s=0;s<a.length;s++)Wi(a[s]);f(t.categories,function(t){Gi(t)})}if(i&&!S(i))for(s=0;s<i.length;s++)Wi(i[s]);if((e=t.markPoint)&&e.data)for(var o=e.data,s=0;s<o.length;s++)Wi(o[s]);if((n=t.markLine)&&n.data){var u=n.data;for(s=0;s<u.length;s++)y(u[s])?(Wi(u[s][0]),Wi(u[s][1])):Wi(u[s])}"gauge"===t.type?(Hi(t,"axisLabel"),Hi(t,"title"),Hi(t,"detail")):"treemap"===t.type?(Vi(t.breadcrumb,"itemStyle"),f(t.levels,function(t){Gi(t)})):"tree"===t.type&&Gi(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),pb(n,function(e){pb(qi(t[e]),function(t){t&&(Hi(t,"axisLabel"),Hi(t.axisPointer,"label"))})}),pb(qi(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Hi(e,"axisLabel"),Hi(e&&e.axisPointer,"label")}),pb(qi(t.calendar),function(t){Vi(t,"itemStyle"),Hi(t,"dayLabel"),Hi(t,"monthLabel"),Hi(t,"yearLabel")}),pb(qi(t.radar),function(t){Hi(t,"name")}),pb(qi(t.geo),function(t){gb(t)&&(Wi(t),pb(qi(t.regions),function(t){Wi(t)}))}),pb(qi(t.timeline),function(t){Wi(t),Vi(t,"label"),Vi(t,"itemStyle"),Vi(t,"controlStyle",!0);var e=t.data;y(e)&&f(e,function(t){_(t)&&(Vi(t,"label"),Vi(t,"itemStyle"))})}),pb(qi(t.toolbox),function(t){Vi(t,"iconStyle"),pb(t.feature,function(t){Vi(t,"iconStyle")})}),Hi(Ui(t.axisPointer),"label"),Hi(Ui(t.tooltip).axisPointer,"label")})(t,e),t.series=an(t.series),f(t.series,function(t){if(_(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=function(t,e){e=e.split(",");for(var n=t,r=0;r<e.length&&null!=(n=n&&n[e[r]]);r++);return n}(t,"pointer.color");null!=n&&function(t,e,n,r){e=e.split(",");for(var i,a=t,o=0;o<e.length-1;o++)null==a[i=e[o]]&&(a[i]={}),a=a[i];null==a[e[o]]&&(a[e[o]]=n)}(t,"itemStyle.normal.color",n)}Yi(t)}}),t.dataRange&&(t.visualMap=t.dataRange),f(yb,function(e){var n=t[e];n&&(y(n)||(n=[n]),f(n,function(t){Yi(t)}))})},bb=Zi.prototype;bb.pure=!1,bb.persistent=!0,bb.getSource=function(){return this._source};var _b={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Ji},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,r=0;r<n.length;r++){var i=n[r];e.push(i?i[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:$i,getItem:Qi,appendData:Ji},keyedColumns:{pure:!0,count:function(){var t=this._data[this._source.dimensionsDefine[0].name];return t?t.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,r=0;r<n.length;r++){var i=this._data[n[r].name];e.push(i?i[t]:null)}return e},appendData:function(t){var e=this._data;f(t,function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])})}},original:{count:$i,getItem:Qi,appendData:Ji},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){e=e||[];for(var n=this._dimSize*(t-=this._offset),r=0;r<this._dimSize;r++)e[r]=this._data[n+r];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},wb={arrayRows:Ki,objectRows:function(t,e,n,r){return null!=n?t[r]:t},keyedColumns:Ki,original:function(t,e,n,r){var i=sn(t);return null!=n&&i instanceof Array?i[n]:i},typedArray:Ki},Sb={arrayRows:ta,objectRows:function(t,e,n,r){return ea(t[e],this._dimensionInfos[e])},keyedColumns:ta,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return!this._rawData.pure&&function(t){return Cm(t)&&!(t instanceof Array)}(t)&&(this.hasItemOption=!0),ea(i instanceof Array?i[r]:i,this._dimensionInfos[e])},typedArray:function(t,e,n,r){return t[r]}},Mb=/\{@(.+?)\}/g,Ob={getDataParams:function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),a=n.getName(t),o=n.getRawDataItem(t),s=n.getItemVisual(t,"color"),u=this.ecModel.getComponent("tooltip"),l=mn(u&&u.get("renderMode")),c=this.mainType,h="series"===c;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:i,data:o,dataType:e,value:r,color:s,marker:gi({color:s,renderMode:l}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r,i){e=e||"normal";var a=this.getData(n),o=a.getItemModel(t),s=this.getDataParams(t,n);null!=r&&s.value instanceof Array&&(s.value=s.value[r]);var u=o.get("normal"===e?[i||"label","formatter"]:[e,i||"label","formatter"]);return"function"==typeof u?(s.status=e,u(s)):"string"==typeof u?di(u,s).replace(Mb,function(e,n){var r=n.length;return"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1)),na(a,t,n)}):void 0},getRawValue:function(t,e){return na(this.getData(e),t)},formatTooltip:function(){}},Cb=aa.prototype;Cb.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var n,r=this._upstream,i=t&&t.skip;if(this._dirty&&r){var a=this.context;a.data=a.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(n=this._plan(this.context));var o,s=e(this._modBy),u=this._modDataCount||0,l=e(t&&t.modBy),c=t&&t.modDataCount||0;s===l&&u===c||(n="reset"),(this._dirty||"reset"===n)&&(this._dirty=!1,o=function(t,e){var n,r;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((n=t._reset(t.context))&&n.progress&&(r=n.forceFirstProgress,n=n.progress),y(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var i=t._downstream;return i&&i.dirty(),r}(this,i)),this._modBy=l,this._modDataCount=c;var h=t&&t.step;if(this._dueEnd=r?r._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,d=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(o||f<d)){var p=this._progress;if(y(p))for(var g=0;g<p.length;g++)oa(this,p[g],f,d,l,c);else oa(this,p,f,d,l,c)}this._dueIndex=d,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:d}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Ab=function(){function t(){return r<n?r++:null}function e(){var t=r%o*i+Math.ceil(r/o),e=r>=n?null:t<a?t:r;return r++,e}var n,r,i,a,o,s={reset:function(u,l,c,h){r=u,n=l,i=c,a=h,o=Math.ceil(a/i),s.next=i>1&&a>0?e:t}};return s}();Cb.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Cb.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Cb.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},Cb.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Cb.getUpstream=function(){return this._upstream},Cb.getDownstream=function(){return this._downstream},Cb.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var Ib=dn(),Tb=Wx.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=ia({count:ua,reset:la}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),Ii(this);var i=this.getInitialData(t,n);ha(i,this),this.dataTask.context.data=i,Ib(this).dataBeforeProcessed=i,sa(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?Si(t):{},a=this.subType;Wx.hasClass(a)&&(a+="Series"),r(t,e.getTheme().get(this.subType)),r(t,this.getDefaultOption()),on(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&wi(t,i,n)},mergeOption:function(t,e){t=r(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&wi(this.option,t,n),Ii(this);var i=this.getInitialData(t,e);ha(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Ib(this).dataBeforeProcessed=i,sa(this)},fillDataTextStyle:function(t){if(t&&!S(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&on(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=da(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return Ib(this).data},setData:function(t){var e=da(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}Ib(this).data=t},getSource:function(){return ib(this).source},getRawData:function(){return Ib(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,r){var i=this,a="html"===(r=r||"html")?"<br/>":"\n",o="richText"===r,s={},u=0,l=this.getData(),c=l.mapDimension("defaultedTooltip",!0),h=c.length,d=this.getRawValue(t),g=y(d),v=l.getItemVisual(t,"color");_(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color),v=v||"transparent";var m=(h>1||g&&!h?function(n){function a(t,n){var a=l.getDimensionInfo(n);if(a&&!1!==a.otherDims.tooltip){var c=a.type,f="sub"+i.seriesIndex+"at"+u,p=gi({color:v,type:"subItem",renderMode:r,markerId:f}),g=(h?("string"==typeof p?p:p.content)+fi(a.displayName||"-")+": ":"")+fi("ordinal"===c?t+"":"time"===c?e?"":mi("yyyy/MM/dd hh:mm:ss",t):ci(t));g&&d.push(g),o&&(s[f]=v,++u)}}var h=p(n,function(t,e,n){var r=l.getDimensionInfo(n);return t|(r&&!1!==r.tooltip&&null!=r.displayName)},0),d=[];c.length?f(c,function(e){a(na(l,t,e),e)}):f(n,a);var g=h?o?"\n":"<br/>":"",m=g+d.join(g||", ");return{renderMode:r,content:m,style:s}}(d):function(t){return{renderMode:r,content:fi(ci(t)),style:s}}(h?na(l,t,c[0]):g?d[0]:d)).content,x=i.seriesIndex+"at"+u,b=gi({color:v,type:"item",renderMode:r,markerId:x});s[x]=v,++u;var w=l.getName(t),S=this.name;cn(this)||(S=""),S=S?fi(S)+(e?": ":a):"";var M="string"==typeof b?b:b.content;return{html:e?M+S+m:S+M+(w?fi(w)+": "+m:m),markers:s}},isAnimationEnabled:function(){if(Pg.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var r=this.ecModel,i=Xx.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});c(Tb,Ob),c(Tb,Xx);var Eb=function(){this.group=new Lv,this.uid=Yr("viewComponent")};Eb.prototype={constructor:Eb,init:function(t,e){},render:function(t,e,n,r){},dispose:function(){},filterForExposedEvent:null};var jb=Eb.prototype;jb.updateView=jb.updateLayout=jb.updateVisual=function(t,e,n,r){},bn(Eb),Mn(Eb,{registerWhenExtend:!0});var Pb=function(){var t=dn();return function(e){var n=t(e),r=e.pipelineContext,i=n.large,a=n.progressiveRender,o=n.large=r.large,s=n.progressiveRender=r.progressiveRender;return!!(i^o||a^s)&&"reset"}},kb=dn(),Db=Pb(),Lb=pa.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,r){},highlight:function(t,e,n,r){va(t.getData(),r,"emphasis")},downplay:function(t,e,n,r){va(t.getData(),r,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};Lb.updateView=Lb.updateLayout=Lb.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},bn(pa),Mn(pa,{registerWhenExtend:!0}),pa.markUpdateMethod=function(t,e){kb(t).updateMethod=e};var Rb={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Nb="\0__throttleOriginMethod",zb="\0__throttleRate",Bb="\0__throttleType",Fb={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=(t.visualColorAccessPath||"itemStyle.color").split("."),i=t.get(r)||t.getColorFromPalette(t.name,null,e.getSeriesCount());if(n.setVisual("color",i),!e.isSeriesFiltered(t))return"function"!=typeof i||i instanceof ox||n.each(function(e){n.setItemVisual(e,"color",i(t.getDataParams(e)))}),{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(r,!0);null!=n&&t.setItemVisual(e,"color",n)}:null}}},Vb={toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},Gb=function(t,e){function n(t,e){if("string"!=typeof t)return t;var n=t;return f(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function r(t){var e=i.get(t);if(null==e){for(var n=t.split("."),r=Vb.aria,a=0;a<n.length;++a)r=r[n[a]];return r}return e}var i=e.getModel("aria");if(i.get("show"))if(i.get("description"))t.setAttribute("aria-label",i.get("description"));else{var a=0;e.eachSeries(function(t,e){++a},this);var o,s=i.get("data.maxCount")||10,u=i.get("series.maxCount")||10,l=Math.min(a,u);if(!(a<1)){var c=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();o=c?n(r("general.withTitle"),{title:c}):r("general.withoutTitle");var h=[];o+=n(r(a>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:a}),e.eachSeries(function(t,e){if(e<l){var i,o=t.get("name"),u="series."+(a>1?"multiple":"single")+".";i=n(i=r(o?u+"withName":u+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:function(t){return Vb.series.typeNames[t]||"\u81ea\u5b9a\u4e49\u56fe"}(t.subType)});var c=t.getData();window.data=c,c.count()>s?i+=n(r("data.partialData"),{displayCnt:s}):i+=r("data.allData");for(var f=[],d=0;d<c.count();d++)if(d<s){var p=c.getName(d),g=na(c,d);f.push(n(r(p?"data.withName":"data.withoutName"),{name:p,value:g}))}i+=f.join(r("data.separator.middle"))+r("data.separator.end"),h.push(i)}}),o+=h.join(r("series.multiple.separator.middle"))+r("series.multiple.separator.end"),t.setAttribute("aria-label",o)}}},Hb=Math.PI,Wb=wa.prototype;Wb.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},Wb.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,a=r&&r.modDataCount;return{step:i,modBy:null!=a?Math.ceil(a/i):null,modDataCount:a}}},Wb.getPipeline=function(t){return this._pipelineMap.get(t)},Wb.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),o="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:o,large:a}},Wb.restorePipelines=function(t){var e=this,n=e._pipelineMap=R();t.eachSeries(function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),Pa(e,t,t.dataTask)})},Wb.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;f(this._allHandlers,function(r){var i=t.get(r.uid)||t.set(r.uid,[]);r.reset&&function(t,e,n,r,i){function a(n){var a=n.uid,s=o.get(a)||o.set(a,ia({plan:Ia,reset:Ta,count:ja}));s.context={model:n,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},Pa(t,n,s)}var o=n.seriesTaskMap||(n.seriesTaskMap=R()),s=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(a):s?r.eachRawSeriesByType(s,a):u&&u(r,i).each(a);var l=t._pipelineMap;o.each(function(t,e){l.get(e)||(t.dispose(),o.removeKey(e))})}(this,r,i,e,n),r.overallReset&&function(t,e,n,r,i){function a(e){var n=e.uid,r=s.get(n);r||(r=s.set(n,ia({reset:Oa,onDirty:Aa})),o.dirty()),r.context={model:e,overallProgress:c,modifyOutputEnd:h},r.agent=o,r.__block=c,Pa(t,e,r)}var o=n.overallTask=n.overallTask||ia({reset:Ma});o.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:t};var s=o.agentStubMap=o.agentStubMap||R(),u=e.seriesType,l=e.getTargetSeries,c=!0,h=e.modifyOutputEnd;u?r.eachRawSeriesByType(u,a):l?l(r,i).each(a):(c=!1,f(r.getSeries(),a));var d=t._pipelineMap;s.each(function(t,e){d.get(e)||(t.dispose(),o.dirty(),s.removeKey(e))})}(this,r,i,e,n)},this)},Wb.prepareView=function(t,e,n,r){var i=t.renderTask,a=i.context;a.model=e,a.ecModel=n,a.api=r,i.__block=!t.incrementalPrepareRender,Pa(this,e,i)},Wb.performDataProcessorTasks=function(t,e){Sa(this,this._dataProcessorHandlers,t,e,{block:!0})},Wb.performVisualTasks=function(t,e,n){Sa(this,this._visualHandlers,t,e,n)},Wb.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},Wb.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var qb=Wb.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},Ub=Ea(0);wa.wrapStageHandler=function(t,e){return x(t)&&(t={overallReset:t,seriesType:function(t){Yb=null;try{t(Xb,Zb)}catch(t){}return Yb}(t)}),t.uid=Yr("stageHandler"),e&&(t.visualType=e),t};var Yb,Xb={},Zb={};ka(Xb,ob),ka(Zb,Ri),Xb.eachSeriesByType=Xb.eachRawSeriesByType=function(t){Yb=t},Xb.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Yb=t.subType)};var $b=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Qb={color:$b,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],$b]},Jb=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Kb={color:Jb,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:Jb[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:Jb},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Kb.categoryAxis.splitLine.show=!1,Wx.extend({type:"dataset",defaultOption:{seriesLayoutBy:nb,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var e=t.option.source,n=tb;if(S(e))n=eb;else if(y(e)){0===e.length&&(n=Qx);for(var r=0,i=e.length;r<i;r++){var a=e[r];if(null!=a){if(y(a)){n=Qx;break}if(_(a)){n=Jx;break}}}}else if(_(e)){for(var o in e)if(e.hasOwnProperty(o)&&h(e[o])){n=Kx;break}}else if(null!=e)throw new Error("Invalid data");ib(t).sourceFormat=n}(this)}}),Eb.extend({type:"dataset"});var t_=Qn.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,r=e.cx,i=e.cy,a=e.rx,o=e.ry,s=a*n,u=o*n;t.moveTo(r-a,i),t.bezierCurveTo(r-a,i-u,r-s,i-o,r,i-o),t.bezierCurveTo(r+s,i-o,r+a,i-u,r+a,i),t.bezierCurveTo(r+a,i+u,r+s,i+o,r,i+o),t.bezierCurveTo(r-s,i+o,r-a,i+u,r-a,i),t.closePath()}}),e_=/[\s,]+/;La.prototype.parse=function(t,e){e=e||{};var n=Da(t);if(!n)throw new Error("Illegal svg");var r=new Lv;this._root=r;var i,a,o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),u=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(u)&&(u=null),za(n,r,null,!0);for(var l=n.firstChild;l;)this._parseNode(l,r),l=l.nextSibling;if(o){var c=P(o).split(e_);c.length>=4&&(i={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(i&&null!=s&&null!=u&&(a=Fa(i,s,u),!e.ignoreViewBox)){var h=r;(r=new Lv).add(h),h.scale=a.scale.slice(),h.position=a.position.slice()}return e.ignoreRootClip||null==s||null==u||r.setClipPath(new Ky({shape:{x:0,y:0,width:s,height:u}})),{root:r,width:s,height:u,viewBoxRect:i,viewBoxTransform:a}},La.prototype._parseNode=function(t,e){var n,r=t.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){if(o=r_[r]){var i=o.call(this,t),a=t.getAttribute("id");a&&(this._defs[a]=i)}}else{var o=n_[r];o&&(n=o.call(this,t,e),e.add(n))}for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},La.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(r)}var i=new Vy({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Ra(e,i),za(t,i,this._defs);var a=i.style.fontSize;a&&a<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=a/9,i.scale[1]*=a/9);var o=i.getBoundingRect();return this._textX+=o.width,e.add(i),i};var n_={g:function(t,e){var n=new Lv;return Ra(e,n),za(t,n,this._defs),n},rect:function(t,e){var n=new Ky;return Ra(e,n),za(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),n},circle:function(t,e){var n=new Gy;return Ra(e,n),za(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),n},line:function(t,e){var n=new ex;return Ra(e,n),za(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),n},ellipse:function(t,e){var n=new t_;return Ra(e,n),za(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),n},polygon:function(t,e){var n=t.getAttribute("points");n&&(n=Na(n));var r=new Zy({shape:{points:n||[]}});return Ra(e,r),za(t,r,this._defs),r},polyline:function(t,e){var n=new Qn;Ra(e,n),za(t,n,this._defs);var r=t.getAttribute("points");return r&&(r=Na(r)),new $y({shape:{points:r||[]}})},image:function(t,e){var n=new $e;return Ra(e,n),za(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||0,r=t.getAttribute("y")||0,i=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(a);var o=new Lv;return Ra(e,o),za(t,o,this._defs),o},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,o=new Lv;return Ra(e,o),za(t,o,this._defs),this._textX+=i,this._textY+=a,o},path:function(t,e){var n=tr(t.getAttribute("d")||"");return Ra(e,n),za(t,n,this._defs),n}},r_={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),r=parseInt(t.getAttribute("x2")||10,10),i=parseInt(t.getAttribute("y2")||0,10),a=new sx(e,n,r,i);return function(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType){var r=n.getAttribute("offset");r=r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var i=n.getAttribute("stop-color")||"#000000";e.addColorStop(r,i)}n=n.nextSibling}}(t,a),a},radialgradient:function(t){}},i_={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},a_=/url\(\s*#(.*?)\)/,o_=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,s_=/([^\s:;]+)\s*:\s*([^:;]+)/g,u_=R(),l_={registerMap:function(t,e,n){var r;return y(e)?r=e:e.svg?r=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),r=[{type:"geoJSON",source:e,specialAreas:n}]),f(r,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,c_[e])(t)}),u_.set(t,r)},retrieveMap:function(t){return u_.get(t)}},c_={geoJSON:function(t){var e=t.source;t.geoJSON=b(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=Da(t.source)}},h_=j,f_=f,d_=x,p_=_,g_=Wx.parseClassType,v_=1e3,m_=1e3,y_=3e3,x_={PROCESSOR:{FILTER:v_,STATISTIC:5e3},VISUAL:{LAYOUT:m_,GLOBAL:2e3,CHART:y_,COMPONENT:4e3,BRUSH:5e3}},b_="__flagInMainProcess",__="__optionUpdated",w_=/^[a-zA-Z0-9_]+$/;Ga.prototype.on=Va("on"),Ga.prototype.off=Va("off"),Ga.prototype.one=Va("one"),c(Ga,Jg);var S_=Ha.prototype;S_._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[__]){var e=this[__].silent;this[b_]=!0,qa(this),M_.update.call(this),this[b_]=!1,this[__]=!1,Za.call(this,e),$a.call(this,e)}else if(t.unfinished){var n=1,r=this._model;t.unfinished=!1;do{var i=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),Ya(this,r),t.performVisualTasks(r),to(this,this._model,0,"remain"),n-=+new Date-i}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},S_.getDom=function(){return this._dom},S_.getZr=function(){return this._zr},S_.setOption=function(t,e,n){var r;if(p_(e)&&(n=e.lazyUpdate,r=e.silent,e=e.notMerge),this[b_]=!0,!this._model||e){var i=new zi(this._api),a=this._theme,o=this._model=new ob(null,null,a,i);o.scheduler=this._scheduler,o.init(null,null,a,i)}this._model.setOption(t,T_),n?(this[__]={silent:r},this[b_]=!1):(qa(this),M_.update.call(this),this._zr.flush(),this[__]=!1,this[b_]=!1,Za.call(this,r),$a.call(this,r))},S_.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},S_.getModel=function(){return this._model},S_.getOption=function(){return this._model&&this._model.getOption()},S_.getWidth=function(){return this._zr.getWidth()},S_.getHeight=function(){return this._zr.getHeight()},S_.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},S_.getRenderedCanvas=function(t){if(Pg.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},S_.getSvgDataUrl=function(){if(Pg.svgSupported){var t=this._zr;return f(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},S_.getDataURL=function(t){var e=(t=t||{}).excludeComponents,n=this._model,r=[],i=this;f_(e,function(t){n.eachComponent({mainType:t},function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return f_(r,function(t){t.group.ignore=!1}),a},S_.getConnectedDataURL=function(t){if(Pg.canvasSupported){var e=this.group,r=Math.min,i=Math.max;if(L_[e]){var a=1/0,o=1/0,s=-1/0,u=-1/0,l=[],c=t&&t.pixelRatio||1;f(D_,function(c,h){if(c.group===e){var f=c.getRenderedCanvas(n(t)),d=c.getDom().getBoundingClientRect();a=r(d.left,a),o=r(d.top,o),s=i(d.right,s),u=i(d.bottom,u),l.push({dom:f,left:d.left,top:d.top})}});var h=(s*=c)-(a*=c),d=(u*=c)-(o*=c),p=Hg();p.width=h,p.height=d;var g=nn(p);return f_(l,function(t){var e=new $e({style:{x:t.left*c-a,y:t.top*c-o,image:t.dom}});g.add(e)}),g.refreshImmediately(),p.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},S_.convertToPixel=m(Wa,"convertToPixel"),S_.convertFromPixel=m(Wa,"convertFromPixel"),S_.containPixel=function(t,e){var n;return f(t=pn(this._model,t),function(t,r){r.indexOf("Models")>=0&&f(t,function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(e);else if("seriesModels"===r){var a=this._chartsMap[t.__viewId];a&&a.containPoint&&(n|=a.containPoint(e,t))}},this)},this),!!n},S_.getVisual=function(t,e){var n=(t=pn(this._model,t,{defaultMainType:"series"})).seriesModel.getData(),r=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null;return null!=r?n.getItemVisual(r,e):n.getVisual(e)},S_.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},S_.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var M_={prepareAndUpdate:function(t){qa(this),M_.update.call(this,t)},update:function(t){var e=this._model,n=this._api,r=this._zr,i=this._coordSysMgr,a=this._scheduler;if(e){a.restoreData(e,t),a.performSeriesTasks(e),i.create(e,n),a.performDataProcessorTasks(e,t),Ya(this,e),i.update(e,n),Ja(e),a.performVisualTasks(e,t),Ka(this,e,n,t);var o=e.get("backgroundColor")||"transparent";if(Pg.canvasSupported)r.setBackgroundColor(o);else{var s=Lt(o);o=Ht(s,"rgb"),0===s[3]&&(o="transparent")}eo(e,n)}},updateTransform:function(t){var e=this._model,n=this,r=this._api;if(e){var i=[];e.eachComponent(function(a,o){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(o,e,r,t);u&&u.update&&i.push(s)}else i.push(s)});var a=R();e.eachSeries(function(i){var o=n._chartsMap[i.__viewId];if(o.updateTransform){var s=o.updateTransform(i,e,r,t);s&&s.update&&a.set(i.uid,1)}else a.set(i.uid,1)}),Ja(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:a}),to(n,e,0,t,a),eo(e,this._api)}},updateView:function(t){var e=this._model;e&&(pa.markUpdateMethod(t,"updateView"),Ja(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Ka(this,this._model,this._api,t),eo(e,this._api))},updateVisual:function(t){M_.update.call(this,t)},updateLayout:function(t){M_.update.call(this,t)}};S_.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[b_]=!0,n&&qa(this),M_.update.call(this),this[b_]=!1,Za.call(this,r),$a.call(this,r)}},S_.showLoading=function(t,e){if(p_(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),k_[t]){var n=k_[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},S_.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},S_.makeActionFromEvent=function(t){var e=a({},t);return e.type=A_[t.type],e},S_.dispatchAction=function(t,e){p_(e)||(e={silent:!!e}),C_[t.type]&&this._model&&(this[b_]?this._pendingActions.push(t):(Xa.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Pg.browser.weChat&&this._throttledZrFlush(),Za.call(this,e.silent),$a.call(this,e.silent)))},S_.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},S_.on=Va("on"),S_.off=Va("off"),S_.one=Va("one");var O_=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];S_._initEvents=function(){f_(O_,function(t){var e=function(e){var n,r=this.getModel(),i=e.target;if("globalout"===t)n={};else if(i&&null!=i.dataIndex){var o=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=o&&o.getDataParams(i.dataIndex,i.dataType,i)||{}}else i&&i.eventData&&(n=a({},i.eventData));if(n){var s=n.componentType,u=n.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",u=n.seriesIndex);var l=s&&null!=u&&r.getComponent(s,u),c=l&&this["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];n.event=e,n.type=t,this._ecEventProcessor.eventInfo={targetEl:i,packedEvent:n,model:l,view:c},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)},this),f_(A_,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},S_.isDisposed=function(){return this._disposed},S_.clear=function(){this.setOption({series:[]},!0)},S_.dispose=function(){if(!this._disposed){this._disposed=!0,vn(this.getDom(),z_,"");var t=this._api,e=this._model;f_(this._componentsViews,function(n){n.dispose(e,t)}),f_(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete D_[this.id]}},c(Ha,Jg),io.prototype={constructor:io,normalizeQuery:function(t){var e={},n={},r={};if(b(t)){var i=g_(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var a=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};f(t,function(t,i){for(var s=!1,u=0;u<a.length;u++){var l=a[u],c=i.lastIndexOf(l);if(c>0&&c===i.length-l.length){var h=i.slice(0,c);"data"!==h&&(e.mainType=h,e[l.toLowerCase()]=t,s=!0)}}o.hasOwnProperty(i)&&(n[i]=t,s=!0),s||(r[i]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},filter:function(t,e,n){function r(t,e,n,r){return null==t[n]||e[r||n]===t[n]}var i=this.eventInfo;if(!i)return!0;var a=i.targetEl,o=i.packedEvent,s=i.model,u=i.view;if(!s||!u)return!0;var l=e.cptQuery,c=e.dataQuery;return r(l,s,"mainType")&&r(l,s,"subType")&&r(l,s,"index","componentIndex")&&r(l,s,"name")&&r(l,s,"id")&&r(c,o,"name")&&r(c,o,"dataIndex")&&r(c,o,"dataType")&&(!u.filterForExposedEvent||u.filterForExposedEvent(t,e.otherQuery,a,o))},afterTrigger:function(){this.eventInfo=null}};var C_={},A_={},I_=[],T_=[],E_=[],j_=[],P_={},k_={},D_={},L_={},R_=new Date-0,N_=new Date-0,z_="_echarts_instance_",B_=ao;po(2e3,Fb),uo(xb),lo(5e3,function(t){var e=R();t.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),a={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),e.each(Xi)}),vo("default",function(t,e){o(e=e||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new Ky({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),r=new ix({shape:{startAngle:-Hb/2,endAngle:-Hb/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),i=new Ky({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*Hb/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Hb/2}).delay(300).start("circularInOut");var a=new Lv;return a.add(r),a.add(i),a.add(n),a.resize=function(){var e=t.getWidth()/2,a=t.getHeight()/2;r.setShape({cx:e,cy:a});var o=r.shape.r;i.setShape({x:e-o,y:a-o,width:2*o,height:2*o}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},a.resize(),a}),co({type:"highlight",event:"highlight",update:"highlight"},z),co({type:"downplay",event:"downplay",update:"downplay"},z),so("light",Qb),so("dark",Kb),wo.prototype={constructor:wo,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},r=[],i=[];for(So(t,{},r,"_oldKeyGetter",this),So(e,n,i,"_newKeyGetter",this),a=0;a<t.length;a++)null!=(s=n[o=r[a]])?((l=s.length)?(1===l&&(n[o]=null),s=s.unshift()):n[o]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a);for(var a=0;a<i.length;a++){var o=i[a];if(n.hasOwnProperty(o)){var s=n[o];if(null==s)continue;if(s.length)for(var u=0,l=s.length;u<l;u++)this._add&&this._add(s[u]);else this._add&&this._add(s)}}}};var F_=R(["tooltip","label","itemName","itemId","seriesName"]),V_=_,G_=-1,H_="e\0\0",W_={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},q_="undefined"==typeof Uint32Array?Array:Uint32Array,U_="undefined"==typeof Int32Array?Array:Int32Array,Y_="undefined"==typeof Uint16Array?Array:Uint16Array,X_=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Z_=["_extent","_approximateExtent","_rawExtent"],$_=function(t,e){t=t||["x","y"];for(var n={},r=[],i={},a=0;a<t.length;a++){var o=t[a];b(o)&&(o={name:o});var s=o.name;o.type=o.type||"float",o.coordDim||(o.coordDim=s,o.coordDimIndex=0),o.otherDims=o.otherDims||{},r.push(s),n[s]=o,o.index=a,o.createInvertedIndices&&(i[s]=[])}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(t){var e={},n=e.encode={},r=R(),i=[],a=[];f(t.dimensions,function(e){var o=t.getDimensionInfo(e),s=o.coordDim;if(s){var u=n[s];n.hasOwnProperty(s)||(u=n[s]=[]),u[o.coordDimIndex]=e,o.isExtraCoord||(r.set(s,1),function(t){return!("ordinal"===t||"time"===t)}(o.type)&&(i[0]=e)),o.defaultTooltip&&a.push(e)}F_.each(function(t,e){var r=n[e];n.hasOwnProperty(e)||(r=n[e]=[]);var i=o.otherDims[e];null!=i&&!1!==i&&(r[i]=o.name)})});var o=[],s={};r.each(function(t,e){var r=n[e];s[e]=r[0],o=o.concat(r)}),e.dataDimsOnCoord=o,e.encodeFirstDimNotExtra=s;var u=n.label;u&&u.length&&(i=u.slice());var l=n.tooltip;return l&&l.length?a=l.slice():a.length||(a=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=a,e}(this),this._invertedIndicesMap=i,this._calculationInfo={}},Q_=$_.prototype;Q_.type="list",Q_.hasItemOption=!0,Q_.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},Q_.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Q_.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Q_.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return!0===e?(r||[]).slice():r&&r[e]},Q_.initData=function(t,e,n){(Ai.isInstance(t)||h(t))&&(t=new Zi(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=Sb[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=Sb.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Q_.getProvider=function(){return this._rawData},Q_.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var r=e.count();e.persistent||(r+=n),this._initDataFromProvider(n,r)},Q_.appendValues=function(t,e){for(var n=this._chunkSize,r=this._storage,i=this.dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(t.length,e?e.length:0),l=this._chunkCount,c=0;c<a;c++)o[m=i[c]]||(o[m]=[1/0,-1/0]),r[m]||(r[m]=[]),Io(r,this._dimensionInfos[m],n,l,u),this._chunkCount=r[m].length;for(var h=new Array(a),f=s;f<u;f++){for(var d=f-s,p=Math.floor(f/n),g=f%n,v=0;v<a;v++){var m=i[v],y=this._dimValueGetterArrayRows(t[d]||h,m,d,v);r[m][p][g]=y;var x=o[m];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}e&&(this._nameList[f]=e[d])}this._rawCount=this._count=u,this._extent={},To(this)},Q_._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,r=this._chunkSize,i=this._rawData,a=this._storage,o=this.dimensions,s=o.length,u=this._dimensionInfos,l=this._nameList,c=this._idList,h=this._rawExtent,f=this._nameRepeatCount={},d=this._chunkCount,p=0;p<s;p++){h[_=o[p]]||(h[_]=[1/0,-1/0]);var g=u[_];0===g.otherDims.itemName&&(n=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p),a[_]||(a[_]=[]),Io(a,g,r,d,e),this._chunkCount=a[_].length}for(var v=new Array(s),m=t;m<e;m++){v=i.getItem(m,v);for(var y=Math.floor(m/r),x=m%r,b=0;b<s;b++){var _=o[b],w=a[_][y],S=this._dimValueGetter(v,_,m,b);w[x]=S;var M=h[_];S<M[0]&&(M[0]=S),S>M[1]&&(M[1]=S)}if(!i.pure){var O=l[m];if(v&&null==O)if(null!=v.name)l[m]=O=v.name;else if(null!=n){var C=o[n],A=a[C][y];if(A){O=A[x];var I=u[C].ordinalMeta;I&&I.categories.length&&(O=I.categories[O])}}var T=null==v?null:v.id;null==T&&null!=O&&(f[O]=f[O]||0,T=O,f[O]>0&&(T+="__ec__"+f[O]),f[O]++),null!=T&&(c[m]=T)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},To(this)}},Q_.count=function(){return this._count},Q_.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array)for(r=new e(n),i=0;i<n;i++)r[i]=t[i];else r=new e(t.buffer,0,n)}else for(var r=new(e=Oo(this))(this.count()),i=0;i<r.length;i++)r[i]=i;return r},Q_.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var r=Math.floor(e/this._chunkSize);return n[t][r][e%this._chunkSize]},Q_.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];return n?n[Math.floor(e/this._chunkSize)][e%this._chunkSize]:NaN},Q_._getFast=function(t,e){var n=Math.floor(e/this._chunkSize);return this._storage[t][n][e%this._chunkSize]},Q_.getValues=function(t,e){var n=[];y(t)||(e=t,t=this.dimensions);for(var r=0,i=t.length;r<i;r++)n.push(this.get(t[r],e));return n},Q_.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,r=0,i=e.length;r<i;r++)if("ordinal"!==n[e[r]].type&&isNaN(this.get(e[r],t)))return!1;return!0},Q_.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var n,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var i=(n=e)[0],a=n[1],o=0;o<r;o++){var s=this._getFast(t,this.getRawIndex(o));s<i&&(i=s),s>a&&(a=s)}return this._extent[t]=n=[i,a],n},Q_.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Q_.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Q_.getCalculationInfo=function(t){return this._calculationInfo[t]},Q_.setCalculationInfo=function(t,e){V_(t)?a(this._calculationInfo,t):this._calculationInfo[t]=e},Q_.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,r=this.count();n<r;n++){var i=this.get(t,n);isNaN(i)||(e+=i)}return e},Q_.getMedian=function(t){var e=[];this.each(t,function(t,n){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(t,e){return t-e}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},Q_.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?G_:n},Q_.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},Q_.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,i=this._count-1;r<=i;){var a=(r+i)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;i=a-1}}return-1},Q_.indicesOfNearest=function(t,e,n){var r=[];if(!this._storage[t])return r;null==n&&(n=1/0);for(var i=Number.MAX_VALUE,a=-1,o=0,s=this.count();o<s;o++){var u=e-this.get(t,o),l=Math.abs(u);u<=n&&l<=i&&((l<i||u>=0&&a<0)&&(i=l,a=u,r.length=0),r.push(o))}return r},Q_.getRawIndex=jo,Q_.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++)e.push(this.get(this.dimensions[n],t));return e},Q_.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||Eo(this,this._nameDimIdx,e)||""},Q_.getId=function(t){return ko(this,this.getRawIndex(t))},Q_.each=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;for(var i=(t=d(Do(t),this.getDimension,this)).length,a=0;a<this.count();a++)switch(i){case 0:e.call(n,a);break;case 1:e.call(n,this.get(t[0],a),a);break;case 2:e.call(n,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var o=0,s=[];o<i;o++)s[o]=this.get(t[o],a);s[o]=a,e.apply(n,s)}}},Q_.filterSelf=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=d(Do(t),this.getDimension,this);for(var i=this.count(),a=new(Oo(this))(i),o=[],s=t.length,u=0,l=t[0],c=0;c<i;c++){var h,f=this.getRawIndex(c);if(0===s)h=e.call(n,c);else if(1===s){var p=this._getFast(l,f);h=e.call(n,p,c)}else{for(var g=0;g<s;g++)o[g]=this._getFast(l,f);o[g]=c,h=e.apply(n,o)}h&&(a[u++]=f)}return u<i&&(this._indices=a),this._count=u,this._extent={},this.getRawIndex=this._indices?Po:jo,this}},Q_.selectRange=function(t){if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=e.length;if(r){var i=this.count(),a=new(Oo(this))(i),o=0,s=e[0],u=t[s][0],l=t[s][1],c=!1;if(!this._indices){var h=0;if(1===r){for(var f=this._storage[e[0]],d=0;d<this._chunkCount;d++)for(var p=f[d],g=Math.min(this._count-d*this._chunkSize,this._chunkSize),v=0;v<g;v++)((_=p[v])>=u&&_<=l||isNaN(_))&&(a[o++]=h),h++;c=!0}else if(2===r){f=this._storage[s];var m=this._storage[e[1]],y=t[e[1]][0],x=t[e[1]][1];for(d=0;d<this._chunkCount;d++){p=f[d];var b=m[d];for(g=Math.min(this._count-d*this._chunkSize,this._chunkSize),v=0;v<g;v++){var _=p[v],w=b[v];(_>=u&&_<=l||isNaN(_))&&(w>=y&&w<=x||isNaN(w))&&(a[o++]=h),h++}}c=!0}}if(!c)if(1===r)for(v=0;v<i;v++)M=this.getRawIndex(v),((_=this._getFast(s,M))>=u&&_<=l||isNaN(_))&&(a[o++]=M);else for(v=0;v<i;v++){var S=!0,M=this.getRawIndex(v);for(d=0;d<r;d++){var O=e[d];((_=this._getFast(n,M))<t[O][0]||_>t[O][1])&&(S=!1)}S&&(a[o++]=this.getRawIndex(v))}return o<i&&(this._indices=a),this._count=o,this._extent={},this.getRawIndex=this._indices?Po:jo,this}}},Q_.mapArray=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]);var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n=n||r||this),i},Q_.map=function(t,e,n,r){n=n||r||this;var i=Lo(this,t=d(Do(t),this.getDimension,this));i._indices=this._indices,i.getRawIndex=i._indices?Po:jo;for(var a=i._storage,o=[],s=this._chunkSize,u=t.length,l=this.count(),c=[],h=i._rawExtent,f=0;f<l;f++){for(var p=0;p<u;p++)c[p]=this.get(t[p],f);c[u]=f;var g=e&&e.apply(n,c);if(null!=g){"object"!=typeof g&&(o[0]=g,g=o);for(var v=this.getRawIndex(f),m=Math.floor(v/s),y=v%s,x=0;x<g.length;x++){var b=t[x],_=g[x],w=h[b],S=a[b];S&&(S[m][y]=_),_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}}return i},Q_.downSample=function(t,e,n,r){for(var i=Lo(this,[t]),a=i._storage,o=[],s=Math.floor(1/e),u=a[t],l=this.count(),c=this._chunkSize,h=i._rawExtent[t],f=new(Oo(this))(l),d=0,p=0;p<l;p+=s){s>l-p&&(o.length=s=l-p);for(var g=0;g<s;g++){var v=this.getRawIndex(p+g),m=Math.floor(v/c);o[g]=u[m][v%c]}var y=n(o),x=this.getRawIndex(Math.min(p+r(o,y)||0,l-1)),b=x%c;u[Math.floor(x/c)][b]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),f[d++]=x}return i._count=d,i._indices=f,i.getRawIndex=Po,i},Q_.getItemModel=function(t){var e=this.hostModel;return new Wr(this.getRawDataItem(t),e,e&&e.ecModel)},Q_.diff=function(t){var e=this;return new wo(t?t.getIndices():[],this.getIndices(),function(e){return ko(t,e)},function(t){return ko(e,t)})},Q_.getVisual=function(t){var e=this._visual;return e&&e[t]},Q_.setVisual=function(t,e){if(V_(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},Q_.setLayout=function(t,e){if(V_(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},Q_.getLayout=function(t){return this._layout[t]},Q_.getItemLayout=function(t){return this._itemLayouts[t]},Q_.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?a(this._itemLayouts[t]||{},e):e},Q_.clearItemLayouts=function(){this._itemLayouts.length=0},Q_.getItemVisual=function(t,e,n){var r=this._itemVisuals[t],i=r&&r[e];return null!=i||n?i:this.getVisual(e)},Q_.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{},i=this.hasItemVisual;if(this._itemVisuals[t]=r,V_(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a],i[a]=!0);else r[e]=n,i[e]=!0},Q_.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var J_=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};Q_.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(J_,e)),this._graphicEls[t]=e},Q_.getItemGraphicEl=function(t){return this._graphicEls[t]},Q_.eachItemGraphicEl=function(t,e){f(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},Q_.cloneShallow=function(t){if(!t){var e=d(this.dimensions,this.getDimensionInfo,this);t=new $_(e,this.hostModel)}return t._storage=this._storage,Ao(t,this),t._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,t.getRawIndex=t._indices?Po:jo,t},Q_.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(T(arguments)))})},Q_.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Q_.CHANGABLE_METHODS=["filterSelf","selectRange"];var K_=function(t,e){return No((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};Ho.prototype.parse=function(t){return t},Ho.prototype.getSetting=function(t){return this._setting[t]},Ho.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},Ho.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},Ho.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},Ho.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},Ho.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},Ho.prototype.getExtent=function(){return this._extent.slice()},Ho.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},Ho.prototype.isBlank=function(){return this._isBlank},Ho.prototype.setBlank=function(t){this._isBlank=t},Ho.prototype.getLabel=null,bn(Ho),Mn(Ho,{registerWhenExtend:!0}),Wo.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&d(n,Uo);return new Wo({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var tw=Wo.prototype;tw.getOrdinal=function(t){return qo(this).get(t)},tw.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var r=qo(this);return null==(e=r.get(t))&&(n?(this.categories[e=this.categories.length]=t,r.set(t,e)):e=NaN),e};var ew=Ho.prototype,nw=Ho.extend({type:"ordinal",init:function(t,e){t&&!y(t)||(t=new Wo({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),ew.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return ew.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(ew.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:z,niceExtent:z});nw.create=function(){return new nw};var rw=$r,iw=$r,aw=Ho.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),aw.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Yo(t)},getTicks:function(){return function(t,e,n,r){var i=[];if(!t)return i;e[0]<n[0]&&i.push(e[0]);for(var a=n[0];a<=n[1]&&(i.push(a),(a=rw(a+t,r))!==i[i.length-1]);)if(i.length>1e4)return[];return e[1]>(i.length?i[i.length-1]:n[1])&&i.push(e[1]),i}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=Kr(t)||0:"auto"===n&&(n=this._intervalPrecision),ci(t=iw(t,n,!0))},niceTicks:function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var a=function(t,e,n,r){var i={},a=i.interval=si((t[1]-t[0])/e,!0);null!=n&&a<n&&(a=i.interval=n),null!=r&&a>r&&(a=i.interval=r);var o=i.intervalPrecision=Yo(a);return Zo(i.niceTickExtent=[rw(Math.ceil(t[0]/a)*a,o),rw(Math.floor(t[1]/a)*a,o)],t),i}(r,t,e,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;isFinite(e[1]-e[0])||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=iw(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=iw(Math.ceil(e[1]/r)*r))}});aw.create=function(){return new aw};var ow="__ec_stack_",sw="undefined"!=typeof Float32Array?Float32Array:Array,uw={seriesType:"bar",plan:Pb(),reset:function(t){if(rs(t)&&is(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),a=e.mapDimension(i.dim),o=e.mapDimension(r.dim),s=i.isHorizontal(),u=s?0:1,l=es(Ko([t]),r,t).width;return l>.5||(l=.5),{progress:function(t,e){for(var r,c=new sw(2*t.count),h=[],f=[],d=0;null!=(r=t.next());)f[u]=e.get(a,r),f[1-u]=e.get(o,r),h=n.dataToPoint(f,null,h),c[d++]=h[0],c[d++]=h[1];e.setLayout({largePoints:c,barWidth:l,valueAxisStart:as(0,i),valueAxisHorizontal:s})}}}}},lw=aw.prototype,cw=Math.ceil,hw=Math.floor,fw=aw.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return mi(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=$r(hw(e[0]/r)*r)),t.fixMax||(e[1]=$r(cw(e[1]/r)*r))},niceTicks:function(t,e,n){var r=this._extent,i=r[1]-r[0],a=i/(t=t||10);null!=e&&a<e&&(a=e),null!=n&&a>n&&(a=n);var o=dw.length,s=function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n}(dw,a,0,o),u=dw[Math.min(s,o-1)],l=u[1];"year"===u[0]&&(l*=si(i/l/t,!0));var c=this.getSetting("useUTC")?0:60*new Date(+r[0]||+r[1]).getTimezoneOffset()*1e3,h=[Math.round(cw((r[0]-c)/l)*l+c),Math.round(hw((r[1]-c)/l)*l+c)];Zo(h,r),this._stepLvl=u,this._interval=l,this._niceExtent=h},parse:function(t){return+ii(t)}});f(["contain","normalize"],function(t){fw.prototype[t]=function(e){return lw[t].call(this,this.parse(e))}});var dw=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];fw.create=function(t){return new fw({useUTC:t.ecModel.get("useUTC")})};var pw=Ho.prototype,gw=aw.prototype,vw=Kr,mw=$r,yw=Math.floor,xw=Math.ceil,bw=Math.pow,_w=Math.log,ww=Ho.extend({type:"log",base:10,$constructor:function(){Ho.apply(this,arguments),this._originalScale=new aw},getTicks:function(){var t=this._originalScale,e=this._extent,n=t.getExtent();return d(gw.getTicks.call(this),function(r){var i=$r(bw(this.base,r));return i=r===e[0]&&t.__fixMin?os(i,n[0]):i,r===e[1]&&t.__fixMax?os(i,n[1]):i},this)},getLabel:gw.getLabel,scale:function(t){return t=pw.scale.call(this,t),bw(this.base,t)},setExtent:function(t,e){var n=this.base;t=_w(t)/_w(n),e=_w(e)/_w(n),gw.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=pw.getExtent.call(this);e[0]=bw(t,e[0]),e[1]=bw(t,e[1]);var n=this._originalScale,r=n.getExtent();return n.__fixMin&&(e[0]=os(e[0],r[0])),n.__fixMax&&(e[1]=os(e[1],r[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=_w(t[0])/_w(e),t[1]=_w(t[1])/_w(e),pw.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=ai(n);for(t/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[$r(xw(e[0]/r)*r),$r(yw(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},niceExtent:function(t){gw.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});f(["contain","normalize"],function(t){ww.prototype[t]=function(e){return e=_w(e)/_w(this.base),pw[t].call(this,e)}}),ww.create=function(){return new ww};var Sw={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!O(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!O(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:z,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Mw=or({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r+a),t.lineTo(n-i,r+a),t.closePath()}}),Ow=or({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r),t.lineTo(n,r+a),t.lineTo(n-i,r),t.closePath()}}),Cw=or({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),u=r-a+o+s,l=Math.asin(s/o),c=Math.cos(l)*o,h=Math.sin(l),f=Math.cos(l),d=.6*o,p=.7*o;t.moveTo(n-c,u+s),t.arc(n,u,o,Math.PI-l,2*Math.PI+l),t.bezierCurveTo(n+c-h*d,u+s+f*d,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-c+h*d,u+s+f*d,n-c,u+s),t.closePath()}}),Aw=or({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.x,i=e.y,a=e.width/3*2;t.moveTo(r,i),t.lineTo(r+a,i+n),t.lineTo(r,i+n/4*3),t.lineTo(r-a,i+n),t.lineTo(r,i),t.closePath()}}),Iw={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var a=Math.min(n,r);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},Tw={};f({line:ex,rect:Ky,roundRect:Ky,square:Ky,circle:Gy,diamond:Ow,pin:Cw,arrow:Aw,triangle:Mw},function(t,e){Tw[e]=new t});var Ew=or({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var r=e.symbolType,i=Tw[r];"none"!==e.symbolType&&(i||(i=Tw[r="rect"]),Iw[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n))}}),jw=(Object.freeze||Object)({createList:function(t){return Go(t.getSource(),t)},getLayoutRect:bi,dataStack:{isDimensionStacked:Fo,enableDataStack:Bo,getStackedDimension:Vo},createScale:function(t,e){var n=e;Wr.isInstance(e)||c(n=new Wr(e),Sw);var r=ls(n);return r.setExtent(t[0],t[1]),us(r,n),r},mixinAxisModelCommonMethods:function(t){c(t,Sw)},completeDimensions:No,createDimensions:K_,createSymbol:vs}),Pw=1e-8;xs.prototype={constructor:xs,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],r=[-e,-e],i=[],a=[],o=this.geometries,s=0;s<o.length;s++)"polygon"===o[s].type&&(Ln(o[s].exterior,i,a),tt(n,n,i),et(r,r,a));return 0===s&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new ie(n[0],n[1],r[0]-n[0],r[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++)if("polygon"===n[r].type){var a=n[r].interiors;if(ys(n[r].exterior,t[0],t[1])){for(var o=0;o<(a?a.length:0);o++)if(ys(a[o]))continue t;return!0}}return!1},transformTo:function(t,e,n,r){var i=this.getBoundingRect(),a=i.width/i.height;n?r||(r=n/a):n=a*r;for(var o=new ie(t,e,n,r),s=i.calculateTransform(o),u=this.geometries,l=0;l<u.length;l++)if("polygon"===u[l].type){for(var c=u[l].exterior,h=u[l].interiors,f=0;f<c.length;f++)K(c[f],c[f],s);for(var d=0;d<(h?h.length:0);d++)for(f=0;f<h[d].length;f++)K(h[d][f],h[d][f],s)}(i=this._rect).copy(o),this.center=[i.x+i.width/2,i.y+i.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new xs(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var kw=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,r=0;r<n.length;r++)for(var i=n[r].geometry,a=i.coordinates,o=i.encodeOffsets,s=0;s<a.length;s++){var u=a[s];if("Polygon"===i.type)a[s]=bs(u,o[s],e);else if("MultiPolygon"===i.type)for(var l=0;l<u.length;l++)u[l]=bs(u[l],o[s][l],e)}t.UTF8Encoding=!1}(t),d(g(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,n=t.geometry,r=n.coordinates,i=[];"Polygon"===n.type&&i.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===n.type&&f(r,function(t){t[0]&&i.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var a=new xs(e.name,i,e.cp);return a.properties=e,a})},Dw=dn(),Lw=[0,1],Rw=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};Rw.prototype={constructor:Rw,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return ti(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&As(n=n.slice(),r.count()),Xr(t,Lw,n,e)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&As(n=n.slice(),r.count());var i=Xr(t,n,Lw,e);return this.scale.scale(i)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=function(t,e){return"category"===t.type?function(t,e){var n,r,i=ws(t,"ticks"),a=ds(e),o=Ss(i,a);if(o)return o;if(e.get("show")&&!t.scale.isBlank()||(n=[]),x(a))n=Cs(t,a,!0);else if("auto"===a){var s=_s(t,t.getLabelModel());r=s.labelCategoryInterval,n=d(s.labels,function(t){return t.tickValue})}else n=Os(t,r=a,!0);return Ms(i,a,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:t.scale.getTicks()}}(this,e),r=d(n.ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this);return function(t,e,n,r,i){function a(t,e){return c?t>e:t<e}var o=e.length;if(t.onBand&&!r&&o){var s,u=t.getExtent();if(1===o)e[0].coord=u[0],s=e[1]={coord:u[0]};else{var l=e[1].coord-e[0].coord;f(e,function(t){t.coord-=l/2;var e=e||0;e%2>0&&(t.coord-=l/(2*(e+1)))}),e.push(s={coord:e[o-1].coord+l})}var c=u[0]>u[1];a(e[0].coord,u[0])&&(i?e[0].coord=u[0]:e.shift()),i&&a(u[0],e[0].coord)&&e.unshift({coord:u[0]}),a(u[1],s.coord)&&(i?s.coord=u[1]:e.pop()),i&&a(s.coord,u[1])&&e.push({coord:u[1]})}}(this,r,0,e.get("alignWithLabel"),t.clamp),r},getViewLabels:function(){return(t=this,"category"===t.type?function(t){var e=t.getLabelModel(),n=_s(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=cs(t);return{labels:d(e,function(e,r){return{formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e}})}}(t)).labels;var t},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=cs(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(l*Math.cos(r)),h=Math.abs(l*Math.sin(r)),f=0,d=0;u<=a[1];u+=s){var p,g=xe(n(u),e.font,"center","top");p=1.3*g.height,f=Math.max(f,1.3*g.width,7),d=Math.max(d,p,7)}var v=f/c,m=d/h;isNaN(v)&&(v=1/0),isNaN(m)&&(m=1/0);var y=Math.max(0,Math.floor(Math.min(v,m))),x=Dw(t.model),b=x.lastAutoInterval,_=x.lastTickCount;return null!=b&&null!=_&&Math.abs(b-y)<=1&&Math.abs(_-o)<=1&&b>y?y=b:(x.lastTickCount=o,x.lastAutoInterval=y),y}(this)}};var Nw=kw,zw={};f(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){zw[t]=Ug[t]});var Bw={};f(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){Bw[t]=yx[t]}),Tb.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return Go(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Fw=Ts.prototype,Vw=Ts.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};Fw._createSymbol=function(t,e,n,r,i){this.removeAll();var a=vs(t,-1,-1,2,2,e.getItemVisual(n,"color"),i);a.attr({z2:100,culling:!0,scale:Es(r)}),a.drift=js,this._symbolType=t,this.add(a)},Fw.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},Fw.getSymbolPath=function(){return this.childAt(0)},Fw.getScale=function(){return this.childAt(0).scale},Fw.highlight=function(){this.childAt(0).trigger("emphasis")},Fw.downplay=function(){this.childAt(0).trigger("normal")},Fw.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},Fw.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},Fw.updateData=function(t,e,n){this.silent=!1;var r=t.getItemVisual(e,"symbol")||"circle",i=t.hostModel,a=Vw(t,e),o=r!==this._symbolType;if(o){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(r,t,e,a,s)}else(u=this.childAt(0)).silent=!1,Rr(u,{scale:Es(a)},i,e);if(this._updateCommon(t,e,a,n),o){var u=this.childAt(0),l=n&&n.fadeIn,c={scale:u.scale.slice()};l&&(c.style={opacity:u.style.opacity}),u.scale=[0,0],l&&(u.style.opacity=0),Nr(u,c,i,e)}this._seriesModel=i};var Gw=["itemStyle"],Hw=["emphasis","itemStyle"],Ww=["label"],qw=["emphasis","label"];Fw._updateCommon=function(t,e,n,r){var i=this.childAt(0),o=t.hostModel,s=t.getItemVisual(e,"color");"image"!==i.type&&i.useStyle({strokeNoScale:!0});var u=r&&r.itemStyle,l=r&&r.hoverItemStyle,c=r&&r.symbolRotate,h=r&&r.symbolOffset,f=r&&r.labelModel,d=r&&r.hoverLabelModel,p=r&&r.hoverAnimation,g=r&&r.cursorStyle;if(!r||t.hasItemOption){var v=r&&r.itemModel?r.itemModel:t.getItemModel(e);u=v.getModel(Gw).getItemStyle(["color"]),l=v.getModel(Hw).getItemStyle(),c=v.getShallow("symbolRotate"),h=v.getShallow("symbolOffset"),f=v.getModel(Ww),d=v.getModel(qw),p=v.getShallow("hoverAnimation"),g=v.getShallow("cursor")}else l=a({},l);var m=i.style;i.attr("rotation",(c||0)*Math.PI/180||0),h&&i.attr("position",[Zr(h[0],n[0]),Zr(h[1],n[1])]),g&&i.attr("cursor",g),i.setColor(s,r&&r.symbolInnerColor),i.setStyle(u);var y=t.getItemVisual(e,"opacity");null!=y&&(m.opacity=y);var x=t.getItemVisual(e,"liftZ"),b=i.__z2Origin;null!=x?null==b&&(i.__z2Origin=i.z2,i.z2+=x):null!=b&&(i.z2=b,i.__z2Origin=null);var _=r&&r.useNameLabel;Ar(m,l,f,d,{labelFetcher:o,labelDataIndex:e,defaultText:function(e,n){return _?t.getName(e):Is(t,e)},isRectText:!0,autoColor:s}),i.off("mouseover").off("mouseout").off("emphasis").off("normal"),i.hoverStyle=l,Or(i),i.__symbolOriginalScale=Es(n),p&&o.isAnimationEnabled()&&i.on("mouseover",Ps).on("mouseout",ks).on("emphasis",Ds).on("normal",Ls)},Fw.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,!(e&&e.keepLabel)&&(n.style.text=null),Rr(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},l(Ts,Lv);var Uw=Rs.prototype;Uw.updateData=function(t,e){e=zs(e);var n=this.group,r=t.hostModel,i=this._data,a=this._symbolCtor,o=Bs(t);i||n.removeAll(),t.diff(i).add(function(r){var i=t.getItemLayout(r);if(Ns(t,i,r,e)){var s=new a(t,r,o);s.attr("position",i),t.setItemGraphicEl(r,s),n.add(s)}}).update(function(s,u){var l=i.getItemGraphicEl(u),c=t.getItemLayout(s);Ns(t,c,s,e)?(l?(l.updateData(t,s,o),Rr(l,{position:c},r)):(l=new a(t,s)).attr("position",c),n.add(l),t.setItemGraphicEl(s,l)):n.remove(l)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},Uw.isPersistent=function(){return!0},Uw.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var r=t.getItemLayout(n);e.attr("position",r)})},Uw.incrementalPrepareUpdate=function(t){this._seriesScope=Bs(t),this._data=null,this.group.removeAll()},Uw.incrementalUpdate=function(t,e,n){n=zs(n);for(var r=t.start;r<t.end;r++){var i=e.getItemLayout(r);if(Ns(e,i,r,n)){var a=new this._symbolCtor(e,r,this._seriesScope);a.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),a.attr("position",i),this.group.add(a),e.setItemGraphicEl(r,a)}}},Uw.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var Yw=tt,Xw=et,Zw=W,$w=F,Qw=[],Jw=[],Kw=[],tS=Qn.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Wy(Qn.prototype.brush),buildPath:function(t,e){var n=e.points,r=0,i=n.length,a=Ws(n,e.smoothConstraint);if(e.connectNulls){for(;i>0&&Gs(n[i-1]);i--);for(;r<i&&Gs(n[r]);r++);}for(;r<i;)r+=Hs(t,n,r,i,i,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),eS=Qn.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Wy(Qn.prototype.brush),buildPath:function(t,e){var n=e.points,r=e.stackedOnPoints,i=0,a=n.length,o=e.smoothMonotone,s=Ws(n,e.smoothConstraint),u=Ws(r,e.smoothConstraint);if(e.connectNulls){for(;a>0&&Gs(n[a-1]);a--);for(;i<a&&Gs(n[i]);i++);}for(;i<a;){var l=Hs(t,n,i,a,a,1,s.min,s.max,e.smooth,o,e.connectNulls);Hs(t,r,i+l-1,l,a,-1,u.min,u.max,e.stackedOnSmooth,o,e.connectNulls),i+=l+1,t.closePath()}}});pa.extend({type:"line",init:function(){var t=new Lv,e=new Rs;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var r=t.coordinateSystem,i=this.group,a=t.getData(),s=t.getModel("lineStyle"),u=t.getModel("areaStyle"),l=a.mapArray(a.getItemLayout),c="polar"===r.type,h=this._coordSys,f=this._symbolDraw,d=this._polyline,p=this._polygon,g=this._lineGroup,v=t.get("animation"),m=!u.isEmpty(),y=u.get("origin"),x=function(t,e,n){if(!n.valueDim)return[];for(var r=[],i=0,a=e.count();i<a;i++)r.push(Vs(n,t,e,i));return r}(r,a,Fs(r,a,y)),b=t.get("showSymbol"),_=b&&!c&&Qs(t,a,r),w=this._data;w&&w.eachItemGraphicEl(function(t,e){t.__temp&&(i.remove(t),w.setItemGraphicEl(e,null))}),b||f.remove(),i.add(g);var S=!c&&t.get("step");d&&h.type===r.type&&S===this._step?(m&&!p?p=this._newPolygon(l,x,r,v):p&&!m&&(g.remove(p),p=this._polygon=null),g.setClipPath(Xs(r,!1,!1,t)),b&&f.updateData(a,{isIgnore:_,clipShape:Xs(r,!1,!0,t)}),a.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),qs(this._stackedOnPoints,x)&&qs(this._points,l)||(v?this._updateAnimation(a,x,r,n,S,y):(S&&(l=Zs(l,r,S),x=Zs(x,r,S)),d.setShape({points:l}),p&&p.setShape({points:l,stackedOnPoints:x})))):(b&&f.updateData(a,{isIgnore:_,clipShape:Xs(r,!1,!0,t)}),S&&(l=Zs(l,r,S),x=Zs(x,r,S)),d=this._newPolyline(l,r,v),m&&(p=this._newPolygon(l,x,r,v)),g.setClipPath(Xs(r,!0,!1,t)));var M=$s(a,r)||a.getVisual("color");d.useStyle(o(s.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var O=t.get("smooth");if(O=Us(t.get("smooth")),d.setShape({smooth:O,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),p){var C=a.getCalculationInfo("stackedOnSeries"),A=0;p.useStyle(o(u.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),C&&(A=Us(C.get("smooth"))),p.setShape({smooth:O,stackedOnSmooth:A,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=a,this._coordSys=r,this._stackedOnPoints=x,this._points=l,this._step=S,this._valueOrigin=y},dispose:function(){},highlight:function(t,e,n,r){var i=t.getData(),a=fn(i,r);if(!(a instanceof Array)&&null!=a&&a>=0){var o=i.getItemGraphicEl(a);if(!o){var s=i.getItemLayout(a);if(!s)return;(o=new Ts(i,a)).position=s,o.setZ(t.get("zlevel"),t.get("z")),o.ignore=isNaN(s[0])||isNaN(s[1]),o.__temp=!0,i.setItemGraphicEl(a,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else pa.prototype.highlight.call(this,t,e,n,r)},downplay:function(t,e,n,r){var i=t.getData(),a=fn(i,r);if(null!=a&&a>=0){var o=i.getItemGraphicEl(a);o&&(o.__temp?(i.setItemGraphicEl(a,null),this.group.remove(o)):o.downplay())}else pa.prototype.downplay.call(this,t,e,n,r)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new tS({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new eS({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(t,e,n,r,i,a){var o=this._polyline,s=this._polygon,u=t.hostModel,l=function(t,e,n,r,i,a,o,s){for(var u=function(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}(t,e),l=[],c=[],h=[],f=[],d=[],p=[],g=[],v=Fs(i,e,o),m=Fs(a,t,s),y=0;y<u.length;y++){var x=u[y],b=!0;switch(x.cmd){case"=":var _=t.getItemLayout(x.idx),w=e.getItemLayout(x.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=w.slice()),l.push(_),c.push(w),h.push(n[x.idx]),f.push(r[x.idx1]),g.push(e.getRawIndex(x.idx1));break;case"+":l.push(i.dataToPoint([e.get(v.dataDimsForPoint[0],S=x.idx),e.get(v.dataDimsForPoint[1],S)])),c.push(e.getItemLayout(S).slice()),h.push(Vs(v,i,e,S)),f.push(r[S]),g.push(e.getRawIndex(S));break;case"-":var S=x.idx,M=t.getRawIndex(S);M!==S?(l.push(t.getItemLayout(S)),c.push(a.dataToPoint([t.get(m.dataDimsForPoint[0],S),t.get(m.dataDimsForPoint[1],S)])),h.push(n[S]),f.push(Vs(m,a,t,S)),g.push(M)):b=!1}b&&(d.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var O=[],C=[],A=[],I=[],T=[];for(y=0;y<p.length;y++)O[y]=l[S=p[y]],C[y]=c[S],A[y]=h[S],I[y]=f[S],T[y]=d[S];return{current:O,next:C,stackedOnCurrent:A,stackedOnNext:I,status:T}}(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,a),c=l.current,h=l.stackedOnCurrent,f=l.next,d=l.stackedOnNext;i&&(c=Zs(l.current,n,i),h=Zs(l.stackedOnCurrent,n,i),f=Zs(l.next,n,i),d=Zs(l.stackedOnNext,n,i)),o.shape.__points=l.current,o.shape.points=c,Rr(o,{shape:{points:f}},u),s&&(s.setShape({points:c,stackedOnPoints:h}),Rr(s,{shape:{points:f,stackedOnPoints:d}},u));for(var p=[],g=l.status,v=0;v<g.length;v++)if("="===g[v].cmd){var m=t.getItemGraphicEl(g[v].idx1);m&&p.push({el:m,ptIdx:v})}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t=0;t<p.length;t++)p[t].el.attr("position",o.shape.__points[p[t].ptIdx])})},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var nS=function(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,r,i){var a=t.getData(),o=t.get("symbol")||e,s=t.get("symbolSize"),u=t.get("symbolKeepAspect");if(a.setVisual({legendSymbol:n||o,symbol:o,symbolSize:s,symbolKeepAspect:u}),!r.isSeriesFiltered(t))return{dataEach:a.hasItemOption||"function"==typeof s?function(e,n){if("function"==typeof s){var r=t.getRawValue(n),i=t.getDataParams(n);e.setItemVisual(n,"symbolSize",s(r,i))}if(e.hasItemOption){var a=e.getItemModel(n),o=a.getShallow("symbol",!0),u=a.getShallow("symbolSize",!0),l=a.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(n,"symbol",o),null!=u&&e.setItemVisual(n,"symbolSize",u),null!=l&&e.setItemVisual(n,"symbolKeepAspect",l)}}:null}}}},rS=function(t){return{seriesType:t,plan:Pb(),reset:function(t){var e=t.getData(),n=t.coordinateSystem,r=t.pipelineContext.large;if(n){var i=d(n.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),a=i.length,o=e.getCalculationInfo("stackResultDimension");return Fo(e,i[0])&&(i[0]=o),Fo(e,i[1])&&(i[1]=o),a&&{progress:function(t,e){for(var o=r&&new Float32Array((t.end-t.start)*a),s=t.start,u=0,l=[],c=[];s<t.end;s++){var h;if(1===a)f=e.get(i[0],s),h=!isNaN(f)&&n.dataToPoint(f,null,c);else{var f=l[0]=e.get(i[0],s),d=l[1]=e.get(i[1],s);h=!isNaN(f)&&!isNaN(d)&&n.dataToPoint(l,null,c)}r?(o[u++]=h?h[0]:NaN,o[u++]=h?h[1]:NaN):e.setItemLayout(s,h&&h.slice()||[NaN,NaN])}r&&e.setLayout("symbolPoints",o)}}}}}},iS={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},aS=function(t,e){return Math.round(t.length/2)},oS=function(t){this._axes={},this._dimList=[],this.name=t||""};oS.prototype={constructor:oS,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return d(this._dimList,Js,this)},getAxesByScale:function(t){return t=t.toLowerCase(),g(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,r=t instanceof Array?[]:{},i=0;i<n.length;i++){var a=n[i];r[a]=this._axes[a][e](t[a])}return r}},Ks.prototype={constructor:Ks,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var r=this.getAxis("x"),i=this.getAxis("y");return(n=n||[])[0]=r.toGlobalCoord(r.dataToCoord(t[0])),n[1]=i.toGlobalCoord(i.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),a=r.getExtent(),o=n.parse(t[0]),s=r.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),r=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=r.coordToData(r.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},l(Ks,oS);var sS=function(t,e,n,r,i){Rw.call(this,t,e,n),this.type=r||"value",this.position=i||"bottom"};sS.prototype={constructor:sS,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},l(sS,Rw);var uS={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},lS={};lS.categoryAxis=r({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},uS),lS.valueAxis=r({boundaryGap:[0,0],splitNumber:5},uS),lS.timeAxis=o({scale:!0,min:"dataMin",max:"dataMax"},lS.valueAxis),lS.logAxis=o({scale:!0,logBase:10},lS.valueAxis);var cS=["value","category","time","log"],hS=function(t,e,n,a){f(cS,function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,i){var a=this.layoutMode,s=a?Si(e):{};r(e,i.getTheme().get(o+"Axis")),r(e,this.getDefaultOption()),e.type=n(t,e),a&&wi(e,s,a)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Wo.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i([{},lS[o+"Axis"],a],!0)})}),Wx.registerSubTypeDefaulter(t+"Axis",m(n,t))},fS=Wx.extend({type:"cartesian2dAxis",axis:null,init:function(){fS.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){fS.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){fS.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});r(fS.prototype,Sw);var dS={offset:0};hS("x",fS,tu,dS),hS("y",fS,tu,dS),Wx.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var pS=nu.prototype;pS.type="grid",pS.axisPointerEnabled=!0,pS.getRect=function(){return this._rect},pS.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),f(n.x,function(t){us(t.scale,t.model)}),f(n.y,function(t){us(t.scale,t.model)});var r={};f(n.x,function(t){ru(n,"y",t,r)}),f(n.y,function(t){ru(n,"x",t,r)}),this.resize(this.model,e)},pS.resize=function(t,e,n){function r(){f(a,function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),function(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return r-t+e}}(t,e?i.x:i.y)})}var i=bi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var a=this._axesList;r(),!n&&t.get("containLabel")&&(f(a,function(t){if(!t.model.get("axisLabel.inside")){var e=function(t){var e=t.scale;if(t.model.get("axisLabel.show")&&!e.isBlank()){var n,r,i="category"===t.type,a=e.getExtent();r=i?e.count():(n=e.getTicks()).length;var o,s=t.getLabelModel(),u=cs(t),l=1;r>40&&(l=Math.ceil(r/40));for(var c=0;c<r;c+=l){var h=u(n?n[c]:a[0]+c),f=fs(s.getTextRect(h),s.get("rotate")||0);o?o.union(f):o=f}return o}}(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get("axisLabel.margin");i[n]-=e[n]+r,"top"===t.position?i.y+=e.height+r:"left"===t.position&&(i.x+=e.width+r)}}}),r())},pS.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var r in n)if(n.hasOwnProperty(r))return n[r];return n[e]}},pS.getAxes=function(){return this._axesList.slice()},pS.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];_(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,r=this._coordsList;n<r.length;n++)if(r[n].getAxis("x").index===t||r[n].getAxis("y").index===e)return r[n]},pS.getCartesians=function(){return this._coordsList.slice()},pS.convertToPixel=function(t,e,n){var r=this._findConvertTarget(t,e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},pS.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(t,e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},pS._findConvertTarget=function(t,e){var n,r,i=e.seriesModel,a=e.xAxisModel||i&&i.getReferringComponents("xAxis")[0],o=e.yAxisModel||i&&i.getReferringComponents("yAxis")[0],s=e.gridModel;return i?u(this._coordsList,n=i.coordinateSystem)<0&&(n=null):a&&o?n=this.getCartesian(a.componentIndex,o.componentIndex):a?r=this.getAxis("x",a.componentIndex):o?r=this.getAxis("y",o.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:r}},pS.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},pS._initCartesian=function(t,e,n){function r(e){return function(n,r){if(eu(n,t)){var s=n.get("position");"x"===e?"top"!==s&&"bottom"!==s&&i[s="bottom"]&&(s="top"===s?"bottom":"top"):"left"!==s&&"right"!==s&&i[s="left"]&&(s="left"===s?"right":"left"),i[s]=!0;var u=new sS(e,ls(n),[0,0],n.get("type"),s);u.onBand="category"===u.type&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=this,u.index=r,this._axesList.push(u),a[e][r]=u,o[e]++}}}var i={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},o={x:0,y:0};if(e.eachComponent("xAxis",r("x"),this),e.eachComponent("yAxis",r("y"),this),!o.x||!o.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=a,f(a.x,function(e,n){f(a.y,function(r,i){var a="x"+n+"y"+i,o=new Ks(a);o.grid=this,o.model=t,this._coordsMap[a]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(r)},this)},this)},pS._updateScale=function(t,e){function n(t,e,n){f(t.mapDimension(e.dim,!0),function(n){e.scale.unionExtentFromData(t,Vo(t,n))})}f(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(ou(t)){var r=au(t),i=r[0],a=r[1];if(!eu(i,e)||!eu(a,e))return;var o=this.getCartesian(i.componentIndex,a.componentIndex),s=t.getData(),u=o.getAxis("x"),l=o.getAxis("y");"list"===s.type&&(n(s,u),n(s,l))}},this)},pS.getTooltipAxes=function(t){var e=[],n=[];return f(this.getCartesians(),function(r){var i=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(i);u(e,i)<0&&e.push(i),u(n,a)<0&&n.push(a)}),{baseAxes:e,otherAxes:n}};var gS=["xAxis","yAxis"];nu.create=function(t,e){var n=[];return t.eachComponent("grid",function(r,i){var a=new nu(r,t,e);a.name="grid_"+i,a.resize(r,e,!0),r.coordinateSystem=a,n.push(a)}),t.eachSeries(function(t){if(ou(t)){var e=au(t),n=e[0],r=e[1],i=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}}),n},nu.dimensions=nu.prototype.dimensions=Ks.prototype.dimensions,Ni.register("cartesian2d",nu);var vS=Math.PI,mS=function(t,e){this.opt=e,this.axisModel=t,o(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Lv;var n=new Lv({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};mS.prototype={constructor:mS,hasBuilder:function(t){return!!yS[t]},add:function(t){yS[t].call(this)},getGroup:function(){return this.group}};var yS={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),r=this._transform,i=[n[0],0],o=[n[1],0];r&&(K(i,i,r),K(o,o,r));var s=a({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new ex(hr({anid:"line",shape:{x1:i[0],y1:i[1],x2:o[0],y2:o[1]},style:s,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var u=e.get("axisLine.symbol"),l=e.get("axisLine.symbolSize"),c=e.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=u){"string"==typeof u&&(u=[u,u]),"string"!=typeof l&&"number"!=typeof l||(l=[l,l]);var h=l[0],d=l[1];f([{rotate:t.rotation+Math.PI/2,offset:c[0],r:0},{rotate:t.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((i[0]-o[0])*(i[0]-o[0])+(i[1]-o[1])*(i[1]-o[1]))}],function(e,n){if("none"!==u[n]&&null!=u[n]){var r=vs(u[n],-h/2,-d/2,h,d,s.stroke,!0),a=e.r+e.offset,o=[i[0]+a*Math.cos(t.rotation),i[1]-a*Math.sin(t.rotation)];r.attr({rotation:e.rotate,position:o,silent:!0,z2:11}),this.group.add(r)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var r=e.axis;if(e.get("axisTick.show")&&!r.scale.isBlank()){for(var i=e.getModel("axisTick"),a=i.getModel("lineStyle"),s=i.get("length"),u=r.getTicksCoords(),l=[],c=[],h=t._transform,f=[],d=0;d<u.length;d++){var p=u[d].coord;l[0]=p,l[1]=0,c[0]=p,c[1]=n.tickDirection*s,h&&(K(l,l,h),K(c,c,h));var g=new ex(hr({anid:"tick_"+u[d].tickValue,shape:{x1:l[0],y1:l[1],x2:c[0],y2:c[1]},style:o(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(g),f.push(g)}return f}}(this,t,e);!function(t,e,n){if(!ps(t.axis)){var r=t.get("axisLabel.showMinLabel"),i=t.get("axisLabel.showMaxLabel"),a=(e=e||[])[0],o=e[1],s=e[e.length-1],u=e[e.length-2],l=(n=n||[])[0],c=n[1],h=n[n.length-1],f=n[n.length-2];!1===r?(lu(a),lu(l)):cu(a,o)&&(r?(lu(o),lu(c)):(lu(a),lu(l))),!1===i?(lu(s),lu(h)):cu(u,s)&&(i?(lu(u),lu(f)):(lu(s),lu(h)))}}(t,function(t,e,n){var r=e.axis;if(C(n.axisLabelShow,e.get("axisLabel.show"))&&!r.scale.isBlank()){var i=e.getModel("axisLabel"),a=i.get("margin"),o=r.getViewLabels(),s=(C(n.labelRotate,i.get("rotate"))||0)*vS/180,u=xS(n.rotation,s,n.labelDirection),l=e.getCategories(!0),c=[],h=uu(e),d=e.get("triggerEvent");return f(o,function(o,s){var f=o.tickValue,p=o.formattedLabel,g=o.rawLabel,v=i;l&&l[f]&&l[f].textStyle&&(v=new Wr(l[f].textStyle,i,e.ecModel));var m=v.getTextColor()||e.get("axisLine.lineStyle.color"),y=[r.dataToCoord(f),n.labelOffset+n.labelDirection*a],x=new Vy({anid:"label_"+f,position:y,rotation:u.rotation,silent:h,z2:10});Ir(x.style,v,{text:p,textAlign:v.getShallow("align",!0)||u.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||u.textVerticalAlign,textFill:"function"==typeof m?m("category"===r.type?g:"value"===r.type?f+"":f,s):m}),d&&(x.eventData=su(e),x.eventData.targetType="axisLabel",x.eventData.value=g),t._dumbGroup.add(x),x.updateTransform(),c.push(x),t.group.add(x),x.decomposeTransform()}),c}}(this,t,e),n)},axisName:function(){var t=this.opt,e=this.axisModel,n=C(t.axisName,e.get("name"));if(n){var r,i,o=e.get("nameLocation"),s=t.nameDirection,u=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=this.axisModel.axis.getExtent(),h=c[0]>c[1]?-1:1,f=["start"===o?c[0]-h*l:"end"===o?c[1]+h*l:(c[0]+c[1])/2,hu(o)?t.labelOffset+s*l:0],d=e.get("nameRotate");null!=d&&(d=d*vS/180),hu(o)?r=xS(t.rotation,null!=d?d:t.rotation,s):(r=function(t,e,n,r){var i,a,o=ni((d||0)-t.rotation),s=r[0]>r[1],u="start"===e&&!s||"start"!==e&&s;return ri(o-vS/2)?(a=u?"bottom":"top",i="center"):ri(o-1.5*vS)?(a=u?"top":"bottom",i="center"):(a="middle",i=o<1.5*vS&&o>vS/2?u?"left":"right":u?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:a}}(t,o,0,c),null!=(i=t.axisNameAvailableWidth)&&(i=Math.abs(i/Math.sin(r.rotation)),!isFinite(i)&&(i=null)));var p=u.getFont(),g=e.get("nameTruncate",!0)||{},v=g.ellipsis,m=C(t.nameTruncateMaxWidth,g.maxWidth,i),y=null!=v&&null!=m?Rx(n,m,p,v,{minChar:2,placeholder:g.placeholder}):n,x=e.get("tooltip",!0),b=e.mainType,_={componentType:b,name:n,$vars:["name"]};_[b+"Index"]=e.componentIndex;var w=new Vy({anid:"name",__fullText:n,__truncatedText:y,position:f,rotation:r.rotation,silent:uu(e),z2:1,tooltip:x&&x.show?a({content:n,formatter:function(){return n},formatterParams:_},x):null});Ir(w.style,u,{text:y,textFont:p,textFill:u.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:r.textAlign,textVerticalAlign:r.textVerticalAlign}),e.get("triggerEvent")&&(w.eventData=su(e),w.eventData.targetType="axisName",w.eventData.name=n),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},xS=mS.innerTextLayout=function(t,e,n){var r,i,a=ni(e-t);return ri(a)?(i=n>0?"top":"bottom",r="center"):ri(a-vS)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=a>0&&a<vS?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:i}},bS=f,_S=m,wS=yo({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,r){this.axisPointerClass&&function(t){var e=pu(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,a=n.get("status"),o=n.get("value");null!=o&&(o=r.parse(o));var s=gu(n);null==a&&(i.status=s?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==o||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}(t),wS.superApply(this,"render",arguments),mu(this,t,0,n,0,!0)},updateAxisPointer:function(t,e,n,r,i){mu(this,t,0,n,0,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),wS.superApply(this,"remove",arguments)},dispose:function(t,e){yu(this,e),wS.superApply(this,"dispose",arguments)}}),SS=[];wS.registerAxisPointerClass=function(t,e){SS[t]=e},wS.getAxisPointerClass=function(t){return t&&SS[t]};var MS=["axisLine","axisTickLabel","axisName"],OS=["splitArea","splitLine"],CS=wS.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,r){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new Lv,this.group.add(this._axisGroup),t.get("show")){var a=t.getCoordSysModel(),o=xu(a,t),s=new mS(t,o);f(MS,s.add,s),this._axisGroup.add(s.getGroup()),f(OS,function(e){t.get(e+".show")&&this["_"+e](t,a)},this),Vr(i,this._axisGroup,t),CS.superCall(this,"render",t,e,n,r)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var r=t.getModel("splitLine"),i=r.getModel("lineStyle"),a=i.get("color");a=y(a)?a:[a];for(var s=e.coordinateSystem.getRect(),u=n.isHorizontal(),l=0,c=n.getTicksCoords({tickModel:r}),h=[],f=[],d=i.getLineStyle(),p=0;p<c.length;p++){var g=n.toGlobalCoord(c[p].coord);u?(h[0]=g,h[1]=s.y,f[0]=g,f[1]=s.y+s.height):(h[0]=s.x,h[1]=g,f[0]=s.x+s.width,f[1]=g);var v=l++%a.length;this._axisGroup.add(new ex(hr({anid:null!=c[p].tickValue?"line_"+c[p].tickValue:null,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:o({stroke:a[v]},d),silent:!0})))}}},_splitArea:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var r=t.getModel("splitArea"),i=r.getModel("areaStyle"),a=i.get("color"),s=e.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:r,clamp:!0});if(u.length){var l=a.length,c=this._splitAreaColors,h=R(),f=0;if(c)for(v=0;v<u.length;v++){var d=c.get(u[v].tickValue);if(null!=d){f=(d+(l-1)*v)%l;break}}var p=n.toGlobalCoord(u[0].coord),g=i.getAreaStyle();a=y(a)?a:[a];for(var v=1;v<u.length;v++){var m,x,b,_,w=n.toGlobalCoord(u[v].coord);n.isHorizontal()?(x=s.y,_=s.height,p=(m=p)+(b=w-m)):(m=s.x,b=s.width,p=(x=p)+(_=w-x));var S=u[v-1].tickValue;null!=S&&h.set(S,f),this._axisGroup.add(new Ky({anid:null!=S?"area_"+S:null,shape:{x:m,y:x,width:b,height:_},style:o({fill:a[f]},g),silent:!0})),f=(f+1)%l}this._splitAreaColors=h}}}});CS.extend({type:"xAxis"}),CS.extend({type:"yAxis"}),yo({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new Ky({shape:t.coordinateSystem.getRect(),style:o({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),uo(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),po(nS("line","circle","line")),fo(rS("line")),lo(x_.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(t,e,n){var r=t.getData(),i=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&i){var o,s=a.getBaseAxis(),u=a.getOtherAxis(s),l=s.getExtent(),c=l[1]-l[0],h=Math.round(r.count()/c);h>1&&("string"==typeof i?o=iS[i]:"function"==typeof i&&(o=i),o&&t.setData(r.downSample(r.mapDimension(u.dim),1/h,o,aS)))}}});var AS=Tb.extend({type:"series.__base_bar__",getInitialData:function(t,e){return Go(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),r=this.getData(),i=r.getLayout("offset"),a=r.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=i+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});AS.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t}});var IS=Dm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),TS=["itemStyle","barBorderWidth"];a(Wr.prototype,{getBarItemStyle:function(t){var e=IS(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}}),bo({type:"bar",render:function(t,e,n){this._updateDrawMode(t);var r=t.get("coordinateSystem");return"cartesian2d"!==r&&"polar"!==r||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,r){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,n){var r,i=this.group,a=t.getData(),o=this._data,s=t.coordinateSystem,u=s.getBaseAxis();"cartesian2d"===s.type?r=u.isHorizontal():"polar"===s.type&&(r="angle"===u.dim);var l=t.isAnimationEnabled()?t:null;a.diff(o).add(function(e){if(a.hasValue(e)){var n=a.getItemModel(e),o=jS[s.type](a,e,n),u=ES[s.type](a,e,n,o,r,l);a.setItemGraphicEl(e,u),i.add(u),Mu(u,a,e,n,0,t,0,"polar"===s.type)}}).update(function(e,n){var u=o.getItemGraphicEl(n);if(a.hasValue(e)){var c=a.getItemModel(e),h=jS[s.type](a,e,c);u?Rr(u,{shape:h},l,e):u=ES[s.type](a,e,c,h,r,l,!0),a.setItemGraphicEl(e,u),i.add(u),Mu(u,a,e,c,0,t,0,"polar"===s.type)}else i.remove(u)}).remove(function(t){var e=o.getItemGraphicEl(t);"cartesian2d"===s.type?e&&wu(t,l,e):e&&Su(t,l,e)}).execute(),this._data=a},_renderLarge:function(t,e,n){this._clear(),Ou(t,this.group)},_incrementalRenderLarge:function(t,e){Ou(e,this.group,!0)},dispose:z,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,n=this._data;t&&t.get("animation")&&n&&!this._isLargeDraw?n.eachItemGraphicEl(function(e){"sector"===e.type?Su(e.dataIndex,t,e):wu(e.dataIndex,t,e)}):e.removeAll(),this._data=null}});var ES={cartesian2d:function(t,e,n,r,i,o,s){var u=new Ky({shape:a({},r)});if(o){var l=i?"height":"width",c={};u.shape[l]=0,c[l]=r[l],yx[s?"updateProps":"initProps"](u,{shape:c},o,e)}return u},polar:function(t,e,n,r,i,a,s){var u=new qy({shape:o({clockwise:r.startAngle<r.endAngle},r)});if(a){var l=i?"r":"endAngle",c={};u.shape[l]=i?0:r.startAngle,c[l]=r[l],yx[s?"updateProps":"initProps"](u,{shape:c},a,e)}return u}},jS={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=function(t,e){var n=t.get(TS)||0;return Math.min(n,Math.abs(e.width),Math.abs(e.height))}(n,r),a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}},PS=Qn.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,r=this.__startPoint,i=this.__valueIdx,a=0;a<n.length;a+=2)r[this.__valueIdx]=n[a+i],t.moveTo(r[0],r[1]),t.lineTo(n[a],n[a+1])}});fo(m(ns,"bar")),fo(uw),po({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});var kS=function(t,e,n){e=y(e)&&{coordDimensions:e}||a({},e);var r=t.getSource(),i=K_(r,e),o=new $_(i,t);return o.initData(r,n),o},DS={updateSelectedMap:function(t){this._targetList=y(t)?t.slice():[],this._selectTargetMap=p(t||[],function(t,e){return t.set(e.name,e),t},R())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}},LS=xo({type:"series.pie",init:function(t){LS.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){LS.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return kS(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],r=0,i=t.count();r<i;r++)n.push({name:t.getName(r),value:t.get(e,r),selected:ra(t,r,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=LS.superCall(this,"getDataParams",t),r=[];return e.each(e.mapDimension("value"),function(t){r.push(t)}),n.percent=ei(r,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){on(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});c(LS,DS);var RS=Iu.prototype;RS.updateData=function(t,e,n){function r(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r+u.get("hoverOffset")}},300,"elasticOut")}function i(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r}},300,"elasticOut")}var s=this.childAt(0),u=t.hostModel,l=t.getItemModel(e),c=t.getItemLayout(e),h=a({},c);h.label=null,n?(s.setShape(h),"scale"===u.getShallow("animationType")?(s.shape.r=c.r0,Nr(s,{shape:{r:c.r}},u,e)):(s.shape.endAngle=c.startAngle,Rr(s,{shape:{endAngle:c.endAngle}},u,e))):Rr(s,{shape:h},u,e);var f=t.getItemVisual(e,"color");s.useStyle(o({lineJoin:"bevel",fill:f},l.getModel("itemStyle").getItemStyle())),s.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var d=l.getShallow("cursor");d&&s.attr("cursor",d),Au(this,t.getItemLayout(e),u.isSelected(null,e),u.get("selectedOffset"),u.get("animation")),s.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&u.isAnimationEnabled()&&s.on("mouseover",r).on("mouseout",i).on("emphasis",r).on("normal",i),this._updateLabel(t,e),Or(this)},RS._updateLabel=function(t,e){var n=this.childAt(1),r=this.childAt(2),i=t.hostModel,a=t.getItemModel(e),o=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");Rr(n,{shape:{points:o.linePoints||[[o.x,o.y],[o.x,o.y],[o.x,o.y]]}},i,e),Rr(r,{style:{x:o.x,y:o.y}},i,e),r.attr({rotation:o.rotation,origin:[o.x,o.y],z2:10});var u=a.getModel("label"),l=a.getModel("emphasis.label"),c=a.getModel("labelLine"),h=a.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color"),Ar(r.style,r.hoverStyle={},u,l,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!o.inside},{textAlign:o.textAlign,textVerticalAlign:o.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),r.ignore=r.normalIgnore=!u.get("show"),r.hoverIgnore=!l.get("show"),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:s,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(c.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle();var f=c.get("smooth");f&&!0===f&&(f=.4),n.setShape({smooth:f})},l(Iu,Lv),pa.extend({type:"pie",init:function(){var t=new Lv;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var i=t.getData(),a=this._data,o=this.group,s=e.get("animation"),u=!a,l=t.get("animationType"),c=m(Cu,this.uid,t,s,n),h=t.get("selectedMode");if(i.diff(a).add(function(t){var e=new Iu(i,t);u&&"scale"!==l&&e.eachChild(function(t){t.stopAnimation(!0)}),h&&e.on("click",c),i.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var n=a.getItemGraphicEl(e);n.updateData(i,t),n.off("click"),h&&n.on("click",c),o.add(n),i.setItemGraphicEl(t,n)}).remove(function(t){var e=a.getItemGraphicEl(t);o.remove(e)}).execute(),s&&u&&i.count()>0&&"scale"!==l){var f=i.getItemLayout(0),d=Math.max(n.getWidth(),n.getHeight())/2,p=v(o.removeClipPath,o);o.setClipPath(this._createClipPath(f.cx,f.cy,d,f.startAngle,f.clockwise,p,t))}else o.removeClipPath();this._data=i}},dispose:function(){},_createClipPath:function(t,e,n,r,i,a,o){var s=new qy({shape:{cx:t,cy:e,r0:0,r:n,startAngle:r,endAngle:r,clockwise:i}});return Nr(s,{shape:{endAngle:r+(i?1:-1)*Math.PI*2}},o,a),s},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,a=Math.sqrt(r*r+i*i);return a<=n.r&&a>=n.r0}}});var NS=function(t,e){f(e,function(e){e.update="updateView",co(e,function(n,r){var i={};return r.eachComponent({mainType:"series",subType:t,query:n},function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var r=t.getData();r.each(function(e){var n=r.getName(e);i[n]=t.isSelected(n)||!1})}),{name:n.name,selected:i}})})},zS=function(t){return{getTargetSeries:function(e){var n={},r=R();return e.eachSeriesByType(t,function(t){t.__paletteScope=n,r.set(t.uid,t)}),r},reset:function(t,e){var n=t.getRawData(),r={},i=t.getData();i.each(function(t){var e=i.getRawIndex(t);r[e]=t}),n.each(function(e){var a=r[e],o=null!=a&&i.getItemVisual(a,"color",!0);if(o)n.setItemVisual(e,"color",o);else{var s=n.getItemModel(e).get("itemStyle.color")||t.getColorFromPalette(n.getName(e)||e+"",t.__paletteScope,n.count());n.setItemVisual(e,"color",s),null!=a&&i.setItemVisual(a,"color",s)}})}}},BS=2*Math.PI,FS=Math.PI/180,VS=function(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf(function(t){for(var e=r.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0})}}}};NS("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),po(zS("pie")),fo(m(function(t,e,n,r){e.eachSeriesByType(t,function(t){var e=t.getData(),r=e.mapDimension("value"),i=t.get("center"),a=t.get("radius");y(a)||(a=[0,a]),y(i)||(i=[i,i]);var o=n.getWidth(),s=n.getHeight(),u=Math.min(o,s),l=Zr(i[0],o),c=Zr(i[1],s),h=Zr(a[0],u/2),f=Zr(a[1],u/2),d=-t.get("startAngle")*FS,p=t.get("minAngle")*FS,g=0;e.each(r,function(t){!isNaN(t)&&g++});var v=e.getSum(r),m=Math.PI/(v||g)*2,x=t.get("clockwise"),b=t.get("roseType"),_=t.get("stillShowZeroSum"),w=e.getDataExtent(r);w[0]=0;var S=BS,M=0,O=d,C=x?1:-1;if(e.each(r,function(t,n){var r;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:c,r0:h,r:b?NaN:f});else{(r="area"!==b?0===v&&_?m:t*m:BS/g)<p?(r=p,S-=p):M+=t;var i=O+C*r;e.setItemLayout(n,{angle:r,startAngle:O,endAngle:i,clockwise:x,cx:l,cy:c,r0:h,r:b?Xr(t,w,[h,f]):f}),O=i}}),S<BS&&g)if(S<=.001){var A=BS/g;e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n);r.angle=A,r.startAngle=d+C*n*A,r.endAngle=d+C*(n+1)*A}})}else m=S/M,O=d,e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n),i=r.angle===p?p:t*m;r.startAngle=O,r.endAngle=O+C*i,O+=C*i}});!function(t,e,n,r){var i,a,o=t.getData(),s=[],u=!1;o.each(function(n){var r,l,c,h,f=o.getItemLayout(n),d=o.getItemModel(n),p=d.getModel("label"),g=p.get("position")||d.get("emphasis.label.position"),v=d.getModel("labelLine"),m=v.get("length"),y=v.get("length2"),x=(f.startAngle+f.endAngle)/2,b=Math.cos(x),_=Math.sin(x);i=f.cx,a=f.cy;var w="inside"===g||"inner"===g;if("center"===g)r=f.cx,l=f.cy,h="center";else{var S=(w?(f.r+f.r0)/2*b:f.r*b)+i,M=(w?(f.r+f.r0)/2*_:f.r*_)+a;if(r=S+3*b,l=M+3*_,!w){var O=S+b*(m+e-f.r),C=M+_*(m+e-f.r),A=O+(b<0?-1:1)*y;r=A+(b<0?-5:5),l=C,c=[[S,M],[O,C],[A,C]]}h=w?"center":b>0?"left":"right"}var I=p.getFont(),T=p.get("rotate")?b<0?-x+Math.PI:-x:0,E=xe(t.getFormattedLabel(n,"normal")||o.getName(n),I,h,"top");u=!!T,f.label={x:r,y:l,position:g,height:E.height,len:m,len2:y,linePoints:c,textAlign:h,verticalAlign:"middle",rotation:T,inside:w},w||s.push(f.label)}),!u&&t.get("avoidLabelOverlap")&&function(t,e,n,r,i,a){for(var o=[],s=[],u=0;u<t.length;u++)Eu(t[u])||(t[u].x<e?o.push(t[u]):s.push(t[u]));for(Tu(s,e,n,r,1,0,a),Tu(o,e,n,r,-1,0,a),u=0;u<t.length;u++)if(!Eu(t[u])){var l=t[u].linePoints;if(l){var c=l[1][0]-l[2][0];l[2][0]=t[u].x<e?t[u].x+3:t[u].x-3,l[1][1]=l[2][1]=t[u].y,l[1][0]=l[2][0]+c}}}(s,i,a,e,0,r)}(t,f,0,s)})},"pie")),lo(VS("pie")),Tb.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return Go(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var GS=or({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var n=e.points,r=e.size,i=this.symbolProxy,a=i.shape;if(!((t.getContext?t.getContext():t)&&r[0]<4))for(var o=0;o<n.length;){var s=n[o++],u=n[o++];isNaN(s)||isNaN(u)||(a.x=s-r[0]/2,a.y=u-r[1]/2,a.width=r[0],a.height=r[1],i.buildPath(t,a,!0))}},afterBrush:function(t){var e=this.shape,n=e.points,r=e.size;if(r[0]<4){this.setTransform(t);for(var i=0;i<n.length;){var a=n[i++],o=n[i++];isNaN(a)||isNaN(o)||t.fillRect(a-r[0]/2,o-r[1]/2,r[0],r[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var n=this.shape,r=n.points,i=n.size,a=Math.max(i[0],4),o=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var u=2*s,l=r[u]-a/2,c=r[u+1]-o/2;if(t>=l&&e>=c&&t<=l+a&&e<=c+o)return s}return-1}}),HS=ju.prototype;HS.isPersistent=function(){return!this._incremental},HS.updateData=function(t){this.group.removeAll();var e=new GS({rectHover:!0,cursor:"default"});e.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},HS.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){null!=t.startIndex&&(e=new Float32Array(e.buffer,4*t.startIndex*2,2*(t.endIndex-t.startIndex))),t.setShape("points",e)})}},HS.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new ar({silent:!0})),this.group.add(this._incremental)):this._incremental=null},HS.incrementalUpdate=function(t,e){var n;this._incremental?(n=new GS,this._incremental.addDisplayable(n,!0)):((n=new GS({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(n)),n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!!this._incremental)},HS._setCommon=function(t,e,n){var r=e.hostModel,i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.symbolProxy=vs(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var o=e.getVisual("color");o&&t.setColor(o),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n+(t.startIndex||0))}))},HS.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},HS._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},bo({type:"scatter",render:function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).updateData(r),this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).incrementalPrepareUpdate(r),this._finished=!1},incrementalRender:function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var i=rS().reset(t);i.progress&&i.progress({start:0,end:r.count()},r),this._symbolDraw.updateLayout(r)},_updateSymbolDraw:function(t,e){var n=this._symbolDraw,r=e.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new ju:new Rs,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),po(nS("scatter","circle")),fo(rS("scatter")),l(Pu,Rw),ku.prototype.getIndicatorAxes=function(){return this._indicatorAxes},ku.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},ku.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},ku.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var i,a=Math.atan2(-n,e),o=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u],c=Math.abs(a-l.angle);c<o&&(i=l,s=u,o=c)}return[s,+(i&&i.coodToData(r))]},ku.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),a=Math.min(r,i)/2;this.cx=Zr(n[0],r),this.cy=Zr(n[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");"string"!=typeof o&&"number"!=typeof o||(o=[0,o]),this.r0=Zr(o[0],a),this.r=Zr(o[1],a),f(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},ku.prototype.update=function(t,e){function n(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}var r=this._indicatorAxes,i=this._model;f(r,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,n){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var a=e.getData();f(r,function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))})}},this);var a=i.get("splitNumber");f(r,function(t,e){var r=ss(t.scale,t.model);us(t.scale,t.model);var i=t.model,o=t.scale,s=i.getMin(),u=i.getMax(),l=o.getInterval();if(null!=s&&null!=u)o.setExtent(+s,+u),o.setInterval((u-s)/a);else if(null!=s){var c;do{o.setExtent(+s,c=s+l*a),o.setInterval(l),l=n(l)}while(c<r[1]&&isFinite(c)&&isFinite(r[1]))}else if(null!=u){var h;do{o.setExtent(h=u-l*a,+u),o.setInterval(l),l=n(l)}while(h>r[0]&&isFinite(h)&&isFinite(r[0]))}else{o.getTicks().length-1>a&&(l=n(l));var f=Math.round((r[0]+r[1])/2/l)*l,d=Math.round(a/2);o.setExtent($r(f-d*l),$r(f+(a-d)*l)),o.setInterval(l)}})},ku.dimensions=[],ku.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var i=new ku(r,t,e);n.push(i),r.coordinateSystem=i}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])}),n},Ni.register("radar",ku);var WS=lS.valueAxis,qS=(mo({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),s=this.get("axisLine"),u=this.get("axisTick"),l=this.get("axisLabel"),c=this.get("name"),h=this.get("name.show"),f=this.get("name.formatter"),p=this.get("nameGap"),g=this.get("triggerEvent"),v=d(this.get("indicator")||[],function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var v=c;if(null!=d.color&&(v=o({color:d.color},c)),d=r(n(d),{boundaryGap:t,splitNumber:e,scale:i,axisLine:s,axisTick:u,axisLabel:l,name:d.text,nameLocation:"end",nameGap:p,nameTextStyle:v,triggerEvent:g},!1),h||(d.name=""),"string"==typeof f){var m=d.name;d.name=f.replace("{value}",null!=m?m:"")}else"function"==typeof f&&(d.name=f(d.name,d));var y=a(new Wr(d,null,this.ecModel),Sw);return y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this.getIndicatorModels=function(){return v}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r({lineStyle:{color:"#bbb"}},WS.axisLine),axisLabel:Du(WS.axisLabel,!1),axisTick:Du(WS.axisTick,!1),splitLine:Du(WS.splitLine,!0),splitArea:Du(WS.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);yo({type:"radar",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem;f(d(e.getIndicatorAxes(),function(t){return new mS(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){f(qS,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,n){var r=n%e.length;return t[r]=t[r]||[],r}var n=t.coordinateSystem,r=n.getIndicatorAxes();if(r.length){var i=t.get("shape"),a=t.getModel("splitLine"),s=t.getModel("splitArea"),u=a.getModel("lineStyle"),l=s.getModel("areaStyle"),c=a.get("show"),h=s.get("show"),p=u.get("color"),g=l.get("color");p=y(p)?p:[p],g=y(g)?g:[g];var v=[],m=[];if("circle"===i)for(var x=r[0].getTicksCoords(),b=n.cx,_=n.cy,w=0;w<x.length;w++)c&&v[I=e(v,p,w)].push(new Gy({shape:{cx:b,cy:_,r:x[w].coord}})),h&&w<x.length-1&&m[I=e(m,g,w)].push(new Uy({shape:{cx:b,cy:_,r0:x[w].coord,r:x[w+1].coord}}));else{var S,M=d(r,function(t,e){var r=t.getTicksCoords();return S=null==S?r.length-1:Math.min(r.length-1,S),d(r,function(t){return n.coordToPoint(t.coord,e)})}),O=[];for(w=0;w<=S;w++){for(var C=[],A=0;A<r.length;A++)C.push(M[A][w]);if(C[0]&&C.push(C[0].slice()),c&&v[I=e(v,p,w)].push(new $y({shape:{points:C}})),h&&O){var I=e(m,g,w-1);m[I].push(new Zy({shape:{points:C.concat(O)}}))}O=C.slice().reverse()}}var T=u.getLineStyle(),E=l.getAreaStyle();f(m,function(t,e){this.group.add(gx(t,{style:o({stroke:"none",fill:g[e%g.length]},E),silent:!0}))},this),f(v,function(t,e){this.group.add(gx(t,{style:o({fill:"none",stroke:p[e%p.length]},T),silent:!0}))},this)}}});var US=Tb.extend({type:"series.radar",dependencies:["radar"],init:function(t){US.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return kS(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(t){var e=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(t);return fi(""===r?this.name:r)+"<br/>"+d(n,function(n,r){var i=e.get(e.mapDimension(n.dim),t);return fi(n.name+" : "+i)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});bo({type:"radar",render:function(t,e,r){function i(t,e){var n=t.getItemVisual(e,"symbol")||"circle",r=t.getItemVisual(e,"color");if("none"!==n){var i=function(t){return y(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),a=vs(n,-1,-1,2,2,r);return a.attr({style:{strokeNoScale:!0},z2:100,scale:[i[0]/2,i[1]/2]}),a}}function a(e,n,r,a,o,s){r.removeAll();for(var u=0;u<n.length-1;u++){var l=i(a,o);l&&(l.__dimIdx=u,e[u]?(l.attr("position",e[u]),yx[s?"initProps":"updateProps"](l,{position:n[u]},t,o)):l.attr("position",n[u]),r.add(l))}}function s(t){return d(t,function(t){return[u.cx,u.cy]})}var u=t.coordinateSystem,l=this.group,c=t.getData(),h=this._data;c.diff(h).add(function(e){var n=c.getItemLayout(e);if(n){var r=new Zy,i=new $y,o={shape:{points:n}};r.shape.points=s(n),i.shape.points=s(n),Nr(r,o,t,e),Nr(i,o,t,e);var u=new Lv,l=new Lv;u.add(i),u.add(r),u.add(l),a(i.shape.points,n,l,c,e,!0),c.setItemGraphicEl(e,u)}}).update(function(e,n){var r=h.getItemGraphicEl(n),i=r.childAt(0),o=r.childAt(1),s=r.childAt(2),u={shape:{points:c.getItemLayout(e)}};u.shape.points&&(a(i.shape.points,u.shape.points,s,c,e,!1),Rr(i,u,t),Rr(o,u,t),c.setItemGraphicEl(e,r))}).remove(function(t){l.remove(h.getItemGraphicEl(t))}).execute(),c.eachItemGraphicEl(function(t,e){function r(){u.attr("ignore",v)}function i(){u.attr("ignore",g)}var a=c.getItemModel(e),s=t.childAt(0),u=t.childAt(1),h=t.childAt(2),f=c.getItemVisual(e,"color");l.add(t),s.useStyle(o(a.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:f})),s.hoverStyle=a.getModel("emphasis.lineStyle").getLineStyle();var d=a.getModel("areaStyle"),p=a.getModel("emphasis.areaStyle"),g=d.isEmpty()&&d.parentModel.isEmpty(),v=p.isEmpty()&&p.parentModel.isEmpty();v=v&&g,u.ignore=g,u.useStyle(o(d.getAreaStyle(),{fill:f,opacity:.7})),u.hoverStyle=p.getAreaStyle();var m=a.getModel("itemStyle").getItemStyle(["color"]),y=a.getModel("emphasis.itemStyle").getItemStyle(),x=a.getModel("label"),b=a.getModel("emphasis.label");h.eachChild(function(t){t.setStyle(m),t.hoverStyle=n(y),Ar(t.style,t.hoverStyle,x,b,{labelFetcher:c.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:c.get(c.dimensions[t.__dimIdx],e),autoColor:f,isRectText:!0})}),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",r).on("mouseover",r).on("normal",i).on("mouseout",i),Or(t)}),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),po(zS("radar")),po(nS("radar","circle")),fo(function(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){for(var i=r.getIndicatorAxes(),a=0;a<i.length;a++)e.each(e.mapDimension(i[a].dim),function(t,e){n[e]=n[e]||[],n[e][a]=r.dataToPoint(t,a)});e.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),e.setItemLayout(t,n[t])})}})}),lo(VS("radar")),uo(function(t){var e=t.polar;if(e){y(e)||(e=[e]);var n=[];f(e,function(e,r){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],y(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}f(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})});for(var YS=[126,25],XS=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],ZS=0;ZS<XS.length;ZS++)for(var $S=0;$S<XS[ZS].length;$S++)XS[ZS][$S][0]/=10.5,XS[ZS][$S][1]/=-14,XS[ZS][$S][0]+=YS[0],XS[ZS][$S][1]+=YS[1];var QS={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]},JS={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},KS=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],tM=dn(),eM={load:function(t,e){var n=tM(e).parsed;if(n)return n;var r,i=e.specialAreas||{},a=e.geoJSON;try{r=a?kw(a):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return f(r,function(e){var n=e.name;(function(t,e){if("china"===t){var n=QS[e.name];if(n){var r=e.center;r[0]+=n[0]/10.5,r[1]+=-n[1]/14}}})(t,e),function(t,e){if("world"===t){var n=JS[e.name];if(n){var r=e.center;r[0]=n[0],r[1]=n[1]}}}(t,e),function(t,e){"china"===t&&"\u53f0\u6e7e"===e.name&&e.geometries.push({type:"polygon",exterior:KS[0]})}(t,e);var r=i[n];r&&e.transformTo(r.left,r.top,r.width,r.height)}),function(t,e){"china"===t&&r.push(new xs("\u5357\u6d77\u8bf8\u5c9b",d(XS,function(t){return{type:"polygon",exterior:t}}),YS))}(t),tM(e).parsed={regions:r,boundingRect:function(t){for(var e,n=0;n<t.length;n++){var r=t[n].getBoundingRect();(e=e||r.clone()).union(r)}return e}(r)}}},nM=dn(),rM={geoJSON:eM,svg:{load:function(t,e){var n=nM(e).originRoot;if(n)return{root:n,boundingRect:nM(e).boundingRect};var r=Lu(e);return nM(e).originRoot=r.root,nM(e).boundingRect=r.boundingRect,r},makeGraphic:function(t,e,n){var r=nM(e),i=r.rootMap||(r.rootMap=R()),a=i.get(n);if(a)return a;var o=r.originRoot;return r.originRootHostKey?a=Lu(e,r.boundingRect).root:(r.originRootHostKey=n,a=o),i.set(n,a)},removeGraphic:function(t,e,n){var r=nM(e),i=r.rootMap;i&&i.removeKey(n),n===r.originRootHostKey&&(r.originRootHostKey=null)}}},iM={load:function(t,e){var n,r=[],i=R(),a=R();return f(Nu(t),function(o){var s=rM[o.type].load(t,o);f(s.regions,function(t){var n=t.name;e&&e.hasOwnProperty(n)&&(t=t.cloneShallow(n=e[n])),r.push(t),i.set(n,t),a.set(n,t.center)});var u=s.boundingRect;u&&(n?n.union(u):n=u.clone())}),{regions:r,regionsMap:i,nameCoordMap:a,boundingRect:n||new ie(0,0,0,0)}},makeGraphic:Ru("makeGraphic"),removeGraphic:Ru("removeGraphic")};c(Tb.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(t){for(var e=kS(this,["value"]),n=e.mapDimension("value"),r=R(),i=[],a=[],o=0,s=e.count();o<s;o++){var u=e.getName(o);r.set(u,!0),i.push({name:u,value:e.get(n,o),selected:ra(e,o,"selected")})}return f(iM.load(this.getMapType(),this.option.nameMap).regions,function(t){var e=t.name;r.get(e)||(i.push({name:e}),a.push(e))}),this.updateSelectedMap(i),e.appendValues([],a),e},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=ci(this.getRawValue(t)),r=e.getName(t),i=this.seriesGroup,a=[],o=0;o<i.length;o++){var s=i[o].originalData.indexOfName(r),u=e.mapDimension("value");isNaN(i[o].originalData.get(u,s))||a.push(fi(i[o].name))}return a.join(", ")+"<br />"+fi(r+" : "+n)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,r=n.getRegion(e);return r&&n.dataToPoint(r.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}}),DS);var aM="\0_ec_interaction_mutex";co({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),c(Fu,Jg);var oM={axisPointer:1,tooltip:1,brush:1};el.prototype={constructor:el,draw:function(t,e,n,r,i){var a="geo"===t.mainType,o=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},function(e){o||e.getHostGeoModel()!==t||(o=e.getData())});var s=t.coordinateSystem;this._updateBackground(s);var u=this._regionsGroup,l=this.group,c=s.scale,h={position:s.position,scale:c};!u.childAt(0)||i?l.attr(h):Rr(l,h,t),u.removeAll();var d=["itemStyle"],p=["emphasis","itemStyle"],g=["label"],v=["emphasis","label"],m=R();f(s.regions,function(e){var n=m.get(e.name)||m.set(e.name,new Lv),r=new ax({shape:{paths:[]}});n.add(r);var i,s=(T=t.getRegionModel(e.name)||t).getModel(d),l=T.getModel(p),h=Ju(s),y=Ju(l),x=T.getModel(g),b=T.getModel(v);if(o){i=o.indexOfName(e.name);var _=o.getItemVisual(i,"color",!0);_&&(h.fill=_)}f(e.geometries,function(t){if("polygon"===t.type){r.shape.paths.push(new Zy({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)r.shape.paths.push(new Zy({shape:{points:t.interiors[e]}}))}}),r.setStyle(h),r.style.strokeNoScale=!0,r.culling=!0;var w=x.get("show"),S=b.get("show"),M=o&&isNaN(o.get(o.mapDimension("value"),i)),O=o&&o.getItemLayout(i);if(a||M&&(w||S)||O&&O.showLabel){var C,A=a?e.name:i;(!o||i>=0)&&(C=t);var I=new Vy({position:e.center.slice(),scale:[1/c[0],1/c[1]],z2:10,silent:!0});Ar(I.style,I.hoverStyle={},x,b,{labelFetcher:C,labelDataIndex:A,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(I)}if(o)o.setItemGraphicEl(i,n);else{var T=t.getRegionModel(e.name);r.eventData={componentType:"geo",componentIndex:t.componentIndex,geoIndex:t.componentIndex,name:e.name,region:T&&T.option||{}}}(n.__regions||(n.__regions=[])).push(e),Or(n,y,{hoverSilentOnTouch:!!t.get("selectedMode")}),u.add(n)}),this._updateController(t,e,n),Ku(this,t,u,n,r),tl(t,u)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&iM.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){var e=t.map;this._mapName!==e&&f(iM.makeGraphic(e,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=e},_updateController:function(t,e,n){function r(){var e={type:"geoRoam",componentType:u};return e[u+"Id"]=t.id,e}var i=t.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=i.getZoom(),o.enable(t.get("roam")||!1);var u=t.mainType;o.off("pan").on("pan",function(t){this._mouseDownFlag=!1,Zu(s,t.dx,t.dy),n.dispatchAction(a(r(),{dx:t.dx,dy:t.dy}))},this),o.off("zoom").on("zoom",function(t){if(this._mouseDownFlag=!1,$u(s,t.scale,t.originX,t.originY),n.dispatchAction(a(r(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup){var e=this.group.scale;this._regionsGroup.traverse(function(t){"text"===t.type&&t.attr("scale",[1/e[0],1/e[1]])})}},this),o.setPointerChecker(function(e,r,a){return i.getViewRectAfterRoam().contain(r,a)&&!Qu(e,n,t)})}};var sM="__seriesMapHighDown",uM="__seriesMapCallKey";bo({type:"map",render:function(t,e,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!t.getHostGeoModel()){if(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===t.id)(a=this._mapDraw)&&i.add(a.group);else if(t.needsDrawMap){var a=this._mapDraw||new el(n,!0);i.add(a.group),a.draw(t,e,n,this,r),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,n){var r=t.originalData,i=this.group;r.each(r.mapDimension("value"),function(e,n){if(!isNaN(e)){var o=r.getItemLayout(n);if(o&&o.point){var s=o.point,u=o.offset,l=new Gy({style:{fill:t.getData().getVisual("color")},shape:{cx:s[0]+9*u,cy:s[1],r:3},silent:!0,z2:8+(u?0:px+1)});if(!u){var c=t.mainSeries.getData(),h=r.getName(n),f=c.indexOfName(h),d=r.getItemModel(n),p=d.getModel("label"),g=d.getModel("emphasis.label"),v=c.getItemGraphicEl(f),y=A(t.getFormattedLabel(f,"normal"),h),x=A(t.getFormattedLabel(f,"emphasis"),y),b=v[sM],_=Math.random();if(!b){b=v[sM]={};var w=m(nl,!0),S=m(nl,!1);v.on("mouseover",w).on("mouseout",S).on("emphasis",w).on("normal",S)}v[uM]=_,a(b,{recordVersion:_,circle:l,labelModel:p,hoverLabelModel:g,emphasisText:x,normalText:y}),rl(b,!1)}i.add(l)}}})}}),co({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){var r=e.coordinateSystem;if("geo"===r.type){var i=il(r,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom),"series"===n&&f(e.seriesGroup,function(t){t.setCenter(i.center),t.setZoom(i.zoom)})}})});var lM=K;c(al,hv),ol.prototype={constructor:ol,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,r){return this._rect=new ie(t,e,n,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,r){this.transformTo(t,e,n,r),this._viewRect=new ie(t,e,n,r)},transformTo:function(t,e,n,r){var i=this.getBoundingRect(),a=this._rawTransformable;a.transform=i.calculateTransform(new ie(t,e,n,r)),a.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=K([],r,t),n=K([],n,t),e.origin=r,e.position=[n[0]-r[0],n[1]-r[1]],e.scale=[i,i],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),mt(this.transform||(this.transform=[]),e.transform||gt()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],wt(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,n){var r=e?this._rawTransform:this.transform;return n=n||[],r?lM(n,t,r):F(n,t)},pointToData:function(t){var e=this.invTransform;return e?lM([],t,e):[t[0],t[1]]},convertToPixel:m(sl,"dataToPoint"),convertFromPixel:m(sl,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},c(ol,hv),ul.prototype={constructor:ul,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},transformTo:function(t,e,n,r){var i=this.getBoundingRect(),a=this._invertLongitute;i=i.clone(),a&&(i.y=-i.y-i.height);var o=this._rawTransformable;if(o.transform=i.calculateTransform(new ie(t,e,n,r)),o.decomposeTransform(),a){var s=o.scale;s[1]=-s[1]}o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,n){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return ol.prototype.dataToPoint.call(this,t,e,n)},convertToPixel:m(ll,"dataToPoint"),convertFromPixel:m(ll,"pointToData")},c(ul,ol);var cM={dimensions:ul.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",function(t,r){var i=t.get("map"),a=t.get("aspectScale"),o=!0,s=l_.retrieveMap(i);s&&s[0]&&"svg"===s[0].type?(null==a&&(a=1),o=!1):null==a&&(a=.75);var u=new ul(i+r,i,t.get("nameMap"),o);u.aspectScale=a,u.zoomLimit=t.get("scaleLimit"),n.push(u),hl(u,t),t.coordinateSystem=u,u.model=t,u.resize=cl,u.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}});var r={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}}),f(r,function(t,r){var a=new ul(r,r,i(d(t,function(t){return t.get("nameMap")})));a.zoomLimit=C.apply(null,d(t,function(t){return t.get("scaleLimit")})),n.push(a),a.resize=cl,a.aspectScale=t[0].get("aspectScale"),a.resize(t[0],e),f(t,function(t){t.coordinateSystem=a,hl(a,t)})}),n},getFilledRegions:function(t,e,n){for(var r=(t||[]).slice(),i=R(),a=0;a<r.length;a++)i.set(r[a].name,r[a]);return f(iM.load(e,n).regions,function(t){var e=t.name;!i.get(e)&&r.push({name:e})}),r}};ho("geo",cM),fo(function(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var i={};f(n.seriesGroup,function(e){var n=e.coordinateSystem,r=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&r.each(r.mapDimension("value"),function(t,e){var a=r.getName(e),o=n.getRegion(a);if(o&&!isNaN(t)){var s=i[a]||0,u=n.dataToPoint(o.center);i[a]=s+1,r.setItemLayout(e,{point:u,offset:s})}})});var a=n.getData();a.each(function(t){var e=a.getName(t),n=a.getItemLayout(t)||{};n.showLabel=!i[e],a.setItemLayout(t,n)}),e[r]=!0}})}),po(function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle"),r=n.get("areaColor"),i=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:r,color:i})})}),lo(x_.PROCESSOR.STATISTIC,function(t){var e={};t.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),f(e,function(t,e){for(var n=function(t,e){var n={};return f(t,function(t){t.each(t.mapDimension("value"),function(e,r){var i="ec-"+t.getName(r);n[i]=n[i]||[],isNaN(e)||n[i].push(e)})}),t[0].map(t[0].mapDimension("value"),function(r,i){for(var a="ec-"+t[0].getName(i),o=0,s=1/0,u=-1/0,l=n[a].length,c=0;c<l;c++)s=Math.min(s,n[a][c]),u=Math.max(u,n[a][c]),o+=n[a][c];return 0===l?NaN:"min"===e?s:"max"===e?u:"average"===e?o/l:o})}(d(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),r=0;r<t.length;r++)t[r].originalData=t[r].getData();for(r=0;r<t.length;r++)t[r].seriesGroup=t,t[r].needsDrawMap=0===r&&!t[r].getHostGeoModel(),t[r].setData(n.cloneShallow()),t[r].mainSeries=t[0]})}),uo(function(t){var e=[];f(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,o(t,t.mapLocation))})}),NS("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var hM=f,fM="\0__link_datas",dM="\0__link_mainData",pM=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};pM.prototype={constructor:pM,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),b(t=t||{})&&(t={order:t});var r,i=t.order||"preorder",a=this[t.attr||"children"];"preorder"===i&&(r=e.call(n,this));for(var o=0;!r&&o<a.length;o++)a[o].eachNode(t,e,n);"postorder"===i&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].getNodeById(t);if(i)return i}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].contains(t);if(i)return i}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,n=this.hostTree,r=n.data.getItemModel(this.dataIndex),i=this.getLevelModel();return i||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),r.getModel(t,(i||e||n.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},xl.prototype={constructor:xl,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},xl.createTree=function(t,e,n){var r=new xl(e,n.levels,n.leaves),i=[],a=1;(function t(e,n){var o=e.value;a=Math.max(a,y(o)?o.length:1),i.push(e);var s=new pM(e.name,r);n?function(t,e){t.parentNode!==e&&(e.children.push(t),t.parentNode=e)}(s,n):r.root=s,r._nodes.push(s);var u=e.children;if(u)for(var l=0;l<u.length;l++)t(u[l],s)})(t),r.root.updateDepthAndHeight(0);var o=K_(i,{coordDimensions:["value"],dimensionsCount:a}),s=new $_(o,e);return s.initData(i),fl({mainData:s,struct:r,structAttr:"tree"}),r.update(),r},Tb.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},n={};n.leaves=t.leaves||{};var r=xl.createTree(e,this,n),i=0;r.eachNode("preorder",function(t){t.depth>i&&(i=t.depth)});var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:i;return r.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a}),r.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],r=e.getNodeByDataIndex(t),i=r.getValue(),a=r.name;r&&r!==n;)a=r.parentNode.name+"."+a,r=r.parentNode;return fi(a+(isNaN(i)||null==i?"":" : "+i))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),bo({type:"tree",init:function(t,e){this._mainGroup=new Lv,this._controller=new Fu(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(t,e,n,r){var i=t.getData(),a=t.layoutInfo,o=this._mainGroup,s=t.get("layout");o.attr("position","radial"===s?[a.x+a.width/2,a.y+a.height/2]:[a.x,a.y]),this._updateViewCoordSys(t),this._updateController(t,e,n);var u=this._data,l={expandAndCollapse:t.get("expandAndCollapse"),layout:s,orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};i.diff(u).add(function(e){Tl(i,e)&&jl(i,e,null,o,t,l)}).update(function(e,n){var r=u.getItemGraphicEl(n);Tl(i,e)?jl(i,e,r,o,t,l):r&&Pl(u,n,r,o,t,l)}).remove(function(e){var n=u.getItemGraphicEl(e);n&&Pl(u,e,n,o,t,l)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===l.expandAndCollapse&&i.eachItemGraphicEl(function(e,r){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})})}),this._data=i},_updateViewCoordSys:function(t){var e=t.getData(),n=[];e.each(function(t){var r=e.getItemLayout(t);!r||isNaN(r.x)||isNaN(r.y)||n.push([+r.x,+r.y])});var r=[],i=[];Ln(n,r,i),i[0]-r[0]==0&&(i[0]+=1,r[0]-=1),i[1]-r[1]==0&&(i[1]+=1,r[1]-=1);var a=t.coordinateSystem=new ol;a.zoomLimit=t.get("scaleLimit"),a.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1]),a.setCenter(t.get("center")),a.setZoom(t.get("zoom")),this.group.attr({position:a.position,scale:a.scale}),this._viewCoordSys=a},_updateController:function(t,e,n){var r=this._controller,i=this._controllerHost,a=this.group;r.setPointerChecker(function(e,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!Qu(e,n,t)}),r.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(e){Zu(i,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})},this).on("zoom",function(e){$u(i,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(t)},this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),n=this._getNodeGlobalScale(t),r=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",r)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scale,i=r&&r[0]||1;return((e.getZoom()-1)*n+1)/i},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),co({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=t.dataIndex,r=e.getData().tree.getNodeByDataIndex(n);r.isExpand=!r.isExpand})}),co({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=il(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})}),po(nS("tree","circle")),fo(function(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var n=function(t,e){return bi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=n;var r=t.get("layout"),i=0,a=0,o=null;"radial"===r?(i=2*Math.PI,a=Math.min(n.height,n.width)/2,o=wl(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(i=n.width,a=n.height,o=wl());var s=t.getData().tree.root,u=s.children[0];if(u){(function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,r=[t];e=r.pop();)if(n=e.children,e.isExpand&&n.length)for(var i=n.length-1;i>=0;i--){var a=n[i];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},r.push(a)}})(s),function(t,e,n){for(var r,i=[u],a=[];r=i.pop();)if(a.push(r),r.isExpand){var o=r.children;if(o.length)for(var s=0;s<o.length;s++)i.push(o[s])}for(;r=a.pop();)e(r,n)}(0,bl,o),s.hierNode.modifier=-u.hierNode.prelim,Dl(u,_l);var l=u,c=u,h=u;Dl(u,function(t){var e=t.getLayout().x;e<l.getLayout().x&&(l=t),e>c.getLayout().x&&(c=t),t.depth>h.depth&&(h=t)});var f=l===c?1:o(l,c)/2,d=f-l.getLayout().x,p=0,g=0,v=0,m=0;if("radial"===r)p=i/(c.getLayout().x+f+d),g=a/(h.depth-1||1),Dl(u,function(t){var e=Sl(v=(t.getLayout().x+d)*p,m=(t.depth-1)*g);t.setLayout({x:e.x,y:e.y,rawX:v,rawY:m},!0)});else{var y=t.getOrient();"RL"===y||"LR"===y?(g=a/(c.getLayout().x+f+d),p=i/(h.depth-1||1),Dl(u,function(t){m=(t.getLayout().x+d)*g,t.setLayout({x:v="LR"===y?(t.depth-1)*p:i-(t.depth-1)*p,y:m},!0)})):"TB"!==y&&"BT"!==y||(p=i/(c.getLayout().x+f+d),g=a/(h.depth-1||1),Dl(u,function(t){v=(t.getLayout().x+d)*p,t.setLayout({x:v,y:m="TB"===y?(t.depth-1)*g:a-(t.depth-1)*g},!0)}))}}}(t,e)})}),Tb.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;f(e.children,function(e){t(e);var r=e.value;y(r)&&(r=r[0]),n+=r});var r=e.value;y(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=n),r<0&&(r=0),y(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[];r=t.levels=function(t,e){var n,r=e.get("color");if(r)return f(t=t||[],function(t){var e=new Wr(t),r=e.get("color");(e.get("itemStyle.color")||r&&"none"!==r)&&(n=!0)}),n||((t[0]||(t[0]={})).color=r.slice()),t}(r,e);var i={};return i.levels=r,xl.createTree(n,this,i).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),r=ci(y(n)?n[0]:n);return fi(e.getName(t)+": "+r)},getDataParams:function(t){var e=Tb.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=zl(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},a(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=R(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var gM=5;Bl.prototype={constructor:Bl,render:function(t,e,n,r){var i=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),i.get("show")&&n){var o=i.getModel("itemStyle"),s=o.getModel("textStyle"),u={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,s),this._renderContent(t,u,o,s,r),_i(a,u.pos,u.box)}},_prepare:function(t,e,n){for(var r=t;r;r=r.parentNode){var i=r.getModel().get("name"),a=n.getTextRect(i),o=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=o+8,e.renderList.push({node:r,text:i,width:o})}},_renderContent:function(t,e,n,r,i){for(var a=0,s=e.emptyItemWidth,u=t.get("breadcrumb.height"),l=function(t,e,n){var r=e.width,i=e.height,a=Zr(t.x,r),o=Zr(t.y,i),s=Zr(t.x2,r),u=Zr(t.y2,i);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=r),(isNaN(o)||isNaN(parseFloat(t.y)))&&(o=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=i),n=jx(n||0),{width:Math.max(s-a-n[1]-n[3],0),height:Math.max(u-o-n[0]-n[2],0)}}(e.pos,e.box),c=e.totalWidth,h=e.renderList,f=h.length-1;f>=0;f--){var d=h[f],p=d.node,g=d.width,v=d.text;c>l.width&&(c-=g-s,g=s,v=null);var y=new Zy({shape:{points:Fl(a,0,g,u,f===h.length-1,0===f)},style:o(n.getItemStyle(),{lineJoin:"bevel",text:v,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:m(i,p)});this.group.add(y),Vl(y,t,p),a+=g+8}},remove:function(){this.group.removeAll()}};var vM=v,mM=Lv,yM=Ky,xM=f,bM=["label"],_M=["emphasis","label"],wM=["upperLabel"],SM=["emphasis","upperLabel"],MM=10,OM=1,CM=2,AM=Dm([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),IM=function(t){var e=AM(t);return e.stroke=e.fill=e.lineWidth=null,e};bo({type:"treemap",init:function(t,e){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(t,e,n,r){if(!(u(e.findComponents({mainType:"series",subType:"treemap",query:r}),t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var i=Ll(r,["treemapZoomToNode","treemapRootToNode"],t),a=r&&r.type,o=t.layoutInfo,s=!this._oldTree,l=this._storage,c="treemapRootToNode"===a&&i&&l?{rootNodeGroup:l.nodeGroup[i.node.getRawIndex()],direction:r.direction}:null,h=this._giveContainerGroup(o),f=this._doRender(h,t,c);s||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?f.renderFinally():this._doAnimation(h,f,t,c),this._resetController(n),this._renderBreadcrumb(t,n,i)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new mM,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){var r=e.getData().tree,i=this._oldTree,a={nodeGroup:[],background:[],content:[]},o={nodeGroup:[],background:[],content:[]},s=this._storage,u=[],l=m(Gl,e,o,s,n,a,u);!function t(e,n,r,i,a){function o(t){return t.getId()}function s(o,s){var u=null!=o?e[o]:null,c=null!=s?n[s]:null,h=l(u,c,r,a);h&&t(u&&u.viewChildren||[],c&&c.viewChildren||[],h,i,a+1)}i?(n=e,xM(e,function(t,e){!t.isRemoved()&&s(e,e)})):new wo(n,e,o,o).add(s).update(s).remove(m(s,null)).execute()}(r.root?[r.root]:[],i&&i.root?[i.root]:[],t,r===i||!i,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return s&&xM(s,function(t,n){var r=e[n];xM(t,function(t){t&&(r.push(t),t.__tmWillDelete=1)})}),e}();return this._oldTree=r,this._storage=o,{lastsForAnimation:a,willDeleteEls:c,renderFinally:function(){xM(c,function(t){xM(t,function(t){t.parent&&t.parent.remove(t)})}),xM(u,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,n,r){if(n.get("animation")){var i=n.get("animationDurationUpdate"),o=n.get("animationEasing"),s=function(){var t,e=[],n={};return{add:function(t,r,i,a,o){return b(a)&&(o=a,a=0),!n[t.id]&&(n[t.id]=1,e.push({el:t,target:r,time:i,delay:a,easing:o}),!0)},done:function(e){return t=e,this},start:function(){for(var r=e.length,i=0,a=e.length;i<a;i++){var o=e[i];o.el.animateTo(o.target,o.time,o.delay,o.easing,function(){--r||(e.length=0,n={},t&&t())})}return this}}}();xM(e.willDeleteEls,function(t,e){xM(t,function(t,n){if(!t.invisible){var a,u=t.parent;if(r&&"drillDown"===r.direction)a=u===r.rootNodeGroup?{shape:{x:0,y:0,width:u.__tmNodeWidth,height:u.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var l=0,c=0;u.__tmWillDelete||(l=u.__tmNodeWidth/2,c=u.__tmNodeHeight/2),a="nodeGroup"===e?{position:[l,c],style:{opacity:0}}:{shape:{x:l,y:c,width:0,height:0},style:{opacity:0}}}a&&s.add(t,a,i,o)}})}),xM(this._storage,function(t,n){xM(t,function(t,r){var u=e.lastsForAnimation[n][r],l={};u&&("nodeGroup"===n?u.old&&(l.position=t.position.slice(),t.attr("position",u.old)):(u.old&&(l.shape=a({},t.shape),t.setShape(u.old)),u.fadein?(t.setStyle("opacity",0),l.style={opacity:1}):1!==t.style.opacity&&(l.style={opacity:1})),s.add(t,l,i,o))})},this),this._state="animating",s.done(vM(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new Fu(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",vM(this._onPan,this)),e.on("zoom",vM(this._onZoom,this)));var n=new ie(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,r){return n.contain(e,r)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},_onZoom:function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var a=new ie(i.x,i.y,i.width,i.height),o=this.seriesModel.layoutInfo;e-=o.x,n-=o.y;var s=gt();xt(s,s,[-e,-n]),_t(s,s,[t.scale,t.scale]),xt(s,s,[e,n]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var r=n.node;if(r.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var i=r.hostTree.data.getItemModel(r.dataIndex),a=i.get("link",!0),o=i.get("target",!0)||"blank";a&&window.open(a,o)}}}}},this)},_renderBreadcrumb:function(t,e,n){n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Bl(this.group))).render(t,e,n.node,vM(function(e){"animating"!==this._state&&(Nl(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(r){var i=this._storage.background[r.getRawIndex()];if(i){var a=i.transformCoordToLocal(t,e),o=i.shape;if(!(o.x<=a[0]&&a[0]<=o.x+o.width&&o.y<=a[1]&&a[1]<=o.y+o.height))return!1;n={node:r,offsetX:a[0],offsetY:a[1]}}},this),n}});for(var TM=["treemapZoomToNode","treemapRender","treemapMove"],EM=0;EM<TM.length;EM++)co({type:TM[EM],update:"updateView"},function(){});co({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,n){var r=Ll(t,["treemapZoomToNode","treemapRootToNode"],e);if(r){var i=e.getViewRoot();i&&(t.direction=Nl(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})});var jM=f,PM=_,kM=-1,DM=function(t){var e=t.mappingMethod,r=t.type,i=this.option=n(t);this.type=r,this.mappingMethod=e,this._normalizeData=RM[e];var a=LM[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._doMap=a._doMap[e],"piecewise"===e?(Hl(i),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,f(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(i)):"category"===e?i.categories?function(t){var e=t.categories,n=t.visual,r=t.categoryMap={};if(jM(e,function(t,e){r[t]=e}),!y(n)){var i=[];_(n)?jM(n,function(t,e){var n=r[e];i[null!=n?n:kM]=t}):i[kM]=n,n=Ql(t,i)}for(var a=e.length-1;a>=0;a--)null==n[a]&&(delete r[e[a]],e.pop())}(i):Hl(i,!0):(j("linear"!==e||i.dataExtent),Hl(i))};DM.prototype={constructor:DM,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return v(this._normalizeData,this)}};var LM=DM.visualHandlers={color:{applyVisual:Ul("color"),getColorMapper:function(){var t=this.option;return v("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),Yl.call(this,t)}:function(e,n,r){var i=!!r;return!n&&(e=this._normalizeData(e)),r=Bt(e,t.parsedVisual,r),i?r:Ht(r,"rgba")},this)},_doMap:{linear:function(t){return Ht(Bt(t,this.option.parsedVisual),"rgba")},category:Yl,piecewise:function(t,e){var n=$l.call(this,e);return null==n&&(n=Ht(Bt(t,this.option.parsedVisual),"rgba")),n},fixed:Xl}},colorHue:Wl(function(t,e){return Vt(t,e)}),colorSaturation:Wl(function(t,e){return Vt(t,null,e)}),colorLightness:Wl(function(t,e){return Vt(t,null,null,e)}),colorAlpha:Wl(function(t,e){return Gt(t,e)}),opacity:{applyVisual:Ul("opacity"),_doMap:Zl([0,1])},liftZ:{applyVisual:Ul("liftZ"),_doMap:{linear:Xl,category:Xl,piecewise:Xl,fixed:Xl}},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);if(b(r))n("symbol",r);else if(PM(r))for(var i in r)r.hasOwnProperty(i)&&n(i,r[i])},_doMap:{linear:ql,category:Yl,piecewise:function(t,e){var n=$l.call(this,e);return null==n&&(n=ql.call(this,t)),n},fixed:Xl}},symbolSize:{applyVisual:Ul("symbolSize"),_doMap:Zl([0,1])}},RM={linear:function(t){return Xr(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=DM.findPieceIndex(t,e,!0);if(null!=n)return Xr(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?kM:e},fixed:z};DM.listVisualTypes=function(){var t=[];return f(LM,function(e,n){t.push(n)}),t},DM.addVisualHandler=function(t,e){LM[t]=e},DM.isValidType=function(t){return LM.hasOwnProperty(t)},DM.eachVisual=function(t,e,n){_(t)?f(t,e,n):e.call(n,t)},DM.mapVisual=function(t,e,n){var r,i=y(t)?[]:_(t)?{}:(r=!0,null);return DM.eachVisual(t,function(t,a){var o=e.call(n,t,a);r?i=o:i[a]=o}),i},DM.retrieveVisuals=function(t){var e,n={};return t&&jM(LM,function(r,i){t.hasOwnProperty(i)&&(n[i]=t[i],e=!0)}),e?n:null},DM.prepareVisualTypes=function(t){if(PM(t)){var e=[];jM(t,function(t,n){e.push(n)}),t=e}else{if(!y(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},DM.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},DM.findPieceIndex=function(t,e,n){function r(e,n){var r=Math.abs(e-t);r<a&&(a=r,i=n)}for(var i,a=1/0,o=0,s=e.length;o<s;o++){var u=e[o].value;if(null!=u){if(u===t||"string"==typeof u&&u===t+"")return o;n&&r(u,o)}}for(o=0,s=e.length;o<s;o++){var l=e[o],c=l.interval,h=l.close;if(c){if(c[0]===-1/0){if(Jl(h[1],t,c[1]))return o}else if(c[1]===1/0){if(Jl(h[0],c[0],t))return o}else if(Jl(h[0],c[0],t)&&Jl(h[1],t,c[1]))return o;n&&r(c[0],o),n&&r(c[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i};var NM=y,zM="itemStyle",BM=Math.max,FM=Math.min,VM=C,GM=f,HM=["itemStyle","borderWidth"],WM=["itemStyle","gapWidth"],qM=["upperLabel","show"],UM=["upperLabel","height"],YM={seriesType:"treemap",reset:function(t,e,n,r){var i=n.getWidth(),o=n.getHeight(),s=t.option,u=bi(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=s.size||[],c=Zr(VM(u.width,l[0]),i),h=Zr(VM(u.height,l[1]),o),f=r&&r.type,d=Ll(r,["treemapZoomToNode","treemapRootToNode"],t),p="treemapRender"===f||"treemapMove"===f?r.rootRect:null,g=t.getViewRoot(),v=Rl(g);if("treemapMove"!==f){var m="treemapZoomToNode"===f?function(t,e,n,r,i){var a=(e||{}).node,o=[r,i];if(!a||a===n)return o;for(var s,u=r*i,l=u*t.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,h=s.children,f=0,d=h.length;f<d;f++)c+=h[f].getValue();var p=a.getValue();if(0===p)return o;l*=c/p;var g=s.getModel(),v=g.get(HM);(l+=4*v*v+(3*v+Math.max(v,sc(g)))*Math.pow(l,.5))>Ix&&(l=Ix),a=s}l<u&&(l=u);var m=Math.pow(l/u,.5);return[r*m,i*m]}(t,d,g,c,h):p?[p.width,p.height]:[c,h],y=s.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var x={squareRatio:s.squareRatio,sort:y,leafDepth:s.leafDepth};g.hostTree.clearLayouts(),g.setLayout({x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]}),function t(e,n,r,i){var a,o;if(!e.isRemoved()){var s=e.getLayout();a=s.width,o=s.height;var u=(p=e.getModel()).get(HM),l=p.get(WM)/2,c=sc(p),h=Math.max(u,c),f=u-l,d=h-l,p=e.getModel();e.setLayout({borderWidth:u,upperHeight:h,upperLabelHeight:c},!0);var g=(a=BM(a-2*f,0))*(o=BM(o-f-d,0)),v=ic(e,p,g,n,r,i);if(v.length){var m={x:f,y:d,width:a,height:o},y=FM(a,o),x=1/0,b=[];b.area=0;for(var _=0,w=v.length;_<w;){var S=v[_];b.push(S),b.area+=S.getLayout().area;var M=ac(b,y,n.squareRatio);M<=x?(_++,x=M):(b.area-=b.pop().getLayout().area,oc(b,y,m,l,!1),y=FM(m.width,m.height),b.length=b.area=0,x=1/0)}if(b.length&&oc(b,y,m,l,!0),!r){var O=p.get("childrenVisibleMin");null!=O&&g<O&&(r=!0)}for(_=0,w=v.length;_<w;_++)t(v[_],n,r,i+1)}}}(g,x,!1,0);var b=g.getLayout();GM(v,function(t,e){var n=(v[e+1]||g).getValue();t.setLayout(a({dataExtent:[n,n],borderWidth:0,upperHeight:0},b))})}var _=t.getData().tree.root;_.setLayout(function(t,e,n){if(p)return{x:p.x,y:p.y};var r={x:0,y:0};if(!d)return r;var i=d.node,a=i.getLayout();if(!a)return r;for(var o=[a.width/2,a.height/2],s=i;s;){var u=s.getLayout();o[0]+=u.x,o[1]+=u.y,s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}(u),!0),t.setLayoutInfo(u),function t(e,n,r,i,a){var o=e.getLayout(),s=r[a],u=s&&s===e;if(!(s&&!u||a===r.length&&e!==i)){e.setLayout({isInView:!0,invisible:!u&&!n.intersect(o),isAboveViewRoot:u},!0);var l=new ie(n.x-o.x,n.y-o.y,n.width,n.height);GM(e.viewChildren||[],function(e){t(e,l,r,i,a+1)})}}(_,new ie(-u.x,-u.y,i,o),v,g,0)}};po({seriesType:"treemap",reset:function(t,e,n,r){var i=t.getData().tree,a=i.root,o=t.getModel(zM);a.isRemoved()||function t(e,n,r,i,a,o){var s=e.getModel(),u=e.getLayout();if(u&&!u.invisible&&u.isInView){var l,c=e.getModel(zM),h=Kl(c,n,r[e.depth],i),d=c.get("borderColor"),p=c.get("borderColorSaturation");null!=p&&(d=function(t,e){return null!=e?Vt(e,null,null,t):null}(p,l=tc(h))),e.setVisual("borderColor",d);var g=e.viewChildren;if(g&&g.length){var v=function(t,e,n,r,i,a){if(g&&g.length){var o=nc(e,"color")||null!=i.color&&"none"!==i.color&&(nc(e,"colorAlpha")||nc(e,"colorSaturation"));if(o){var s=e.get("visualMin"),u=e.get("visualMax"),l=n.dataExtent.slice();null!=s&&s<l[0]&&(l[0]=s),null!=u&&u>l[1]&&(l[1]=u);var c=e.get("colorMappingBy"),h={type:o.name,dataExtent:l,visual:o.range};"color"!==h.type||"index"!==c&&"id"!==c?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var f=new DM(h);return f.__drColorMappingBy=c,f}}}(0,s,u,0,h);f(g,function(e,n){(e.depth>=a.length||e===a[e.depth])&&t(e,rc(s,h,e,n,v,o),r,i,a,o)})}else l=tc(h),e.setVisual("color",l)}}(a,{},d(i.levelModels,function(t){return t?t.get(zM):null}),o,t.getViewRoot().getAncestors(),t)}}),fo(YM);var XM=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}},ZM=XM.prototype;ZM.type="graph",ZM.isDirected=function(){return this._directed},ZM.addNode=function(t,e){var n=this._nodesMap;if(!n[uc(t=t||""+e)]){var r=new lc(t,e);return r.hostGraph=this,this.nodes.push(r),n[uc(t)]=r,r}},ZM.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},ZM.getNodeById=function(t){return this._nodesMap[uc(t)]},ZM.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),lc.isInstance(t)||(t=r[uc(t)]),lc.isInstance(e)||(e=r[uc(e)]),t&&e){var a=t.id+"-"+e.id;if(!i[a]){var o=new cc(t,e,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),i[a]=o,o}}},ZM.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},ZM.getEdge=function(t,e){lc.isInstance(t)&&(t=t.id),lc.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},ZM.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},ZM.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},ZM.breadthFirstTraverse=function(t,e,n,r){if(lc.isInstance(e)||(e=this._nodesMap[uc(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var o=[e];o.length;){var s=o.shift(),u=s[i];for(a=0;a<u.length;a++){var l=u[a],c=l.node1===s?l.node2:l.node1;if(!c.__visited){if(t.call(r,c,s))return;o.push(c),c.__visited=!0}}}}},ZM.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)n[t.getRawIndex(i)].dataIndex=i;for(e.filterSelf(function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}),i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)r[e.getRawIndex(i)].dataIndex=i},ZM.clone=function(){for(var t=new XM(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var i=n[r];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},lc.prototype={constructor:lc,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},cc.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var $M=function(t,e){return{getValue:function(n){var r=this[t][e];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[t][e].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};c(lc,$M("hostGraph","data")),c(cc,$M("hostGraph","edgeData")),XM.Node=lc,XM.Edge=cc,_n(lc),_n(cc);var QM=function(t,e,n,r,i){for(var a=new XM(r),o=0;o<t.length;o++)a.addNode(C(t[o].id,t[o].name,o),o);var s=[],l=[],c=0;for(o=0;o<e.length;o++){var h=e[o],f=h.source,d=h.target;a.addEdge(f,d,c)&&(l.push(h),s.push(C(h.id,f+" > "+d)),c++)}var p,g=n.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)p=Go(t,n);else{var v=Ni.get(g),m=v&&"view"!==v.type&&v.dimensions||[];u(m,"value")<0&&m.concat(["value"]);var y=K_(t,{coordDimensions:m});(p=new $_(y,n)).initData(t)}var x=new $_(["value"],n);return x.initData(l,s),i&&i(p,x),fl({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a},JM=xo({type:"series.graph",init:function(t){JM.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){JM.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){JM.superApply(this,"mergeDefaultAndTheme",arguments),on(t,["edgeLabel"],["show"])},getInitialData:function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],i=this;if(r&&n)return QM(r,n,this,!0,function(t,n){function r(t){return(t=this.parsePath(t))&&"label"===t[0]?o:t&&"emphasis"===t[0]&&"label"===t[1]?u:this.parentModel}t.wrapMethod("getItemModel",function(t){var e=i._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var a=i.getModel("edgeLabel"),o=new Wr({label:a.option},a.parentModel,e),s=i.getModel("emphasis.edgeLabel"),u=new Wr({emphasis:{label:s.option}},s.parentModel,e);n.wrapMethod("getItemModel",function(t){return t.customizeGetParent(r),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(t,n),a=r.graph.getEdgeByIndex(t),o=r.getName(a.node1.dataIndex),s=r.getName(a.node2.dataIndex),u=[];return null!=o&&u.push(o),null!=s&&u.push(s),u=fi(u.join(" > ")),i.value&&(u+=" : "+fi(i.value)),u}return JM.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=d(this.option.categories||[],function(t){return null!=t.value?t:a({value:0},t)}),e=new $_(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return JM.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),KM=ex.prototype,tO=rx.prototype,eO=or({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(hc(e)?KM:tO).buildPath(t,e)},pointAt:function(t){return hc(this.shape)?KM.pointAt.call(this,t):tO.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,n=hc(e)?[e.x2-e.x1,e.y2-e.y1]:tO.tangentAt.call(this,t);return Z(n,n)}}),nO=["fromSymbol","toSymbol"],rO=gc.prototype;rO.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),r=t.childOfName("label");if(e||n||!r.ignore){for(var i=1,a=this.parent;a;)a.scale&&(i/=a.scale[0]),a=a.parent;var o=t.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,u=o.pointAt(0),l=o.pointAt(s),c=q([],l,u);if(Z(c,c),e&&(e.attr("position",u),h=o.tangentAt(0),e.attr("rotation",Math.PI/2-Math.atan2(h[1],h[0])),e.attr("scale",[i*s,i*s])),n){n.attr("position",l);var h=o.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(h[1],h[0])),n.attr("scale",[i*s,i*s])}if(!r.ignore){r.attr("position",l);var f,d,p,g=5*i;if("end"===r.__position)f=[c[0]*g+l[0],c[1]*g+l[1]],d=c[0]>.8?"left":c[0]<-.8?"right":"center",p=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";else if("middle"===r.__position){var v=s/2,m=[(h=o.tangentAt(v))[1],-h[0]],y=o.pointAt(v);m[1]>0&&(m[0]=-m[0],m[1]=-m[1]),f=[y[0]+m[0]*g,y[1]+m[1]*g],d="center",p="bottom";var x=-Math.atan2(h[1],h[0]);l[0]<u[0]&&(x=Math.PI+x),r.attr("rotation",x)}else f=[-c[0]*g+u[0],-c[1]*g+u[1]],d=c[0]>.8?"right":c[0]<-.8?"left":"center",p=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";r.attr({style:{textVerticalAlign:r.__verticalAlign||p,textAlign:r.__textAlign||d},position:f,scale:[i,i]})}}}},rO._createLine=function(t,e,n){var r=t.hostModel,i=function(t){var e=new eO({name:"line"});return pc(e.shape,t),e}(t.getItemLayout(e));i.shape.percent=0,Nr(i,{shape:{percent:1}},r,e),this.add(i);var a=new Vy({name:"label",lineLabelOriginalOpacity:1});this.add(a),f(nO,function(n){var r=dc(n,t,e);this.add(r),this[fc(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},rO.updateData=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),a=t.getItemLayout(e),o={shape:{}};pc(o.shape,a),Rr(i,o,r,e),f(nO,function(n){var r=t.getItemVisual(e,n),i=fc(n);if(this[i]!==r){this.remove(this.childOfName(n));var a=dc(n,t,e);this.add(a)}this[i]=r},this),this._updateCommonStl(t,e,n)},rO._updateCommonStl=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle,u=n&&n.labelModel,l=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var c=t.getItemModel(e);a=c.getModel("lineStyle").getLineStyle(),s=c.getModel("emphasis.lineStyle").getLineStyle(),u=c.getModel("label"),l=c.getModel("emphasis.label")}var h=t.getItemVisual(e,"color"),d=I(t.getItemVisual(e,"opacity"),a.opacity,1);i.useStyle(o({strokeNoScale:!0,fill:"none",stroke:h,opacity:d},a)),i.hoverStyle=s,f(nO,function(t){var e=this.childOfName(t);e&&(e.setColor(h),e.setStyle({opacity:d}))},this);var p,g,v=u.getShallow("show"),m=l.getShallow("show"),y=this.childOfName("label");if((v||m)&&(p=h||"#000",null==(g=r.getFormattedLabel(e,"normal",t.dataType)))){var x=r.getRawValue(e);g=null==x?t.getName(e):isFinite(x)?$r(x):x}var b=v?g:null,_=m?A(r.getFormattedLabel(e,"emphasis",t.dataType),g):null,w=y.style;null==b&&null==_||(Ir(y.style,u,{text:b},{autoColor:p}),y.__textAlign=w.textAlign,y.__verticalAlign=w.textVerticalAlign,y.__position=u.get("position")||"middle"),y.hoverStyle=null!=_?{text:_,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},y.ignore=!v&&!m,Or(this)},rO.highlight=function(){this.trigger("emphasis")},rO.downplay=function(){this.trigger("normal")},rO.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},rO.setLinePoints=function(t){var e=this.childOfName("line");pc(e.shape,t),e.dirty()},l(gc,Lv);var iO=vc.prototype;iO.isPersistent=function(){return!0},iO.updateData=function(t){var e=this,n=e.group,r=e._lineData;e._lineData=t,r||n.removeAll();var i=mc(t);t.diff(r).add(function(n){!function(t,e,n,r){if(xc(e.getItemLayout(n))){var i=new t._ctor(e,n,r);e.setItemGraphicEl(n,i),t.group.add(i)}}(e,t,n,i)}).update(function(n,a){!function(t,e,n,r,i,a){var o=e.getItemGraphicEl(r);xc(n.getItemLayout(i))?(o?o.updateData(n,i,a):o=new t._ctor(n,i,a),n.setItemGraphicEl(i,o),t.group.add(o)):t.group.remove(o)}(e,r,t,a,n,i)}).remove(function(t){n.remove(r.getItemGraphicEl(t))}).execute()},iO.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},iO.incrementalPrepareUpdate=function(t){this._seriesScope=mc(t),this._lineData=null,this.group.removeAll()},iO.incrementalUpdate=function(t,e){for(var n=t.start;n<t.end;n++)if(xc(e.getItemLayout(n))){var r=new this._ctor(e,n,this._seriesScope);r.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(r),e.setItemGraphicEl(n,r)}},iO.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},iO._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var aO=[],oO=[],sO=[],uO=jn,lO=Zg,cO=Math.abs,hO=function(t,e){function n(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var r=[],i=Dn,a=[[],[],[]],o=[[],[]],s=[];e/=2,t.eachEdge(function(t,u){var l=t.getLayout(),c=t.getVisual("fromSymbol"),h=t.getVisual("toSymbol");l.__original||(l.__original=[V(l[0]),V(l[1])],l[2]&&l.__original.push(V(l[2])));var f=l.__original;if(null!=l[2]){if(F(a[0],f[0]),F(a[1],f[2]),F(a[2],f[1]),c&&"none"!==c){var d=n(t.node1),p=bc(a,f[0],d*e);i(a[0][0],a[1][0],a[2][0],p,r),a[0][0]=r[3],a[1][0]=r[4],i(a[0][1],a[1][1],a[2][1],p,r),a[0][1]=r[3],a[1][1]=r[4]}h&&"none"!==h&&(d=n(t.node2),p=bc(a,f[1],d*e),i(a[0][0],a[1][0],a[2][0],p,r),a[1][0]=r[1],a[2][0]=r[2],i(a[0][1],a[1][1],a[2][1],p,r),a[1][1]=r[1],a[2][1]=r[2]),F(l[0],a[0]),F(l[1],a[2]),F(l[2],a[1])}else F(o[0],f[0]),F(o[1],f[1]),q(s,o[1],o[0]),Z(s,s),c&&"none"!==c&&(d=n(t.node1),W(o[0],o[0],s,d*e)),h&&"none"!==h&&(d=n(t.node2),W(o[1],o[1],s,-d*e)),F(l[0],o[0]),F(l[1],o[1])})},fO="__focusNodeAdjacency",dO=["itemStyle","opacity"],pO=["lineStyle","opacity"];bo({type:"graph",init:function(t,e){var n=new Rs,r=new vc,i=this.group;this._controller=new Fu(e.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},render:function(t,e,n){var r=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var i=this._symbolDraw,a=this._lineDraw,o=this.group;if("view"===r.type){var s={position:r.position,scale:r.scale};this._firstRender?o.attr(s):Rr(o,s,t)}hO(t.getGraph(),this._getNodeGlobalScale(t));var u=t.getData();i.updateData(u);var l=t.getEdgeData();a.updateData(l),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var c=t.forceLayout,h=t.get("force.layoutAnimation");c&&this._startForceLayoutIteration(c,h),u.eachItemGraphicEl(function(e,r){var i=u.getItemModel(r);e.off("drag").off("dragend");var a=i.get("draggable");a&&e.on("drag",function(){c&&(c.warmUp(),!this._layouting&&this._startForceLayoutIteration(c,h),c.setFixed(r),u.setItemLayout(r,e.position))},this).on("dragend",function(){c&&c.setUnfixed(r)},this),e.setDraggable(a&&c),e[fO]&&e.off("mouseover",e[fO]),e.__unfocusNodeAdjacency&&e.off("mouseout",e.__unfocusNodeAdjacency),i.get("focusNodeAdjacency")&&(e.on("mouseover",e[fO]=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))},this),u.graph.eachEdge(function(e){var r=e.getGraphicEl();r[fO]&&r.off("mouseover",r[fO]),r.__unfocusNodeAdjacency&&r.off("mouseout",r.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r[fO]=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))});var f="circular"===t.get("layout")&&t.get("circular.rotateLabel"),d=u.getLayout("cx"),p=u.getLayout("cy");u.eachItemGraphicEl(function(t,e){var n=t.getSymbolPath();if(f){var r=u.getItemLayout(e),i=Math.atan2(r[1]-p,r[0]-d);i<0&&(i=2*Math.PI+i);var a=r[0]<d;a&&(i-=Math.PI);var o=a?"left":"right";n.setStyle({textRotation:-i,textPosition:o,textOrigin:"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=o)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData().graph,a=r.edgeDataIndex,o=i.getNodeByIndex(r.dataIndex),s=i.getEdgeByIndex(a);(o||s)&&(i.eachNode(function(t){wc(t,dO,.1)}),i.eachEdge(function(t){wc(t,pO,.1)}),o&&(Sc(o,dO),f(o.edges,function(t){t.dataIndex<0||(Sc(t,pO),Sc(t.node1,dO),Sc(t.node2,dO))})),s&&(Sc(s,pO),Sc(s.node1,dO),Sc(s.node2,dO)))},unfocusNodeAdjacency:function(t,e,n,r){var i=this._model.getData().graph;i.eachNode(function(t){wc(t,dO)}),i.eachEdge(function(t){wc(t,pO)})},_startForceLayoutIteration:function(t,e){var n=this;!function r(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(r,16):r())})}()},_updateController:function(t,e,n){var r=this._controller,i=this._controllerHost,a=this.group;r.setPointerChecker(function(e,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!Qu(e,n,t)}),"view"===t.coordinateSystem.type?(r.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(e){Zu(i,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){$u(i,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(),hO(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):r.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=this._getNodeGlobalScale(t),r=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",r)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scale,i=r&&r[0]||1;return((e.getZoom()-1)*n+1)/i},updateLayout:function(t){hO(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),co({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),co({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),co({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var n=il(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})});var gO=W;lo(function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getGraph().data,i=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t).getShallow("category");if(null!=n){"number"==typeof n&&(n=i[n]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(n))return!1}return!0})},this)}),po(nS("graph","circle",null)),po(function(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each(function(r){var a=n.getName(r);i["ec-"+a]=r;var o=n.getItemModel(r).get("itemStyle.color")||t.getColorFromPalette(a,e);n.setItemVisual(r,"color",o)}),n.count()&&r.each(function(t){var e=r.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=i["ec-"+e]),r.getItemVisual(t,"color",!0)||r.setItemVisual(t,"color",n.getItemVisual(e,"color")))})})}),po(function(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=Mc(t.get("edgeSymbol")),i=Mc(t.get("edgeSymbolSize")),a="lineStyle.color".split("."),o="lineStyle.opacity".split(".");n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("color",t.get(a)),n.setVisual("opacity",t.get(o)),n.each(function(t){var r=n.getItemModel(t),i=e.getEdgeByIndex(t),s=Mc(r.getShallow("symbol",!0)),u=Mc(r.getShallow("symbolSize",!0)),l=r.get(a),c=r.get(o);switch(l){case"source":l=i.node1.getVisual("color");break;case"target":l=i.node2.getVisual("color")}s[0]&&i.setVisual("fromSymbol",s[0]),s[1]&&i.setVisual("toSymbol",s[1]),u[0]&&i.setVisual("fromSymbolSize",u[0]),u[1]&&i.setVisual("toSymbolSize",u[1]),i.setVisual("color",l),i.setVisual("opacity",c)})})}),fo(function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var r=t.getData(),i=[];f(n.dimensions,function(t){i=i.concat(r.mapDimension(t,!0))});for(var a=0;a<r.count();a++){for(var o=[],s=!1,u=0;u<i.length;u++){var l=r.get(i[u],a);isNaN(l)||(s=!0),o.push(l)}r.setItemLayout(a,s?n.dataToPoint(o):[NaN,NaN])}Cc(r.graph)}else e&&"none"!==e||Oc(t)})}),fo(function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&Ac(t)})}),fo(function(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},r=t.getGraph(),i=r.data,a=r.edgeData,o=t.getModel("force"),s=o.get("initLayout");t.preservedPoints?i.each(function(t){var e=i.getId(t);i.setItemLayout(t,n[e]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&Ac(t):Oc(t);var u=i.getDataExtent("value"),l=a.getDataExtent("value"),c=o.get("repulsion"),h=o.get("edgeLength");y(c)||(c=[c,c]),y(h)||(h=[h,h]),h=[h[1],h[0]];var f=i.mapArray("value",function(t,e){var n=i.getItemLayout(e),r=Xr(t,u,c);return isNaN(r)&&(r=(c[0]+c[1])/2),{w:r,rep:r,fixed:i.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),d=a.mapArray("value",function(t,e){var n=r.getEdgeByIndex(e),i=Xr(t,l,h);return isNaN(i)&&(i=(h[0]+h[1])/2),{n1:f[n.node1.dataIndex],n2:f[n.node2.dataIndex],d:i,curveness:n.getModel().get("lineStyle.curveness")||0}}),p=(e=t.coordinateSystem).getBoundingRect(),g=function(t,e,n){for(var r=n.rect,i=r.width,a=r.height,o=[r.x+i/2,r.y+a/2],s=null==n.gravity?.1:n.gravity,u=0;u<t.length;u++){var l=t[u];l.p||(l.p=B(i*(Math.random()-.5)+o[0],a*(Math.random()-.5)+o[1])),l.pp=V(l.p),l.edges=null}var c=.6;return{warmUp:function(){c=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var r=[],i=t.length,a=0;a<e.length;a++){var u=e[a];q(r,(p=u.n2).p,(f=u.n1).p);var l=U(r)-u.d,h=p.w/(f.w+p.w);isNaN(h)&&(h=0),Z(r,r),!f.fixed&&gO(f.p,f.p,r,h*l*c),!p.fixed&&gO(p.p,p.p,r,-(1-h)*l*c)}for(a=0;a<i;a++)(m=t[a]).fixed||(q(r,o,m.p),gO(m.p,m.p,r,s*c));for(a=0;a<i;a++)for(var f=t[a],d=a+1;d<i;d++){var p=t[d];q(r,p.p,f.p),0===(l=U(r))&&(G(r,Math.random()-.5,Math.random()-.5),l=1);var g=(f.rep+p.rep)/l/l;!f.fixed&&gO(f.pp,f.pp,r,g),!p.fixed&&gO(p.pp,p.pp,r,-g)}var v=[];for(a=0;a<i;a++){var m=t[a];m.fixed||(q(v,m.p,m.pp),gO(m.p,m.p,v,c),F(m.pp,m.p))}c*=.992,n&&n(t,e,c<.01)}}}(f,d,{rect:p,gravity:o.get("gravity")}),v=g.step;g.step=function(t){for(var e=0,a=f.length;e<a;e++)f[e].fixed&&F(f[e].p,r.getNodeByIndex(e).getLayout());v(function(e,a,o){for(var s=0,u=e.length;s<u;s++)e[s].fixed||r.getNodeByIndex(s).setLayout(e[s].p),n[i.getId(s)]=e[s].p;for(s=0,u=a.length;s<u;s++){var l=a[s],c=r.getEdgeByIndex(s),h=l.n1.p,f=l.n2.p,d=c.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],F(d[0],h),F(d[1],f),+l.curveness&&(d[2]=[(h[0]+f[0])/2-(h[1]-f[1])*l.curveness,(h[1]+f[1])/2-(f[0]-h[0])*l.curveness]),c.setLayout(d)}t&&t(o)})},t.forceLayout=g,t.preservedPoints=n,g.step()}else t.forceLayout=null})}),ho("graphView",{create:function(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var i=t.getData(),a=[],o=[];Ln(i.mapArray(function(t){var e=i.getItemModel(t);return[+e.get("x"),+e.get("y")]}),a,o),o[0]-a[0]==0&&(o[0]+=1,a[0]-=1),o[1]-a[1]==0&&(o[1]+=1,a[1]-=1);var s=(o[0]-a[0])/(o[1]-a[1]),u=function(t,e,n){var r=t.getBoxLayoutParams();return r.aspect=n,bi(r,{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(a=[u.x,u.y],o=[u.x+u.width,u.y+u.height]);var l=o[0]-a[0],c=o[1]-a[1],h=u.width,f=u.height,d=t.coordinateSystem=new ol;d.zoomLimit=t.get("scaleLimit"),d.setBoundingRect(a[0],a[1],l,c),d.setViewRect(u.x,u.y,h,f),d.setCenter(t.get("center")),d.setZoom(t.get("zoom")),n.push(d)}}),n}}),Tb.extend({type:"series.gauge",getInitialData:function(t,e){var n=t.data||[];return y(n)||(n=[n]),t.data=n,kS(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var vO=Qn.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,r=Math.sin,i=e.r,a=e.width,o=e.angle,s=e.x-n(o)*a*(a>=i/3?1:2),u=e.y-r(o)*a*(a>=i/3?1:2);o=e.angle-Math.PI/2,t.moveTo(s,u),t.lineTo(e.x+n(o)*a,e.y+r(o)*a),t.lineTo(e.x+n(e.angle)*i,e.y+r(e.angle)*i),t.lineTo(e.x-n(o)*a,e.y-r(o)*a),t.lineTo(s,u)}}),mO=2*Math.PI,yO=(pa.extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var r=t.get("axisLine.lineStyle.color"),i=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),a=Math.min(r,i);return{cx:Zr(n[0],e.getWidth()),cy:Zr(n[1],e.getHeight()),r:Zr(t.get("radius"),a/2)}}(t,n);this._renderMain(t,e,n,r,i)},dispose:function(){},_renderMain:function(t,e,n,r,i){for(var a=this.group,o=t.getModel("axisLine").getModel("lineStyle"),s=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,c=(l-u)%mO,h=u,f=o.get("width"),d=0;d<r.length;d++){var p=Math.min(Math.max(r[d][0],0),1),g=new qy({shape:{startAngle:h,endAngle:l=u+c*p,cx:i.cx,cy:i.cy,clockwise:s,r0:i.r-f,r:i.r},silent:!0});g.setStyle({fill:r[d][1]}),g.setStyle(o.getLineStyle(["color","borderWidth","borderColor"])),a.add(g),h=l}var v=function(t){if(t<=0)return r[0][1];for(var e=0;e<r.length;e++)if(r[e][0]>=t&&(0===e?0:r[e-1][0])<t)return r[e][1];return r[e-1][1]};if(!s){var m=u;u=l,l=m}this._renderTicks(t,e,n,v,i,u,l,s),this._renderPointer(t,e,n,v,i,u,l,s),this._renderTitle(t,e,n,v,i),this._renderDetail(t,e,n,v,i)},_renderTicks:function(t,e,n,r,i,a,o,s){for(var u=this.group,l=i.cx,c=i.cy,h=i.r,f=+t.get("min"),d=+t.get("max"),p=t.getModel("splitLine"),g=t.getModel("axisTick"),v=t.getModel("axisLabel"),m=t.get("splitNumber"),y=g.get("splitNumber"),x=Zr(p.get("length"),h),b=Zr(g.get("length"),h),_=a,w=(o-a)/m,S=w/y,M=p.getModel("lineStyle").getLineStyle(),O=g.getModel("lineStyle").getLineStyle(),C=0;C<=m;C++){var A=Math.cos(_),I=Math.sin(_);if(p.get("show")){var T=new ex({shape:{x1:A*h+l,y1:I*h+c,x2:A*(h-x)+l,y2:I*(h-x)+c},style:M,silent:!0});"auto"===M.stroke&&T.setStyle({stroke:r(C/m)}),u.add(T)}if(v.get("show")){var E=Ic($r(C/m*(d-f)+f),v.get("formatter")),j=v.get("distance"),P=r(C/m);u.add(new Vy({style:Ir({},v,{text:E,x:A*(h-x-j)+l,y:I*(h-x-j)+c,textVerticalAlign:I<-.4?"top":I>.4?"bottom":"middle",textAlign:A<-.4?"left":A>.4?"right":"center"},{autoColor:P}),silent:!0}))}if(g.get("show")&&C!==m){for(var k=0;k<=y;k++){A=Math.cos(_),I=Math.sin(_);var D=new ex({shape:{x1:A*h+l,y1:I*h+c,x2:A*(h-b)+l,y2:I*(h-b)+c},silent:!0,style:O});"auto"===O.stroke&&D.setStyle({stroke:r((C+k/y)/m)}),u.add(D),_+=S}_-=S}else _+=w}},_renderPointer:function(t,e,n,r,i,a,o,s){var u=this.group,l=this._data;if(t.get("pointer.show")){var c=[+t.get("min"),+t.get("max")],h=[a,o],f=t.getData(),d=f.mapDimension("value");f.diff(l).add(function(e){var n=new vO({shape:{angle:a}});Nr(n,{shape:{angle:Xr(f.get(d,e),c,h,!0)}},t),u.add(n),f.setItemGraphicEl(e,n)}).update(function(e,n){var r=l.getItemGraphicEl(n);Rr(r,{shape:{angle:Xr(f.get(d,e),c,h,!0)}},t),u.add(r),f.setItemGraphicEl(e,r)}).remove(function(t){var e=l.getItemGraphicEl(t);u.remove(e)}).execute(),f.eachItemGraphicEl(function(t,e){var n=f.getItemModel(e),a=n.getModel("pointer");t.setShape({x:i.cx,y:i.cy,width:Zr(a.get("width"),i.r),r:Zr(a.get("length"),i.r)}),t.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",r(Xr(f.get(d,e),c,[0,1],!0))),Or(t,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=f}else l&&l.eachItemGraphicEl(function(t){u.remove(t)})},_renderTitle:function(t,e,n,r,i){var a=t.getData(),o=a.mapDimension("value"),s=t.getModel("title");if(s.get("show")){var u=s.get("offsetCenter"),l=i.cx+Zr(u[0],i.r),c=i.cy+Zr(u[1],i.r),h=+t.get("min"),f=+t.get("max"),d=r(Xr(t.getData().get(o,0),[h,f],[0,1],!0));this.group.add(new Vy({silent:!0,style:Ir({},s,{x:l,y:c,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}},_renderDetail:function(t,e,n,r,i){var a=t.getModel("detail"),o=+t.get("min"),s=+t.get("max");if(a.get("show")){var u=a.get("offsetCenter"),l=i.cx+Zr(u[0],i.r),c=i.cy+Zr(u[1],i.r),h=Zr(a.get("width"),i.r),f=Zr(a.get("height"),i.r),d=t.getData(),p=d.get(d.mapDimension("value"),0),g=r(Xr(p,[o,s],[0,1],!0));this.group.add(new Vy({silent:!0,style:Ir({},a,{x:l,y:c,text:Ic(p,a.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(f)?null:f,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}}),xo({type:"series.funnel",init:function(t){yO.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return kS(this,["value"])},_defaultLabelLine:function(t){on(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),n=yO.superCall(this,"getDataParams",t),r=e.mapDimension("value"),i=e.getSum(r);return n.percent=i?+(e.get(r,t)/i*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),xO=Tc.prototype,bO=["itemStyle","opacity"];xO.updateData=function(t,e,n){var r=this.childAt(0),i=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e),u=t.getItemModel(e).get(bO);u=null==u?1:u,r.useStyle({}),n?(r.setShape({points:s.points}),r.setStyle({opacity:0}),Nr(r,{style:{opacity:u}},i,e)):Rr(r,{style:{opacity:u},shape:{points:s.points}},i,e);var l=a.getModel("itemStyle"),c=t.getItemVisual(e,"color");r.setStyle(o({lineJoin:"round",fill:c},l.getItemStyle(["opacity"]))),r.hoverStyle=l.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),Or(this)},xO._updateLabel=function(t,e){var n=this.childAt(1),r=this.childAt(2),i=t.hostModel,a=t.getItemModel(e),o=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");Rr(n,{shape:{points:o.linePoints||o.linePoints}},i,e),Rr(r,{style:{x:o.x,y:o.y}},i,e),r.attr({rotation:o.rotation,origin:[o.x,o.y],z2:10});var u=a.getModel("label"),l=a.getModel("emphasis.label"),c=a.getModel("labelLine"),h=a.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color"),Ar(r.style,r.hoverStyle={},u,l,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!o.inside},{textAlign:o.textAlign,textVerticalAlign:o.verticalAlign}),r.ignore=r.normalIgnore=!u.get("show"),r.hoverIgnore=!l.get("show"),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:s}),n.setStyle(c.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle()},l(Tc,Lv),pa.extend({type:"funnel",render:function(t,e,n){var r=t.getData(),i=this._data,a=this.group;r.diff(i).add(function(t){var e=new Tc(r,t);r.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var n=i.getItemGraphicEl(e);n.updateData(r,t),a.add(n),r.setItemGraphicEl(t,n)}).remove(function(t){var e=i.getItemGraphicEl(t);a.remove(e)}).execute(),this._data=r},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),po(zS("funnel")),fo(function(t,e,n){t.eachSeriesByType("funnel",function(t){var n=t.getData(),r=n.mapDimension("value"),i=t.get("sort"),a=function(t,e){return bi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),o=function(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,function(t){return t}),i=[],a="ascending"===e,o=0,s=t.count();o<s;o++)i[o]=o;return"function"==typeof e?i.sort(e):"none"!==e&&i.sort(function(t,e){return a?r[t]-r[e]:r[e]-r[t]}),i}(n,i),s=[Zr(t.get("minSize"),a.width),Zr(t.get("maxSize"),a.width)],u=n.getDataExtent(r),l=t.get("min"),c=t.get("max");null==l&&(l=Math.min(u[0],0)),null==c&&(c=u[1]);var h=t.get("funnelAlign"),f=t.get("gap"),d=(a.height-f*(n.count()-1))/n.count(),p=a.y,g=function(t,e){var i,o=Xr(n.get(r,t)||0,[l,c],s,!0);switch(h){case"left":i=a.x;break;case"center":i=a.x+(a.width-o)/2;break;case"right":i=a.x+a.width-o}return[[i,e],[i+o,e]]};"ascending"===i&&(d=-d,f=-f,p+=a.height,o=o.reverse());for(var v=0;v<o.length;v++){var m=o[v],y=o[v+1],x=n.getItemModel(m).get("itemStyle.height");null==x?x=d:(x=Zr(x,a.height),"ascending"===i&&(x=-x));var b=g(m,p),_=g(y,p+x);p+=x+f,n.setItemLayout(m,{points:b.concat(_.slice().reverse())})}!function(t){t.each(function(e){var n,r,i,a,o=t.getItemModel(e),s=o.getModel("label").get("position"),u=o.getModel("labelLine"),l=t.getItemLayout(e),c=l.points,h="inner"===s||"inside"===s||"center"===s;if(h)n="center",a=[[r=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,i=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4],[r,i]];else{var f,d,p,g=u.get("length");"left"===s?(d=(c[3][1]+c[0][1])/2,r=(p=(f=(c[3][0]+c[0][0])/2)-g)-5,n="right"):(d=(c[1][1]+c[2][1])/2,r=(p=(f=(c[1][0]+c[2][0])/2)+g)+5,n="left"),a=[[f,d],[p,d]],i=d}l.label={linePoints:a,x:r,y:i,verticalAlign:"middle",textAlign:n,inside:h}})}(n)})}),lo(VS("funnel"));var _O=function(t,e,n,r,i){Rw.call(this,t,e,n),this.type=r||"value",this.axisIndex=i};_O.prototype={constructor:_O,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},l(_O,Rw);var wO=function(t,e,n,r,i,a){e[0]=jc(e[0],n),e[1]=jc(e[1],n),t=t||0,null!=i&&(i=jc(i,[0,n[1]-n[0]])),null!=a&&(a=Math.max(a,null!=i?i:0)),"all"===r&&(i=a=Math.abs(e[1]-e[0]),r=0);var o=Ec(e,r);e[r]+=t;var s=i||0,u=n.slice();o.sign<0?u[0]+=s:u[1]-=s,e[r]=jc(e[r],u),l=Ec(e,r),null!=i&&(l.sign!==o.sign||l.span<i)&&(e[1-r]=e[r]+o.sign*i);var l=Ec(e,r);return null!=a&&l.span>a&&(e[1-r]=e[r]+l.sign*a),e},SO=f,MO=Math.min,OO=Math.max,CO=Math.floor,AO=Math.ceil,IO=$r,TO=Math.PI;Pc.prototype={type:"parallel",constructor:Pc,_init:function(t,e,n){var r=t.parallelAxisIndex;SO(t.dimensions,function(t,n){var i=r[n],a=e.getComponent("parallelAxis",i),o=this._axesMap.set(t,new _O(t,ls(a),[0,0],a.get("type"),i));o.onBand="category"===o.type&&a.get("boundaryGap"),o.inverse=a.get("inverse"),a.axis=o,o.model=a,o.coordinateSystem=a.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,i=e.pixelDimIndex,a=t[1-i],o=t[i];return a>=n&&a<=n+e.axisLength&&o>=r&&o<=r+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var r=n.getData();SO(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(r,r.mapDimension(t)),us(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=bi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,n=this._rect,r=["x","y"],i=["width","height"],a=e.get("layout"),o="horizontal"===a?0:1,s=n[i[o]],u=[0,s],l=this.dimensions.length,c=kc(e.get("axisExpandWidth"),u),h=kc(e.get("axisExpandCount")||0,[0,l]),f=e.get("axisExpandable")&&l>3&&l>h&&h>1&&c>0&&s>0,d=e.get("axisExpandWindow");d?(t=kc(d[1]-d[0],u),d[1]=d[0]+t):(t=kc(c*(h-1),u),(d=[c*(e.get("axisExpandCenter")||CO(l/2))-t/2])[1]=d[0]+t);var p=(s-t)/(l-h);p<3&&(p=0);var g=[CO(IO(d[0]/c,1))+1,AO(IO(d[1]/c,1))-1];return{layout:a,pixelDimIndex:o,layoutBase:n[r[o]],layoutLength:s,axisBase:n[r[1-o]],axisLength:n[i[1-o]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:d,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:p/c*d[0]}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;e.each(function(t){var e=[0,r.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),SO(n,function(e,n){var a=(r.axisExpandable?function(t,e){var n,r,i=e.axisExpandWidth,a=e.axisCollapseWidth,o=e.winInnerIndices,s=a,u=!1;return t<o[0]?(n=t*a,r=a):t<=o[1]?(n=e.axisExpandWindow0Pos+t*i-e.axisExpandWindow[0],s=i,u=!0):(n=e.layoutLength-(e.axisCount-1-t)*a,r=a),{position:n,axisNameAvailableWidth:s,axisLabelShow:u,nameTruncateMaxWidth:r}}:function(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}})(n,r),o={horizontal:{x:a.position,y:r.axisLength},vertical:{x:0,y:a.position}},s=[o[i].x+t.x,o[i].y+t.y],u={horizontal:TO/2,vertical:0}[i],l=gt();bt(l,l,u),xt(l,l,s),this._axesLayout[e]={position:s,rotation:u,transform:l,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var i=this._axesMap,a=this.dimensions,o=[],s=[];f(a,function(e){o.push(t.mapDimension(e)),s.push(i.get(e).model)});for(var u=this.hasAxisBrushed(),l=n;l<r;l++){var c;if(u){c="active";for(var h=t.getValues(o,l),d=0,p=a.length;d<p;d++)if("inactive"===s[d].getActiveState(h[d])){c="inactive";break}}else c="normal";e(c,l)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,i=t.length;r<i;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){return Br([t,0],this._axesLayout[e].transform)},getAxisLayout:function(t){return n(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),i=r[1]-r[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var o,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",l=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),h=null!=c[0];return l?(h&&l&&s<i*c[0]?(u="jump",o=s-i*c[2]):h&&l&&s>i*(1-c[0])?(u="jump",o=s-i*(1-c[2])):(o=s-i*c[1])>=0&&(o=s-i*(1-c[1]))<=0&&(o=0),(o*=e.axisExpandWidth/l)?wO(o,r,a,"all"):u="none"):((r=[OO(0,a[1]*s/(i=r[1]-r[0])-i/2)])[1]=MO(a[1],r[0]+i),r[0]=r[1]-i),{axisExpandWindow:r,behavior:u}}},Ni.register("parallel",{create:function(t,e){var n=[];return t.eachComponent("parallel",function(r,i){var a=new Pc(r,t,e);a.name="parallel_"+i,a.resize(r,e),r.coordinateSystem=a,a.model=r,n.push(a)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}});var EO=Wx.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Dm([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=n(t);if(e)for(var r=e.length-1;r>=0;r--)Qr(e[r])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var r=0,i=e.length;r<i;r++)if(e[r][0]<=t&&t<=e[r][1])return"active";return"inactive"}});r(EO.prototype,Sw),hS("parallel",EO,function(t,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Wx.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Wx.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){t&&r(this.option,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];f(g(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this),function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})}}),co({type:"axisAreaSelect",event:"axisAreaSelected"},function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),co("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})});var jO=m,PO=f,kO=d,DO=Math.min,LO=Math.max,RO=Math.pow,NO=1e4,zO=6,BO=6,FO="globalPan",VO={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},GO={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},HO={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},WO=0;Dc.prototype={constructor:Dc,enableBrush:function(t){return this._brushType&&function(t){var e=t._zr;(function(t,e,n){var r=Bu(t);r[e]===n&&(r[e]=null)})(e,FO,t._uid),PO(t._handlers,function(t,n){e.off(n,t)}),t._brushType=t._brushOption=null}(this),t.brushType&&function(t,e){var i=t._zr;t._enableGlobalPan||function(t,e,n){Bu(i).globalPan=n}(0,0,t._uid),PO(t._handlers,function(t,e){i.on(e,t)}),t._brushType=e.brushType,t._brushOption=r(n(HO),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};f(t,function(t){e[t.panelId]=n(t)})}else this._panels=null;return this},mount:function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){PO(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:a+e)+"-"+t.brushType}function i(e,n){var r=t[e];if(null!=n&&o[n]===l)s[e]=o[n];else{var i=s[e]=null!=n?(o[n].__brushOption=r,o[n]):Rc(u,Lc(u,r));Bc(u,i)}}t=d(t,function(t){return r(n(HO),t,!0)});var a="\0-brush-index-",o=this._covers,s=this._covers=[],u=this,l=this._creatingCover;return new wo(o,t,function(t,n){return e(t.__brushOption,n)},e).add(i).update(i).remove(function(t){o[t]!==l&&u.group.remove(o[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),Hc(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},c(Dc,Jg);var qO={mousedown:function(t){if(this._dragging)oh.call(this,t);else if(!t.target||!t.target.draggable){nh(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Vc(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function(t,e,n){if(t._brushType){var r=t._zr,i=t._covers,a=Vc(t,e,n);if(!t._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(!0===a||s.panelId===a.panelId)&&UO[s.brushType].contain(i[o],n[0],n[1]))return}a&&r.setCursorStyle("crosshair")}}(this,t,e),this._dragging){nh(t);var n=ih(this,t,e,!1);n&&Wc(this,n)}},mouseup:oh},UO={lineX:sh(0),lineY:sh(1),rect:{createCover:function(t,e){return Uc(jO(Jc,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=qc(t);return Qc(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){Yc(t,e,n,r)},updateCommon:Xc,contain:rh},polygon:{createCover:function(t,e){var n=new Lv;return n.add(new $y({name:"main",style:$c(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Zy({name:"main",draggable:!0,drift:jO(Kc,t,e),ondragend:jO(Wc,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:eh(t,e,n)})},updateCommon:Xc,contain:rh}},YO=["axisLine","axisTickLabel","axisName"],XO=yo({type:"parallelAxis",init:function(t,e){XO.superApply(this,"init",arguments),(this._brushController=new Dc(e.getZr())).on("brush",v(this._onBrush,this))},render:function(t,e,n,r){if(!function(t,e,n){return r&&"axisAreaSelect"===r.type&&e.findComponents({mainType:"parallelAxis",query:r})[0]===t}(t,e)){this.axisModel=t,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new Lv,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),s=o.coordinateSystem,u=t.getAreaSelectStyle(),l=u.width,c=a({strokeContainThreshold:l},s.getAxisLayout(t.axis.dim)),h=new mS(t,c);f(YO,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(c,u,t,o,l,n),Vr(i,this._axisGroup,r&&!1===r.animation?null:t)}}},_refreshBrushController:function(t,e,n,r,i,a){var o=n.axis.getExtent(),s=o[1]-o[0],u=Math.min(30,.1*Math.abs(s)),l=ie.create({x:o[0],y:-i/2,width:s,height:i});l.x-=u,l.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:uh(l),isTargetByCursor:ch(l,a,r),getLinearBrushOtherExtent:lh(l,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=n.axis;return d(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}())},_onBrush:function(t,e){var n=this.axisModel,r=n.axis,i=d(t,function(t){return[r.coordToData(t.range[0],!0),r.coordToData(t.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:i})},dispose:function(){this._brushController.dispose()}});yo({type:"parallel",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},f(ZO,function(t,e){n.getZr().on(e,this._handlers[e]=v(t,this))},this)),ba(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){f(this._handlers,function(t,n){e.getZr().off(n,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(a({type:"parallelAxisExpand"},t))}});var ZO={mousedown:function(t){fh(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(fh(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&fh(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r&&null})}}};uo(function(t){(function(t){if(!t.parallel){var e=!1;f(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}})(t),function(t){f(an(t.parallelAxis),function(e){if(_(e)){var n=e.parallelIndex||0,i=an(t.parallel)[n];i&&i.parallelAxisDefault&&r(e,i.parallelAxisDefault,!1)}})}(t)}),Tb.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=this.getSource();return function(t,e){if(!t.encodeDefine){var n=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(n){var r=t.encodeDefine=R();f(n.dimensions,function(t){var e=function(t){return+t.replace("dim","")}(t);r.set(t,e)})}}}(n,this),Go(n,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,n=this.getData(),r=[];return e.eachActiveState(n,function(e,i){t===e&&r.push(n.getRawIndex(i))}),r},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});var $O=.3,QO=(pa.extend({type:"parallel",init:function(){this._dataGroup=new Lv,this.group.add(this._dataGroup)},render:function(t,e,n,r){var i=this._dataGroup,a=t.getData(),o=this._data,s=t.coordinateSystem,u=s.dimensions,l=gh(t);if(a.diff(o).add(function(t){vh(ph(a,i,t,u,s),a,t,l)}).update(function(e,n){var i=o.getItemGraphicEl(n),c=dh(a,e,u,s);a.setItemGraphicEl(e,i),Rr(i,{shape:{points:c}},r&&!1===r.animation?null:t,e),vh(i,a,e,l)}).remove(function(t){var e=o.getItemGraphicEl(t);i.remove(e)}).execute(),!this._initialized){this._initialized=!0;var c=function(t,e,n){var r=s.model,i=s.getRect(),a=new Ky({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o="horizontal"===r.get("layout")?"width":"height";return a.setShape(o,0),Nr(a,{shape:{width:i.width,height:i.height}},e,n),a}(0,t,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(c)}this._data=a},incrementalPrepareRender:function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,n){for(var r=e.getData(),i=e.coordinateSystem,a=i.dimensions,o=gh(e),s=t.start;s<t.end;s++){var u=ph(r,this._dataGroup,s,a,i);u.incremental=!0,vh(u,r,s,o)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]);po({seriesType:"parallel",reset:function(t,e,n){var r=t.getModel("itemStyle"),i=t.getModel("lineStyle"),a=e.get("color"),o=i.get("color")||r.get("color")||a[t.seriesIndex%a.length],s=t.get("inactiveOpacity"),u=t.get("activeOpacity"),l=t.getModel("lineStyle").getLineStyle(),c=t.coordinateSystem,h=t.getData(),f={normal:l.opacity,active:u,inactive:s};return h.setVisual("color",o),{progress:function(t,e){c.eachActiveState(e,function(t,n){var r=f[t];if("normal"===t&&e.hasItemOption){var i=e.getItemModel(n).get(QO,!0);null!=i&&(r=i)}e.setItemVisual(n,"opacity",r)},t.start,t.end)}}}});var JO=Tb.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,n=t.data||t.nodes;if(n&&e)return QM(n,e,this,!0).data},setNodePosition:function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getDataParams(t,n),i=r.data,a=i.source+" -- "+i.target;return r.value&&(a+=" : "+r.value),fi(a)}return JO.superCall(this,"formatTooltip",t,e)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),KO=["itemStyle","opacity"],tC=["lineStyle","opacity"],eC=or({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(t,e){var n=e.extent;"vertical"===e.orient?(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()}});bo({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(t,e,n){var r=this,i=t.getGraph(),a=this.group,o=t.layoutInfo,s=o.width,u=o.height,l=t.getData(),c=t.getData("edge"),h=t.get("orient");this._model=t,a.removeAll(),a.attr("position",[o.x,o.y]),i.eachEdge(function(e){var n=new eC;n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var r,i,o,l,f,d,p,g,v=e.getModel("lineStyle"),m=v.get("curveness"),y=e.node1.getLayout(),x=e.node1.getModel(),b=x.get("localX"),_=x.get("localY"),w=e.node2.getLayout(),S=e.node2.getModel(),M=S.get("localX"),O=S.get("localY"),C=e.getLayout();switch(n.shape.extent=Math.max(1,C.dy),n.shape.orient=h,"vertical"===h?(f=r=(null!=b?b*s:y.x)+C.sy,d=(i=(null!=_?_*u:y.y)+y.dy)*(1-m)+(l=null!=O?O*u:w.y)*m,p=o=(null!=M?M*s:w.x)+C.ty,g=i*m+l*(1-m)):(f=(r=(null!=b?b*s:y.x)+y.dx)*(1-m)+(o=null!=M?M*s:w.x)*m,d=i=(null!=_?_*u:y.y)+C.sy,p=r*m+o*(1-m),g=l=(null!=O?O*u:w.y)+C.ty),n.setShape({x1:r,y1:i,x2:o,y2:l,cpx1:f,cpy1:d,cpx2:p,cpy2:g}),n.setStyle(v.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color");break;case"target":n.style.fill=e.node2.getVisual("color")}Or(n,e.getModel("emphasis.lineStyle").getItemStyle()),a.add(n),c.setItemGraphicEl(e.dataIndex,n)}),i.eachNode(function(e){var n=e.getLayout(),r=e.getModel(),i=r.get("localX"),o=r.get("localY"),c=r.getModel("label"),h=r.getModel("emphasis.label"),f=new Ky({shape:{x:null!=i?i*s:n.x,y:null!=o?o*u:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle()}),d=e.getModel("emphasis.itemStyle").getItemStyle();Ar(f.style,d,c,h,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),f.setStyle("fill",e.getVisual("color")),Or(f,d),a.add(f),l.setItemGraphicEl(e.dataIndex,f),f.dataType="node"}),l.eachItemGraphicEl(function(e,i){var a=l.getItemModel(i);a.get("draggable")&&(e.drift=function(e,a){r._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=a,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:l.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/u})},e.ondragend=function(){r._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move"),a.get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.off("mouseout").on("mouseout",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}),c.eachItemGraphicEl(function(e,i){c.getItemModel(i).get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),e.off("mouseout").on("mouseout",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}),!this._data&&t.get("animation")&&a.setClipPath(function(t,e,n){var r=new Ky({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Nr(r,{shape:{width:t.width+20,height:t.height+20}},e,function(){a.removeClipPath()}),r}(a.getBoundingRect(),t)),this._data=t.getData()},dispose:function(){},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData(),a=i.graph,o=r.dataIndex,s=i.getItemModel(o),u=r.edgeDataIndex;if(null!=o||null!=u){var l=a.getNodeByIndex(o),c=a.getEdgeByIndex(u);if(a.eachNode(function(t){xh(t,KO,.1)}),a.eachEdge(function(t){xh(t,tC,.1)}),l){bh(l,KO);var h=s.get("focusNodeAdjacency");"outEdges"===h?f(l.outEdges,function(t){t.dataIndex<0||(bh(t,tC),bh(t.node2,KO))}):"inEdges"===h?f(l.inEdges,function(t){t.dataIndex<0||(bh(t,tC),bh(t.node1,KO))}):"allEdges"===h&&f(l.edges,function(t){t.dataIndex<0||(bh(t,tC),bh(t.node1,KO),bh(t.node2,KO))})}c&&(bh(c,tC),bh(c.node1,KO),bh(c.node2,KO))}},unfocusNodeAdjacency:function(t,e,n,r){var i=this._model.getGraph();i.eachNode(function(t){xh(t,KO)}),i.eachEdge(function(t){xh(t,tC)})}}),co({type:"dragNode",event:"dragNode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),fo(function(t,e,n){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),i=function(t,e){return bi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=i;var a=i.width,o=i.height,s=t.getGraph(),u=s.nodes,l=s.edges;f(u,function(t){var e=Th(t.outEdges,Ih),n=Th(t.inEdges,Ih),r=Math.max(e,n);t.setLayout({value:r},!0)}),function(t,e,n,r,i,a,o,s){(function(t,e,n,r,i,a){for(var o=[],s=[],u=[],l=[],c=0,h=0;h<e.length;h++)o[h]=1;for(h=0;h<t.length;h++)s[h]=t[h].inEdges.length,0===s[h]&&u.push(t[h]);for(;u.length;){for(var f=0;f<u.length;f++){var d=u[f];"vertical"===a?(d.setLayout({y:c},!0),d.setLayout({dy:n},!0)):(d.setLayout({x:c},!0),d.setLayout({dx:n},!0));for(var p=0;p<d.outEdges.length;p++){var g=d.outEdges[p];o[e.indexOf(g)]=0;var v=g.node2;0==--s[t.indexOf(v)]&&l.push(v)}}++c,u=l,l=[]}for(h=0;h<o.length;h++);_h(t,c,a),wh(t,"vertical"===a?(i-n)/(c-1):(r-n)/(c-1),a)})(t,e,n,i,a,s),function(t,e,n,r,i,a,o){var s=function(t,e){var n=[],r="vertical"===o?"y":"x",i=yn(t,function(t){return t.getLayout()[r]});return i.keys.sort(function(t,e){return t-e}),f(i.keys,function(t){n.push(i.buckets.get(t))}),n}(t);(function(t,e,n,r,i,a,o){var s=[];f(e,function(t){var e=t.length,n=0;f(t,function(t){n+=t.getLayout().value}),s.push("vertical"===o?(i-(e-1)*a)/n:(r-(e-1)*a)/n)}),s.sort(function(t,e){return t-e});var u=s[0];f(e,function(t){f(t,function(t,e){var n=t.getLayout().value*u;"vertical"===o?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))})}),f(n,function(t){var e=+t.getValue()*u;t.setLayout({dy:e},!0)})})(0,s,e,n,r,i,o),Sh(s,i,n,r,o);for(var u=1;a>0;a--)Mh(s,u*=.99,o),Sh(s,i,n,r,o),Eh(s,u,o),Sh(s,i,n,r,o)}(t,e,a,i,r,o,s),function(t,e){f(t,function(t){"vertical"===e?(t.outEdges.sort(function(t,e){return t.node2.getLayout().x-e.node2.getLayout().x}),t.inEdges.sort(function(t,e){return t.node1.getLayout().x-e.node1.getLayout().x})):(t.outEdges.sort(function(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}),t.inEdges.sort(function(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}))}),f(t,function(t){var e=0,n=0;f(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),f(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}(t,s)}(u,l,n,r,a,o,0!==g(u,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"))})}),po(function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,r=-1/0;f(e,function(t){var e=t.getLayout().value;e<n&&(n=e),e>r&&(r=e)}),f(e,function(e){var i=new DM({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:t.get("color")}).mapValueToVisual(e.getLayout().value);e.setVisual("color",i);var a=e.getModel().get("itemStyle.color");null!=a&&e.setVisual("color",a)})}})});var nC={_baseAxisDim:null,getInitialData:function(t,e){var n,r,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type");"category"===o?(t.layout="horizontal",n=i.getOrdinalMeta(),r=!0):"category"===s?(t.layout="vertical",n=a.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],l="horizontal"===t.layout?0:1,c=this._baseAxisDim=u[l],h=u[1-l],d=[i,a],p=d[l].get("type"),g=d[1-l].get("type"),v=t.data;if(v&&r){var m=[];f(v,function(t,e){var n;t.value&&y(t.value)?(n=t.value.slice(),t.value.unshift(e)):y(t)?(n=t.slice(),t.unshift(e)):n=t,m.push(n)}),t.data=m}var x=this.defaultValueDimensions;return kS(this,{coordDimensions:[{name:c,type:Mo(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Mo(g),dimsDef:x.slice()}],dimensionsCount:x.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};c(Tb.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),nC,!0);var rC=["itemStyle"],iC=["emphasis","itemStyle"],aC=(pa.extend({type:"boxplot",render:function(t,e,n){var r=t.getData(),i=this.group,a=this._data;this._data||i.removeAll();var o="horizontal"===t.get("layout")?1:0;r.diff(a).add(function(t){if(r.hasValue(t)){var e=jh(r.getItemLayout(t),r,t,o,!0);r.setItemGraphicEl(t,e),i.add(e)}}).update(function(t,e){var n=a.getItemGraphicEl(e);if(r.hasValue(t)){var s=r.getItemLayout(t);n?Ph(s,n,r,t):n=jh(s,r,t,o),i.add(n),r.setItemGraphicEl(t,n)}else i.remove(n)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&i.remove(e)}).execute(),this._data=r},remove:function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:z}),Qn.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var n=e.points,r=0;for(t.moveTo(n[r][0],n[r][1]),r++;r<4;r++)t.lineTo(n[r][0],n[r][1]);for(t.closePath();r<n.length;r++)t.moveTo(n[r][0],n[r][1]),t.lineTo(n[++r][0],n[r][1])}})),oC=["itemStyle","borderColor"],sC=f;po(function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var r=n[e.seriesIndex%n.length],i=e.getData();i.setVisual({legendSymbol:"roundRect",color:e.get(oC)||r}),t.isSeriesFiltered(e)||i.each(function(t){var e=i.getItemModel(t);i.setItemVisual(t,{color:e.get(oC,!0)})})})}),fo(function(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var r=t.getBaseAxis(),i=u(n,r);i<0&&(n[i=n.length]=r,e[i]={axis:r,seriesModels:[]}),e[i].seriesModels.push(t)}),e}(t);sC(e,function(t){var e=t.seriesModels;e.length&&(function(t){var e,n,r=t.axis,i=t.seriesModels,a=i.length,o=t.boxWidthList=[],s=t.boxOffsetList=[],u=[];if("category"===r.type)n=r.getBandWidth();else{var l=0;sC(i,function(t){l=Math.max(l,t.getData().count())}),e=r.getExtent(),Math.abs(e[1]-e[0])}sC(i,function(t){var e=t.get("boxWidth");y(e)||(e=[e,e]),u.push([Zr(e[0],n)||0,Zr(e[1],n)||0])});var c=.8*n-2,h=c/a*.3,f=(c-h*(a-1))/a,d=f/2-c/2;sC(i,function(t,e){s.push(d),d+=h+f,o.push(Math.min(Math.max(f,u[e][0]),u[e][1]))})}(t),sC(e,function(e,n){!function(t,e,n){function r(t,n,r){var i,a=s.get(n,r),u=[];return u[l]=t,u[c]=a,isNaN(t)||isNaN(a)?i=[NaN,NaN]:(i=o.dataToPoint(u))[l]+=e,i}function i(t,e,n){var r=e.slice(),i=e.slice();r[l]+=u,i[l]-=u,n?t.push(r,i):t.push(i,r)}function a(t,e){var n=e.slice(),r=e.slice();n[l]-=u,r[l]+=u,t.push(n,r)}var o=t.coordinateSystem,s=t.getData(),u=n/2,l="horizontal"===t.get("layout")?0:1,c=1-l,h=["x","y"],f=s.mapDimension(h[l]),d=s.mapDimension(h[c],!0);if(!(null==f||d.length<5))for(var p=0;p<s.count();p++){var g=s.get(f,p),v=r(g,d[2],p),m=r(g,d[0],p),y=r(g,d[1],p),x=r(g,d[3],p),b=r(g,d[4],p),_=[];i(_,y,0),i(_,x,1),_.push(m,y,b,x),a(_,m),a(_,b),a(_,v),s.setItemLayout(p,{initBaseline:v[c],ends:_})}}(e,t.boxOffsetList[n],t.boxWidthList[n])}))})}),c(Tb.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,n){var r=e.getItemLayout(t);return r&&n.rect(r.brushRect)}}),nC,!0);var uC=["itemStyle"],lC=["emphasis","itemStyle"],cC=["color","color0","borderColor","borderColor0"],hC=(pa.extend({type:"candlestick",render:function(t,e,n){this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,r){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),n=this._data,r=this.group,i=e.getLayout("isSimpleBox");this._data||r.removeAll(),e.diff(n).add(function(n){if(e.hasValue(n)){var a,o=e.getItemLayout(n);Nr(a=kh(o,0,!0),{shape:{points:o.ends}},t,n),Dh(a,e,n,i),r.add(a),e.setItemGraphicEl(n,a)}}).update(function(a,o){var s=n.getItemGraphicEl(o);if(e.hasValue(a)){var u=e.getItemLayout(a);s?Rr(s,{shape:{points:u.ends}},t,a):s=kh(u),Dh(s,e,a,i),r.add(s),e.setItemGraphicEl(a,s)}else r.remove(s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)}).execute(),this._data=e},_renderLarge:function(t){this._clear(),Lh(t,this.group)},_incrementalRenderNormal:function(t,e){for(var n,r=e.getData(),i=r.getLayout("isSimpleBox");null!=(n=t.next());){var a;Dh(a=kh(r.getItemLayout(n)),r,n,i),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(t,e){Lh(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:z}),Qn.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))}})),fC=Qn.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var n=e.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];t.moveTo(i,n[r++]),t.lineTo(i,n[r++])}else r+=3}}),dC=["itemStyle","borderColor"],pC=["itemStyle","borderColor0"],gC=["itemStyle","color"],vC=["itemStyle","color0"],mC={seriesType:"candlestick",plan:Pb(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?gC:vC)}function r(t,e){return e.get(t>0?dC:pC)}var i=t.getData(),a=t.pipelineContext.large;if(i.setVisual({legendSymbol:"roundRect",colorP:n(1,t),colorN:n(-1,t),borderColorP:r(1,t),borderColorN:r(-1,t)}),!e.isSeriesFiltered(t))return!a&&{progress:function(t,e){for(var i;null!=(i=t.next());){var a=e.getItemModel(i),o=e.getItemLayout(i).sign;e.setItemVisual(i,{color:n(o,a),borderColor:r(o,a)})}}}}},yC="undefined"!=typeof Float32Array?Float32Array:Array,xC={seriesType:"candlestick",plan:Pb(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=function(t,e){var n,r=t.getBaseAxis(),i="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=Zr(A(t.get("barMaxWidth"),i),i),o=Zr(A(t.get("barMinWidth"),1),i),s=t.get("barWidth");return null!=s?Zr(s,i):Math.max(Math.min(i/2,a),o)}(t,n),i=0,a=1,o=["x","y"],s=n.mapDimension(o[i]),u=n.mapDimension(o[a],!0),l=u[0],c=u[1],h=u[2],f=u[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(null==s||u.length<4))return{progress:t.pipelineContext.large?function(t,n){for(var r,o,u=new yC(5*t.count),d=0,p=[],g=[];null!=(o=t.next());){var v=n.get(s,o),m=n.get(l,o),y=n.get(c,o),x=n.get(h,o),b=n.get(f,o);isNaN(v)||isNaN(x)||isNaN(b)?(u[d++]=NaN,d+=4):(u[d++]=Nh(n,o,m,y,c),p[i]=v,p[a]=x,r=e.dataToPoint(p,null,g),u[d++]=r?r[0]:NaN,u[d++]=r?r[1]:NaN,p[a]=b,r=e.dataToPoint(p,null,g),u[d++]=r?r[1]:NaN)}n.setLayout("largePoints",u)}:function(t,n){function o(t,n){var r=[];return r[i]=n,r[a]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(r)}function u(t,e,n){var a=e.slice(),o=e.slice();a[i]=dr(a[i]+r/2,1,!1),o[i]=dr(o[i]-r/2,1,!0),n?t.push(a,o):t.push(o,a)}function d(t){return t[i]=dr(t[i],1),t}for(var p;null!=(p=t.next());){var g=n.get(s,p),v=n.get(l,p),m=n.get(c,p),y=n.get(h,p),x=n.get(f,p),b=Math.min(v,m),_=Math.max(v,m),w=o(b,g),S=o(_,g),M=o(y,g),O=o(x,g),C=[];u(C,S,0),u(C,w,1),C.push(d(O),d(S),d(M),d(w)),n.setItemLayout(p,{sign:Nh(n,p,v,m,c),initBaseline:v>m?S[a]:w[a],ends:C,brushRect:function(t,e,n){var s=o(y,n),u=o(e,n);return s[i]-=r/2,u[i]-=r/2,{x:s[0],y:s[1],width:a?r:u[0]-s[0],height:a?u[1]-s[1]:r}}(0,x,g)})}}}}};uo(function(t){t&&y(t.series)&&f(t.series,function(t){_(t)&&"k"===t.type&&(t.type="candlestick")})}),po(mC),fo(xC),Tb.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return Go(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var bC=Bh.prototype;bC.stopEffectAnimation=function(){this.childAt(1).removeAll()},bC.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,r=this.childAt(1),i=0;i<3;i++){var a=vs(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var o=-i/3*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(o).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(o).start(),r.add(a)}zh(r,t)},bC.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale"],i=0;i<r.length;i++){var a=r[i];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}zh(n,t)},bC.highlight=function(){this.trigger("emphasis")},bC.downplay=function(){this.trigger("normal")},bC.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),i=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),o=function(t){return y(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),s=t.getItemVisual(e,"color");r.attr("scale",o),r.traverse(function(t){t.attr({fill:s})});var u=i.getShallow("symbolOffset");if(u){var l=r.position;l[0]=Zr(u[0],o[0]),l[1]=Zr(u[1],o[1])}r.rotation=(i.getShallow("symbolRotate")||0)*Math.PI/180||0;var c={};if(c.showEffectOn=n.get("showEffectOn"),c.rippleScale=i.get("rippleEffect.scale"),c.brushType=i.get("rippleEffect.brushType"),c.period=1e3*i.get("rippleEffect.period"),c.effectOffset=e/t.count(),c.z=i.getShallow("z")||0,c.zlevel=i.getShallow("zlevel")||0,c.symbolType=a,c.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===c.showEffectOn)this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c),this._effectCfg=c;else{this._effectCfg=null,this.stopEffectAnimation();var h=this.childAt(0),f=function(){h.highlight(),"render"!==c.showEffectOn&&this.startEffectAnimation(c)},d=function(){h.downplay(),"render"!==c.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",d,this).on("emphasis",f,this).on("normal",d,this)}this._effectCfg=c},bC.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},l(Bh,Lv),bo({type:"effectScatter",init:function(){this._symbolDraw=new Rs(Bh)},render:function(t,e,n){var r=t.getData(),i=this._symbolDraw;i.updateData(r),this.group.add(i.group)},updateTransform:function(t,e,n){var r=t.getData();this.group.dirty();var i=rS().reset(t);i.progress&&i.progress({start:0,end:r.count()},r),this._symbolDraw.updateLayout(r)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=St(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}}),po(nS("effectScatter","circle")),fo(rS("effectScatter"));var _C="undefined"==typeof Uint32Array?Array:Uint32Array,wC="undefined"==typeof Float64Array?Array:Float64Array,SC=Tb.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],Fh(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),SC.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],Fh(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}SC.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=N(this._flatCoords,e.flatCoords),this._flatCoordsOffset=N(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(t);for(i=0;i<a.length;i++)e[i]=e[i]||[],e[i][0]=a[i][0],e[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,r=new _C(n),i=new wC(n),a=0,o=0,s=0,u=0;u<n;){s++;var l=t[u++];r[o++]=a+e,r[o++]=l;for(var c=0;c<l;c++){var h=t[u++],f=t[u++];i[a++]=h,i[a++]=f}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new $_(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0}),n},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var r=e.get("fromName"),i=e.get("toName"),a=[];return null!=r&&a.push(r),null!=i&&a.push(i),fi(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),MC=Vh.prototype;MC.createLine=function(t,e,n){return new gc(t,e,n)},MC._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");y(r)||(r=[r,r]);var a=n.get("color")||t.getItemVisual(e,"color"),o=this.childAt(1);this._symbolType!==i&&(this.remove(o),(o=vs(i,-.5,-.5,1,1,a)).z2=100,o.culling=!0,this.add(o)),o&&(o.setStyle("shadowColor",a),o.setStyle(n.getItemStyle(["color"])),o.attr("scale",r),o.setColor(a),o.attr("scale",r),this._symbolType=i,this._updateEffectAnimation(t,n,e))},MC._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var i=this,a=t.getItemLayout(n),o=1e3*e.get("period"),s=e.get("loop"),u=e.get("constantSpeed"),l=C(e.get("delay"),function(e){return e/t.count()*o/3}),c="function"==typeof l;if(r.ignore=!0,this.updateAnimationPoints(r,a),u>0&&(o=this.getLineLength(r)/u*1e3),o!==this._period||s!==this._loop){r.stopAnimation();var h=l;c&&(h=l(n)),r.__t>0&&(h=-o*r.__t),r.__t=0;var f=r.animate("",s).when(o,{__t:1}).delay(h).during(function(){i.updateSymbolPosition(r)});s||f.done(function(){i.remove(r)}),f.start()}this._period=o,this._loop=s}},MC.getLineLength=function(t){return Xg(t.__p1,t.__cp1)+Xg(t.__cp1,t.__p2)},MC.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},MC.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},MC.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,i=t.__t,a=t.position,o=jn,s=Pn;a[0]=o(e[0],r[0],n[0],i),a[1]=o(e[1],r[1],n[1],i);var u=s(e[0],r[0],n[0],i),l=s(e[1],r[1],n[1],i);t.rotation=-Math.atan2(l,u)-Math.PI/2,t.ignore=!1},MC.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},l(Vh,Lv);var OC=Gh.prototype;OC._createPolyline=function(t,e,n){var r=t.getItemLayout(e),i=new $y({shape:{points:r}});this.add(i),this._updateCommonStl(t,e,n)},OC.updateData=function(t,e,n){var r=t.hostModel;Rr(this.childAt(0),{shape:{points:t.getItemLayout(e)}},r,e),this._updateCommonStl(t,e,n)},OC._updateCommonStl=function(t,e,n){var r=this.childAt(0),i=t.getItemModel(e),a=t.getItemVisual(e,"color"),s=n&&n.lineStyle,u=n&&n.hoverLineStyle;n&&!t.hasItemOption||(s=i.getModel("lineStyle").getLineStyle(),u=i.getModel("emphasis.lineStyle").getLineStyle()),r.useStyle(o({strokeNoScale:!0,fill:"none",stroke:a},s)),r.hoverStyle=u,Or(this)},OC.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},l(Gh,Lv);var CC=Hh.prototype;CC.createLine=function(t,e,n){return new Gh(t,e,n)},CC.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,i=1;i<e.length;i++)r+=Xg(e[i-1],e[i]),n.push(r);if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}},CC.getLineLength=function(t){return this._length},CC.updateSymbolPosition=function(t){var e=t.__t,n=this._points,r=this._offsets,i=n.length;if(r){var a=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(a+1,i-1);o>=0&&!(r[o]<=e);o--);o=Math.min(o,i-2)}else{for(var o=a;o<i&&!(r[o]>e);o++);o=Math.min(o-1,i-2)}J(t.position,n[o],n[o+1],(e-r[o])/(r[o+1]-r[o])),t.rotation=-Math.atan2(n[o+1][1]-n[o][1],n[o+1][0]-n[o][0])-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},l(Hh,Vh);var AC=or({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,r=e.curveness;if(e.polyline)for(o=0;o<n.length;){var i=n[o++];if(i>0){t.moveTo(n[o++],n[o++]);for(var a=1;a<i;a++)t.lineTo(n[o++],n[o++])}}else for(var o=0;o<n.length;){var s=n[o++],u=n[o++],l=n[o++],c=n[o++];t.moveTo(s,u),r>0?t.quadraticCurveTo((s+l)/2-(u-c)*r,(u+c)/2-(l-s)*r,l,c):t.lineTo(l,c)}},findDataIndex:function(t,e){var n=this.shape,r=n.segs,i=n.curveness;if(n.polyline)for(var a=0,o=0;o<r.length;){var s=r[o++];if(s>0)for(var u=r[o++],l=r[o++],c=1;c<s;c++)if(Fn(u,l,h=r[o++],f=r[o++]))return a;a++}else for(a=0,o=0;o<r.length;){u=r[o++],l=r[o++];var h=r[o++],f=r[o++];if(i>0){if(Gn(u,l,(u+h)/2-(l-f)*i,(l+f)/2-(h-u)*i,h,f))return a}else if(Fn(u,l,h,f))return a;a++}return-1}}),IC=Wh.prototype;IC.isPersistent=function(){return!this._incremental},IC.updateData=function(t){this.group.removeAll();var e=new AC({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},IC.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new ar({silent:!0})),this.group.add(this._incremental)):this._incremental=null},IC.incrementalUpdate=function(t,e){var n=new AC;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},IC.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},IC._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get("lineStyle.curveness")}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("color");i&&t.setStyle("stroke",i),t.setStyle("fill"),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)}))},IC._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var TC={seriesType:"lines",plan:Pb(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,a){var o=[];if(r){var s,u=i.end-i.start;if(n){for(var l=0,c=i.start;c<i.end;c++)l+=t.getLineCoordsCount(c);s=new Float32Array(u+2*l)}else s=new Float32Array(4*u);var h=0,f=[];for(c=i.start;c<i.end;c++){g=t.getLineCoords(c,o),n&&(s[h++]=g);for(var d=0;d<g;d++)f=e.dataToPoint(o[d],!1,f),s[h++]=f[0],s[h++]=f[1]}a.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var p=a.getItemModel(c),g=t.getLineCoords(c,o),v=[];if(n)for(var m=0;m<g;m++)v.push(e.dataToPoint(o[m]));else{v[0]=e.dataToPoint(o[0]),v[1]=e.dataToPoint(o[1]);var y=p.get("lineStyle.curveness");+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}a.setItemLayout(c,v)}}}}};bo({type:"lines",init:function(){},render:function(t,e,n){var r=t.getData(),i=this._updateLineDraw(r,t),a=t.get("zlevel"),o=t.get("effect.trailLength"),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&o&&(u||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),i.updateData(r),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData(),i=t.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var a=TC.reset(t);a.progress&&a.progress({start:0,end:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,r=this._showEffect(e),i=!!e.get("polyline"),a=e.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new Wh:new vc(i?r?Hh:Gh:r?Vh:gc),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});var EC="lineStyle.opacity".split("."),jC={seriesType:"lines",reset:function(t,e,n){var r=qh(t.get("symbol")),i=qh(t.get("symbolSize")),a=t.getData();return a.setVisual("fromSymbol",r&&r[0]),a.setVisual("toSymbol",r&&r[1]),a.setVisual("fromSymbolSize",i&&i[0]),a.setVisual("toSymbolSize",i&&i[1]),a.setVisual("opacity",t.get(EC)),{dataEach:a.hasItemOption?function(t,e){var n=t.getItemModel(e),r=qh(n.getShallow("symbol",!0)),i=qh(n.getShallow("symbolSize",!0)),a=n.get(EC);r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),i[0]&&t.setItemVisual(e,"fromSymbolSize",i[0]),i[1]&&t.setItemVisual(e,"toSymbolSize",i[1]),t.setItemVisual(e,"opacity",a)}:null}}};fo(TC),po(jC),Tb.extend({type:"series.heatmap",getInitialData:function(t,e){return Go(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=Ni.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Uh.prototype={update:function(t,e,n,r,i,a){var o=this._getBrush(),s=this._getGradient(t,i,"inRange"),u=this._getGradient(t,i,"outOfRange"),l=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),f=t.length;c.width=e,c.height=n;for(var d=0;d<f;++d){var p=t[d],g=p[0],v=p[1],m=r(p[2]);h.globalAlpha=m,h.drawImage(o,g-l,v-l)}if(!c.width||!c.height)return c;for(var y=h.getImageData(0,0,c.width,c.height),x=y.data,b=0,_=x.length,w=this.minOpacity,S=this.maxOpacity-w;b<_;){m=x[b+3]/256;var M=4*Math.floor(255*m);if(m>0){var O=a(m)?s:u;m>0&&(m=m*S+w),x[b++]=O[M],x[b++]=O[M+1],x[b++]=O[M+2],x[b++]=O[M+3]*m*256}else b+=4}return h.putImageData(y,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=Hg()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},_getGradient:function(t,e,n){for(var r=this._gradientPixels,i=r[n]||(r[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,s=0;s<256;s++)e[n](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i}},bo({type:"heatmap",render:function(t,e,n){var r;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(r=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var i=t.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):function(t){var e=i.dimensions;return"lng"===e[0]&&"lat"===e[1]}()&&this._renderOnGeo(i,t,r,n)},incrementalPrepareRender:function(t,e,n){this.group.removeAll()},incrementalRender:function(t,e,n,r){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,r,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,n,r,i){var o,s,u=t.coordinateSystem;if("cartesian2d"===u.type){var l=u.getAxis("x"),c=u.getAxis("y");o=l.getBandWidth(),s=c.getBandWidth()}for(var h=this.group,f=t.getData(),d=t.getModel("itemStyle").getItemStyle(["color"]),p=t.getModel("emphasis.itemStyle").getItemStyle(),g=t.getModel("label"),v=t.getModel("emphasis.label"),m=u.type,y="cartesian2d"===m?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],x=n;x<r;x++){var b;if("cartesian2d"===m){if(isNaN(f.get(y[2],x)))continue;var _=u.dataToPoint([f.get(y[0],x),f.get(y[1],x)]);b=new Ky({shape:{x:_[0]-o/2,y:_[1]-s/2,width:o,height:s},style:{fill:f.getItemVisual(x,"color"),opacity:f.getItemVisual(x,"opacity")}})}else{if(isNaN(f.get(y[1],x)))continue;b=new Ky({z2:1,shape:u.dataToRect([f.get(y[0],x)]).contentShape,style:{fill:f.getItemVisual(x,"color"),opacity:f.getItemVisual(x,"opacity")}})}var w=f.getItemModel(x);f.hasItemOption&&(d=w.getModel("itemStyle").getItemStyle(["color"]),p=w.getModel("emphasis.itemStyle").getItemStyle(),g=w.getModel("label"),v=w.getModel("emphasis.label"));var S=t.getRawValue(x),M="-";S&&null!=S[2]&&(M=S[2]),Ar(d,p,g,v,{labelFetcher:t,labelDataIndex:x,defaultText:M,isRectText:!0}),b.setStyle(d),Or(b,f.hasItemOption?p:a({},p)),b.incremental=i,i&&(b.useHoverLayer=!0),h.add(b),f.setItemGraphicEl(x,b)}},_renderOnGeo:function(t,e,n,r){var i=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,o=e.getData(),s=this._hmLayer||this._hmLayer||new Uh;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var u=t.getViewRect().clone(),l=t.getRoamTransform();u.applyTransform(l);var c=Math.max(u.x,0),h=Math.max(u.y,0),f=Math.min(u.width+u.x,r.getWidth()),d=Math.min(u.height+u.y,r.getHeight()),p=f-c,g=d-h,v=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")],m=o.mapArray(v,function(e,n,r){var i=t.dataToPoint([e,n]);return i[0]-=c,i[1]-=h,i.push(r),i}),y=n.getExtent(),x="visualMap.continuous"===n.type?function(t,e){var n=y[1]-y[0];return e=[(e[0]-y[0])/n,(e[1]-y[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(0,n.option.range):Yh(y,n.getPieceList(),n.option.selected);s.update(m,p,g,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:a.color.getColorMapper()},x);var b=new $e({style:{width:p,height:g,x:c,y:h,image:s.canvas},silent:!0});this.group.add(b)},dispose:function(){}});var PC=AS.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,PC.superApply(this,"getInitialData",arguments)}}),kC=["itemStyle","borderWidth"],DC=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],LC=new Gy;bo({type:"pictorialBar",render:function(t,e,n){var r=this.group,i=t.getData(),a=this._data,o=t.coordinateSystem,s=!!o.getBaseAxis().isHorizontal(),u=o.grid.getRect(),l={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:o,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:s,valueDim:DC[+s],categoryDim:DC[1-s]};return i.diff(a).add(function(t){if(i.hasValue(t)){var e=nf(i,t),n=Xh(i,t,e,l),a=sf(i,l,n);i.setItemGraphicEl(t,a),r.add(a),ff(a,l,n)}}).update(function(t,e){var n=a.getItemGraphicEl(e);if(i.hasValue(t)){var o=nf(i,t),s=Xh(i,t,o,l),u=lf(i,s);n&&u!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var r=n.animationModel,i=n.dataIndex;Rr(t.__pictorialBundle,{position:n.bundlePosition.slice()},r,i),n.symbolRepeat?Jh(t,e,n,!0):Kh(t,0,n,!0),tf(t,n,!0),ef(t,e,n,!0)}(n,l,s):n=sf(i,l,s,!0),i.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,r.add(n),ff(n,l,s)}else r.remove(n)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&uf(a,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=i,this.group},dispose:z,remove:function(t,e){var n=this.group,r=this._data;t.get("animation")?r&&r.eachItemGraphicEl(function(e){uf(r,e.dataIndex,t,e)}):n.removeAll()}}),fo(m(ns,"pictorialBar")),po(nS("pictorialBar","roundRect"));var RC=function(t,e,n,r,i){Rw.call(this,t,e,n),this.type=r||"value",this.position=i||"bottom",this.orient=null};RC.prototype={constructor:RC,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},l(RC,Rw),Ni.register("single",{create:function(t,e){var n=[];return t.eachComponent("singleAxis",function(r,i){var a=new pf(r,t,e);a.name="single_"+i,a.resize(r,e),r.coordinateSystem=a,n.push(a)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n&&n.coordinateSystem}}),n},dimensions:(pf.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:pf,_init:function(t,e,n){var r=new RC(this.dimension,ls(t),[0,0],t.get("type"),t.get("position"));r.onBand="category"===r.type&&t.get("boundaryGap"),r.inverse=t.get("inverse"),r.orient=t.get("orient"),t.axis=r,r.model=t,r.coordinateSystem=this,this._axis=r},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();f(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),us(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=bi({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],i=e.reverse?1:0;e.setExtent(r[i],r[1-i]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),r=n[0]+n[1],i=t.isHorizontal();t.toGlobalCoord=i?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord=i?function(t){return t-e}:function(t){return r-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[i]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r}}).dimensions});var NC=["axisLine","axisTickLabel","axisName"],zC=wS.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,n,r){var i=this.group;i.removeAll();var a=gf(t),o=new mS(t,a);f(NC,o.add,o),i.add(o.getGroup()),t.get("splitLine.show")&&this._splitLine(t),zC.superCall(this,"render",t,e,n,r)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var n=t.getModel("splitLine"),r=n.getModel("lineStyle"),i=r.get("width"),a=r.get("color");a=a instanceof Array?a:[a];for(var o=t.coordinateSystem.getRect(),s=e.isHorizontal(),u=[],l=0,c=e.getTicksCoords({tickModel:n}),h=[],f=[],d=0;d<c.length;++d){var p=e.toGlobalCoord(c[d].coord);s?(h[0]=p,h[1]=o.y,f[0]=p,f[1]=o.y+o.height):(h[0]=o.x,h[1]=p,f[0]=o.x+o.width,f[1]=p);var g=l++%a.length;u[g]=u[g]||[],u[g].push(new ex(hr({shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:{lineWidth:i},silent:!0})))}for(d=0;d<u.length;++d)this.group.add(gx(u[d],{style:{stroke:a[d%a.length],lineDash:r.getLineDash(i),lineWidth:i},silent:!0}))}}}),BC=Wx.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});r(BC.prototype,Sw),hS("single",BC,function(t,e){return e.type||(e.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var FC=function(t,e){var n,r=[],i=t.seriesIndex;if(null==i||!(n=e.getSeriesByIndex(i)))return{point:[]};var a=n.getData(),o=fn(a,t);if(null==o||o<0||y(o))return{point:[]};var s=a.getItemGraphicEl(o),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)r=u.dataToPoint(a.getValues(d(u.dimensions,function(t){return a.mapDimension(t)}),o,!0))||[];else if(s){var l=s.getBoundingRect().clone();l.applyTransform(s.transform),r=[l.x+l.width/2,l.y+l.height/2]}return{point:r,el:s}},VC=f,GC=m,HC=dn(),WC=(mo({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),dn()),qC=f,UC=yo({type:"axisPointer",render:function(t,e,n){var r=e.getComponent("tooltip"),i=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";wf("axisPointer",n,function(t,e,n){"none"!==i&&("leave"===t||i.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){Of(e.getZr(),"axisPointer"),UC.superApply(this._model,"remove",arguments)},dispose:function(t,e){Of("axisPointer",e),UC.superApply(this._model,"dispose",arguments)}}),YC=dn(),XC=n,ZC=v;(Cf.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,r){var i=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==i||this._lastStatus!==a){this._lastValue=i,this._lastStatus=a;var o=this._group,s=this._handle;if(!a||"hide"===a)return o&&o.hide(),void(s&&s.hide());o&&o.show(),s&&s.show();var u={};this.makeElOption(u,i,t,e,n);var l=u.graphicKey;l!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=l;var c=this._moveAnimation=this.determineAnimation(t,e);if(o){var h=m(Af,e,c);this.updatePointerEl(o,u,h,e),this.updateLabelEl(o,u,h,e)}else o=this._group=new Lv,this.createPointerEl(o,u,t,e),this.createLabelEl(o,u,t,e),n.getZr().add(o);Ef(o,e,!0),this._renderHandle(i)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),r=t.axis,i="category"===r.type,a=e.get("snap");if(!a&&!i)return!1;if("auto"===n||null==n){var o=this.animationThreshold;if(i&&r.getBandWidth()>o)return!0;if(a){var s=pu(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/s>o}return!1}return!0===n},makeElOption:function(t,e,n,r,i){},createPointerEl:function(t,e,n,r){var i=e.pointer;if(i){var a=YC(t).pointerEl=new yx[i.type](XC(e.pointer));t.add(a)}},createLabelEl:function(t,e,n,r){if(e.label){var i=YC(t).labelEl=new Ky(XC(e.label));t.add(i),If(i,r)}},updatePointerEl:function(t,e,n){var r=YC(t).pointerEl;r&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,r){var i=YC(t).labelEl;i&&(i.setStyle(e.label.style),n(i,{shape:e.label.shape,position:e.label.position}),If(i,r))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=n.getModel("handle"),o=n.get("status");if(!a.get("show")||!o||"hide"===o)return i&&r.remove(i),void(this._handle=null);this._handle||(e=!0,i=this._handle=Hr(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){ev(t.event)},onmousedown:ZC(this._onHandleDragMove,this,0,0),drift:ZC(this._onHandleDragMove,this),ondragend:ZC(this._onHandleDragEnd,this)}),r.add(i)),Ef(i,n,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");y(s)||(s=[s,s]),i.attr("scale",[s[0]/2,s[1]/2]),ba(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){Af(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Tf(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Tf(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Tf(r)),YC(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}}).constructor=Cf,bn(Cf);var $C=Cf.extend({makeElOption:function(t,e,n,r,i){var a=n.axis,o=a.grid,s=r.get("type"),u=Bf(o,a).getOtherAxis(a).getGlobalExtent(),l=a.toGlobalCoord(a.dataToCoord(e,!0));if(s&&"none"!==s){var c=jf(r),h=QC[s](a,l,u,c);h.style=c,t.graphicKey=h.type,t.pointer=h}Lf(e,t,xu(o.model,n),n,r,i)},getHandleTransform:function(t,e,n){var r=xu(e.axis.grid.model,e,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:Df(e.axis,t,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var i=n.axis,a=i.grid,o=i.getGlobalExtent(!0),s=Bf(a,i).getOtherAxis(i).getGlobalExtent(),u="x"===i.dim?0:1,l=t.position;l[u]+=e[u],l[u]=Math.min(o[1],l[u]),l[u]=Math.max(o[0],l[u]);var c=(s[1]+s[0])/2,h=[c,c];return h[u]=l[u],{position:l,rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}}),QC={line:function(t,e,n,r){var i=Rf([e,n[0]],[e,n[1]],Ff(t));return hr({shape:i,style:r}),{type:"Line",shape:i}},shadow:function(t,e,n,r){var i=Math.max(1,t.getBandWidth());return{type:"Rect",shape:Nf([e-i/2,n[0]],[i,n[1]-n[0]],Ff(t))}}};wS.registerAxisPointerClass("CartesianAxisPointer",$C),uo(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!y(e)&&(t.axisPointer.link=[e])}}),lo(x_.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];bS(n.getCoordinateSystems(),function(n){function s(r,s,u){var h=u.model.getModel("axisPointer",i),f=h.get("show");if(f&&("auto"!==f||r||gu(h))){null==s&&(s=h.get("triggerTooltip"));var d=(h=r?fu(u,c,i,e,r,s):h).get("snap"),p=vu(u.model),g=s||d||"category"===u.type,v=t.axesInfo[p]={key:p,axis:u,coordSys:n,axisPointerModel:h,triggerTooltip:s,involveSeries:g,snap:d,useHandle:gu(h),seriesModels:[]};l[p]=v,t.seriesInvolved|=g;var m=function(t,e){for(var n=u.model,r=u.dim,i=0;i<t.length;i++){var a=t[i]||{};if(du(a[r+"AxisId"],n.id)||du(a[r+"AxisIndex"],n.componentIndex)||du(a[r+"AxisName"],n.name))return i}}(a);if(null!=m){var y=o[m]||(o[m]={axesInfo:{}});y.axesInfo[p]=v,y.mapper=a[m].mapper,v.linkGroup=y}}}if(n.axisPointerEnabled){var u=vu(n.model),l=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=n;var c=n.model.getModel("tooltip",r);if(bS(n.getAxes(),_S(s,!1,null)),n.getTooltipAxes&&r&&c.get("show")){var h="axis"===c.get("trigger"),f="cross"===c.get("axisPointer.type"),d=n.getTooltipAxes(c.get("axisPointer.axis"));(h||f)&&bS(d.baseAxes,_S(s,!f||"cross",h)),f&&bS(d.otherAxes,_S(s,"cross",!1))}}})}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,r=e.get("tooltip.trigger",!0),i=e.get("tooltip.show",!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==e.get("axisPointer.show",!0)&&bS(t.coordSysAxesInfo[vu(n.model)],function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}(n,t),n}(t,e)}),co({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,n){var r=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||v(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){_f(i)&&(i=FC({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var u=_f(i),l=a.axesInfo,c=s.axesInfo,h="leave"===r||_f(i),f={},d={},p={list:[],map:{}},g={showPointer:GC(mf,d),showTooltip:GC(yf,p)};VC(s.coordSysMap,function(t,e){var n=u||t.containPoint(i);VC(s.coordSysAxesInfo[e],function(t,e){var r=t.axis,a=function(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}(l,t);if(!h&&n&&(!l||a)){var o=a&&a.value;null!=o||u||(o=r.pointToData(i)),null!=o&&vf(t,o,g,!1,f)}})});var m={};return VC(c,function(t,e){var n=t.linkGroup;n&&!d[e]&&VC(n.axesInfo,function(e,r){var i=d[r];if(e!==t&&i){var a=i.value;n.mapper&&(a=t.axis.scale.parse(n.mapper(a,bf(e),bf(t)))),m[t.key]=a}})}),VC(m,function(t,e){vf(c[e],t,g,!0,f)}),function(t,e,n){var r=f.axesInfo=[];VC(e,function(e,n){var i=e.axisPointerModel.option,a=t[n];a?(!e.useHandle&&(i.status="show"),i.value=a.value,i.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:i.value})})}(d,c),function(t,e,n,r){if(!_f(e)&&t.list.length){var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}else r({type:"hideTip"})}(p,i,t,o),xf(c,0,n),f}});var JC=["x","y"],KC=["width","height"],tA=Cf.extend({makeElOption:function(t,e,n,r,i){var a=n.axis,o=a.coordinateSystem,s=Gf(o,1-Vf(a)),u=o.dataToPoint(e)[0],l=r.get("type");if(l&&"none"!==l){var c=jf(r),h=eA[l](a,u,s,c);h.style=c,t.graphicKey=h.type,t.pointer=h}Lf(e,t,gf(n),n,r,i)},getHandleTransform:function(t,e,n){var r=gf(e,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:Df(e.axis,t,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var i=n.axis,a=i.coordinateSystem,o=Vf(i),s=Gf(a,o),u=t.position;u[o]+=e[o],u[o]=Math.min(s[1],u[o]),u[o]=Math.max(s[0],u[o]);var l=Gf(a,1-o),c=(l[1]+l[0])/2,h=[c,c];return h[o]=u[o],{position:u,rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}}}),eA={line:function(t,e,n,r){var i=Rf([e,n[0]],[e,n[1]],Vf(t));return hr({shape:i,style:r}),{type:"Line",shape:i}},shadow:function(t,e,n,r){var i=t.getBandWidth();return{type:"Rect",shape:Nf([e-i/2,n[0]],[i,n[1]-n[0]],Vf(t))}}};wS.registerAxisPointerClass("SingleAxisPointer",tA),yo({type:"single"});var nA=Tb.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){nA.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){var e=t.length,n=[];yn(t,function(t){return t[2]}).buckets.each(function(t,e){n.push({name:e,dataList:t})});for(var r=n.length,i=-1,a=-1,o=0;o<r;++o){var s=n[o].dataList.length;s>i&&(i=s,a=o)}for(var u=0;u<r;++u)if(u!==a)for(var l=n[u].name,c=0;c<i;++c){for(var h=n[a].dataList[c][0],f=n[u].dataList.length,d=-1,p=0;p<f;++p)if(n[u].dataList[p][0]===h){d=p;break}-1===d&&(t[e]=[],t[e][0]=h,t[e][1]=0,t[e][2]=l,e++)}return t},getInitialData:function(t,e){for(var n=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),r=g(t.data,function(t){return void 0!==t[2]}),i=this.fixData(r||[]),a=[],o=this.nameMap=R(),s=0,u=0;u<i.length;++u)a.push(i[u][2]),o.get(i[u][2])||(o.set(i[u][2],s),s++);var l=K_(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Mo(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),c=new $_(l,this);return c.initData(i),c},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),n=[],r=0;r<e;++r)n[r]=r;var i=t.mapDimension("single"),a=[];return yn(n,function(e){return t.get("name",e)}).buckets.each(function(e,n){e.sort(function(e,n){return t.get(i,e)-t.get(i,n)}),a.push({name:n,indices:e})}),a},getAxisTooltipData:function(t,e,n){y(t)||(t=t?[t]:[]);for(var r,i=this.getData(),a=this.getLayerSeries(),o=[],s=a.length,u=0;u<s;++u){for(var l=Number.MAX_VALUE,c=-1,h=a[u].indices.length,f=0;f<h;++f){var d=i.get(t[0],a[u].indices[f]),p=Math.abs(d-e);p<=l&&(r=d,l=p,c=a[u].indices[f])}o.push(c)}return{dataIndices:o,nestestValue:r}},formatTooltip:function(t){var e=this.getData(),n=e.getName(t),r=e.get(e.mapDimension("value"),t);return(isNaN(r)||null==r)&&(r="-"),fi(n+" : "+r)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});bo({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,n){function r(t){return t.name}function i(e,n,r){var i=this._layers;if("remove"!==e){for(var l,h=[],f=[],d=u[n].indices,p=0;p<d.length;p++){var g=o.getItemLayout(d[p]),v=g.x,m=g.y0,y=g.y;h.push([v,m]),f.push([v,m+y]),l=o.getItemVisual(d[p],"color")}var x,b,_=o.getItemLayout(d[0]),w=o.getItemModel(d[p-1]),S=w.getModel("label"),M=S.get("margin");if("add"===e)O=c[n]=new Lv,x=new eS({shape:{points:h,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),b=new Vy({style:{x:_.x-M,y:_.y0+_.y/2}}),O.add(x),O.add(b),s.add(O),x.setClipPath(function(t,e,n){var r=new Ky({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Nr(r,{shape:{width:t.width+20,height:t.height+20}},e,function(){x.removeClipPath()}),r}(x.getBoundingRect(),t));else{var O=i[r];x=O.childAt(0),b=O.childAt(1),s.add(O),c[n]=O,Rr(x,{shape:{points:h,stackedOnPoints:f}},t),Rr(b,{style:{x:_.x-M,y:_.y0+_.y/2}},t)}var C=w.getModel("emphasis.itemStyle"),A=w.getModel("itemStyle");Ir(b.style,S,{text:S.get("show")?t.getFormattedLabel(d[p-1],"normal")||o.getName(d[p-1]):null,textVerticalAlign:"middle"}),x.setStyle(a({fill:l},A.getItemStyle(["color"]))),Or(x,C.getItemStyle())}else s.remove(i[n])}var o=t.getData(),s=this.group,u=t.getLayerSeries(),l=o.getLayout("layoutInfo");s.attr("position",[0,l.rect.y+l.boundaryGap[0]]);var c={};new wo(this._layersSeries||[],u,r,r).add(v(i,this,"add")).update(v(i,this,"update")).remove(v(i,this,"remove")).execute(),this._layersSeries=u,this._layers=c},dispose:function(){}}),fo(function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,r={},i=n.getRect();r.rect=i;var a=t.get("boundaryGap"),o=n.getAxis();r.boundaryGap=a,"horizontal"===o.orient?(a[0]=Zr(a[0],i.height),a[1]=Zr(a[1],i.height),Hf(e,t,i.height-a[0]-a[1])):(a[0]=Zr(a[0],i.width),a[1]=Zr(a[1],i.width),Hf(e,t,i.width-a[0]-a[1])),e.setLayout("layoutInfo",r)})}),po(function(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.getRawData(),r=t.get("color"),i=R();e.each(function(t){i.set(e.getRawIndex(t),t)}),n.each(function(a){var o=n.getName(a),s=r[(t.nameMap.get(o)-1)%r.length];n.setItemVisual(a,"color",s);var u=i.get(a);null!=u&&e.setItemVisual(u,"color",s)})})}),lo(VS("themeRiver")),Tb.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;f(e.children,function(e){t(e);var r=e.value;y(r)&&(r=r[0]),n+=r});var r=e.value;y(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=n),r<0&&(r=0),y(e.value)?e.value[0]=r:e.value=r}(n);var r={};return r.levels=t.levels||[],xl.createTree(n,this,r).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=Tb.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=zl(n,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var rA=2,iA=4,aA=Wf.prototype;aA.updateData=function(t,e,n,i,s){this.node=e,e.piece=this,i=i||this._seriesModel,s=s||this._ecModel;var u=this.childAt(0);u.dataIndex=e.dataIndex;var l=e.getModel(),c=e.getLayout(),h=a({},c);h.label=null;var f=qf(e,0,s);!function(t,e,n){i.getData().setItemVisual(t.dataIndex,"color",n)}(e,0,f);var d,p=l.getModel("itemStyle").getItemStyle();d=o({lineJoin:"bevel",fill:(d="normal"===n?p:r(l.getModel(n+".itemStyle").getItemStyle(),p)).fill||f},d),t?(u.setShape(h),u.shape.r=c.r0,Rr(u,{shape:{r:c.r}},i,e.dataIndex),u.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof u.style.fill&&u.style.fill.type?(Rr(u,{shape:h},i),u.useStyle(d)):Rr(u,{shape:h,style:d},i),this._updateLabel(i,f,n);var g=l.getShallow("cursor");if(g&&u.attr("cursor",g),t){var v=i.getShallow("highlightPolicy");this._initEvents(u,e,i,v)}this._seriesModel=i||this._seriesModel,this._ecModel=s||this._ecModel},aA.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(e.node===n?n.piece.updateData(!1,n,"emphasis"):function(t,e,n){return"none"!==n&&("self"===n?t===e:"ancestor"===n?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}(n,e.node,t)?n.piece.childAt(0).trigger("highlight"):"none"!==t&&n.piece.childAt(0).trigger("downplay"))})},aA.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},aA.onHighlight=function(){this.updateData(!1,this.node,"highlight")},aA.onDownplay=function(){this.updateData(!1,this.node,"downplay")},aA._updateLabel=function(t,e,n){function r(t){var e=o.get(t);return null==e?a.get(t):e}var i=this.node.getModel(),a=i.getModel("label"),o="normal"===n||"emphasis"===n?a:i.getModel(n+".label"),s=i.getModel("emphasis.label"),u=C(t.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===r("show")&&(u="");var l=this.node.getLayout(),c=o.get("minAngle");null==c&&(c=a.get("minAngle")),null!=(c=c/180*Math.PI)&&Math.abs(l.endAngle-l.startAngle)<c&&(u="");var h=this.childAt(1);Ar(h.style,h.hoverStyle||{},a,s,{defaultText:o.getShallow("show")?u:null,autoColor:e,useInsideStyle:!0});var f,d=(l.startAngle+l.endAngle)/2,p=Math.cos(d),g=Math.sin(d),v=r("position"),m=r("distance")||0,y=r("align");"outside"===v?(f=l.r+m,y=d>Math.PI/2?"right":"left"):y&&"center"!==y?"left"===y?(f=l.r0+m,d>Math.PI/2&&(y="right")):"right"===y&&(f=l.r-m,d>Math.PI/2&&(y="left")):(f=(l.r+l.r0)/2,y="center"),h.attr("style",{text:u,textAlign:y,textVerticalAlign:r("verticalAlign")||"middle",opacity:r("opacity")}),h.attr("position",[f*p+l.cx,f*g+l.cy]);var x=r("rotate"),b=0;"radial"===x?(b=-d)<-Math.PI/2&&(b+=Math.PI):"tangential"===x?(b=Math.PI/2-d)>Math.PI/2?b-=Math.PI:b<-Math.PI/2&&(b+=Math.PI):"number"==typeof x&&(b=x*Math.PI/180),h.attr("rotation",b)},aA._initEvents=function(t,e,n,r){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var i=this,a=function(){i.onEmphasis(r)},o=function(){i.onNormal()};n.isAnimationEnabled()&&t.on("mouseover",a).on("mouseout",o).on("emphasis",a).on("normal",o).on("downplay",function(){i.onDownplay()}).on("highlight",function(){i.onHighlight()})},l(Wf,Lv),pa.extend({type:"sunburst",init:function(){},render:function(t,e,n,r){function i(n,r){if(c||!n||n.getValue()||(n=null),n!==s&&r!==s)if(r&&r.piece)n?(r.piece.updateData(!1,n,"normal",t,e),o.setItemGraphicEl(n.dataIndex,r.piece)):function(t){t&&t.piece&&(l.remove(t.piece),t.piece=null)}(r);else if(n){var i=new Wf(n,t,e);l.add(i),o.setItemGraphicEl(n.dataIndex,i)}}var a=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),s=o.tree.root,u=t.getViewRoot(),l=this.group,c=t.get("renderLabelForZeroData"),h=[];if(u.eachNode(function(t){h.push(t)}),function(t,e){function n(t){return t.getId()}function r(n,r){i(null==n?null:t[n],null==r?null:e[r])}0===t.length&&0===e.length||new wo(e,t,n,n).add(r).update(r).remove(m(r,null)).execute()}(h,this._oldChildren||[]),function(n,r){if(r.depth>0){a.virtualPiece?a.virtualPiece.updateData(!1,n,"normal",t,e):(a.virtualPiece=new Wf(n,t,e),l.add(a.virtualPiece)),r.piece._onclickEvent&&r.piece.off("click",r.piece._onclickEvent);var i=function(t){a._rootToNode(r.parentNode)};r.piece._onclickEvent=i,a.virtualPiece.on("click",i)}else a.virtualPiece&&(l.remove(a.virtualPiece),a.virtualPiece=null)}(s,u),r&&r.highlight&&r.highlight.piece){var f=t.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(f)}else if(r&&r.unhighlight){var d=this.virtualPiece;!d&&s.children.length&&(d=s.children[0].piece),d&&d.onNormal()}this._initEvents(),this._oldChildren=h},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var n=!1;t.seriesModel.getViewRoot().eachNode(function(r){if(!n&&r.piece&&r.piece.childAt(0)===e.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)t._rootToNode(r);else if("link"===i){var a=r.getModel(),o=a.get("link");if(o){var s=a.get("target",!0)||"_blank";window.open(o,s)}}n=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,a=Math.sqrt(r*r+i*i);return a<=n.r&&a>=n.r0}}});var oA="sunburstRootToNode";co({type:oA,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var r=Ll(t,[oA],e);if(r){var i=e.getViewRoot();i&&(t.direction=Nl(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})});var sA="sunburstHighlight";co({type:sA,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var r=Ll(t,[sA],e);r&&(t.highlight=r.node)})}),co({type:"sunburstUnhighlight",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){t.unhighlight=!0})});var uA=Math.PI/180;po(m(zS,"sunburst")),fo(m(function(t,e,n,r){e.eachSeriesByType(t,function(t){var e=t.get("center"),r=t.get("radius");y(r)||(r=[0,r]),y(e)||(e=[e,e]);var i=n.getWidth(),a=n.getHeight(),o=Math.min(i,a),s=Zr(e[0],i),u=Zr(e[1],a),l=Zr(r[0],o/2),c=Zr(r[1],o/2),h=-t.get("startAngle")*uA,d=t.get("minAngle")*uA,p=t.getData().tree.root,g=t.getViewRoot(),v=g.depth,m=t.get("sort");null!=m&&function t(e,n){var r=e.children||[];e.children=function(t,e){if("function"==typeof e)return t.sort(e);var n="asc"===e;return t.sort(function(t,e){var r=(t.getValue()-e.getValue())*(n?1:-1);return 0===r?(t.dataIndex-e.dataIndex)*(n?-1:1):r})}(r,n),r.length&&f(e.children,function(e){t(e,n)})}(g,m);var x=0;f(g.children,function(t){!isNaN(t.getValue())&&x++});var b=g.getValue(),_=Math.PI/(b||x)*2,w=g.depth>0,S=(c-l)/(g.height-(w?-1:1)||1),M=t.get("clockwise"),O=t.get("stillShowZeroSum"),C=M?1:-1,A=function(t,e){if(t){var n=e;if(t!==p){var r=t.getValue(),i=0===b&&O?_:r*_;i<d&&(i=d),n=e+C*i;var a=t.depth-v-(w?-1:1),c=l+S*a,h=l+S*(a+1),g=t.getModel();null!=g.get("r0")&&(c=Zr(g.get("r0"),o/2)),null!=g.get("r")&&(h=Zr(g.get("r"),o/2)),t.setLayout({angle:i,startAngle:e,endAngle:n,clockwise:M,cx:s,cy:u,r0:c,r:h})}if(t.children&&t.children.length){var m=0;f(t.children,function(t){m+=A(t,e+m)})}return n-e}};if(w){var I=2*Math.PI;p.setLayout({angle:I,startAngle:h,endAngle:h+I,clockwise:M,cx:s,cy:u,r0:l,r:l+S})}A(g,h)})},"sunburst")),lo(m(VS,"sunburst"));var lA=["itemStyle"],cA=["emphasis","itemStyle"],hA=["label"],fA=["emphasis","label"],dA="e\0\0",pA={cartesian2d:function(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:v(Uf,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:v(Yf,t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:v(Xf,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:v(function(r){var i=e.dataToRadius(r[0]),a=n.dataToAngle(r[1]),o=t.coordToPoint([i,a]);return o.push(i,a*Math.PI/180),o}),size:v(Zf,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};Tb.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(t,e){return Go(this.getSource(),this)},getDataParams:function(t,e,n){var r=Tb.prototype.getDataParams.apply(this,arguments);return n&&(r.info=n.info),r}}),pa.extend({type:"custom",_data:null,render:function(t,e,n,r){var i=this._data,a=t.getData(),o=this.group,s=Jf(t,a,e,n);a.diff(i).add(function(e){td(null,e,s(e,r),t,o,a)}).update(function(e,n){td(i.getItemGraphicEl(n),e,s(e,r),t,o,a)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&o.remove(e)}).execute(),this._data=a},incrementalPrepareRender:function(t,e,n){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,n,r,i){for(var a=e.getData(),o=Jf(e,a,n,r),s=t.start;s<t.end;s++)td(null,s,o(s,i),e,this.group,a).traverse(function(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)})},dispose:z,filterForExposedEvent:function(t,e,n,r){var i=e.element;if(null==i||n.name===i)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1}}),uo(function(t){var e=t.graphic;y(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var gA=mo({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,gA.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,r=(e?n:t).elements,i=n.elements=e?[]:n.elements,a=[];this._flatten(r,a);var o=un(i,a);ln(o);var s=this._elOptionsToUpdate=[];f(o,function(t,e){var n=t.option;n&&(s.push(n),function(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),hd(i,e,n),function(t,e){t&&(t.hv=e.hv=[cd(e,["left","right"]),cd(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}(i[e],n))},this);for(var u=i.length-1;u>=0;u--)null==i[u]?i.splice(u,1):delete i[u].$action},_flatten:function(t,e,n){f(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var r=t.children;"group"===t.type&&r&&this._flatten(r,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});yo({type:"graphic",init:function(t,e){this._elMap=R()},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,r=this.group;f(e,function(e){var i=e.$action,a=e.id,o=n.get(a),s=e.parentId,u=null!=s?n.get(s):r,l=e.style;"text"===e.type&&l&&(e.hv&&e.hv[1]&&(l.textVerticalAlign=l.textBaseline=null),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke));var c=ld(e);i&&"merge"!==i?"replace"===i?(ud(o,n),sd(a,u,c,n)):"remove"===i&&ud(o,n):o?o.attr(c):sd(a,u,c,n);var h=n.get(a);h&&(h.__ecGraphicWidth=e.width,h.__ecGraphicHeight=e.height,function(t,e,n){var r=t.eventData;t.silent||t.ignore||r||(r=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),r&&(r.info=t.info)}(h,t))})}},_relocate:function(t,e){for(var n=t.option.elements,r=this.group,i=this._elMap,a=n.length-1;a>=0;a--){var o=n[a],s=i.get(o.id);if(s){var u=s.parent;_i(s,o,u===r?{width:e.getWidth(),height:e.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0},null,{hv:o.hv,boundingMode:o.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){ud(e,t)}),this._elMap=R()},dispose:function(){this._clear()}});var vA=mo({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},mergeOption:function(t){vA.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var r=t[n].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries(function(r){var i;if(n.push(r.name),r.legendDataProvider){var a=r.legendDataProvider(),o=a.mapArray(a.getName);t.isSeriesFiltered(r)||(n=n.concat(o)),o.length?e=e.concat(o):i=!0}else i=!0;i&&cn(r)&&e.push(r.name)}),this._availableNames=n;var r=d(this.get("data")||e,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new Wr(t,this,this.ecModel)},this);this._data=r},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&f(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&u(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});co("legendToggleSelect","legendselectchanged",m(fd,"toggleSelected")),co("legendSelect","legendselected",m(fd,"select")),co("legendUnSelect","legendunselected",m(fd,"unSelect"));var mA=m,yA=f,xA=Lv,bA=yo({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new xA),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},render:function(t,e,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var i=t.get("align");i&&"auto"!==i||(i="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(i,t,e,n);var a=t.getBoxLayoutParams(),s={width:n.getWidth(),height:n.getHeight()},u=t.get("padding"),l=bi(a,s,u),c=this.layoutInner(t,i,l,r),h=bi(o({width:c.width,height:c.height},a),s,u);this.group.attr("position",[h.x-c.x,h.y-c.y]),this.group.add(this._backgroundEl=dd(c,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(t,e,n,r){var i=this.getContentGroup(),a=R(),o=e.get("selectedMode"),s=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&s.push(t.id)}),yA(e.getData(),function(u,l){var c=u.get("name");if(this.newlineDisabled||""!==c&&"\n"!==c){var h=n.getSeriesByName(c)[0];if(!a.get(c))if(h){var f=h.getData(),d=f.getVisual("color");"function"==typeof d&&(d=d(h.getDataParams(0)));var p=f.getVisual("legendSymbol")||"roundRect",g=f.getVisual("symbol");this._createItem(c,l,u,e,p,g,t,d,o).on("click",mA(pd,c,r)).on("mouseover",mA(gd,h.name,null,r,s)).on("mouseout",mA(vd,h.name,null,r,s)),a.set(c,!0)}else n.eachRawSeries(function(n){if(!a.get(c)&&n.legendDataProvider){var i=n.legendDataProvider(),h=i.indexOfName(c);if(h<0)return;var f=i.getItemVisual(h,"color");this._createItem(c,l,u,e,"roundRect",null,t,f,o).on("click",mA(pd,c,r)).on("mouseover",mA(gd,null,c,r,s)).on("mouseout",mA(vd,null,c,r,s)),a.set(c,!0)}},this)}else i.add(new xA({newline:!0}))},this)},_createItem:function(t,e,n,r,i,o,s,u,l){var c=r.get("itemWidth"),h=r.get("itemHeight"),f=r.get("inactiveColor"),d=r.get("symbolKeepAspect"),p=r.isSelected(t),g=new xA,v=n.getModel("textStyle"),m=n.get("icon"),y=n.getModel("tooltip"),x=y.parentModel;if(g.add(vs(i=m||i,0,0,c,h,p?u:f,null==d||d)),!m&&o&&(o!==i||"none"===o)){var b=.8*h;"none"===o&&(o="circle"),g.add(vs(o,(c-b)/2,(h-b)/2,b,b,p?u:f,null==d||d))}var _="left"===s?c+5:-5,w=s,S=r.get("formatter"),M=t;"string"==typeof S&&S?M=S.replace("{name}",null!=t?t:""):"function"==typeof S&&(M=S(t)),g.add(new Vy({style:Ir({},v,{text:M,x:_,y:h/2,textFill:p?v.getTextColor():f,textAlign:w,textVerticalAlign:"middle"})}));var O=new Ky({shape:g.getBoundingRect(),invisible:!0,tooltip:y.get("show")?a({content:t,formatter:x.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:t,$vars:["name"]}},y.option):null});return g.add(O),g.eachChild(function(t){t.silent=!0}),O.silent=!l,this.getContentGroup().add(g),Or(g),g.__legendDataIndex=e,g},layoutInner:function(t,e,n){var r=this.getContentGroup();Vx(t.get("orient"),r,t.get("itemGap"),n.width,n.height);var i=r.getBoundingRect();return r.attr("position",[-i.x,-i.y]),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});lo(function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}),Wx.registerSubTypeDefaulter("legend",function(){return"plain"});var _A=vA.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,n,r){var i=Si(t);_A.superCall(this,"init",t,e,n,r),md(this,t,i)},mergeOption:function(t,e){_A.superCall(this,"mergeOption",t,e),md(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),wA=Lv,SA=["width","height"],MA=["x","y"],OA=bA.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){OA.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new wA),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new wA)},resetInner:function(){OA.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,r){function i(t,n){var i=t+"DataIndex",u=Hr(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:v(a._pageGo,a,i,e,r)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});u.name=t,o.add(u)}var a=this;OA.superCall(this,"renderInner",t,e,n,r);var o=this._controllerGroup,s=e.get("pageIconSize",!0);y(s)||(s=[s,s]),i("pagePrev",0);var u=e.getModel("pageTextStyle");o.add(new Vy({name:"pageText",style:{textFill:u.getTextColor(),font:u.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),i("pageNext",1)},layoutInner:function(t,e,n,r){var i=this.getContentGroup(),a=this._containerGroup,o=this._controllerGroup,s=t.getOrient().index,u=SA[s],l=SA[1-s],c=MA[1-s];Vx(t.get("orient"),i,t.get("itemGap"),s?n.width:null,s?null:n.height),Vx("horizontal",o,t.get("pageButtonItemGap",!0));var h=i.getBoundingRect(),f=o.getBoundingRect(),d=this._showController=h[u]>n[u],p=[-h.x,-h.y];r||(p[s]=i.position[s]);var g=[0,0],v=[-f.x,-f.y],m=A(t.get("pageButtonGap",!0),t.get("itemGap",!0));d&&("end"===t.get("pageButtonPosition",!0)?v[s]+=n[u]-f[u]:g[s]+=f[u]+m),v[1-s]+=h[l]/2-f[l]/2,i.attr("position",p),a.attr("position",g),o.attr("position",v);var y=this.group.getBoundingRect();if((y={x:0,y:0})[u]=d?n[u]:h[u],y[l]=Math.max(h[l],f[l]),y[c]=Math.min(0,f[c]+v[1-s]),a.__rectSize=n[u],d){var x={x:0,y:0};x[u]=Math.max(n[u]-f[u]-m,0),x[l]=y[l],a.setClipPath(new Ky({shape:x})),a.__rectSize=x[u]}else o.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var b=this._getPageInfo(t);return null!=b.pageIndex&&Rr(i,{position:b.contentPosition},!!d&&t),this._updatePageInfoView(t,b),y},_pageGo:function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;f(["pagePrev","pageNext"],function(r){var i=null!=e[r+"DataIndex"],a=n.childOfName(r);a&&(a.setStyle("fill",t.get(i?"pageIconColor":"pageIconInactiveColor",!0)),a.cursor=i?"pointer":"default")});var r=n.childOfName("pageText"),i=t.get("pageFormatter"),a=e.pageIndex,o=null!=a?a+1:0,s=e.pageCount;r&&i&&r.setStyle("text",b(i)?i.replace("{current}",o).replace("{total}",s):i({current:o,total:s}))},_getPageInfo:function(t){function e(t){if(t){var e=t.getBoundingRect(),n=e[u]+t.position[o];return{s:n,e:n+e[s],i:t.__legendDataIndex}}}function n(t,e){return t.e>=e&&t.s<=e+a}var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=SA[o],u=MA[o],l=this._findTargetItemIndex(r),c=i.children(),h=c[l],f=c.length,d=f?1:0,p={contentPosition:i.position.slice(),pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var g=e(h);p.contentPosition[o]=-g.s;for(var v=l+1,m=g,y=g,x=null;v<=f;++v)(!(x=e(c[v]))&&y.e>m.s+a||x&&!n(x,m.s))&&(m=y.i>m.i?y:x)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=m.i),++p.pageCount),y=x;for(v=l-1,m=g,y=g,x=null;v>=-1;--v)(x=e(c[v]))&&n(y,x.s)||!(m.i<y.i)||(y=m,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=x;return p},_findTargetItemIndex:function(t){var e,n=this.getContentGroup();return this._showController?n.eachChild(function(n,r){n.__legendDataIndex===t&&(e=r)}):e=0,e}});co("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})}),mo({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var CA=f,AA=hi,IA=["","-webkit-","-moz-","-o-"];yd.prototype={constructor:yd,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(t){var e=[],n=t.get("transitionDuration"),r=t.get("backgroundColor"),i=t.getModel("textStyle"),a=t.get("padding");return n&&e.push(function(t){var e="left "+n+"s cubic-bezier(0.23, 1, 0.32, 1),top "+n+"s cubic-bezier(0.23, 1, 0.32, 1)";return d(IA,function(t){return t+"transition:"+e}).join(";")}()),r&&(Pg.canvasSupported?e.push("background-Color:"+r):(e.push("background-Color:#"+zt(r)),e.push("filter:alpha(opacity=70)"))),CA(["width","color","radius"],function(n){var r="border-"+n,i=AA(r),a=t.get(i);null!=a&&e.push(r+":"+a+("color"===n?"":"px"))}),e.push(function(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();return r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),CA(["decoration","align"],function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)}),e.join(";")}(i)),null!=a&&e.push("padding:"+jx(a).join("px ")+"px"),e.join(";")+";"}(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,r=this._zr;r&&r.painter&&(n=r.painter.getViewportRootOffset())&&(t+=n.offsetLeft,e+=n.offsetTop);var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(v(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}}},xd.prototype={constructor:xd,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,n){this.el&&this._zr.remove(this.el);for(var r={},i=t,a=i.indexOf("{marker");a>=0;){var o=i.indexOf("|}"),s=i.substr(a+"{marker".length,o-a-"{marker".length);r["marker"+s]=s.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[s],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[s]},a=(i=i.substr(o+1)).indexOf("{marker")}this.el=new Vy({style:{rich:r,text:t,textLineHeight:20,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding")},z:n.get("z")}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(v(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}};var TA=v,EA=f,jA=Zr,PA=new Ky({shape:{x:-1,y:-1,width:2,height:2}});yo({type:"tooltip",init:function(t,e){if(!Pg.node){var n,r=t.getComponent("tooltip").get("renderMode");this._renderMode=mn(r),"html"===this._renderMode?(n=new yd(e.getDom(),e),this._newLine="<br/>"):(n=new xd(e),this._newLine="\n"),this._tooltipContent=n}},render:function(t,e,n){if(!Pg.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var r=this._tooltipContent;r.update(),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");wf("itemTooltip",this._api,TA(function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY})})}},manuallyShowTip:function(t,e,n,r){if(r.from!==this.uid&&!Pg.node){var i=_d(r,n);this._ticket="";var a=r.dataByCoordSys;if(r.tooltip&&null!=r.x&&null!=r.y){var o=PA;o.position=[r.x,r.y],o.update(),o.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:o},i)}else if(a)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var s=FC(r,e),u=s.point[0],l=s.point[1];null!=u&&null!=l&&this._tryShow({offsetX:u,offsetY:l,position:r.position,target:s.el,event:{}},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target,event:{}},i))}},manuallyHideTip:function(t,e,n,r){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,r.from!==this.uid&&this._hide(_d(r,n))},_manuallyAxisShowTip:function(t,e,n,r){var i=r.seriesIndex,a=r.dataIndex,o=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=a&&null!=o){var s=e.getSeriesByIndex(i);if(s&&"axis"===(t=bd([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:a,position:r.position}),!0}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;r&&r.length?this._showAxisTooltip(r,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=v(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,i=[e.offsetX,e.offsetY],a=[],o=[],s=bd([e.tooltipOption,this._tooltipModel]),u=this._renderMode,l=this._newLine,c={};EA(t,function(t){EA(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value,s=[];if(e&&null!=i){var h=kf(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);f(t.seriesDataIndices,function(a){var l=n.getSeriesByIndex(a.seriesIndex),f=a.dataIndexInside,d=l&&l.getDataParams(f);if(d.axisDim=t.axisDim,d.axisIndex=t.axisIndex,d.axisType=t.axisType,d.axisId=t.axisId,d.axisValue=hs(e.axis,i),d.axisValueLabel=h,d){o.push(d);var p,g=l.formatTooltip(f,!0,null,u);_(g)?(p=g.html,r(c,g.markers)):p=g,s.push(p)}});var d=h;a.push("html"!==u?s.join(l):(d?fi(d)+l:"")+s.join(l))}})},this),a.reverse(),a=a.join(this._newLine+this._newLine);var h=e.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,h,i[0],i[1],this._tooltipContent,o):this._showTooltipContent(s,a,o,Math.random(),i[0],i[1],h,void 0,c)})},_showSeriesItemTooltip:function(t,e,n){var r=e.seriesIndex,i=this._ecModel.getSeriesByIndex(r),a=e.dataModel||i,o=e.dataIndex,s=e.dataType,u=a.getData(),l=bd([u.getItemModel(o),a,i&&(i.coordinateSystem||{}).model,this._tooltipModel]),c=l.get("trigger");if(null==c||"item"===c){var h,f,d=a.getDataParams(o,s),p=a.formatTooltip(o,!1,s,this._renderMode);_(p)?(h=p.html,f=p.markers):(h=p,f=null);var g="item_"+a.name+"_"+o;this._showOrMove(l,function(){this._showTooltipContent(l,h,d,g,t.offsetX,t.offsetY,t.position,t.target,f)}),n({type:"showTip",dataIndexInside:o,dataIndex:u.getRawIndex(o),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var r=e.tooltip;"string"==typeof r&&(r={content:r,formatter:r});var i=new Wr(r,this._tooltipModel,this._ecModel),a=i.get("content"),o=Math.random();this._showOrMove(i,function(){this._showTooltipContent(i,a,i.get("formatterParams")||{},o,t.offsetX,t.offsetY,t.position,e)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,r,i,a,o,s,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var l=this._tooltipContent,c=t.get("formatter");o=o||t.get("position");var h=e;if(c&&"string"==typeof c)h=di(c,n,!0);else if("function"==typeof c){var f=TA(function(e,r){e===this._ticket&&(l.setContent(r,u,t),this._updatePosition(t,o,i,a,l,n,s))},this);this._ticket=r,h=c(n,r,f)}l.setContent(h,u,t),l.show(t),this._updatePosition(t,o,i,a,l,n,s)}},_updatePosition:function(t,e,n,r,i,a,o){var s=this._api.getWidth(),u=this._api.getHeight();e=e||t.get("position");var l=i.getSize(),c=t.get("align"),h=t.get("verticalAlign"),f=o&&o.getBoundingRect().clone();if(o&&f.applyTransform(o.transform),"function"==typeof e&&(e=e([n,r],a,i.el,f,{viewSize:[s,u],contentSize:l.slice()})),y(e))n=jA(e[0],s),r=jA(e[1],u);else if(_(e)){e.width=l[0],e.height=l[1];var d=bi(e,{width:s,height:u});n=d.x,r=d.y,c=null,h=null}else"string"==typeof e&&o?(n=(p=function(t,e,n){var r=l[0],i=l[1],a=0,o=0,s=e.width,u=e.height;switch(t){case"inside":a=e.x+s/2-r/2,o=e.y+u/2-i/2;break;case"top":a=e.x+s/2-r/2,o=e.y-i-5;break;case"bottom":a=e.x+s/2-r/2,o=e.y+u+5;break;case"left":a=e.x-r-5,o=e.y+u/2-i/2;break;case"right":a=e.x+s+5,o=e.y+u/2-i/2}return[a,o]}(e,f))[0],r=p[1]):(n=(p=function(t,e,n,r,i,a,o){var s=n.getOuterSize(),u=s.width,l=s.height;return null!=a&&(t+u+a>r?t-=u+a:t+=a),null!=o&&(e+l+o>i?e-=l+o:e+=o),[t,e]}(n,r,i,s,u,c?null:20,h?null:20))[0],r=p[1]);if(c&&(n-=wd(c)?l[0]/2:"right"===c?l[0]:0),h&&(r-=wd(h)?l[1]/2:"bottom"===h?l[1]:0),t.get("confine")){var p=function(t,e,n,r,i){var a=n.getOuterSize(),o=a.width,s=a.height;return t=Math.min(t+o,r)-o,e=Math.min(e+s,i)-s,[t=Math.max(t,0),e=Math.max(e,0)]}(n,r,i,s,u);n=p[0],r=p[1]}i.moveTo(n,r)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&EA(e,function(e,r){var i=e.dataByAxis||{},a=(t[r]||{}).dataByAxis||[];(n&=i.length===a.length)&&EA(i,function(t,e){var r=a[e]||{},i=t.seriesDataIndices||[],o=r.seriesDataIndices||[];(n&=t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&i.length===o.length)&&EA(i,function(t,e){var r=o[e];n&=t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Pg.node||(this._tooltipContent.hide(),Of("itemTooltip",e))}}),co({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),co({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),Od.prototype={constructor:Od,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:Rw.prototype.dataToCoord,radiusToData:Rw.prototype.coordToData},l(Od,Rw);var kA=dn();Cd.prototype={constructor:Cd,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:Rw.prototype.dataToCoord,angleToData:Rw.prototype.coordToData,calculateCategoryInterval:function(){var t=this,e=t.getLabelModel(),n=t.scale,r=n.getExtent(),i=n.count();if(r[1]-r[0]<1)return 0;var a=r[0],o=t.dataToCoord(a+1)-t.dataToCoord(a),s=Math.abs(o),u=xe(a,e.getFont(),"center","top"),l=Math.max(u.height,7)/s;isNaN(l)&&(l=1/0);var c=Math.max(0,Math.floor(l)),h=kA(t.model),f=h.lastAutoInterval,d=h.lastTickCount;return null!=f&&null!=d&&Math.abs(f-c)<=1&&Math.abs(d-i)<=1&&f>c?c=f:(h.lastTickCount=i,h.lastAutoInterval=c),c}},l(Cd,Rw);var DA=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new Od,this._angleAxis=new Cd,this._radiusAxis.polar=this._angleAxis.polar=this};DA.prototype={type:"polar",axisPointerEnabled:!0,constructor:DA,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),a=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]);r.inverse?a=o-360:o=a+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,l=u<a?1:-1;u<a||u>o;)u+=360*l;return[s,u]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]}};var LA=Wx.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});r(LA.prototype,Sw),hS("angle",LA,Ad,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),hS("radius",LA,Ad,{splitNumber:5}),mo({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),Ni.register("polar",{dimensions:DA.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,r){var i=new DA(r);i.update=Id;var a=i.getRadiusAxis(),o=i.getAngleAxis(),s=t.findAxisModel("radiusAxis"),u=t.findAxisModel("angleAxis");Td(a,s),Td(o,u),function(t,e,n){var r=e.get("center"),i=n.getWidth(),a=n.getHeight();t.cx=Zr(r[0],i),t.cy=Zr(r[1],a);var o=t.getRadiusAxis(),s=Math.min(i,a)/2,u=Zr(e.get("radius"),s);o.inverse?o.setExtent(u,0):o.setExtent(0,u)}(i,t,e),n.push(i),t.coordinateSystem=i,i.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}});var RA=["axisLine","axisLabel","axisTick","splitLine","splitArea"];wS.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var r=t.axis,i=r.polar,a=i.getRadiusAxis().getExtent(),o=r.getTicksCoords(),s=d(r.getViewLabels(),function(t){return(t=n(t)).coord=r.dataToCoord(t.tickValue),t});Pd(s),Pd(o),f(RA,function(e){!t.get(e+".show")||r.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,i,o,a,s)},this)}},_axisLine:function(t,e,n,r){var i=t.getModel("axisLine.lineStyle"),a=new Gy({shape:{cx:e.cx,cy:e.cy,r:r[jd(e)]},style:i.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,n,r){var i=t.getModel("axisTick"),a=(i.get("inside")?-1:1)*i.get("length"),s=r[jd(e)],u=d(n,function(t){return new ex({shape:Ed(e,[s,s+a],t.coord)})});this.group.add(gx(u,{style:o(i.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,r,i){var a=t.getCategories(!0),o=t.getModel("axisLabel"),s=o.get("margin");f(i,function(n,i){var u=o,l=n.tickValue,c=r[jd(e)],h=e.coordToPoint([c+s,n.coord]),f=e.cx,d=e.cy,p=Math.abs(h[0]-f)/c<.3?"center":h[0]>f?"left":"right",g=Math.abs(h[1]-d)/c<.3?"middle":h[1]>d?"top":"bottom";a&&a[l]&&a[l].textStyle&&(u=new Wr(a[l].textStyle,o,o.ecModel));var v=new Vy({silent:!0});this.group.add(v),Ir(v.style,u,{x:h[0],y:h[1],textFill:u.getTextColor()||t.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:p,textVerticalAlign:g})},this)},_splitLine:function(t,e,n,r){var i=t.getModel("splitLine").getModel("lineStyle"),a=i.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],l=0;l<n.length;l++){var c=s++%a.length;u[c]=u[c]||[],u[c].push(new ex({shape:Ed(e,r,n[l].coord)}))}for(l=0;l<u.length;l++)this.group.add(gx(u[l],{style:o({stroke:a[l%a.length]},i.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,r){if(n.length){var i=t.getModel("splitArea").getModel("areaStyle"),a=i.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],l=Math.PI/180,c=-n[0].coord*l,h=Math.min(r[0],r[1]),f=Math.max(r[0],r[1]),d=t.get("clockwise"),p=1;p<n.length;p++){var g=s++%a.length;u[g]=u[g]||[],u[g].push(new qy({shape:{cx:e.cx,cy:e.cy,r0:h,r:f,startAngle:c,endAngle:-n[p].coord*l,clockwise:d},silent:!0})),c=-n[p].coord*l}for(p=0;p<u.length;p++)this.group.add(gx(u[p],{style:o({fill:a[p%a.length]},i.getAreaStyle()),silent:!0}))}}});var NA=["axisLine","axisTickLabel","axisName"],zA=["splitLine","splitArea"];wS.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,i=r.getAngleAxis(),a=n.getTicksCoords(),o=i.getExtent()[0],s=n.getExtent(),u=function(t,e,n){return{position:[r.cx,r.cy],rotation:o/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(0,t),l=new mS(t,u);f(NA,l.add,l),this.group.add(l.getGroup()),f(zA,function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,r,o,s,a)},this)}},_splitLine:function(t,e,n,r,i){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=0;c<i.length;c++){var h=u++%s.length;l[h]=l[h]||[],l[h].push(new Gy({shape:{cx:e.cx,cy:e.cy,r:i[c].coord},silent:!0}))}for(c=0;c<l.length;c++)this.group.add(gx(l[c],{style:o({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,r,i){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=i[0].coord,h=1;h<i.length;h++){var f=u++%s.length;l[f]=l[f]||[],l[f].push(new qy({shape:{cx:e.cx,cy:e.cy,r0:c,r:i[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=i[h].coord}for(h=0;h<l.length;h++)this.group.add(gx(l[h],{style:o({fill:s[h%s.length]},a.getAreaStyle()),silent:!0}))}}});var BA=Cf.extend({makeElOption:function(t,e,n,r,i){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var o,s=a.polar,u=s.getOtherAxis(a).getExtent();o=a["dataTo"+yi(a.dim)](e);var l=r.get("type");if(l&&"none"!==l){var c=jf(r),h=FA[l](a,s,o,u,c);h.style=c,t.graphicKey=h.type,t.pointer=h}Pf(t,n,r,i,function(t,e,n,r,i){var a=e.axis,o=a.dataToCoord(t),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,l,c,h=r.getRadiusAxis().getExtent();if("radius"===a.dim){var f=gt();bt(f,f,s),xt(f,f,[r.cx,r.cy]),u=Br([o,-i],f);var d=e.getModel("axisLabel").get("rotate")||0,p=mS.innerTextLayout(s,d*Math.PI/180,-1);l=p.textAlign,c=p.textVerticalAlign}else{var g=h[1];u=r.coordToPoint([g+i,o]);var v=r.cx,m=r.cy;l=Math.abs(u[0]-v)/g<.3?"center":u[0]>v?"left":"right",c=Math.abs(u[1]-m)/g<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:l,verticalAlign:c}}(e,n,0,s,r.get("label.margin")))}}),FA={line:function(t,e,n,r,i){return"angle"===t.dim?{type:"Line",shape:Rf(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r,i){var a=Math.max(1,t.getBandWidth()),o=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:zf(e.cx,e.cy,r[0],r[1],(-n-a/2)*o,(a/2-n)*o)}:{type:"Sector",shape:zf(e.cx,e.cy,n-a/2,n+a/2,0,2*Math.PI)}}};wS.registerAxisPointerClass("PolarAxisPointer",BA),fo(m(function(t,e,n){n.getWidth(),n.getHeight();var r={},i=function(t,e){var n={};f(t,function(t,e){var r=t.getData(),i=t.coordinateSystem.getBaseAxis(),a=i.getExtent(),o="category"===i.type?i.getBandWidth():Math.abs(a[1]-a[0])/r.count(),s=n[Md(i)]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=s.stacks;n[Md(i)]=s;var l=Sd(t);u[l]||s.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var c=Zr(t.get("barWidth"),o),h=Zr(t.get("barMaxWidth"),o),f=t.get("barGap"),d=t.get("barCategoryGap");c&&!u[l].width&&(c=Math.min(s.remainedWidth,c),u[l].width=c,s.remainedWidth-=c),h&&(u[l].maxWidth=h),null!=f&&(s.gap=f),null!=d&&(s.categoryGap=d)});var r={};return f(n,function(t,e){r[e]={};var n=t.stacks,i=Zr(t.categoryGap,t.bandWidth),a=Zr(t.gap,1),o=t.remainedWidth,s=t.autoWidthCount,u=(o-i)/(s+(s-1)*a);u=Math.max(u,0),f(n,function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,o),t.width&&(n=Math.min(n,t.width)),o-=n,t.width=n,s--)}),u=(o-i)/(s+(s-1)*a),u=Math.max(u,0);var l,c=0;f(n,function(t,e){t.width||(t.width=u),l=t,c+=t.width*(1+a)}),l&&(c-=l.width*a);var h=-c/2;f(n,function(t,n){r[e][n]=r[e][n]||{offset:h,width:t.width},h+=t.width*(1+a)})}),r}(g(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),o=Sd(t),s=i[Md(a)][o],u=s.offset,l=s.width,c=n.getOtherAxis(a),h=t.coordinateSystem.cx,f=t.coordinateSystem.cy,d=t.get("barMinHeight")||0,p=t.get("barMinAngle")||0;r[o]=r[o]||[];for(var g=e.mapDimension(c.dim),v=e.mapDimension(a.dim),m=Fo(e,g),y=c.getExtent()[0],x=0,b=e.count();x<b;x++){var _=e.get(g,x),w=e.get(v,x);if(!isNaN(_)){var S,M,O,C,A=_>=0?"p":"n",I=y;if(m&&(r[o][w]||(r[o][w]={p:y,n:y}),I=r[o][w][A]),"radius"===c.dim){var T=c.dataToRadius(_)-y,E=a.dataToAngle(w);Math.abs(T)<d&&(T=(T<0?-1:1)*d),S=I,M=I+T,C=(O=E-u)-l,m&&(r[o][w][A]=M)}else{var j=c.dataToAngle(_,!0)-y,P=a.dataToRadius(w);Math.abs(j)<p&&(j=(j<0?-1:1)*p),M=(S=P+u)+l,O=I,C=I+j,m&&(r[o][w][A]=C)}e.setItemLayout(x,{cx:h,cy:f,r0:S,r:M,startAngle:-O*Math.PI/180,endAngle:-C*Math.PI/180})}}}},this)},"bar")),yo({type:"polar"}),c(Wx.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){Wx.prototype.init.apply(this,arguments),on(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=cM.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=p(t.regions||[],function(t,n){return n.name&&t.set(n.name,new Wr(n,e)),t},R()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new Wr(null,this,this.ecModel)},getFormattedLabel:function(t,e){var n=this.getRegionModel(t).get("label."+e+".formatter"),r={name:t};return"function"==typeof n?(r.status=e,n(r)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}}),DS),yo({type:"geo",init:function(t,e){var n=new el(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,r){if(!r||"geoToggleSelect"!==r.type||r.from!==this.uid){var i=this._mapDraw;t.get("show")?i.draw(t,e,n,this,r):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),kd("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),kd("select",{type:"geoSelect",event:"geoselected"}),kd("unSelect",{type:"geoUnSelect",event:"geounselected"});var VA=["rect","polygon","keep","clear"],GA=f,HA={lineX:Nd(0),lineY:Nd(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&ys(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var i=t.x,a=t.y,o=t.width,s=t.height,u=r[0];return!!(ys(r,i,a)||ys(r,i+o,a)||ys(r,i,a+s)||ys(r,i+o,a+s)||ie.create(t).contain(u[0],u[1])||Bd(i,a,i+o,a,r)||Bd(i,a,i,a+s,r)||Bd(i+o,a,i+o,a+s,r)||Bd(i,a+s,i+o,a+s,r))||void 0}}},WA=f,qA=u,UA=m,YA=["dataToPoint","pointToData"],XA=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ZA=Gd.prototype;ZA.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var r=KA[t.brushType](0,n,e);t.__rangeOffset={offset:tI[t.brushType](r.values,t.range,[1,1]),xyMinMax:r.xyMinMax}}})},ZA.matchOutputRanges=function(t,e,n){WA(t,function(t){var r=this.findTargetInfo(t,e);r&&!0!==r&&f(r.coordSyses,function(r){var i=KA[t.brushType](1,r,t.range);n(t,i.values,r,e)})},this)},ZA.setInputRanges=function(t,e){WA(t,function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var r=KA[t.brushType](0,n.coordSys,t.coordRange),i=t.__rangeOffset;t.range=i?tI[t.brushType](r.values,i.offset,function(t,e){var n=Yd(t),r=Yd(e),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}(r.xyMinMax,i.xyMinMax)):r.values}},this)},ZA.makePanelOpts=function(t,e){return d(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e&&e(n),clipPath:uh(r),isTargetByCursor:ch(r,t,n.coordSysModel),getLinearBrushOtherExtent:lh(r)}})},ZA.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return!0===r||r&&qA(r.coordSyses,e.coordinateSystem)>=0},ZA.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=Wd(e,t),i=0;i<n.length;i++){var a=n[i],o=t.panelId;if(o){if(a.panelId===o)return a}else for(i=0;i<QA.length;i++)if(QA[i](r,a))return a}return!0};var $A={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,a=R(),o={},s={};(n||r||i)&&(WA(n,function(t){var e=t.axis.grid.model;a.set(e.id,e),o[e.id]=!0}),WA(r,function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0}),WA(i,function(t){a.set(t.id,t),o[t.id]=!0,s[t.id]=!0}),a.each(function(t){var i=[];WA(t.coordinateSystem.getCartesians(),function(t,e){(qA(n,t.getAxis("x").model)>=0||qA(r,t.getAxis("y").model)>=0)&&i.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:i[0],coordSyses:i,getPanelRect:JA.grid,xAxisDeclared:o[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){WA(t.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:JA.geo})})}},QA=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],JA={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(zr(t)),e}},KA={lineX:UA(qd,0),lineY:UA(qd,1),rect:function(t,e,n){var r=e[YA[t]]([n[0][0],n[1][0]]),i=e[YA[t]]([n[0][1],n[1][1]]),a=[Hd([r[0],i[0]]),Hd([r[1],i[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:d(n,function(n){var i=e[YA[t]](n);return r[0][0]=Math.min(r[0][0],i[0]),r[1][0]=Math.min(r[1][0],i[1]),r[0][1]=Math.max(r[0][1],i[0]),r[1][1]=Math.max(r[1][1],i[1]),i}),xyMinMax:r}}},tI={lineX:UA(Ud,0),lineY:UA(Ud,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return d(t,function(t,r){return[t[0]-n[0]*e[r][0],t[1]-n[1]*e[r][1]]})}},eI=["inBrush","outOfBrush"],nI="__ecBrushSelect",rI="__ecInBrushSelectEvent",iI=x_.VISUAL.BRUSH;fo(iI,function(t,e,n){t.eachComponent({mainType:"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(e.brushTargetManager=new Gd(e.option,t)).setInputRanges(e.areas,t)})}),po(iI,function(t,e,r){var i,a,s=[];t.eachComponent({mainType:"brush"},function(e,r){function u(t){return"all"===g||v[t]}function l(t){return!!t.length}function c(n,r,i){var a=$d(n);if(a&&!Qd(e,r)&&(f(_,function(r){a[r.brushType]&&e.brushTargetManager.controlSeries(r,n,t)&&i.push(r),b|=l(i)}),u(r)&&l(i))){var o=n.getData();o.each(function(t){Zd(a,i,o,t)&&(m[t]=1)})}}var h={brushId:e.id,brushIndex:r,brushName:e.name,areas:n(e.areas),selected:[]};s.push(h);var p=e.option,g=p.brushLink,v=[],m=[],x=[],b=0;r||(i=p.throttleType,a=p.throttleDelay);var _=d(e.areas,function(t){return function(t){var e=t.selectors={};return f(HA[t.brushType],function(n,r){e[r]=function(r){return n(r,e,t)}}),t}(o({boundingRect:aI[t.brushType](t)},t))}),w=Ld(e.option,eI,function(t){t.mappingMethod="fixed"});y(g)&&f(g,function(t){v[t]=1}),t.eachSeries(function(t,e){var n=x[e]=[];"parallel"===t.subType?function(t,e){var n=t.coordinateSystem;b|=n.hasAxisBrushed(),u(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(m[e]=1)})}(t,e):c(t,e,n)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};h.selected.push(n);var r=$d(t),i=x[e],a=t.getData(),o=u(e)?function(t){return m[t]?(n.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return Zd(r,i,a,t)?(n.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"};(u(e)?b:l(i))&&function(t,e,n,r,i,a){function o(t){return n.getItemVisual(l,t)}function s(t,e){n.setItemVisual(l,t,e)}function u(t,u){var h=n.getRawDataItem(l=null==a?t:u);if(!h||!1!==h.visualMap)for(var f=r.call(i,t),d=e[f],p=c[f],g=0,v=p.length;g<v;g++){var m=p[g];d[m]&&d[m].applyVisual(t,o,s)}}var l,c={};f(eI,function(t){var n=DM.prepareVisualTypes(e[t]);c[t]=n}),null==a?n.each(u):n.each([a],u)}(0,w,a,o)})}),function(t,e,n,r,i){if(i){var a=t.getZr();a[rI]||(a[nI]||(a[nI]=Xd),ba(a,nI,n,e)(t,r))}}(e,i,a,s,r)});var aI={lineX:z,lineY:z,rect:function(t){return Jd(t.range)},polygon:function(t){for(var e,n=t.range,r=0,i=n.length;r<i;r++){var a=n[r];a[0]<(e=e||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&Jd(e)}},oI=["#ddd"];mo({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&Rd(n,t,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:oI},r.hasOwnProperty("liftZ")||(r.liftZ=5)},setAreas:function(t){t&&(this.areas=d(t,function(t){return Kd(this.option,t)},this))},setBrushOption:function(t){this.brushOption=Kd(this.option,t),this.brushType=this.brushOption.brushType}}),yo({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,(this._brushController=new Dc(e.getZr())).on("brush",v(this._onBrush,this)).mount()},render:function(t){return this.model=t,tp.apply(this,arguments)},updateTransform:tp,updateView:tp,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var r=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:n(t),$from:r})}}),co({type:"brush",event:"brush"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),co({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var sI={};rp.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n(Vb.toolbox.brush.title)};var uI=rp.prototype;uI.render=uI.updateView=function(t,e,n){var r,i,a;e.eachComponent({mainType:"brush"},function(t){r=t.brushType,i=t.brushOption.brushMode||"single",a|=t.areas.length}),this._brushType=r,this._brushMode=i,f(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===i:"clear"===e?a:e===r)?"emphasis":"normal")})},uI.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return f(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},uI.onclick=function(t,e,n){var r=this._brushType,i=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},ep("brush",rp),uo(function(t,e){var n=t&&t.brush;if(y(n)||(n=n?[n]:[]),n.length){var r=[];f(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))});var i=t&&t.toolbox;y(i)&&(i=i[0]),i||(t.toolbox=[i={feature:{}}]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),function(t){var e={};f(t,function(t){e[t]=1}),t.length=0,f(e,function(e,n){t.push(n)})}(s),e&&!s.length&&s.push.apply(s,VA)}}),ip.prototype={constructor:ip,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=ii(t)).getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var r=t.getDate();r=r<10?"0"+r:r;var i=t.getDay();return{y:e,m:n,d:r,day:i=Math.abs((i+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+r,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function n(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.get("cellSize").slice(),o=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[r,7]:[7,r];f([0,1],function(t){n(a,t)&&(o[i[t]]=a[t]*s[t])});var u={width:e.getWidth(),height:e.getHeight()},l=this._rect=bi(o,u);f([0,1],function(t){n(a,t)||(a[t]=l[i[t]]/s[t])}),this._sw=a[0],this._sh=a[1]},dataToPoint:function(t,e){y(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+864e5))return[NaN,NaN];var i=n.day,a=this._getRangeInfo([r.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+i*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+i*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},convertToPixel:m(ap,"dataToPoint"),convertFromPixel:m(ap,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(y(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),r=n.date;r.setMonth(r.getMonth()+1);var i=this.getNextNDay(r,-1);t=[n.formatedDate,i.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,r=new Date(t[0].time),i=r.getDate(),a=t[1].date.getDate();if(r.setDate(i+n-1),r.getDate()!==a)for(var o=r.getTime()-t[1].time>0?1:-1;r.getDate()!==a&&(r.getTime()-t[1].time)*o>0;)r.setDate(i+(n-=o)-1);var s=Math.floor((n+t[0].day+6)/7),u=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:s,nthWeek:u,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return!1;var i=7*(t-1)-r.fweek+e,a=new Date(r.start.time);return a.setDate(r.start.d+i),this.getDateInfo(a)}},ip.dimensions=ip.prototype.dimensions,ip.getDimensionsInfo=ip.prototype.getDimensionsInfo,ip.create=function(t,e){var n=[];return t.eachComponent("calendar",function(r){var i=new ip(r,t,e);n.push(i),r.coordinateSystem=i}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])}),n},Ni.register("calendar",ip);var lI=Wx.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,n,r){var i=Si(t);lI.superApply(this,"init",arguments),op(t,i)},mergeOption:function(t,e){lI.superApply(this,"mergeOption",arguments),op(this.option,t)}}),cI={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},hI={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]};yo({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var r=this.group;r.removeAll();var i=t.coordinateSystem,a=i.getRangeInfo(),o=i.getOrient();this._renderDayRect(t,a,r),this._renderLines(t,a,o,r),this._renderYearText(t,a,o,r),this._renderMonthText(t,o,r),this._renderWeekText(t,a,o,r)},_renderDayRect:function(t,e,n){for(var r=t.coordinateSystem,i=t.getModel("itemStyle").getItemStyle(),a=r.getCellWidth(),o=r.getCellHeight(),s=e.start.time;s<=e.end.time;s=r.getNextNDay(s,1).time){var u=r.dataToRect([s],!1).tl,l=new Ky({shape:{x:u[0],y:u[1],width:a,height:o},cursor:"default",style:i});n.add(l)}},_renderLines:function(t,e,n,r){function i(e){a._firstDayOfMonth.push(o.getDateInfo(e)),a._firstDayPoints.push(o.dataToRect([e],!1).tl);var i=a._getLinePointsOfOneWeek(t,e,n);a._tlpoints.push(i[0]),a._blpoints.push(i[i.length-1]),u&&a._drawSplitline(i,s,r)}var a=this,o=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),u=t.get("splitLine.show"),l=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,h=0;c.time<=e.end.time;h++){i(c.formatedDate),0===h&&(c=o.getDateInfo(e.start.y+"-"+e.start.m));var f=c.date;f.setMonth(f.getMonth()+1),c=o.getDateInfo(f)}i(o.getNextNDay(e.end.time,1).formatedDate),u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,l,n),s,r),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,l,n),s,r)},_getEdgesPoints:function(t,e,n){var r=[t[0].slice(),t[t.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-e/2,r[1][i]=r[1][i]+e/2,r},_drawSplitline:function(t,e,n){var r=new $y({z2:20,shape:{points:t},style:e});n.add(r)},_getLinePointsOfOneWeek:function(t,e,n){var r=t.coordinateSystem;e=r.getDateInfo(e);for(var i=[],a=0;a<7;a++){var o=r.getNextNDay(e.time,a),s=r.dataToRect([o.time],!1);i[2*o.day]=s.tl,i[2*o.day+1]=s["horizontal"===n?"bl":"tr"]}return i},_formatterLabel:function(t,e){return"string"==typeof t&&t?pi(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,r,i){e=e.slice();var a=["center","bottom"];"bottom"===r?(e[1]+=i,a=["center","top"]):"left"===r?e[0]-=i:"right"===r?(e[0]+=i,a=["center","top"]):e[1]-=i;var o=0;return"left"!==r&&"right"!==r||(o=Math.PI/2),{rotation:o,position:e,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(t,e,n,r){var i=t.getModel("yearLabel");if(i.get("show")){var a=i.get("margin"),o=i.get("position");o||(o="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(s[0][0]+s[1][0])/2,l=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,h={top:[u,s[c][1]],bottom:[u,s[1-c][1]],left:[s[1-c][0],l],right:[s[c][0],l]},f=e.start.y;+e.end.y>+e.start.y&&(f=f+"-"+e.end.y);var d=i.get("formatter"),p=this._formatterLabel(d,{start:e.start.y,end:e.end.y,nameMap:f}),g=new Vy({z2:30});Ir(g.style,i,{text:p}),g.attr(this._yearTextPositionControl(g,h[o],n,o,a)),r.add(g)}},_monthTextPositionControl:function(t,e,n,r,i){var a="left",o="top",s=t[0],u=t[1];return"horizontal"===n?(u+=i,e&&(a="center"),"start"===r&&(o="bottom")):(s+=i,e&&(o="middle"),"start"===r&&(a="right")),{x:s,y:u,textAlign:a,textVerticalAlign:o}},_renderMonthText:function(t,e,n){var r=t.getModel("monthLabel");if(r.get("show")){var i=r.get("nameMap"),o=r.get("margin"),s=r.get("position"),u=r.get("align"),l=[this._tlpoints,this._blpoints];b(i)&&(i=cI[i.toUpperCase()]||[]);var c="start"===s?0:1,h="horizontal"===e?0:1;o="start"===s?-o:o;for(var f="center"===u,d=0;d<l[c].length-1;d++){var p=l[c][d].slice(),g=this._firstDayOfMonth[d];f&&(p[h]=(this._firstDayPoints[d][h]+l[0][d+1][h])/2);var v=r.get("formatter"),m=i[+g.m-1],y={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:m},x=this._formatterLabel(v,y),_=new Vy({z2:30});a(Ir(_.style,r,{text:x}),this._monthTextPositionControl(p,f,e,s,o)),n.add(_)}}},_weekTextPositionControl:function(t,e,n,r,i){var a="center",o="middle",s=t[0],u=t[1],l="start"===n;return"horizontal"===e?(s=s+r+(l?1:-1)*i[0]/2,a=l?"right":"left"):(u=u+r+(l?1:-1)*i[1]/2,o=l?"bottom":"top"),{x:s,y:u,textAlign:a,textVerticalAlign:o}},_renderWeekText:function(t,e,n,r){var i=t.getModel("dayLabel");if(i.get("show")){var o=t.coordinateSystem,s=i.get("position"),u=i.get("nameMap"),l=i.get("margin"),c=o.getFirstDayOfWeek();b(u)&&(u=hI[u.toUpperCase()]||[]);var h=o.getNextNDay(e.end.time,7-e.lweek).time,f=[o.getCellWidth(),o.getCellHeight()];l=Zr(l,f["horizontal"===n?0:1]),"start"===s&&(h=o.getNextNDay(e.start.time,-(7+e.fweek)).time,l=-l);for(var d=0;d<7;d++){var p,g=o.getNextNDay(h,d),v=o.dataToRect([g.time],!1).center;p=Math.abs((d+c)%7);var m=new Vy({z2:30});a(Ir(m.style,i,{text:u[p]}),this._weekTextPositionControl(v,n,s,l,f)),r.add(m)}}}}),mo({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),yo({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,i=t.getModel("textStyle"),a=t.getModel("subtextStyle"),o=t.get("textAlign"),s=t.get("textBaseline"),u=new Vy({style:Ir({},i,{text:t.get("text"),textFill:i.getTextColor()},{disableBox:!0}),z2:10}),l=u.getBoundingRect(),c=t.get("subtext"),h=new Vy({style:Ir({},a,{text:c,textFill:a.getTextColor(),y:l.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),f=t.get("link"),d=t.get("sublink"),p=t.get("triggerEvent",!0);u.silent=!f&&!p,h.silent=!d&&!p,f&&u.on("click",function(){window.open(f,"_"+t.get("target"))}),d&&h.on("click",function(){window.open(d,"_"+t.get("subtarget"))}),u.eventData=h.eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(u),c&&r.add(h);var g=r.getBoundingRect(),v=t.getBoxLayoutParams();v.width=g.width,v.height=g.height;var m=bi(v,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));o||("middle"===(o=t.get("left")||t.get("right"))&&(o="center"),"right"===o?m.x+=m.width:"center"===o&&(m.x+=m.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?m.y+=m.height:"middle"===s&&(m.y+=m.height/2),s=s||"top"),r.attr("position",[m.x,m.y]);var y={textAlign:o,textVerticalAlign:s};u.setStyle(y),h.setStyle(y),g=r.getBoundingRect();var x=m.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var _=new Ky({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:b,silent:!0});fr(_),r.add(_)}}}),Wx.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var fI=["cartesian2d","polar","singleAxis"],dI=function(t,e){var n=d(t=t.slice(),yi),r=d(e=(e||[]).slice(),yi);return function(i,a){f(t,function(t,o){for(var s={name:t,capital:n[o]},u=0;u<e.length;u++)s[e[u]]=t+r[u];i.call(a,s)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),pI=f,gI=Qr,vI=function(t,e,n,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=n};vI.prototype={constructor:vI,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(n){if(function(t){return u(fI,t)>=0}(n.get("coordinateSystem"))){var r=this._dimName,i=e.queryComponents({mainType:r+"Axis",index:n.get(r+"AxisIndex"),id:n.get(r+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&t.push(n)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n,r=this._dimName,i=this.ecModel,a=this.getAxisModel();return"x"===r||"y"===r?(e="gridIndex",t="x"===r?"y":"x"):(e="polarIndex",t="angle"===r?"radius":"angle"),i.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(a.get(e)||0)&&(n=t)}),n},getMinMaxSpan:function(){return n(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,n=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),i=[0,100],a=[t.start,t.end],o=[];return pI(["startValue","endValue"],function(e){o.push(null!=t[e]?n.parse(t[e]):null)}),pI([0,1],function(t){var s=o[t],u=a[t];"percent"===r[t]?(null==u&&(u=i[t]),s=n.parse(Xr(u,i,e,!0))):u=Xr(s,e,i,!0),o[t]=s,a[t]=u}),{valueWindow:gI(o),percentWindow:gI(a)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var r=[1/0,-1/0];return pI(n,function(t){var n=t.getData();n&&pI(n.mapDimension(e,!0),function(t){var e=n.getApproximateExtent(t);e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])})}),r[1]<r[0]&&(r=[NaN,NaN]),function(t,e){var n=t.getAxisModel(),r=n.getMin(!0),i="category"===n.get("type"),a=i&&n.getCategories().length;null!=r&&"dataMin"!==r&&"function"!=typeof r?e[0]=r:i&&(e[0]=a>0?0:NaN);var o=n.getMax(!0);null!=o&&"dataMax"!==o&&"function"!=typeof o?e[1]=o:i&&(e[1]=a>0?a-1:NaN),n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,r),r}(this,this._dimName,e);var n=this.calculateDataWindow(t.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function(t){var e=t._minMaxSpan={},n=t._dataZoomModel;pI(["min","max"],function(r){e[r+"Span"]=n.get(r+"Span");var i=n.get(r+"ValueSpan");if(null!=i&&(e[r+"ValueSpan"]=i,null!=(i=t.getAxisModel().axis.scale.parse(i)))){var a=t._dataExtent;e[r+"Span"]=Xr(a[0]+i,a,[0,100],!0)}})}(this),sp(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,sp(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=t.get("filterMode"),a=this._valueWindow;"none"!==i&&pI(r,function(t){var e=t.getData(),r=e.mapDimension(n,!0);r.length&&("weakFilter"===i?e.filterSelf(function(t){for(var n,i,o,s=0;s<r.length;s++){var u=e.get(r[s],t),l=!isNaN(u),c=u<a[0],h=u>a[1];if(l&&!c&&!h)return!0;l&&(o=!0),c&&(n=!0),h&&(i=!0)}return o&&n&&i}):pI(r,function(n){if("empty"===i)t.setData(e.map(n,function(t){return function(t){return t>=a[0]&&t<=a[1]}(t)?t:NaN}));else{var r={};r[n]=a,e.selectRange(r)}}),pI(r,function(t){e.setApproximateExtent(a,t)}))})}}};var mI=f,yI=dI,xI=mo({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var r=up(t);this.mergeDefaultAndTheme(t,n),this.doInit(r)},mergeOption:function(t){var e=up(t);r(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;Pg.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),lp(this,t),mI([["start","startValue"],["end","endValue"]],function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,n,r,i){var a=this.dependentModels[e.axis][n],o=a.__dzAxisProxy||(a.__dzAxisProxy=new vI(e.name,n,this,i));t[e.name+"_"+n]=o},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();yI(function(e){var n=e.axisIndex;t[n]=an(t[n])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;yI(function(n){null!=t[n.axisIndex]&&(e=!0)},this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option,r=this.dependentModels;if(t){var i="vertical"===e?"y":"x";r[i+"Axis"].length?(n[i+"AxisIndex"]=[0],t=!1):mI(r.singleAxis,function(r){t&&r.get("orient",!0)===e&&(n.singleAxisIndex=[r.componentIndex],t=!1)})}t&&yI(function(e){if(t){var r=[],i=this.dependentModels[e.axis];if(i.length&&!r.length)for(var a=0,o=i.length;a<o;a++)"category"===i[a].get("type")&&r.push(a);n[e.axisIndex]=r,r.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&yI(function(e){var r=n[e.axisIndex],i=t.get(e.axisIndex),a=t.get(e.axisId);u(r,i=t.ecModel.queryComponents({mainType:e.axis,index:i,id:a})[0].componentIndex)<0&&r.push(i)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return yI(function(r){var i=t.get(r.axisIndex),a=this.dependentModels[r.axis][i];a&&a.get("type")===e||(n=!1)},this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return yI(function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}},this),t},eachTargetAxis:function(t,e){var n=this.ecModel;yI(function(r){mI(this.get(r.axisIndex),function(i){t.call(e,r,i,this,n)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(t,e){var n=this.option;mI([["start","startValue"],["end","endValue"]],function(e){null==t[e[0]]&&null==t[e[1]]||(n[e[0]]=t[e[0]],n[e[1]]=t[e[1]])},this),!e&&lp(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),bI=Eb.extend({type:"dataZoom",render:function(t,e,n,r){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){var t=this.ecModel,e={};return this.dataZoomModel.eachTargetAxis(function(n,r){var i=t.getComponent(n.axis,r);if(i){var a=i.getCoordSysModel();a&&function(t,e,n,r){for(var i,a=0;a<n.length;a++)if(n[a].model===t){i=n[a];break}i||n.push(i={model:t,axisModels:[],coordIndex:r}),i.axisModels.push(e)}(a,i,e[a.mainType]||(e[a.mainType]=[]),a.componentIndex)}},this),e}}),_I=(xI.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Ky),wI=Xr,SI=Qr,MI=v,OI=f,CI="horizontal",AI=5,II=["line","bar","candlestick","scatter"],TI=bI.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this.api=e},render:function(t,e,n,r){TI.superApply(this,"render",arguments),ba(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){TI.superApply(this,"remove",arguments),_a(this,"_dispatchZoomAction")},dispose:function(){TI.superApply(this,"dispose",arguments),_a(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new Lv;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},i=this._orient===CI?{right:r.width-n.x-n.width,top:r.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=Si(t.option);f(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=i[t])});var o=bi(a,r,t.padding);this._location={x:o.x,y:o.y},this._size=[o.width,o.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),a=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==CI||i?n===CI&&i?{scale:o?[-1,1]:[-1,-1]}:"vertical"!==n||i?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this._size,e=this._displayables.barGroup;e.add(new _I({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),e.add(new _I({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:v(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,r=n.getRawData(),i=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=i){var a=r.getDataExtent(i),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var u,l=[0,e[1]],c=[[e[0],0],[0,0]],h=[],f=e[0]/(r.count()-1),d=0,p=Math.round(r.count()/e[0]);r.each([i],function(t,e){if(p>0&&e%p)d+=f;else{var n=null==t||isNaN(t)||""===t,r=n?0:wI(t,a,l,!0);n&&!u&&e?(c.push([c[c.length-1][0],0]),h.push([h[h.length-1][0],0])):!n&&u&&(c.push([d,0]),h.push([d,0])),c.push([d,r]),h.push([d,r]),d+=f,u=n}});var g=this.dataZoomModel;this._displayables.barGroup.add(new Zy({shape:{points:c},style:o({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new $y({shape:{points:h},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis(function(i,a){f(t.getAxisProxy(i.name,a).getTargetSeriesModels(),function(t){if(!(n||!0!==e&&u(II,t.get("type"))<0)){var o,s=r.getComponent(i.axis,a).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[i.name],c=t.coordinateSystem;null!=l&&c.getOtherAxis&&(o=c.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:i.name,otherDim:l,otherAxisInverse:o}}},this)},this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],r=this._displayables.barGroup,i=this._size,a=this.dataZoomModel;r.add(t.filler=new _I({draggable:!0,cursor:cp(this._orient),drift:MI(this._onDragMove,this,"all"),onmousemove:function(t){ev(t.event)},ondragstart:MI(this._showDataInfo,this,!0),ondragend:MI(this._onDragEnd,this),onmouseover:MI(this._showDataInfo,this,!0),onmouseout:MI(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),r.add(new _I(fr({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),OI([0,1],function(t){var i=Hr(a.get("handleIcon"),{cursor:cp(this._orient),draggable:!0,drift:MI(this._onDragMove,this,t),onmousemove:function(t){ev(t.event)},ondragend:MI(this._onDragEnd,this),onmouseover:MI(this._showDataInfo,this,!0),onmouseout:MI(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),o=i.getBoundingRect();this._handleHeight=Zr(a.get("handleSize"),this._size[1]),this._handleWidth=o.width/o.height*this._handleHeight,i.setStyle(a.getModel("handleStyle").getItemStyle());var s=a.get("handleColor");null!=s&&(i.style.fill=s),r.add(e[t]=i);var u=a.textStyleModel;this.group.add(n[t]=new Vy({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:u.getTextColor(),textFont:u.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[wI(t[0],[0,100],e,!0),wI(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];wO(e,r,i,n.get("zoomLock")?"all":t,null!=a.minSpan?wI(a.minSpan,o,i,!0):null,null!=a.maxSpan?wI(a.maxSpan,o,i,!0):null);var s=this._range,u=this._range=SI([wI(r[0],i,o,!0),wI(r[1],i,o,!0)]);return!s||s[0]!==u[0]||s[1]!==u[1]},_updateView:function(t){var e=this._displayables,n=this._handleEnds,r=SI(n.slice()),i=this._size;OI([0,1],function(t){var r=this._handleHeight;e.handles[t].attr({scale:[r/2,r/2],position:[n[t],i[1]/2-r/2]})},this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=zr(r.handles[t].parent,this.group),n=Fr(0===t?"right":"left",e),s=this._handleWidth/2+AI,u=Br([h[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:u[0],y:u[1],textVerticalAlign:a===CI?"middle":n,textAlign:a===CI?n:"center",text:o[t]})}var n=this.dataZoomModel,r=this._displayables,i=r.handleLabels,a=this._orient,o=["",""];if(n.get("showDetail")){var s=n.findRepresentativeAxisProxy();if(s){var u=s.getAxisModel().axis,l=this._range,c=t?s.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:s.getDataValueWindow();o=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var h=SI(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(i,20));return x(r)?r(t,a):b(r)?r.replace("{value}",a):a},_showDataInfo:function(t){var e=this._displayables.handleLabels;e[0].attr("invisible",!(t=this._dragging||t)),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n){this._dragging=!0;var r=Br([e,n],this._displayables.barGroup.getLocalTransform(),!0),i=this._updateInterval(t,r[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),i&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var r=this._handleEnds,i=this._updateInterval("all",n[0]-(r[0]+r[1])/2);this._updateView(),i&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(OI(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}}),!t){var e=this.api.getWidth(),n=this.api.getHeight();t={x:.2*e,y:.2*n,width:.6*e,height:.6*n}}return t}});xI.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var EI="\0_ec_dataZoom_roams",jI=v,PI=bI.extend({type:"dataZoom.inside",init:function(t,e){},render:function(t,e,n,r){PI.superApply(this,"render",arguments),this._range=t.getPercentRange(),f(this.getTargetCoordInfo(),function(e,r){var i=d(e,function(t){return hp(t.model)});f(e,function(e){var a=e.model,o={};f(["pan","zoom","scrollMove"],function(t){o[t]=jI(kI[t],this,e,r)},this),function(t,e){var n=fp(t),r=e.dataZoomId,i=e.coordId;f(n,function(t,n){var a=t.dataZoomInfos;a[r]&&u(e.allCoordIds,i)<0&&(delete a[r],t.count--)}),dp(n);var a=n[i];a||((a=n[i]={coordId:i,dataZoomInfos:{},count:0}).controller=function(t,e){var n=new Fu(t.getZr());return f(["pan","zoom","scrollMove"],function(t){n.on(t,function(n){var r=[];f(e.dataZoomInfos,function(i){if(n.isAvailableBehavior(i.dataZoomModel.option)){var a=(i.getRange||{})[t],o=a&&a(e.controller,n);!i.dataZoomModel.get("disabled",!0)&&o&&r.push({dataZoomId:i.dataZoomId,start:o[0],end:o[1]})}}),r.length&&e.dispatchAction(r)})}),n}(t,a),a.dispatchAction=m(pp,t)),!a.dataZoomInfos[r]&&a.count++,a.dataZoomInfos[r]=e;var o=function(t){var e,n={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return f(a.dataZoomInfos,function(t){var i=t.dataZoomModel,a=!i.get("disabled",!0)&&(!i.get("zoomLock",!0)||"move");n["type_"+a]>n["type_"+e]&&(e=a),r&=i.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}();a.controller.enable(o.controlType,o.opt),a.controller.setPointerChecker(e.containsPoint),ba(a,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")}(n,{coordId:hp(a),allCoordIds:i,containsPoint:function(t,e,n){return a.coordinateSystem.containPoint([e,n])},dataZoomId:t.id,dataZoomModel:t,getRange:o})},this)},this)},dispose:function(){var t,e;t=this.dataZoomModel.id,f(e=fp(this.api),function(e){e.controller.dispose();var n=e.dataZoomInfos;n[t]&&(delete n[t],e.count--)}),dp(e),PI.superApply(this,"dispose",arguments),this._range=null}}),kI={zoom:function(t,e,n,r){var i=this._range,a=i.slice(),o=t.axisModels[0];if(o){var s=DI[e](null,[r.originX,r.originY],o,n,t),u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],l=Math.max(1/r.scale,0);a[0]=(a[0]-u)*l+u,a[1]=(a[1]-u)*l+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return wO(0,a,[0,100],0,c.minSpan,c.maxSpan),this._range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}},pan:gp(function(t,e,n,r,i,a){var o=DI[r]([a.oldX,a.oldY],[a.newX,a.newY],e,i,n);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:gp(function(t,e,n,r,i,a){return DI[r]([0,0],[a.scrollDelta,a.scrollDelta],e,i,n).signal*(t[1]-t[0])*a.scrollDelta})},DI={grid:function(t,e,n,r,i){var a=n.axis,o={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(t,e,n,r,i){var a=n.axis,o={},s=i.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),l=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(o.pixel=e[0]-t[0],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?-1:1),o},singleAxis:function(t,e,n,r,i){var a=n.axis,o=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};lo({getTargetSeries:function(t){var e=R();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,r){f(r.getAxisProxy(t.name,n).getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,r){r.getAxisProxy(t.name,n).reset(r,e)}),t.eachTargetAxis(function(t,n,r){r.getAxisProxy(t.name,n).filterData(r,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setRawRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]},!0)})}}),co("dataZoom",function(t,e){var n=function(t,e,n){function r(t,e){return u(e.nodes,t)>=0}function i(t,r){var i=!1;return e(function(e){f(n(t,e)||[],function(t){r.records[e.name][t]&&(i=!0)})}),i}function a(t,r){r.nodes.push(t),e(function(e){f(n(t,e)||[],function(t){r.records[e.name][t]=!0})})}return function(n){var o,s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!n)return s;a(n,s);do{o=!1,t(function(t){!r(t,s)&&i(t,s)&&(a(t,s),o=!0)})}while(o);return s}}(v(e.eachComponent,e,"dataZoom"),dI,function(t,e){return t.get(e.axisIndex)}),r=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){r.push.apply(r,n(t).nodes)}),f(r,function(e,n){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})});var LI=f,RI=function(t){var e=t&&t.visualMap;y(e)||(e=e?[e]:[]),LI(e,function(t){if(t){vp(t,"splitList")&&!vp(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&y(e)&&LI(e,function(t){_(t)&&(vp(t,"start")&&!vp(t,"min")&&(t.min=t.start),vp(t,"end")&&!vp(t,"max")&&(t.max=t.end))})}})};Wx.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"});var NI=x_.VISUAL.COMPONENT;po(NI,{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var r=t.pipelineContext;!e.isTargetSeries(t)||r&&r.large||n.push(function(t,e,n,r){var i={};return f(t,function(t){var n=DM.prepareVisualTypes(e[t]);i[t]=n}),{progress:function(t,a){null!=r&&(r=a.getDimension(r));for(var o;null!=(o=t.next());){var s=a.getRawDataItem(o);if(!s||!1!==s.visualMap)for(var u=null!=r?a.get(r,o,!0):o,l=n(u),c=e[l],h=i[l],f=0,d=h.length;f<d;f++){var p=h[f];c[p]&&c[p].applyVisual(u,function(t){return a.getItemVisual(o,t)},function(t,e){a.setItemVisual(o,t,e)})}}}}}(e.stateList,e.targetVisuals,v(e.getValueState,e),e.getDataDimension(t.getData())))}),n}}),po(NI,{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var i=e.getVisualMeta(v(mp,null,t,e))||{stops:[],outerColors:[]},a=e.getDataDimension(n),o=n.getDimensionInfo(a);null!=o&&(i.dimension=o.index,r.push(i))}}),t.getData().setVisual("visualMeta",r)}});var zI={get:function(t,e,r){var i=n((BI[t]||{})[e]);return r&&y(i)?i[i.length-1]:i}},BI={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},FI=DM.mapVisual,VI=DM.eachVisual,GI=y,HI=f,WI=Qr,qI=Xr,UI=mo({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;Pg.canvasSupported||(n.realtime=!1),!e&&Rd(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=v(t,this),this.controllerVisuals=Ld(this.option.controller,e,t),this.targetVisuals=Ld(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=an(t),e},eachTargetSeries:function(t,e){f(this.getTargetSeriesIndices(),function(n){t.call(e,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},formatValueText:function(t,e,n){function r(t){return t===u[0]?"min":t===u[1]?"max":(+t).toFixed(Math.min(s,20))}var i,a,o=this.option,s=o.precision,u=this.dataBound,l=o.formatter;return n=n||["<",">"],y(t)&&(t=t.slice(),i=!0),a=e?t:i?[r(t[0]),r(t[1])]:r(t),b(l)?l.replace("{value}",i?a[0]:a).replace("{value2}",i?a[1]:a):x(l)?i?l(t[0],t[1]):l(t):i?t[0]===u[0]?n[0]+" "+a[1]:t[1]===u[1]?n[1]+" "+a[0]:a[0]+" - "+a[1]:a},resetExtent:function(){var t=this.option,e=WI([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;if(null!=e||t.dimensions.length){if(null!=e)return t.getDimension(e);for(var n=t.dimensions,r=n.length-1;r>=0;r--){var i=n[r];if(!t.getDimensionInfo(i).isCalculationCoord)return i}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){GI(i.color)&&!t.inRange&&(t.inRange={color:i.color.slice().reverse()}),t.inRange=t.inRange||{color:e.get("gradientColor")},HI(this.stateList,function(e){var n=t[e];if(b(n)){var r=zI.get(n,"active",u);r?(t[e]={},t[e][n]=r):delete t[e]}},this)}var e=this.ecModel,i=this.option,a={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),s=i.controller||(i.controller={});r(o,a),r(s,a);var u=this.isCategory();t.call(this,o),t.call(this,s),(function(t,e,n){var r=t[e],i=t[n];r&&!i&&(i=t[n]={},HI(r,function(t,e){if(DM.isValidType(e)){var n=zI.get(e,"inactive",u);null!=n&&(i[e]=n,"color"!==e||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}}))}).call(this,o,"inRange","outOfRange"),(function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,r=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor");HI(this.stateList,function(a){var o=this.itemSize,s=t[a];s||(s=t[a]={color:u?i:[i]}),null==s.symbol&&(s.symbol=e&&n(e)||(u?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=r&&n(r)||(u?o[0]:[o[0],o[0]])),s.symbol=FI(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var l=s.symbolSize;if(null!=l){var c=-1/0;VI(l,function(t){t>c&&(c=t)}),s.symbolSize=FI(l,function(t){return qI(t,[0,c],[0,o[0]],!0)})}},this)}).call(this,s)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:z,getValueState:z,getVisualMeta:z}),YI=[20,140],XI=UI.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){XI.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){XI.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=YI[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=YI[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):y(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){UI.prototype.completeVisualOption.apply(this,arguments),f(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Qr((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(e,n){t[0]<=e&&e<=t[1]&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},getVisualMeta:function(t){function e(e,n){i.push({value:e,color:t(e,n)})}for(var n=yp(0,0,this.getExtent()),r=yp(0,0,this.option.range.slice()),i=[],a=0,o=0,s=r.length,u=n.length;o<u&&(!r.length||n[o]<=r[0]);o++)n[o]<r[a]&&e(n[o],"outOfRange");for(l=1;a<s;a++,l=0)l&&i.length&&e(r[a],"outOfRange"),e(r[a],"inRange");for(var l=1;o<u;o++)(!r.length||r[r.length-1]<n[o])&&(l&&(i.length&&e(i[i.length-1].value,"outOfRange"),l=0),e(n[o],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}}}),ZI=yo({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e},render:function(t,e,n,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,n=jx(e.get("padding")||0),r=t.getBoundingRect();t.add(new Ky({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){function r(t){return s[t]}function i(t,e){s[t]=e}var a=(n=n||{}).forceState,o=this.visualMapModel,s={};if("symbol"===e&&(s.symbol=o.get("itemSymbol")),"color"===e){var u=o.get("contentColor");s.color=u}var l=o.controllerVisuals[a||o.getValueState(t)];return f(DM.prepareVisualTypes(l),function(a){var o=l[a];n.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",o=l.__alphaForOpacity),DM.dependsOn(a,e)&&o&&o.applyVisual(t,r,i)}),s[e]},positionGroup:function(t){var e=this.api;_i(t,this.visualMapModel.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})},doRender:z}),$I=Xr,QI=f,JI=Math.min,KI=Math.max,tT=ZI.extend({type:"visualMap.continuous",init:function(){tT.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(t,e,n,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var r=e[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,a=i.get("textGap"),o=i.itemSize,s=this._shapes.barGroup,u=this._applyTransform([o[0]/2,0===n?-a:o[1]+a],s),l=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Vy({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===c?"middle":l,textAlign:"horizontal"===c?l:"center",text:r,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,i=this._orient,a=this._useHandle,o=xp(e,this.api,r),s=n.barGroup=this._createBarGroup(o);s.add(n.outOfRange=_p()),s.add(n.inRange=_p(null,a?Sp(this._orient):null,v(this._dragHandle,this,"all",!1),v(this._dragHandle,this,"all",!0)));var u=e.textStyleModel.getTextRect("\u56fd"),l=KI(u.width,u.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,r,l,i,o),this._createHandle(s,1,r,l,i,o)),this._createIndicator(s,r,l,i),t.add(s)},_createHandle:function(t,e,n,r,i){var a=v(this._dragHandle,this,e,!1),o=v(this._dragHandle,this,e,!0),s=_p(function(t,e){return 0===t?[[0,0],[r,0],[r,-r]]:[[0,0],[r,0],[r,r]]}(e),Sp(this._orient),a,o);s.position[0]=n[0],t.add(s);var u=this.visualMapModel.textStyleModel,l=new Vy({draggable:!0,drift:a,onmousemove:function(t){ev(t.event)},ondragend:o,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(l);var c=["horizontal"===i?r/2:1.5*r,"horizontal"===i?0===e?-1.5*r:1.5*r:0===e?-r/2:r/2],h=this._shapes;h.handleThumbs[e]=s,h.handleLabelPoints[e]=c,h.handleLabels[e]=l},_createIndicator:function(t,e,n,r){var i=_p([[0,0]],"move");i.position[0]=e[0],i.attr({invisible:!0,silent:!0}),t.add(i);var a=this.visualMapModel.textStyleModel,o=new Vy({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(o);var s=["horizontal"===r?n/2:9,0],u=this._shapes;u.indicator=i,u.indicatorLabel=o,u.indicatorLabelPoint=s},_dragHandle:function(t,e,n,r){if(this._useHandle){if(this._dragging=!e,!e){var i=this._applyTransform([n,r],this._shapes.barGroup,!0);this._updateInterval(t,i[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():wp(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),r=[0,t.itemSize[1]];this._handleEnds=[$I(e[0],n,r,!0),$I(e[1],n,r,!0)]},_updateInterval:function(t,e){var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];wO(e=e||0,r,i,t,0);var a=n.getExtent();this._dataInterval=[$I(r[0],i,a,!0),$I(r[1],i,a,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),r=this._shapes,i=[0,e.itemSize[1]],a=t?i:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,a,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),r.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,o)},_createBarVisual:function(t,e,n,r){var i={forceState:r,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,i),o=[this.getControllerVisual(t[0],"symbolSize",i),this.getControllerVisual(t[1],"symbolSize",i)],s=this._createBarPoints(n,o);return{barColor:new sx(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var n=[],r=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var a=t[0]+r*i;if(a>t[1])break;n.push({color:this.getControllerVisual(a,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new Lv("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,a=n.handleLabels;QI([0,1],function(o){var s=i[o];s.setStyle("fill",e.handlesColor[o]),s.position[1]=t[o];var u=Br(n.handleLabelPoints[o],zr(s,this.group));a[o].setStyle({x:u[0],y:u[1],text:r.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(t,e,n,r){var i=this.visualMapModel,a=i.getExtent(),o=i.itemSize,s=$I(t,a,[0,o[1]],!0),u=this._shapes,l=u.indicator;if(l){l.position[1]=s,l.attr("invisible",!1),l.setShape("points",function(t,e,n,r){return t?[[0,-JI(e,KI(n,0))],[6,0],[0,JI(e,KI(r-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,r,s,o[1]));var c=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});l.setStyle("fill",c);var h=Br(u.indicatorLabelPoint,zr(l,this.group)),f=u.indicatorLabel;f.attr("invisible",!1);var d=this._applyTransform("left",u.barGroup),p=this._orient;f.setStyle({text:(n||"")+i.formatValueText(e),textVerticalAlign:"horizontal"===p?d:"middle",textAlign:"horizontal"===p?"center":d,x:h[0],y:h[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,r=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);r[1]=JI(KI(0,r[1]),n[1]),t._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel;if(n.option.hoverLink){var r=[0,n.itemSize[1]],i=n.getExtent();t=JI(KI(r[0],t),r[1]);var a=function(t,e,n){var r=6,i=t.get("hoverLinkDataSize");return i&&(r=$I(i,e,n,!0)/2),r}(n,i,r),o=[t-a,t+a],s=$I(t,r,i,!0),u=[$I(o[0],r,i,!0),$I(o[1],r,i,!0)];o[0]<r[0]&&(u[0]=-1/0),o[1]>r[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(s,u[1],"< ",a):u[1]===1/0?this._showIndicator(s,u[0],"> ",a):this._showIndicator(s,s,"\u2248 ",a));var l=this._hoverLinkDataIndices,c=[];(e||wp(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var h=function(t,e){function n(t,e,n){for(var r=0,i=t.length;r<i;r++)for(var a=t[r].seriesId,o=an(t[r].dataIndex),s=n&&n[a],u=0,l=o.length;u<l;u++){var c=o[u];s&&s[c]?s[c]=null:(e[a]||(e[a]={}))[c]=1}}function r(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var a=r(t[i],!0);a.length&&n.push({seriesId:i,dataIndex:a})}return n}var i={},a={};return n(l||[],i),n(e||[],a,i),[r(i),r(a)]}(0,c);this._dispatchHighDown("downplay",bp(h[0])),this._dispatchHighDown("highlight",bp(h[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=e.dataIndex){var r=this.ecModel.getSeriesByIndex(e.seriesIndex);if(n.isTargetSeries(r)){var i=r.getData(e.dataType),a=i.get(n.getDataDimension(i),e.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bp(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,r){var i=zr(e,r?null:this.group);return yx[y(t)?"applyTransform":"transformDirection"](t,i,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});co({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})}),uo(RI);var eT=UI.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){eT.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var r=this._mode=this._determineMode();nT[this._mode].call(this),this._resetSelected(t,e);var i=this.option.categories;this.resetVisual(function(t,e){"categories"===r?(t.mappingMethod="category",t.categories=n(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=d(this._pieceList,function(t){return t=n(t),"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,n){return t&&t[e]&&(_(t[e])?t[e].hasOwnProperty(n):t[e]===n)}var e=this.option,n={},r=DM.listVisualTypes(),i=this.isCategory();f(e.pieces,function(t){f(r,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),f(n,function(n,r){var a=0;f(this.stateList,function(n){a|=t(e,n,r)||t(e.target,n,r)},this),!a&&f(this.stateList,function(t){(e[t]||(e[t]={}))[r]=zI.get(r,"inRange"===t?"active":"inactive",i)})},this),UI.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n=this.option,r=this._pieceList,i=(e?n:t).selected||{};if(n.selected=i,f(r,function(t,e){var n=this.getSelectedMapKey(t);i.hasOwnProperty(n)||(i[n]=!0)},this),"single"===n.selectedMode){var a=!1;f(r,function(t,e){var n=this.getSelectedMapKey(t);i[n]&&(a?i[n]=!1:a=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=n(t)},getValueState:function(t){var e=DM.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(e,n){DM.findPieceIndex(e,this._pieceList)===t&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},getVisualMeta:function(t){function e(e,a){var o=i.getRepresentValue({interval:e});a||(a=i.getValueState(o));var s=t(o,a);e[0]===-1/0?r[0]=s:e[1]===1/0?r[1]=s:n.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var n=[],r=[],i=this,a=this._pieceList.slice();if(a.length){var o=a[0].interval[0];o!==-1/0&&a.unshift({interval:[-1/0,o]}),(o=a[a.length-1].interval[1])!==1/0&&a.push({interval:[o,1/0]})}else a.push({interval:[-1/0,1/0]});var s=-1/0;return f(a,function(t){var n=t.interval;n&&(n[0]>s&&e([s,n[0]],"outOfRange"),e(n.slice()),s=n[1])},this),{stops:n,outerColors:r}}}}),nT={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n);var o=0;t.minOpen&&e.push({index:o++,interval:[-1/0,r[0]],close:[0,0]});for(var s=r[0],u=o+i;o<u;s+=a){var l=o===i-1?r[1]:s+a;e.push({index:o++,interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({index:o++,interval:[r[1],1/0],close:[0,0]}),ui(e),f(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;f(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Mp(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;f(t.pieces,function(t,n){_(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var i=r.value=t.value;r.interval=[i,i],r.close=[1,1]}else{for(var a=r.interval=[],o=r.close=[0,0],s=[1,0,1],u=[-1/0,1/0],l=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],f=0;f<3&&null==a[c];f++)a[c]=t[h[f]],o[c]=s[f],l[c]=2===f;null==a[c]&&(a[c]=u[c])}l[0]&&a[1]===1/0&&(o[0]=0),l[1]&&a[0]===-1/0&&(o[1]=0),a[0]===a[1]&&o[0]&&o[1]&&(r.value=a[0])}r.visual=DM.retrieveVisuals(t),e.push(r)},this),Mp(t,e),ui(e),f(e,function(t){var e=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][e[1]],[">","\u2265"][e[0]]])},this)}};ZI.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,i=r.getFont(),a=r.getTextColor(),o=this._getItemAlign(),s=e.itemSize,u=this._getViewData(),l=u.endsText,c=C(e.get("showLabel",!0),!l);l&&this._renderEndsText(t,l[0],s,c,o),f(u.viewPieceList,function(r){var u=r.piece,l=new Lv;l.onclick=v(this._onItemClick,this,u),this._enableHoverLink(l,r.indexInModelPieceList);var h=e.getRepresentValue(u);if(this._createItemSymbol(l,h,[0,0,s[0],s[1]]),c){var f=this.visualMapModel.getValueState(h);l.add(new Vy({style:{x:"right"===o?-n:s[0]+n,y:s[1]/2,text:u.text,textVerticalAlign:"middle",textAlign:o,textFont:i,textFill:a,opacity:"outOfRange"===f?.5:1}}))}t.add(l)},this),l&&this._renderEndsText(t,l[1],s,c,o),Vx(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:bp(n.findTargetDataIndices(e))})}t.on("mouseover",v(n,this,"highlight")).on("mouseout",v(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return xp(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,e,n,r,i){if(e){var a=new Lv,o=this.visualMapModel.textStyleModel;a.add(new Vy({style:{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:r?i:"center",text:e,textFont:o.getFont(),textFill:o.getTextColor()}})),t.add(a)}},_getViewData:function(){var t=this.visualMapModel,e=d(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),r=t.get("orient"),i=t.get("inverse");return("horizontal"===r?i:!i)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(vs(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,r=e.option,i=n(r.selected),a=e.getSelectedMapKey(t);"single"===r.selectedMode?(i[a]=!0,f(i,function(t,e){i[e]=e===a})):i[a]=!i[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),uo(RI);var rT=ci,iT=fi,aT=mo({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n,r){this.mergeDefaultAndTheme(t,n),this.mergeOption(t,n,r.createdBySelf,!0)},isAnimationEnabled:function(){if(Pg.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,n,r){var i=this.constructor,o=this.mainType+"Model";n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),s=t[o];n&&n.data?(s?s.mergeOption(n,e,!0):(r&&Op(n),f(n.data,function(t){t instanceof Array?(Op(t[0]),Op(t[1])):Op(t)}),a(s=new i(n,this,e),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),s.__hostSeries=t),t[o]=s):t[o]=null},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),r=y(n)?d(n,rT).join(", "):rT(n),i=e.getName(t),a=iT(this.name);return(null!=n||i)&&(a+="<br />"),i&&(a+=iT(i),null!=n&&(a+=" : ")),null!=n&&(a+=iT(r)),a},getData:function(){return this._data},setData:function(t){this._data=t}});c(aT,Ob),aT.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var oT=u,sT=m,uT={min:sT(Cp,"min"),max:sT(Cp,"max"),average:sT(Cp,"average")},lT=yo({type:"marker",init:function(){this.markerGroupMap=R()},render:function(t,e,n){var r=this.markerGroupMap;r.each(function(t){t.__keep=!1});var i=this.type+"Model";e.eachSeries(function(t){var r=t[i];r&&this.renderSeries(t,r,e,n)},this),r.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});lT.extend({type:"markPoint",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(Pp(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,n,r){var i=t.coordinateSystem,a=t.id,o=t.getData(),s=this.markerGroupMap,u=s.get(a)||s.set(a,new Rs),l=kp(i,t,e);e.setData(l),Pp(e.getData(),t,r),l.each(function(t){var n=l.getItemModel(t),r=n.getShallow("symbolSize");"function"==typeof r&&(r=r(e.getRawValue(t),e.getDataParams(t))),l.setItemVisual(t,{symbolSize:r,color:n.get("itemStyle.color")||o.getVisual("color"),symbol:n.getShallow("symbol")})}),u.updateData(l),this.group.add(u.group),l.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),u.__keep=!0,u.group.silent=e.get("silent")||t.get("silent")}}),uo(function(t){t.markPoint=t.markPoint||{}}),aT.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var cT=function(t,e,i,o){var s=t.getData(),u=o.type;if(!y(o)&&("min"===u||"max"===u||"average"===u||"median"===u||null!=o.xAxis||null!=o.yAxis)){var l,c;null!=o.yAxis||null!=o.xAxis?(e.getAxis(l=null!=o.yAxis?"y":"x"),c=C(o.yAxis,o.xAxis)):c=jp(s,l=Ip(o,s,e,t).valueDataDim,u);var h="x"===l?0:1,f=1-h,d=n(o),p={};d.type=null,d.coord=[],p.coord=[],d.coord[f]=-1/0,p.coord[f]=1/0;var g=i.get("precision");g>=0&&"number"==typeof c&&(c=+c.toFixed(Math.min(g,20))),d.coord[h]=p.coord[h]=c,o=[d,p,{type:u,valueIndex:o.valueIndex,value:c}]}return(o=[Ap(t,o[0]),Ap(t,o[1]),a({},o[2])])[2].type=o[2].type||"",r(o[2],o[0]),r(o[2],o[1]),o};lT.extend({type:"markLine",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markLineModel;if(e){var r=e.getData(),i=e.__from,a=e.__to;i.each(function(e){Np(i,e,!0,t,n),Np(a,e,!1,t,n)}),r.each(function(t){r.setItemLayout(t,[i.getItemLayout(t),a.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,n,r){function i(e,n,i){var a=e.getItemModel(n);Np(e,n,i,t,r),e.setItemVisual(n,{symbolSize:a.get("symbolSize")||g[i?0:1],symbol:a.get("symbol",!0)||p[i?0:1],color:a.get("itemStyle.color")||s.getVisual("color")})}var a=t.coordinateSystem,o=t.id,s=t.getData(),u=this.markerGroupMap,l=u.get(o)||u.set(o,new vc);this.group.add(l.group);var c=zp(a,t,e),h=c.from,f=c.to,d=c.line;e.__from=h,e.__to=f,e.setData(d);var p=e.get("symbol"),g=e.get("symbolSize");y(p)||(p=[p,p]),"number"==typeof g&&(g=[g,g]),c.from.each(function(t){i(h,t,!0),i(f,t,!1)}),d.each(function(t){var e=d.getItemModel(t).get("lineStyle.color");d.setItemVisual(t,{color:e||h.getItemVisual(t,"color")}),d.setItemLayout(t,[h.getItemLayout(t),f.getItemLayout(t)]),d.setItemVisual(t,{fromSymbolSize:h.getItemVisual(t,"symbolSize"),fromSymbol:h.getItemVisual(t,"symbol"),toSymbolSize:f.getItemVisual(t,"symbolSize"),toSymbol:f.getItemVisual(t,"symbol")})}),l.updateData(d),c.line.eachItemGraphicEl(function(t,n){t.traverse(function(t){t.dataModel=e})}),l.__keep=!0,l.group.silent=e.get("silent")||t.get("silent")}}),uo(function(t){t.markLine=t.markLine||{}}),aT.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var hT=function(t,e,n,r){var a=Ap(t,r[0]),o=Ap(t,r[1]),s=C,u=a.coord,l=o.coord;u[0]=s(u[0],-1/0),u[1]=s(u[1],-1/0),l[0]=s(l[0],1/0),l[1]=s(l[1],1/0);var c=i([{},a,o]);return c.coord=[a.coord,o.coord],c.x0=a.x,c.y0=a.y,c.x1=o.x,c.y1=o.y,c},fT=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];lT.extend({type:"markArea",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var r=e.getData();r.each(function(e){var i=d(fT,function(i){return Gp(r,e,i,t,n)});r.setItemLayout(e,i),r.getItemGraphicEl(e).setShape("points",i)})}},this)},renderSeries:function(t,e,n,r){var i=t.coordinateSystem,a=t.id,s=t.getData(),u=this.markerGroupMap,l=u.get(a)||u.set(a,{group:new Lv});this.group.add(l.group),l.__keep=!0;var c=function(t,e,n){var r,i;t?(r=d(t&&t.dimensions,function(t){var n=e.getData();return o({name:t},n.getDimensionInfo(n.mapDimension(t))||{})}),i=new $_(d(["x0","y0","x1","y1"],function(t,e){return{name:t,type:r[e%2].type}}),n)):i=new $_(r=[{name:"value",type:"float"}],n);var a=d(n.get("data"),m(hT,e,t,n));return t&&(a=g(a,m(Vp,t))),i.initData(a,null,t?function(t,e,n,r){return t.coord[Math.floor(r/2)][r%2]}:function(t){return t.value}),i.hasItemOption=!0,i}(i,t,e);e.setData(c),c.each(function(e){c.setItemLayout(e,d(fT,function(n){return Gp(c,e,n,t,r)})),c.setItemVisual(e,{color:s.getVisual("color")})}),c.diff(l.__data).add(function(t){var e=new Zy({shape:{points:c.getItemLayout(t)}});c.setItemGraphicEl(t,e),l.group.add(e)}).update(function(t,n){var r=l.__data.getItemGraphicEl(n);Rr(r,{shape:{points:c.getItemLayout(t)}},e,t),l.group.add(r),c.setItemGraphicEl(t,r)}).remove(function(t){var e=l.__data.getItemGraphicEl(t);l.group.remove(e)}).execute(),c.eachItemGraphicEl(function(t,n){var r=c.getItemModel(n),i=r.getModel("label"),a=r.getModel("emphasis.label"),s=c.getItemVisual(n,"color");t.useStyle(o(r.getModel("itemStyle").getItemStyle(),{fill:Gt(s,.4),stroke:s})),t.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle(),Ar(t.style,t.hoverStyle,i,a,{labelFetcher:e,labelDataIndex:n,defaultText:c.getName(n)||"",isRectText:!0,autoColor:s}),Or(t,{}),t.dataModel=e}),l.__data=c,l.group.silent=e.get("silent")||t.get("silent")}}),uo(function(t){t.markArea=t.markArea||{}}),Wx.registerSubTypeDefaulter("timeline",function(){return"slider"}),co({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),o({currentIndex:n.option.currentIndex},t)}),co({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)});var dT=Wx.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(t){dT.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],r=t.axisType,i=this._names=[];if("category"===r){var a=[];f(e,function(t,e){var r,o=sn(t);_(t)?(r=n(t)).value=e:r=e,a.push(r),b(o)||null!=o&&!isNaN(o)||(o=""),i.push(o+"")}),e=a}(this._data=new $_([{name:"value",type:{category:"ordinal",time:"time"}[r]||"number"}],this)).initData(e,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});c(dT.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),Ob);var pT=Eb.extend({type:"timeline"}),gT=function(t,e,n,r){Rw.call(this,t,e,n),this.type=r||"value",this.model=null};gT.prototype={constructor:gT,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},l(gT,Rw);var vT=v,mT=f,yT=Math.PI;pT.extend({type:"timeline.slider",init:function(t,e){this.api=e},render:function(t,e,n,r){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),a=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),s=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return fi(s.scale.getLabel(t))},mT(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,a,s,t)},this),this._renderAxisLabel(i,o,s,t),this._position(i,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.position"),r=t.get("orient"),i=function(t,e){return bi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==n||"auto"===n?n="horizontal"===r?i.y+i.height/2<e.getHeight()/2?"-":"+":i.x+i.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][n]);var a={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},o={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},s={horizontal:0,vertical:yT/2},u="vertical"===r?i.height:i.width,l=t.getModel("controlStyle"),c=l.get("show",!0),h=c?l.get("itemSize"):0,f=c?l.get("itemGap"):0,d=h+f,p=t.get("label.rotate")||0;p=p*yT/180;var g,v,m,y,x=l.get("position",!0),b=c&&l.get("showPlayBtn",!0),_=c&&l.get("showPrevBtn",!0),w=c&&l.get("showNextBtn",!0),S=0,M=u;return"left"===x||"bottom"===x?(b&&(g=[0,0],S+=d),_&&(v=[S,0],S+=d),w&&(m=[M-h,0],M-=d)):(b&&(g=[M-h,0],M-=d),_&&(v=[0,0],S+=d),w&&(m=[M-h,0],M-=d)),y=[S,M],t.get("inverse")&&y.reverse(),{viewRect:i,mainLength:u,orient:r,rotation:s[r],labelRotation:p,labelPosOpt:n,labelAlign:t.get("label.align")||a[r],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||o[r],playPosition:g,prevBtnPosition:v,nextBtnPosition:m,axisExtent:y,controlSize:h,controlGap:f}},_position:function(t,e){function n(t){var e=t.position;t.origin=[h[0][0]-e[0],h[1][0]-e[1]]}function r(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function i(t,e,n,r,i){t[r]+=n[r][i]-e[r][i]}var a=this._mainGroup,o=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var u=gt(),l=s.x,c=s.y+s.height;xt(u,u,[-l,-c]),bt(u,u,-yT/2),xt(u,u,[l,c]),(s=s.clone()).applyTransform(u)}var h=r(s),f=r(a.getBoundingRect()),d=r(o.getBoundingRect()),p=a.position,g=o.position;g[0]=p[0]=h[0][0];var v=t.labelPosOpt;if(isNaN(v))i(p,f,h,1,m="+"===v?0:1),i(g,d,h,1,1-m);else{var m=v>=0?0:1;i(p,f,h,1,m),g[1]=p[1]+v}a.attr("position",p),o.attr("position",g),a.rotation=o.rotation=t.rotation,n(a),n(o)},_createAxis:function(t,e){var n=e.getData(),r=e.get("axisType"),i=ls(e,r);i.getTicks=function(){return n.mapArray(["value"],function(t){return t})};var a=n.getDataExtent("value");i.setExtent(a[0],a[1]),i.niceTicks();var o=new gT("value",i,t.axisExtent,r);return o.model=e,o},_createGroup:function(t){var e=this["_"+t]=new Lv;return this.group.add(e),e},_renderAxisLine:function(t,e,n,r){var i=n.getExtent();r.get("lineStyle.show")&&e.add(new ex({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:a({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,r){var i=r.getData(),a=n.scale.getTicks();mT(a,function(t){var a=n.dataToCoord(t),o=i.getItemModel(t),s=o.getModel("itemStyle"),u=o.getModel("emphasis.itemStyle"),l={position:[a,0],onclick:vT(this._changeTimeline,this,t)},c=Up(o,s,e,l);Or(c,u.getItemStyle()),o.get("tooltip")?(c.dataIndex=t,c.dataModel=r):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(t,e,n,r){if(n.getLabelModel().get("show")){var i=r.getData(),a=n.getViewLabels();mT(a,function(r){var a=r.tickValue,o=i.getItemModel(a),s=o.getModel("label"),u=o.getModel("emphasis.label"),l=n.dataToCoord(r.tickValue),c=new Vy({position:[l,0],rotation:t.labelRotation-t.rotation,onclick:vT(this._changeTimeline,this,a),silent:!1});Ir(c.style,s,{text:r.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(c),Or(c,Ir({},u))},this)}},_renderControl:function(t,e,n,r){function i(t,n,i,c){if(t){var h=qp(r,n,l,{position:t,origin:[a/2,0],rotation:c?-o:0,rectHover:!0,style:s,onclick:i});e.add(h),Or(h,u)}}var a=t.controlSize,o=t.rotation,s=r.getModel("controlStyle").getItemStyle(),u=r.getModel("emphasis.controlStyle").getItemStyle(),l=[0,-a/2,a,a],c=r.getPlayState(),h=r.get("inverse",!0);i(t.nextBtnPosition,"controlStyle.nextIcon",vT(this._changeTimeline,this,h?"-":"+")),i(t.prevBtnPosition,"controlStyle.prevIcon",vT(this._changeTimeline,this,h?"+":"-")),i(t.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),vT(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(t,e,n,r){var i=r.getData(),a=r.getCurrentIndex(),o=i.getItemModel(a).getModel("checkpointStyle"),s=this;this._currentPointer=Up(o,o,this._mainGroup,{},this._currentPointer,{onCreate:function(t){t.draggable=!0,t.drift=vT(s._handlePointerDrag,s),t.ondragend=vT(s._handlePointerDragend,s),Yp(t,a,n,r,!0)},onUpdate:function(t){Yp(t,a,n,r)}})},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],r=Qr(this._axis.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var i=this._findNearestTick(n),a=this.model;(e||i!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(i)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(vT(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(t){return Br(t,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(t){var e,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],function(n,a){var o=i.dataToCoord(n),s=Math.abs(o-t);s<r&&(r=s,e=a)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}}),uo(function(t){var e=t&&t.timeline;y(e)||(e=e?[e]:[]),f(e,function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),Hp(t),Wp(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});Wp(r,"position")||(r.position=t.controlPosition),"none"!==r.position||Wp(r,"show")||(r.show=!1,delete r.position),delete t.controlPosition}f(t.data||[],function(t){_(t)&&!y(t)&&(!Wp(t,"value")&&Wp(t,"name")&&(t.value=t.name),Hp(t))})}(t)})});var xT=mo({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){xT.superApply(this,"optionUpdated",arguments),f(this.option.feature,function(t,e){var n=np(e);n&&r(t,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});yo({type:"toolbox",render:function(t,e,n,r){function i(i,o){var s,h=c[i],f=c[o],d=new Wr(u[h],t,t.ecModel);if(h&&!f){if(0===h.indexOf("my"))s={model:d,onclick:d.option.onclick,featureName:h};else{var p=np(h);if(!p)return;s=new p(d,e,n)}l[h]=s}else{if(!(s=l[f]))return;s.model=d,s.ecModel=e,s.api=n}h||!f?d.get("show")&&!s.unusable?(a(d,s,h),d.setIconStatus=function(t,e){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,r[t]&&r[t].trigger(e)},s.render&&s.render(d,e,n,r)):s.remove&&s.remove(e,n):s.dispose&&s.dispose(e,n)}function a(r,i,a){var u=r.getModel("iconStyle"),l=r.getModel("emphasis.iconStyle"),c=i.getIcons?i.getIcons():r.get("icon"),h=r.get("title")||{};if("string"==typeof c){var d=c,p=h;h={},(c={})[a]=d,h[a]=p}var g=r.iconPaths={};f(c,function(a,c){var f=Hr(a,{},{x:-s/2,y:-s/2,width:s,height:s});f.setStyle(u.getItemStyle()),f.hoverStyle=l.getItemStyle(),Or(f),t.get("showTitle")&&(f.__title=h[c],f.on("mouseover",function(){var t=l.getItemStyle();f.setStyle({text:h[c],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})}).on("mouseout",function(){f.setStyle({textFill:null})})),f.trigger(r.get("iconStatus."+c)||"normal"),o.add(f),f.on("click",v(i.onclick,i,e,n,c)),g[c]=f})}var o=this.group;if(o.removeAll(),t.get("show")){var s=+t.get("itemSize"),u=t.get("feature")||{},l=this._features||(this._features={}),c=[];f(u,function(t,e){c.push(e)}),new wo(this._featureNames||[],c).add(i).update(i).remove(m(i,null)).execute(),this._featureNames=c,function(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},o=bi(r,a,i);Vx(e.get("orient"),t,e.get("itemGap"),o.width,o.height),_i(t,r,a,i)}(o,t,n),o.add(dd(o.getBoundingRect(),t)),o.eachChild(function(t){var e=t.__title,r=t.hoverStyle;if(r&&e){var i=xe(e,Pe(r)),a=t.position[0]+o.position[0],u=!1;t.position[1]+o.position[1]+s+i.height>n.getHeight()&&(r.textPosition="top",u=!0);var l=u?-5-i.height:s+8;a+i.width/2>n.getWidth()?(r.textPosition=["100%",l],r.textAlign="right"):a-i.width/2<0&&(r.textPosition=[0,l],r.textAlign="left")}})}},updateView:function(t,e,n,r){f(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,r)})},remove:function(t,e){f(this._features,function(n){n.remove&&n.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){f(this._features,function(n){n.dispose&&n.dispose(t,e)})}});var bT=Vb.toolbox.saveAsImage;Xp.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:bT.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:bT.lang.slice()},Xp.prototype.unusable=!Pg.canvasSupported,Xp.prototype.onclick=function(t,e){var n=this.model,r=n.get("name")||t.get("title.0.text")||"echarts",i=document.createElement("a"),a=n.get("type",!0)||"png";i.download=r+"."+a,i.target="_blank";var o=e.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(i.href=o,"function"!=typeof MouseEvent||Pg.browser.ie||Pg.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(o.split(",")[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l]);window.navigator.msSaveOrOpenBlob(c,r+"."+a)}else{var h=n.get("lang"),f='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(h&&h[0]||"")+'" /></body>';window.open().document.write(f)}else{var d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});i.dispatchEvent(d)}},ep("saveAsImage",Xp),Zp.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:n(Vb.toolbox.magicType.title),option:{},seriesIndex:{}};var _T=Zp.prototype;_T.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return f(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var wT={line:function(t,e,n,i){if("bar"===t)return r({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(t,e,n,i){if("line"===t)return r({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(t,e,n,i){if("line"===t||"bar"===t)return r({id:e,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0)},tiled:function(t,e,n,i){if("line"===t||"bar"===t)return r({id:e,stack:""},i.get("option.tiled")||{},!0)}},ST=[["line","bar"],["stack","tiled"]];_T.onclick=function(t,e,n){var r=this.model,i=r.get("seriesIndex."+n);if(wT[n]){var a={series:[]};f(ST,function(t){u(t,n)>=0&&f(t,function(t){r.setIconStatus(t,"normal")})}),r.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},function(e){var i=wT[n](e.subType,e.id,e,r);i&&(o(i,e.option),a.series.push(i));var s=e.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var u=s.getAxesByScale("ordinal")[0];if(u){var l=u.dim+"Axis",c=t.queryComponents({mainType:l,index:e.get(name+"Index"),id:e.get(name+"Id")})[0].componentIndex;a[l]=a[l]||[];for(var h=0;h<=c;h++)a[l][c]=a[l][c]||{};a[l][c].boundaryGap="bar"===n}}}),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:a})}},co({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),ep("magicType",Zp);var MT=Vb.toolbox.dataView,OT=new Array(60).join("-"),CT="\t",AT=new RegExp("["+CT+"]+","g");Kp.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n(MT.title),lang:n(MT.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Kp.prototype.onclick=function(t,e){function n(){r.removeChild(a),x._dom=null}var r=e.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4"),s=i.get("lang")||[];o.innerHTML=s[0]||i.get("title"),o.style.cssText="margin: 10px 20px;",o.style.color=i.get("textColor");var u=document.createElement("div"),l=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var c=i.get("optionToContent"),h=i.get("contentToOption"),f=$p(t);if("function"==typeof c){var d=c(e.getOption());"string"==typeof d?u.innerHTML=d:M(d)&&u.appendChild(d)}else u.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=f.value;var p=f.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),y=document.createElement("div");v+=";background-color:"+i.get("buttonColor"),v+=";color:"+i.get("buttonTextColor");var x=this;ut(m,"click",n),ut(y,"click",function(){var t;try{t="function"==typeof h?h(u,e.getOption()):Jp(l.value,p)}catch(t){throw n(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),n()}),m.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=v,m.style.cssText=v,!i.get("readOnly")&&g.appendChild(y),g.appendChild(m),ut(l,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,n=this.selectionStart,r=this.selectionEnd;this.value=e.substring(0,n)+CT+e.substring(r),this.selectionStart=this.selectionEnd=n+1,ev(t)}}),a.appendChild(o),a.appendChild(u),a.appendChild(g),u.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},Kp.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},Kp.prototype.dispose=function(t,e){this.remove(t,e)},ep("dataView",Kp),co({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];f(t.newOption.series,function(t){var r=e.getSeriesByName(t.name)[0];if(r){var i=r.get("data");n.push({name:t.name,data:function(t,e){return d(t,function(t,n){var r=e&&e[n];return _(r)&&!y(r)?(_(t)&&!y(t)&&(t=t.value),o({value:t},r)):t})}(t.data,i)})}else n.push(a({type:"scatter"},t))}),e.mergeOption(o({series:n},t.newOption))});var IT=f,TT="\0_ec_hist_store";xI.extend({type:"dataZoom.select"}),bI.extend({type:"dataZoom.select"});var ET=f,jT="\0_ec_\0toolbox-dataZoom_";eg.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n(Vb.toolbox.dataZoom.title)};var PT=eg.prototype;PT.render=function(t,e,n,r){this.model=t,this.ecModel=e,this.api=n,function(t,e,n,r,i){var a=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(a="dataZoomSelect"===r.key&&r.dataZoomSelectActive),n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var o=new Gd(ng(t.option),e,{include:["grid"]});n._brushController.setPanels(o.makePanelOpts(i,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!a&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,r,n),function(t,e){t.setIconStatus("back",tg(e).length>1?"emphasis":"normal")}(t,e)},PT.onclick=function(t,e,n){kT[n].call(this)},PT.remove=function(t,e){this._brushController.unmount()},PT.dispose=function(t,e){this._brushController.dispose()};var kT={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(t){var e=tg(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return IT(n,function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n]){r[n]=t;break}}),r}(this.ecModel))}};PT._onBrush=function(t,e){function n(t,e,n){var a=e.getAxis(t),o=a.model,s=function(t,e,n){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(r=n)}),r}(t,o),u=s.findRepresentativeAxisProxy(o).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(n=wO(0,n.slice(),a.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),s&&(r[s.id]={dataZoomId:s.id,startValue:n[0],endValue:n[1]})}if(e.isEnd&&t.length){var r={},i=this.ecModel;this._brushController.updateCovers([]),new Gd(ng(this.model.option),i,{include:["grid"]}).matchOutputRanges(t,i,function(t,e,r){if("cartesian2d"===r.type){var i=t.brushType;"rect"===i?(n("x",r,e[0]),n("y",r,e[1])):n({lineX:"x",lineY:"y"}[i],r,e)}}),function(t,e){var n=tg(t);IT(e,function(e,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(a){var o=a.getPercentRange();n[0][r]={dataZoomId:r,start:o[0],end:o[1]}}}}),n.push(e)}(i,r),this._dispatchZoomAction(r)}},PT._dispatchZoomAction=function(t){var e=[];ET(t,function(t,r){e.push(n(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},ep("dataZoom",eg),uo(function(t){function e(t,e){if(e){var i=t+"Index",a=e[i];null==a||"all"===a||y(a)||(a=!1===a||"none"===a?[]:[a]),n(t,function(e,n){if(null==a||"all"===a||-1!==u(a,n)){var o={type:"select",$fromToolbox:!0,id:jT+t+n};o[i]=n,r.push(o)}})}}function n(e,n){var r=t[e];y(r)||(r=r?[r]:[]),ET(r,n)}if(t){var r=t.dataZoom||(t.dataZoom=[]);y(r)||(t.dataZoom=r=[r]);var i=t.toolbox;if(i&&(y(i)&&(i=i[0]),i&&i.feature)){var a=i.feature.dataZoom;e("xAxis",a),e("yAxis",a)}}}),rg.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Vb.toolbox.restore.title},rg.prototype.onclick=function(t,e,n){(function(t){t[TT]=null})(t),e.dispatchAction({type:"restore",from:this.uid})},ep("restore",rg),co({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var DT,LT="urn:schemas-microsoft-com:vml",RT="undefined"==typeof window?null:window,NT=!1,zT=RT&&RT.document;if(zT&&!Pg.canvasSupported)try{!zT.namespaces.zrvml&&zT.namespaces.add("zrvml",LT),DT=function(t){return zT.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){DT=function(t){return zT.createElement("<"+t+' xmlns="'+LT+'" class="zrvml">')}}var BT=vy.CMD,FT=Math.round,VT=Math.sqrt,GT=Math.abs,HT=Math.cos,WT=Math.sin,qT=Math.max;if(!Pg.canvasSupported){var UT=21600,YT=UT/2,XT=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=UT+","+UT,t.coordorigin="0,0"},ZT=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},$T=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},QT=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},JT=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},KT=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},tE=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},eE=function(t,e,n){var r=Lt(e);n=+n,isNaN(n)&&(n=1),r&&(t.color=$T(r[0],r[1],r[2]),t.opacity=n*r[3])},nE=function(t){var e=Lt(t);return[$T(e[0],e[1],e[2]),e[3]]},rE=function(t,e,n,r){var i="fill"===e,a=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(i||!i&&n.lineWidth)?(t[i?"filled":"stroked"]="true",n[e]instanceof ox&&JT(t,a),a||(a=ig(e)),i?function(t,e,n){var r=e.fill;if(null!=r)if(r instanceof ox){var i,a=0,o=[0,0],s=0,u=1,l=n.getBoundingRect(),c=l.width,h=l.height;if("linear"===r.type){i="gradient";var f=[r.x*c,r.y*h],d=[r.x2*c,r.y2*h];(p=n.transform)&&(K(f,f,p),K(d,d,p)),(a=180*Math.atan2(d[0]-f[0],d[1]-f[1])/Math.PI)<0&&(a+=360),a<1e-6&&(a=0)}else{i="gradientradial";var p,g=n.scale,v=c,m=h;o=[((f=[r.x*c,r.y*h])[0]-l.x)/v,(f[1]-l.y)/m],(p=n.transform)&&K(f,f,p);var y=qT(v/=g[0]*UT,m/=g[1]*UT);u=2*r.r/y-(s=0/y)}var x=r.colorStops.slice();x.sort(function(t,e){return t.offset-e.offset});for(var b=x.length,_=[],w=[],S=0;S<b;S++){var M=x[S],O=nE(M.color);w.push(M.offset*u+s+" "+O[0]),0!==S&&S!==b-1||_.push(O)}if(b>=2){var C=_[0][0],A=_[1][0],I=_[0][1]*e.opacity,T=_[1][1]*e.opacity;t.type=i,t.method="none",t.focus="100%",t.angle=a,t.color=C,t.color2=A,t.colors=w.join(","),t.opacity=T,t.opacity2=I}"radial"===i&&(t.focusposition=o.join(","))}else eE(t,r,e.opacity)}(a,n,r):function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof ox||eE(t,e.stroke,e.opacity)}(a,n),QT(t,a)):(t[i?"filled":"stroked"]="false",JT(t,a))},iE=[[],[],[]];Qn.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=ig("shape"),XT(n),this._vmlEl=n),rE(n,"fill",e,this),rE(n,"stroke",e,this);var r=this.transform,i=null!=r,a=n.getElementsByTagName("stroke")[0];if(a){var o=e.lineWidth;i&&!e.strokeNoScale&&(o*=VT(GT(r[0]*r[3]-r[1]*r[2]))),a.weight=o+"px"}var s=this.path||(this.path=new vy);this.__dirtyPath&&(s.beginPath(),s.subPixelOptimize=!1,this.buildPath(s,this.shape),s.toStatic(),this.__dirtyPath=!1),n.path=function(t,e){var n,r,i,a,o,s,u=BT.M,l=BT.C,c=BT.L,h=BT.A,f=BT.Q,d=[],p=t.data,g=t.len();for(a=0;a<g;){switch(r="",n=0,i=p[a++]){case u:r=" m ",n=1,o=p[a++],s=p[a++],iE[0][0]=o,iE[0][1]=s;break;case c:r=" l ",n=1,o=p[a++],s=p[a++],iE[0][0]=o,iE[0][1]=s;break;case f:case l:r=" c ",n=3;var v,m,y=p[a++],x=p[a++],b=p[a++],_=p[a++];i===f?(v=b,m=_,b=(b+2*y)/3,_=(_+2*x)/3,y=(o+2*y)/3,x=(s+2*x)/3):(v=p[a++],m=p[a++]),iE[0][0]=y,iE[0][1]=x,iE[1][0]=b,iE[1][1]=_,iE[2][0]=v,iE[2][1]=m,o=v,s=m;break;case h:var w=0,S=0,M=1,O=1,C=0;e&&(w=e[4],S=e[5],M=VT(e[0]*e[0]+e[1]*e[1]),O=VT(e[2]*e[2]+e[3]*e[3]),C=Math.atan2(-e[1]/O,e[0]/M));var A=p[a++],I=p[a++],T=p[a++],E=p[a++],j=p[a++]+C,P=p[a++]+j+C;a++;var k=p[a++],D=A+HT(j)*T,L=I+WT(j)*E,R=(y=A+HT(P)*T,x=I+WT(P)*E,k?" wa ":" at ");Math.abs(D-y)<1e-4&&(Math.abs(P-j)>.01?k&&(D+=.0125):Math.abs(L-I)<1e-4?k&&D<A||!k&&D>A?x-=.0125:x+=.0125:k&&L<I||!k&&L>I?y+=.0125:y-=.0125),d.push(R,FT(((A-T)*M+w)*UT-YT),",",FT(((I-E)*O+S)*UT-YT),",",FT(((A+T)*M+w)*UT-YT),",",FT(((I+E)*O+S)*UT-YT),",",FT((D*M+w)*UT-YT),",",FT((L*O+S)*UT-YT),",",FT((y*M+w)*UT-YT),",",FT((x*O+S)*UT-YT)),o=y,s=x;break;case BT.R:var N=iE[0],z=iE[1];N[0]=p[a++],N[1]=p[a++],z[0]=N[0]+p[a++],z[1]=N[1]+p[a++],e&&(K(N,N,e),K(z,z,e)),N[0]=FT(N[0]*UT-YT),z[0]=FT(z[0]*UT-YT),N[1]=FT(N[1]*UT-YT),z[1]=FT(z[1]*UT-YT),d.push(" m ",N[0],",",N[1]," l ",z[0],",",N[1]," l ",z[0],",",z[1]," l ",N[0],",",z[1]);break;case BT.Z:d.push(" x ")}if(n>0){d.push(r);for(var B=0;B<n;B++){var F=iE[B];e&&K(F,F,e),d.push(FT(F[0]*UT-YT),",",FT(F[1]*UT-YT),B<n-1?",":"")}}}return d.join("")}(s,this.transform),n.style.zIndex=KT(this.zlevel,this.z,this.z2),QT(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Qn.prototype.onRemove=function(t){JT(t,this._vmlEl),this.removeRectText(t)},Qn.prototype.onAdd=function(t){QT(t,this._vmlEl),this.appendRectText(t)},$e.prototype.brushVML=function(t){var e,n,r=this.style,i=r.image;if("object"==typeof i&&i.tagName&&"IMG"===i.tagName.toUpperCase()){var a=i.src;if(a===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var o=i.runtimeStyle,s=o.width,u=o.height;o.width="auto",o.height="auto",e=i.width,n=i.height,o.width=s,o.height=u,this._imageSrc=a,this._imageWidth=e,this._imageHeight=n}i=a}else i===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(i){var l=r.x||0,c=r.y||0,h=r.width,f=r.height,d=r.sWidth,p=r.sHeight,g=r.sx||0,v=r.sy||0,m=d&&p,y=this._vmlEl;y||(y=zT.createElement("div"),XT(y),this._vmlEl=y);var x,b=y.style,_=!1,w=1,S=1;if(this.transform&&(w=VT((x=this.transform)[0]*x[0]+x[1]*x[1]),S=VT(x[2]*x[2]+x[3]*x[3]),_=x[1]||x[2]),_){var M=[l,c],O=[l+h,c],C=[l,c+f],A=[l+h,c+f];K(M,M,x),K(O,O,x),K(C,C,x),K(A,A,x);var I=qT(M[0],O[0],C[0],A[0]),T=qT(M[1],O[1],C[1],A[1]),E=[];E.push("M11=",x[0]/w,",","M12=",x[2]/S,",","M21=",x[1]/w,",","M22=",x[3]/S,",","Dx=",FT(l*w+x[4]),",","Dy=",FT(c*S+x[5])),b.padding="0 "+FT(I)+"px "+FT(T)+"px 0",b.filter="progid:DXImageTransform.Microsoft.Matrix("+E.join("")+", SizingMethod=clip)"}else x&&(l=l*w+x[4],c=c*S+x[5]),b.filter="",b.left=FT(l)+"px",b.top=FT(c)+"px";var j=this._imageEl,P=this._cropEl;j||(j=zT.createElement("div"),this._imageEl=j);var k=j.style;if(m){if(e&&n)k.width=FT(w*e*h/d)+"px",k.height=FT(S*n*f/p)+"px";else{var D=new Image,L=this;D.onload=function(){D.onload=null,n=D.height,k.width=FT(w*(e=D.width)*h/d)+"px",k.height=FT(S*n*f/p)+"px",L._imageWidth=e,L._imageHeight=n,L._imageSrc=i},D.src=i}P||((P=zT.createElement("div")).style.overflow="hidden",this._cropEl=P);var R=P.style;R.width=FT((h+g*h/d)*w),R.height=FT((f+v*f/p)*S),R.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*h/d*w+",Dy="+-v*f/p*S+")",P.parentNode||y.appendChild(P),j.parentNode!==P&&P.appendChild(j)}else k.width=FT(w*h)+"px",k.height=FT(S*f)+"px",y.appendChild(j),P&&P.parentNode&&(y.removeChild(P),this._cropEl=null);var N="",z=r.opacity;z<1&&(N+=".Alpha(opacity="+FT(100*z)+") "),k.filter=N+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+i+", SizingMethod=scale)",y.style.zIndex=KT(this.zlevel,this.z,this.z2),QT(t,y),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},$e.prototype.onRemove=function(t){JT(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},$e.prototype.onAdd=function(t){QT(t,this._vmlEl),this.appendRectText(t)};var aE,oE={},sE=0,uE=document.createElement("div"),lE=function(t){var e=oE[t];if(!e){sE>100&&(sE=0,oE={});var n,r=uE.style;try{r.font=t,n=r.fontFamily.split(",")[0]}catch(t){}e={style:r.fontStyle||"normal",variant:r.fontVariant||"normal",weight:r.fontWeight||"normal",size:0|parseFloat(r.fontSize||12),family:n||"Microsoft YaHei"},oE[t]=e,sE++}return e};rm.measureText=function(t,e){var n=zT;aE||((aE=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",zT.body.appendChild(aE));try{aE.style.font=e}catch(t){}return aE.innerHTML="",aE.appendChild(n.createTextNode(t)),{width:aE.offsetWidth}};for(var cE=new ie,hE=[lm,Ze,$e,Qn,Vy],fE=0;fE<hE.length;fE++){var dE=hE[fE].prototype;dE.drawRectText=function(t,e,n,r){var i=this.style;this.__dirty&&De(i);var a=i.text;if(null!=a&&(a+=""),a){if(i.rich){var o=Ee(a,i);a=[];for(var s=0;s<o.lines.length;s++){for(var u=o.lines[s].tokens,l=[],c=0;c<u.length;c++)l.push(u[c].text);a.push(l.join(""))}a=a.join("\n")}var h,f,d=i.textAlign,p=i.textVerticalAlign,g=lE(i.font),v=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';n=n||xe(a,v,d,p,i.textPadding,i.textLineHeight);var m=this.transform;if(m&&!r&&(cE.copy(e),cE.applyTransform(m),e=cE),r)h=e.x,f=e.y;else{var y=i.textPosition,x=i.textDistance;if(y instanceof Array)h=e.x+tE(y[0],e.width),f=e.y+tE(y[1],e.height),d=d||"left";else{var b=we(y,e,x);h=b.x,f=b.y,d=d||b.textAlign,p=p||b.textVerticalAlign}}h=be(h,n.width,d),f=_e(f,n.height,p),f+=n.height/2;var _,w,S,M=ig,O=this._textVmlEl;O?w=(_=(S=O.firstChild).nextSibling).nextSibling:(O=M("line"),_=M("path"),w=M("textpath"),S=M("skew"),w.style["v-text-align"]="left",XT(O),_.textpathok=!0,w.on=!0,O.from="0 0",O.to="1000 0.05",QT(O,S),QT(O,_),QT(O,w),this._textVmlEl=O);var C=[h,f],A=O.style;m&&r?(K(C,C,m),S.on=!0,S.matrix=m[0].toFixed(3)+","+m[2].toFixed(3)+","+m[1].toFixed(3)+","+m[3].toFixed(3)+",0,0",S.offset=(FT(C[0])||0)+","+(FT(C[1])||0),S.origin="0 0",A.left="0px",A.top="0px"):(S.on=!1,A.left=FT(h)+"px",A.top=FT(f)+"px"),w.string=ZT(a);try{w.style.font=v}catch(t){}rE(O,"fill",{fill:i.textFill,opacity:i.opacity},this),rE(O,"stroke",{stroke:i.textStroke,opacity:i.opacity,lineDash:i.lineDash},this),O.style.zIndex=KT(this.zlevel,this.z,this.z2),QT(t,O)}},dE.removeRectText=function(t){JT(t,this._textVmlEl),this._textVmlEl=null},dE.appendRectText=function(t){QT(t,this._textVmlEl)}}Vy.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},Vy.prototype.onRemove=function(t){this.removeRectText(t)},Vy.prototype.onAdd=function(t){this.appendRectText(t)}}og.prototype={constructor:og,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var r=t[n];r.invisible||r.ignore?(r.__alreadyNotVisible||r.onRemove(e),r.__alreadyNotVisible=!0):(r.__alreadyNotVisible&&r.onAdd(e),r.__alreadyNotVisible=!1,r.__dirty&&(r.beforeBrush&&r.beforeBrush(),(r.brushVML||r.brush).call(r,e),r.afterBrush&&r.afterBrush())),r.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){if(t=null==t?this._getWidth():t,e=null==e?this._getHeight():e,this._width!==t||this._height!==e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||ag(e.width))-ag(e.paddingLeft)-ag(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||ag(e.height))-ag(e.paddingTop)-ag(e.paddingBottom)|0}},f(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){og.prototype[t]=function(){}}),rn("vml",og);var pE="http://www.w3.org/2000/svg",gE=vy.CMD,vE=Array.prototype.join,mE="none",yE=Math.round,xE=Math.sin,bE=Math.cos,_E=Math.PI,wE=2*Math.PI,SE=180/_E,ME=1e-4,OE={brush:function(t){var e=t.style,n=t.__svgEl;n||(n=sg("path"),t.__svgEl=n),t.path||t.createPathProxy();var r=t.path;if(t.__dirtyPath){r.beginPath(),r.subPixelOptimize=!1,t.buildPath(r,t.shape),t.__dirtyPath=!1;var i=function(t){for(var e=[],n=t.data,r=t.len(),i=0;i<r;){var a="",o=0;switch(n[i++]){case gE.M:a="M",o=2;break;case gE.L:a="L",o=2;break;case gE.Q:a="Q",o=4;break;case gE.C:a="C",o=6;break;case gE.A:var s=n[i++],u=n[i++],l=n[i++],c=n[i++],h=n[i++],f=n[i++],d=n[i++],p=n[i++],g=Math.abs(f),v=lg(g-wE)&&!lg(g),m=!1;m=g>=wE||!lg(g)&&(f>-_E&&f<0||f>_E)==!!p;var y=ug(s+l*bE(h)),x=ug(u+c*xE(h));v&&(f=p?wE-1e-4:1e-4-wE,m=!0,9===i&&e.push("M",y,x));var b=ug(s+l*bE(h+f)),_=ug(u+c*xE(h+f));e.push("A",ug(l),ug(c),yE(d*SE),+m,+p,b,_);break;case gE.Z:a="Z";break;case gE.R:b=ug(n[i++]),_=ug(n[i++]);var w=ug(n[i++]),S=ug(n[i++]);e.push("M",b,_,"L",b+w,_,"L",b+w,_+S,"L",b,_+S,"L",b,_)}a&&e.push(a);for(var M=0;M<o;M++)e.push(ug(n[i++]))}return e.join(" ")}(r);i.indexOf("NaN")<0&&hg(n,"d",i)}fg(n,e,!1,t),cg(n,t.transform),null!=e.text&&TE(t,t.getBoundingRect())}},CE={brush:function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var r=e.x||0,i=e.y||0,a=e.width,o=e.height,s=t.__svgEl;s||(s=sg("image"),t.__svgEl=s),n!==t.__imageSrc&&(function(t,e,n){s.setAttributeNS("http://www.w3.org/1999/xlink","href",n)}(0,0,n),t.__imageSrc=n),hg(s,"width",a),hg(s,"height",o),hg(s,"x",r),hg(s,"y",i),cg(s,t.transform),null!=e.text&&TE(t,t.getBoundingRect())}}},AE={},IE=new ie,TE=function(t,e,n){var r=t.style;t.__dirty&&De(r);var i=r.text;if(null!=i){i+="";var a=t.__textSvgEl;a||(a=sg("text"),t.__textSvgEl=a);var o,s,u=r.textPosition,l=r.textDistance,c=r.textAlign||"left";"number"==typeof r.fontSize&&(r.fontSize+="px");var h=r.font||[r.fontStyle||"",r.fontWeight||"",r.fontSize||"",r.fontFamily||""].join(" ")||nm,f=dg(r.textVerticalAlign),d=(n=xe(i,h,c,f,r.textPadding,r.textLineHeight)).lineHeight;if(u instanceof Array)o=e.x+u[0],s=e.y+u[1];else{var p=we(u,e,l);o=p.x,s=p.y,f=dg(p.textVerticalAlign),c=p.textAlign}hg(a,"alignment-baseline",f),h&&(a.style.font=h);var g=r.textPadding;if(hg(a,"x",o),hg(a,"y",s),fg(a,r,!0,t),t instanceof Vy||t.style.transformText)cg(a,t.transform);else{if(t.transform)IE.copy(e),IE.applyTransform(t.transform),e=IE;else{var v=t.transformCoordToGlobal(e.x,e.y);e.x=v[0],e.y=v[1],t.transform=vt(gt())}var m=r.textOrigin;"center"===m?(o=n.width/2+o,s=n.height/2+s):m&&(o=m[0]+o,s=m[1]+s);var y=-r.textRotation||0,x=gt();bt(x,x,y),xt(x,x,v=[t.transform[4],t.transform[5]]),cg(a,x)}var b=i.split("\n"),_=b.length,w=c;"left"===w?(w="start",g&&(o+=g[3])):"right"===w?(w="end",g&&(o-=g[1])):"center"===w&&(w="middle",g&&(o+=(g[3]-g[1])/2));var S=0;if("after-edge"===f?(S=-n.height+d,g&&(S-=g[2])):"middle"===f?(S=(-n.height+d)/2,g&&(s+=(g[0]-g[2])/2)):g&&(S+=g[0]),t.__text!==i||t.__textFont!==h){var M=t.__tspanList||[];for(t.__tspanList=M,C=0;C<_;C++)(A=M[C])?A.innerHTML="":(A=M[C]=sg("tspan"),a.appendChild(A),hg(A,"alignment-baseline",f),hg(A,"text-anchor",w)),hg(A,"x",o),hg(A,"y",s+C*d+S),A.appendChild(document.createTextNode(b[C]));for(;C<M.length;C++)a.removeChild(M[C]);M.length=_,t.__text=i,t.__textFont=h}else if(t.__tspanList.length)for(var O=t.__tspanList.length,C=0;C<O;++C){var A=t.__tspanList[C];A&&(hg(A,"x",o),hg(A,"y",s+C*d+S))}}};AE.drawRectText=TE,AE.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],TE(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},pg.prototype={diff:function(t,e,n){n||(n=function(t,e){return t===e}),this.equals=n;var r=this;t=t.slice();var i=(e=e.slice()).length,a=t.length,o=1,s=i+a,u=[{newPos:-1,components:[]}],l=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=i&&l+1>=a){for(var c=[],h=0;h<e.length;h++)c.push(h);return[{indices:c,count:e.length}]}for(;o<=s;){var f=function(){for(var n=-1*o;n<=o;n+=2){var s,l=u[n-1],c=u[n+1],h=(c?c.newPos:0)-n;l&&(u[n-1]=void 0);var f=l&&l.newPos+1<i,d=c&&0<=h&&h<a;if(f||d){if(!f||d&&l.newPos<c.newPos?(s=vg(c),r.pushComponent(s.components,void 0,!0)):((s=l).newPos++,r.pushComponent(s.components,!0,void 0)),h=r.extractCommon(s,e,t,n),s.newPos+1>=i&&h+1>=a)return gg(0,s.components);u[n]=s}else u[n]=void 0}o++}();if(f)return f}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var i=e.length,a=n.length,o=t.newPos,s=o-r,u=0;o+1<i&&s+1<a&&this.equals(e[o+1],n[s+1]);)o++,s++,u++;return u&&t.components.push({count:u}),t.newPos=o,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var EE=new pg;mg.prototype.createElement=sg,mg.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},mg.prototype.update=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"==typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},mg.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},mg.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},mg.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return f(this._tagNames,function(n){var r=t.getElementsByTagName(n);e=e.concat([].slice.call(r))}),e},mg.prototype.markAllUnused=function(){var t=this;f(this.getDoms(),function(e){e[t._markLabel]="0"})},mg.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},mg.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this;f(this.getDoms(),function(n){"1"!==n[e._markLabel]&&t.removeChild(n)})}},mg.prototype.getSvgProxy=function(t){return t instanceof Qn?OE:t instanceof $e?CE:t instanceof Vy?AE:OE},mg.prototype.getTextSvgElement=function(t){return t.__textSvgEl},mg.prototype.getSvgElement=function(t){return t.__svgEl},l(yg,mg),yg.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;f(["fill","stroke"],function(r){if(e.style[r]&&("linear"===e.style[r].type||"radial"===e.style[r].type)){var i,a=e.style[r],o=n.getDefs(!0);a._dom?(i=a._dom,o.contains(a._dom)||n.addDom(i)):i=n.add(a),n.markUsed(e);var s=i.getAttribute("id");t.setAttribute(r,"url(#"+s+")")}})}},yg.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},yg.prototype.update=function(t){var e=this;mg.prototype.update.call(this,t,function(){var n=t.type,r=t._dom.tagName;"linear"===n&&"linearGradient"===r||"radial"===n&&"radialGradient"===r?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},yg.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return;e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}e.setAttribute("gradientUnits",t.global?"userSpaceOnUse":"objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,r=0,i=n.length;r<i;++r){var a=this.createElement("stop");a.setAttribute("offset",100*n[r].offset+"%");var o=n[r].color;if(o.indexOf(!1)){var s=Lt(o)[3],u=zt(o);a.setAttribute("stop-color","#"+u),a.setAttribute("stop-opacity",s)}else a.setAttribute("stop-color",n[r].color);e.appendChild(a)}t._dom=e},yg.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&mg.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&mg.prototype.markUsed.call(this,e._dom)}},l(xg,mg),xg.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},xg.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var r,i,a=this.getDefs(!0),o=e[0],s=n?"_textDom":"_dom";o[s]?(i=o[s].getAttribute("id"),a.contains(r=o[s])||a.appendChild(r)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",i),a.appendChild(r),o[s]=r);var u=this.getSvgProxy(o);if(o.transform&&o.parent.invTransform&&!n){var l=Array.prototype.slice.call(o.transform);yt(o.transform,o.parent.invTransform,o.transform),u.brush(o),o.transform=l}else u.brush(o);var c=this.getSvgElement(o);r.innerHTML="",r.appendChild(c.cloneNode()),t.setAttribute("clip-path","url(#"+i+")"),e.length>1&&this.updateDom(r,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},xg.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&f(t.__clipPaths,function(t){t._dom&&mg.prototype.markUsed.call(e,t._dom),t._textDom&&mg.prototype.markUsed.call(e,t._textDom)})},l(bg,mg),bg.prototype.addWithoutUpdate=function(t,e){if(e&&_g(e.style)){var n,r=e.style;r._shadowDom?(n=r._shadowDom,this.getDefs(!0).contains(r._shadowDom)||this.addDom(n)):n=this.add(e),this.markUsed(e);var i=n.getAttribute("id");t.style.filter="url(#"+i+")"}},bg.prototype.add=function(t){var e=this.createElement("filter"),n=t.style;return n._shadowDomId=n._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(t,e),this.addDom(e),e},bg.prototype.update=function(t,e){var n=e.style;if(_g(n)){var r=this;mg.prototype.update.call(this,e,function(t){r.updateDom(e,t._shadowDom)})}else this.remove(t,n)},bg.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},bg.prototype.updateDom=function(t,e){var n=e.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var r,i,a,o,s=t.style,u=t.scale&&t.scale[0]||1,l=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)r=s.shadowOffsetX||0,i=s.shadowOffsetY||0,a=s.shadowBlur,o=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);r=s.textShadowOffsetX||0,i=s.textShadowOffsetY||0,a=s.textShadowBlur,o=s.textShadowColor}n.setAttribute("dx",r/u),n.setAttribute("dy",i/l),n.setAttribute("flood-color",o),n.setAttribute("stdDeviation",a/2/u+" "+a/2/l),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(a/2*200)+"%"),e.setAttribute("height",Math.ceil(a/2*200)+"%"),e.appendChild(n),s._shadowDom=e},bg.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&mg.prototype.markUsed.call(this,e._shadowDom)};var jE=function(t,e,n,r){this.root=t,this.storage=e,this._opts=n=a({},n||{});var i=sg("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("version","1.1"),i.setAttribute("baseProfile","full"),i.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new yg(r,i),this.clipPathManager=new xg(r,i),this.shadowManager=new bg(r,i);var o=document.createElement("div");o.style.cssText="overflow:hidden;position:relative",this._svgRoot=i,this._viewport=o,t.appendChild(o),o.appendChild(i),this.resize(n.width,n.height),this._visibleList=[]};jE.prototype={constructor:jE,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,n=this._svgRoot,r=this._visibleList,i=t.length,a=[];for(e=0;e<i;e++){var o=Sg(d=t[e]),s=Tg(d)||Ig(d);d.invisible||(d.__dirty&&(o&&o.brush(d),this.clipPathManager.update(d),d.style&&(this.gradientManager.update(d.style.fill),this.gradientManager.update(d.style.stroke),this.shadowManager.update(s,d)),d.__dirty=!1),a.push(d))}var u,l=EE.diff(r,a,void 0);for(e=0;e<l.length;e++)if((h=l[e]).removed)for(f=0;f<h.count;f++){s=Tg(d=r[h.indices[f]]);var c=Ig(d);Ag(n,s),Ag(n,c)}for(e=0;e<l.length;e++){var h=l[e];if(h.added)for(f=0;f<h.count;f++)s=Tg(d=a[h.indices[f]]),c=Ig(d),u?Og(n,s,u):Cg(n,s),s?Og(n,c,s):u?Og(n,c,u):Cg(n,c),Og(n,c,s),u=c||s||u,this.gradientManager.addWithoutUpdate(s,d),this.shadowManager.addWithoutUpdate(u,d),this.clipPathManager.markUsed(d);else if(!h.removed)for(var f=0;f<h.count;f++){var d=a[h.indices[f]];u=s=Ig(d)||Tg(d)||u,this.gradientManager.markUsed(d),this.gradientManager.addWithoutUpdate(s,d),this.shadowManager.markUsed(d),this.shadowManager.addWithoutUpdate(s,d),this.clipPathManager.markUsed(d)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(sg("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var i=n.style;i.width=t+"px",i.height=e+"px";var a=this._svgRoot;a.setAttribute("width",t),a.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[r]||wg(s[n])||wg(o.style[n]))-(wg(s[i])||0)-(wg(s[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},f(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){jE.prototype[t]=function(){}}),rn("svg",jE),t.version="4.2.1",t.dependencies={zrender:"4.0.6"},t.PRIORITY=x_,t.init=function(t,e,n){var r=oo(t);if(r)return r;var i=new Ha(t,e,n);return i.id="ec_"+R_++,D_[i.id]=i,vn(t,z_,i.id),function(t){function e(t,e){for(var r=0;r<t.length;r++)t[r][n]=e}var n="__connectUpdateStatus";f_(A_,function(r,i){t._messageCenter.on(i,function(r){if(L_[t.group]&&0!==t[n]){if(r&&r.escapeConnect)return;var i=t.makeActionFromEvent(r),a=[];f_(D_,function(e){e!==t&&e.group===t.group&&a.push(e)}),e(a,0),f_(a,function(t){1!==t[n]&&t.dispatchAction(i)}),e(a,2)}})})}(i),i},t.connect=function(t){if(y(t)){var e=t;t=null,f_(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+N_++,f_(e,function(e){e.group=t})}return L_[t]=!0,t},t.disConnect=ao,t.disconnect=B_,t.dispose=function(t){"string"==typeof t?t=D_[t]:t instanceof Ha||(t=oo(t)),t instanceof Ha&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=oo,t.getInstanceById=function(t){return D_[t]},t.registerTheme=so,t.registerPreprocessor=uo,t.registerProcessor=lo,t.registerPostUpdate=function(t){E_.push(t)},t.registerAction=co,t.registerCoordinateSystem=ho,t.getCoordinateSystemDimensions=function(t){var e=Ni.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.registerLayout=fo,t.registerVisual=po,t.registerLoading=vo,t.extendComponentModel=mo,t.extendComponentView=yo,t.extendSeriesModel=xo,t.extendChartView=bo,t.setCanvasCreator=function(t){e("createCanvas",t)},t.registerMap=function(t,e,n){l_.registerMap(t,e,n)},t.getMap=function(t){var e=l_.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},t.dataTool={},t.zrender=Mm,t.number=Ex,t.format=Nx,t.throttle=xa,t.helper=jw,t.matrix=uv,t.vector=$g,t.color=Ov,t.parseGeoJSON=kw,t.parseGeoJson=Nw,t.util=zw,t.graphic=Bw,t.List=$_,t.Model=Wr,t.Axis=Rw,t.env=Pg}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Ajv=t()}(function(){return function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){return i(e[o][1][t]||t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(t,e){this._cache[t]=e},r.prototype.get=function(t){return this._cache[t]},r.prototype.del=function(t){delete this._cache[t]},r.prototype.clear=function(){this._cache={}}},{}],2:[function(t,e,n){"use strict";var r=t("./error_classes").MissingRef;e.exports=function t(e,n,i){var a=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var o=s(e).then(function(){var t=a._addSchema(e,void 0,n);return t.validate||function(t){try{return a._compile(t)}catch(e){if(e instanceof r)return function(e){var i=e.missingSchema;if(l(i))throw new Error("Schema "+i+" is loaded but "+e.missingRef+" cannot be resolved");var o=a._loadingSchemas[i];return o||(o=a._loadingSchemas[i]=a._opts.loadSchema(i)).then(u,u),o.then(function(t){if(!l(i))return s(t).then(function(){l(i)||a.addSchema(t,i,void 0,n)})}).then(function(){return function t(i){try{return a._compile(i)}catch(e){if(e instanceof r)return function(e){var r=e.missingSchema;if(l(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var o=a._loadingSchemas[r];return o||(o=a._loadingSchemas[r]=a._opts.loadSchema(r)).then(u,u),o.then(function(t){if(!l(r))return s(t).then(function(){l(r)||a.addSchema(t,r,void 0,n)})}).then(function(){return t(i)});function u(){delete a._loadingSchemas[r]}function l(t){return a._refs[t]||a._schemas[t]}}(e);throw e}}(t)});function u(){delete a._loadingSchemas[i]}function l(t){return a._refs[t]||a._schemas[t]}}(e);throw e}}(t)});return i&&o.then(function(t){i(null,t)},i),o;function s(e){var n=e.$schema;return n&&!a.getSchema(n)?t.call(a,{$ref:n},!0):Promise.resolve()}}},{"./error_classes":3}],3:[function(t,e,n){"use strict";var r=t("./resolve");function i(t,e,n){this.message=n||i.message(t,e),this.missingRef=r.url(t,e),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function a(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}e.exports={Validation:a(function(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}),MissingRef:a(i)},i.message=function(t,e){return"can't resolve reference "+e+" from id "+t}},{"./resolve":6}],4:[function(t,e,n){"use strict";var r=t("./util"),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;function g(t){return r.copy(g[t="full"==t?"full":"fast"])}function v(t){var e=t.match(i);if(!e)return!1;var n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(2==n&&function(t){return t%4==0&&(t%100!=0||t%400==0)}(+e[1])?29:a[n])}function m(t,e){var n=t.match(o);if(!n)return!1;var r=n[1],i=n[2],a=n[3];return(r<=23&&i<=59&&a<=59||23==r&&59==i&&60==a)&&(!e||n[5])}e.exports=g,g.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":l,url:c,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p},g.full={date:v,time:m,"date-time":function(t){var e=t.split(y);return 2==e.length&&v(e[0])&&m(e[1],!0)},uri:function(t){return x.test(t)&&u.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":l,url:c,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(t){return t.length<=255&&s.test(t)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:h,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var y=/t|\s/i,x=/\/|:/,b=/[^\\]\\Z/;function _(t){if(b.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}}},{"./util":10}],5:[function(t,e,n){"use strict";var r=t("./resolve"),i=t("./util"),a=t("./error_classes"),o=t("fast-json-stable-stringify"),s=t("../dotjs/validate"),u=i.ucs2length,l=t("fast-deep-equal"),c=a.Validation;function h(t,e,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==t&&i.root==e&&i.baseId==n)return r}return-1}function f(t,e){return"var pattern"+t+" = new RegExp("+i.toQuotedString(e[t])+");"}function d(t){return"var default"+t+" = defaults["+t+"];"}function p(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function g(t){return"var customRule"+t+" = customRules["+t+"];"}function v(t,e){if(!t.length)return"";for(var n="",r=0;r<t.length;r++)n+=e(r,t);return n}e.exports=function t(e,n,m,y){var x=this,b=this._opts,_=[void 0],w={},S=[],M={},O=[],C={},A=[],I=(function(t,e,n){var r=h.call(this,t,e,n);return r>=0?{index:r,compiling:!0}:(this._compilations[r=this._compilations.length]={schema:t,root:e,baseId:n},{index:r,compiling:!1})}).call(this,e,n=n||{schema:e,refVal:_,refs:w},y),T=this._compilations[I.index];if(I.compiling)return T.callValidate=function t(){var e=T.validate,n=e.apply(null,arguments);return t.errors=e.errors,n};var E=this._formats,j=this.RULES;try{var P=D(e,n,m,y);T.validate=P;var k=T.callValidate;return k&&(k.schema=P.schema,k.errors=null,k.refs=P.refs,k.refVal=P.refVal,k.root=P.root,k.$async=P.$async,b.sourceCode&&(k.source=P.source)),P}finally{(function(t,e,n){var r=h.call(this,t,e,n);r>=0&&this._compilations.splice(r,1)}).call(this,e,n,y)}function D(e,o,h,m){var y=!o||o&&o.schema==e;if(o.schema!=n.schema)return t.call(x,e,o,h,m);var M,C=!0===e.$async,I=s({isTop:!0,schema:e,isRoot:y,baseId:m,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:a.MissingRef,RULES:j,validate:s,util:i,resolve:r,resolveRef:L,usePattern:z,useDefault:B,useCustomRule:F,opts:b,formats:E,logger:x.logger,self:x});I=v(_,p)+v(S,f)+v(O,d)+v(A,g)+I,b.processCode&&(I=b.processCode(I));try{M=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",I)(x,j,E,n,_,O,A,l,u,c),_[0]=M}catch(T){throw x.logger.error("Error compiling schema, function code:",I),T}return M.schema=e,M.errors=null,M.refs=w,M.refVal=_,M.root=y?M:o,C&&(M.$async=!0),!0===b.sourceCode&&(M.source={code:I,patterns:S,defaults:O}),M}function L(e,i,a){i=r.url(e,i);var o,s,u=w[i];if(void 0!==u)return N(o=_[u],s="refVal["+u+"]");if(!a&&n.refs){var l=n.refs[i];if(void 0!==l)return s=R(i,o=n.refVal[l]),N(o,s)}s=R(i);var c=r.call(x,D,n,i);if(void 0===c){var h=m&&m[i];h&&(c=r.inlineRef(h,b.inlineRefs)?h:t.call(x,h,n,m,e))}if(void 0!==c)return function(t,e){_[w[t]]=e}(i,c),N(c,s);!function(t){delete w[t]}(i)}function R(t,e){var n=_.length;return _[n]=e,w[t]=n,"refVal"+n}function N(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&!!t.$async}}function z(t){var e=M[t];return void 0===e&&(e=M[t]=S.length,S[e]=t),"pattern"+e}function B(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return i.toQuotedString(t);case"object":if(null===t)return"null";var e=o(t),n=C[e];return void 0===n&&(n=C[e]=O.length,O[n]=t),"default"+n}}function F(t,e,n,r){var i=t.definition.validateSchema;if(i&&!1!==x._opts.validateSchema&&!i(e)){var a="keyword schema is invalid: "+x.errorsText(i.errors);if("log"!=x._opts.validateSchema)throw new Error(a);x.logger.error(a)}var o,s=t.definition.compile,u=t.definition.inline,l=t.definition.macro;if(s)o=s.call(x,e,n,r);else if(l)o=l.call(x,e,n,r),!1!==b.validateSchema&&x.validateSchema(o,!0);else if(u)o=u.call(x,r,t.keyword,e,n);else if(!(o=t.definition.validate))return;if(void 0===o)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var c=A.length;return A[c]=o,{code:"customRule"+c,validate:o}}}},{"../dotjs/validate":37,"./error_classes":3,"./resolve":6,"./util":10,"fast-deep-equal":41,"fast-json-stable-stringify":42}],6:[function(t,e,n){"use strict";var r=t("uri-js"),i=t("fast-deep-equal"),a=t("./util"),o=t("./schema_obj"),s=t("json-schema-traverse");function u(t,e,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return u.call(this,t,e,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof o)return d(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,a,s,c=l.call(this,e,n);return c&&(i=c.schema,e=c.root,s=c.baseId),i instanceof o?a=i.validate||t.call(this,i.schema,e,void 0,s):void 0!==i&&(a=d(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,s)),a}function l(t,e){var n=r.parse(e),i=g(n),a=p(this._getId(t.schema));if(i!==a){var s=m(i),u=this._refs[s];if("string"==typeof u)return(function(t,e,n){var r=l.call(this,t,e);if(r){var i=r.schema,a=r.baseId;t=r.root;var o=this._getId(i);return o&&(a=y(a,o)),h.call(this,n,a,i,t)}}).call(this,t,u,n);if(u instanceof o)u.validate||this._compile(u),t=u;else{if(!((u=this._schemas[s])instanceof o))return;if(u.validate||this._compile(u),s==m(e))return{schema:u,root:t,baseId:a};t=u}if(!t.schema)return;a=p(this._getId(t.schema))}return h.call(this,n,a,t.schema,t)}e.exports=u,u.normalizeId=m,u.fullPath=p,u.url=y,u.ids=function(t){var e=m(this._getId(t)),n={"":e},o={"":p(e,!1)},u={},l=this;return s(t,{allKeys:!0},function(t,e,s,c,h,f,d){if(""!==e){var p=l._getId(t),g=n[c],v=o[c]+"/"+h;if(void 0!==d&&(v+="/"+("number"==typeof d?d:a.escapeFragment(d))),"string"==typeof p){p=g=m(g?r.resolve(g,p):p);var y=l._refs[p];if("string"==typeof y&&(y=l._refs[y]),y&&y.schema){if(!i(t,y.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=m(v))if("#"==p[0]){if(u[p]&&!i(t,u[p]))throw new Error('id "'+p+'" resolves to more than one schema');u[p]=t}else l._refs[p]=v}n[e]=g,o[e]=v}}),u},u.inlineRef=d,u.schema=l;var c=a.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(t,e,n,r){if(t.fragment=t.fragment||"","/"==t.fragment.slice(0,1)){for(var i=t.fragment.split("/"),o=1;o<i.length;o++){var s=i[o];if(s){if(void 0===(n=n[s=a.unescapeFragment(s)]))break;var u;if(!c[s]&&((u=this._getId(n))&&(e=y(e,u)),n.$ref)){var h=y(e,n.$ref),f=l.call(this,r,h);f&&(n=f.schema,r=f.root,e=f.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:e}:void 0}}var f=a.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(t,e){return!1!==e&&(void 0===e||!0===e?function t(e){var n;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(n=e[r])&&!t(n))return!1}else for(var i in e){if("$ref"==i)return!1;if("object"==typeof(n=e[i])&&!t(n))return!1}return!0}(t):e?function t(e){var n,r=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(n=e[i])&&(r+=t(n)),r==1/0)return 1/0}else for(var a in e){if("$ref"==a)return 1/0;if(f[a])r++;else if("object"==typeof(n=e[a])&&(r+=t(n)+1),r==1/0)return 1/0}return r}(t)<=e:void 0)}function p(t,e){return!1!==e&&(t=m(t)),g(r.parse(t))}function g(t){return r.serialize(t).split("#")[0]+"#"}var v=/#\/?$/;function m(t){return t?t.replace(v,""):""}function y(t,e){return e=m(e),r.resolve(t,e)}},{"./schema_obj":8,"./util":10,"fast-deep-equal":41,"json-schema-traverse":43,"uri-js":44}],7:[function(t,e,n){"use strict";var r=t("../dotjs"),i=t("./util").toHash;e.exports=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"];return t.all=i(e),t.types=i(["number","integer","string","array","object","boolean","null"]),t.forEach(function(n){n.rules=n.rules.map(function(n){var i;if("object"==typeof n){var a=Object.keys(n)[0];i=n[a],n=a,i.forEach(function(n){e.push(n),t.all[n]=!0})}return e.push(n),t.all[n]={keyword:n,code:r[n],implements:i}}),t.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(t.types[n.type]=n)}),t.keywords=i(e.concat(["$schema","$id","id","$data","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t}},{"../dotjs":26,"./util":10}],8:[function(t,e,n){"use strict";var r=t("./util");e.exports=function(t){r.copy(t,this)}},{"./util":10}],9:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=0,r=t.length,i=0;i<r;)n++,(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<r&&56320==(64512&(e=t.charCodeAt(i)))&&i++;return n}},{}],10:[function(t,e,n){"use strict";function r(t,e,n){var r=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(t){case"null":return e+r+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+i+"typeof "+e+r+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+i+o+"("+e+" % 1)"+i+e+r+e+")";default:return"typeof "+e+r+'"'+t+'"'}}e.exports={copy:function(t,e){for(var n in e=e||{},t)e[n]=t[n];return e},checkDataType:r,checkDataTypes:function(t,e){switch(t.length){case 1:return r(t[0],e,!0);default:var n="",i=a(t);for(var o in i.array&&i.object&&(n=i.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(o,e,!0);return n}},coerceToTypes:function(t,e){if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var a=e[r];i[a]?n[n.length]=a:"array"===t&&"array"===a&&(n[n.length]=a)}if(n.length)return n}else{if(i[e])return[e];if("array"===t&&"array"===e)return["array"]}},toHash:a,getProperty:u,escapeQuotes:l,equal:t("fast-deep-equal"),ucs2length:t("./ucs2length"),varOccurences:function(t,e){var n=t.match(new RegExp(e+="[^0-9]","g"));return n?n.length:0},varReplace:function(t,e,n){return e+="([^0-9])",n=n.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),n+"$1")},cleanUpCode:function(t){return t.replace(c,"").replace(h,"").replace(f,"if (!($1))")},finalCleanUpCode:function(t,e){var n=t.match(d);return n&&2==n.length&&(t=e?t.replace(g,"").replace(y,x):t.replace(p,"").replace(v,m)),(n=t.match(b))&&3===n.length?t.replace(_,""):t},schemaHasRules:function(t,e){if("boolean"==typeof t)return!t;for(var n in t)if(e[n])return!0},schemaHasRulesExcept:function(t,e,n){if("boolean"==typeof t)return!t&&"not"!=n;for(var r in t)if(r!=n&&e[r])return!0},toQuotedString:w,getPathExpr:function(t,e,n,r){return O(t,n?"'/' + "+e+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(t,e,n){return O(t,w(n?"/"+C(e):u(e)))},getData:function(t,e,n){var r,i,a,o;if(""===t)return"rootData";if("/"==t[0]){if(!S.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,a="rootData"}else{if(!(o=t.match(M)))throw new Error("Invalid JSON-pointer: "+t);if(r=+o[1],"#"==(i=o[2])){if(r>=e)throw new Error("Cannot access property/index "+r+" levels up, current level is "+e);return n[e-r]}if(r>e)throw new Error("Cannot access data "+r+" levels up, current level is "+e);if(a="data"+(e-r||""),!i)return a}for(var s=a,l=i.split("/"),c=0;c<l.length;c++){var h=l[c];h&&(s+=" && "+(a+=u(A(h))))}return s},unescapeFragment:function(t){return A(decodeURIComponent(t))},unescapeJsonPointer:A,escapeFragment:function(t){return encodeURIComponent(C(t))},escapeJsonPointer:C};var i=a(["string","number","integer","boolean","null"]);function a(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var o=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function u(t){return"number"==typeof t?"["+t+"]":o.test(t)?"."+t:"['"+l(t)+"']"}function l(t){return t.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,h=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,f=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,d=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,g=/var errors = 0;|var vErrors = null;/g,v="return errors === 0;",m="validate.errors = null; return true;",y=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,x="return data;",b=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,_=/if \(rootData === undefined\) rootData = data;/;function w(t){return"'"+l(t)+"'"}var S=/^\/(?:[^~]|~0|~1)*$/,M=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function O(t,e){return'""'==t?e:(t+" + "+e).replace(/' \+ '/g,"")}function C(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function A(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}},{"./ucs2length":9,"fast-deep-equal":41}],11:[function(t,e,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(t,e){for(var n=0;n<e.length;n++){t=JSON.parse(JSON.stringify(t));var i,a=e[n].split("/"),o=t;for(i=1;i<a.length;i++)o=o[a[i]];for(i=0;i<r.length;i++){var s=r[i],u=o[s];u&&(o[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return t}},{}],12:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=" ",a=t.level,o=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",r="schema"+a):r=s;var d="maximum"==e,p=d?"exclusiveMaximum":"exclusiveMinimum",g=t.schema[p],v=t.opts.$data&&g&&g.$data,m=d?"<":">",y=d?">":"<",x=void 0;if(v){var b,_=t.util.getData(g.$data,o,t.dataPathArr),w="exclusive"+a,S="exclType"+a,M="exclIsNumber"+a,O="' + "+(A="op"+a)+" + '";i+=" var schemaExcl"+a+" = "+_+"; ",x=p,(b=b||[]).push(i+=" var "+w+"; var "+S+" = typeof "+(_="schemaExcl"+a)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(x||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var C=i;i=b.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+S+" == 'number' ? ( ("+w+" = "+r+" === undefined || "+_+" "+m+"= "+r+") ? "+h+" "+y+"= "+_+" : "+h+" "+y+" "+r+" ) : ( ("+w+" = "+_+" === true) ? "+h+" "+y+"= "+r+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { var op"+a+" = "+w+" ? '"+m+"' : '"+m+"='; ",void 0===s&&(x=p,l=t.errSchemaPath+"/"+p,r=_,f=v)}else if(O=m,(M="number"==typeof g)&&f){var A="'"+O+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+g+" "+m+"= "+r+" ? "+h+" "+y+"= "+g+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { "}else M&&void 0===s?(w=!0,x=p,l=t.errSchemaPath+"/"+p,r=g,y+="="):(M&&(r=Math[d?"min":"max"](g,s)),g===(!M||r)?(w=!0,x=p,l=t.errSchemaPath+"/"+p,y+="="):(w=!1,O+="=")),A="'"+O+"'",i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+" "+y+" "+r+" || "+h+" !== "+h+") { ";return x=x||e,(b=b||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(x||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { comparison: "+A+", limit: "+r+", exclusive: "+w+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be "+O+" ",i+=f?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",C=i,i=b.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},{}],13:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=" ",a=t.level,o=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",r="schema"+a):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || ");var d=e,p=p||[];p.push(i+=" "+h+".length "+("maxItems"==e?">":"<")+" "+r+") { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==e?"more":"less",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" items' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;return i=p.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=" ",a=t.level,o=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",r="schema"+a):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=!1===t.opts.unicode?" "+h+".length ":" ucs2length("+h+") ";var d=e,p=p||[];p.push(i+=" "+("maxLength"==e?">":"<")+" "+r+") { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==e?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" characters' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;return i=p.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},{}],15:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=" ",a=t.level,o=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",r="schema"+a):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || ");var d=e,p=p||[];p.push(i+=" Object.keys("+h+").length "+("maxProperties"==e?">":"<")+" "+r+") { "),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==e?"more":"less",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" properties' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;return i=p.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},{}],16:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.schema[e],a=t.schemaPath+t.util.getProperty(e),o=t.errSchemaPath+"/"+e,s=!t.opts.allErrors,u=t.util.copy(t),l="";u.level++;var c="valid"+u.level,h=u.baseId,f=!0,d=i;if(d)for(var p,g=-1,v=d.length-1;g<v;)p=d[g+=1],t.util.schemaHasRules(p,t.RULES.all)&&(f=!1,u.schema=p,u.schemaPath=a+"["+g+"]",u.errSchemaPath=o+"/"+g,r+="  "+t.validate(u)+" ",u.baseId=h,s&&(r+=" if ("+c+") { ",l+="}"));return s&&(r+=f?" if (true) { ":" "+l.slice(0,-1)+" "),t.util.cleanUpCode(r)}},{}],17:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var g="valid"+d.level;if(o.every(function(e){return t.util.schemaHasRules(e,t.RULES.all)})){var v=d.baseId;r+=" var "+f+" = errors; var "+h+" = false;  ";var m=t.compositeRule;t.compositeRule=d.compositeRule=!0;var y=o;if(y)for(var x,b=-1,_=y.length-1;b<_;)x=y[b+=1],d.schema=x,d.schemaPath=s+"["+b+"]",d.errSchemaPath=u+"/"+b,r+="  "+t.validate(d)+" ",d.baseId=v,r+=" "+h+" = "+h+" || "+g+"; if (!"+h+") { ",p+="}";t.compositeRule=d.compositeRule=m,r+=" "+p+" if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&l&&(r+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } "),r=t.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},{}],18:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.errSchemaPath+"/"+e,a=t.util.toQuotedString(t.schema[e]);return!0===t.opts.$comment?r+=" console.log("+a+");":"function"==typeof t.opts.$comment&&(r+=" self._opts.$comment("+a+", "+t.util.toQuotedString(i)+", validate.root.schema);"),r}},{}],19:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f=t.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+s+";");var d=d||[];d.push(r+="var "+h+" = equal("+c+", schema"+i+"); if (!"+h+") {   "),r="",!1!==t.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to constant' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},{}],20:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,g="i"+i,v=d.dataLevel=t.dataLevel+1,m="data"+v,y=t.baseId,x=t.util.schemaHasRules(o,t.RULES.all);if(r+="var "+f+" = errors;var "+h+";",x){var b=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=o,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+p+" = false; for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers,!0);var _=c+"["+g+"]";d.dataPathArr[v]=g;var w=t.validate(d);d.baseId=y,t.util.varOccurences(w,m)<2?r+=" "+t.util.varReplace(w,m,_)+" ":r+=" var "+m+" = "+_+"; "+w+" ",r+=" if ("+p+") break; }  ",t.compositeRule=d.compositeRule=b,r+="  if (!"+p+") {"}else r+=" if ("+c+".length == 0) {";var S=S||[];S.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should contain a valid item' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var M=r;return r=S.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",x&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(r+=" } "),t.util.cleanUpCode(r)}},{}],21:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i,a=" ",o=t.level,s=t.dataLevel,u=t.schema[e],l=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,f="data"+(s||""),d="valid"+o,p="errs__"+o,g=t.opts.$data&&u&&u.$data;g?(a+=" var schema"+o+" = "+t.util.getData(u.$data,s,t.dataPathArr)+"; ",i="schema"+o):i=u;var v,m,y,x,b,_="definition"+o,w=this.definition,S="";if(g&&w.$data){var M=w.validateSchema;a+=" var "+_+" = RULES.custom['"+e+"'].definition; var "+(b="keywordValidate"+o)+" = "+_+".validate;"}else{if(!(x=t.useCustomRule(this,u,t.schema,t)))return;i="validate.schema"+l,b=x.code,v=w.compile,m=w.inline,y=w.macro}var O=b+".errors",C="i"+o,A="ruleErr"+o,I=w.async;if(I&&!t.async)throw new Error("async keyword in sync schema");if(m||y||(a+=O+" = null;"),a+="var "+p+" = errors;var "+d+";",g&&w.$data&&(S+="}",a+=" if ("+i+" === undefined) { "+d+" = true; } else { ",M&&(S+="}",a+=" "+d+" = "+_+".validateSchema("+i+"); if ("+d+") { ")),m)a+=w.statements?" "+x.validate+" ":" "+d+" = "+x.validate+"; ";else if(y){var T=t.util.copy(t);S="",T.level++;var E="valid"+T.level;T.schema=x.validate,T.schemaPath="";var j=t.compositeRule;t.compositeRule=T.compositeRule=!0;var P=t.validate(T).replace(/validate\.schema/g,b);t.compositeRule=T.compositeRule=j,a+=" "+P}else{(R=R||[]).push(a),a="",a+="  "+b+".call( ",a+=t.opts.passContext?"this":"self",a+=v||!1===w.schema?" , "+f+" ":" , "+i+" , "+f+" , validate.schema"+t.schemaPath+" ",a+=" , (dataPath || '')",'""'!=t.errorPath&&(a+=" + "+t.errorPath);var k=s?"data"+(s-1||""):"parentData",D=s?t.dataPathArr[s]:"parentDataProperty",L=a+=" , "+k+" , "+D+" , rootData )  ";a=R.pop(),!1===w.errors?(a+=" "+d+" = ",I&&(a+="await "),a+=L+"; "):a+=I?" var "+(O="customErrors"+o)+" = null; try { "+d+" = await "+L+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+O+" = e.errors; else throw e; } ":" "+O+" = null; "+d+" = "+L+"; "}if(w.modifying&&(a+=" if ("+k+") "+f+" = "+k+"["+D+"];"),a+=""+S,w.valid)h&&(a+=" if (true) { ");else{var R;a+=" if ( ",void 0===w.valid?(a+=" !",a+=y?""+E:""+d):a+=" "+!w.valid+" ",r=this.keyword,(R=R||[]).push(a+=") { "),(R=R||[]).push(a=""),a="",!1!==t.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==t.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),t.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var N=a;a=R.pop();var z=a+=!t.compositeRule&&h?t.async?" throw new ValidationError(["+N+"]); ":" validate.errors = ["+N+"]; return false; ":" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";a=R.pop(),m?w.errors?"full"!=w.errors&&(a+="  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(a+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),a+=" } "):!1===w.errors?a+=" "+z+" ":(a+=" if ("+p+" == errors) { "+z+" } else {  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(a+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),a+=" } } "):y?(a+="   var err =   ",!1!==t.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==t.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),t.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&h&&(a+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===w.errors?a+=" "+z+" ":(a+=" if (Array.isArray("+O+")) { if (vErrors === null) vErrors = "+O+"; else vErrors = vErrors.concat("+O+"); errors = vErrors.length;  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+t.errorPath+";  "+A+'.schemaPath = "'+c+'";  ',t.opts.verbose&&(a+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),a+=" } } else { "+z+" } "),a+=" } ",h&&(a+=" else { ")}return a}},{}],22:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,g={},v={},m=t.opts.ownProperties;for(_ in o){var y=o[_],x=Array.isArray(y)?v:g;x[_]=y}r+="var "+h+" = errors;";var b=t.errorPath;for(var _ in r+="var missing"+i+";",v)if((x=v[_]).length){if(r+=" if ( "+c+t.util.getProperty(_)+" !== undefined ",m&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(_)+"') "),l){r+=" && ( ";var w=x;if(w)for(var S=-1,M=w.length-1;S<M;)E=w[S+=1],S&&(r+=" || "),r+=" ( ( "+(D=c+(k=t.util.getProperty(E)))+" === undefined ",m&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(E)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?E:k)+") ) ";r+=")) {  ";var O="missing"+i,C="' + "+O+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(b,O,!0):b+" + "+O);var A=A||[];A.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(_)+"', missingProperty: '"+C+"', depsCount: "+x.length+", deps: '"+t.util.escapeQuotes(1==x.length?x[0]:x.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",r+=1==x.length?"property "+t.util.escapeQuotes(x[0]):"properties "+t.util.escapeQuotes(x.join(", ")),r+=" when property "+t.util.escapeQuotes(_)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var I=r;r=A.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+I+"]); ":" validate.errors = ["+I+"]; return false; ":" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var T=x;if(T)for(var E,j=-1,P=T.length-1;j<P;){E=T[j+=1];var k=t.util.getProperty(E),D=(C=t.util.escapeQuotes(E),c+k);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(b,E,t.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",m&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(E)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(_)+"', missingProperty: '"+C+"', depsCount: "+x.length+", deps: '"+t.util.escapeQuotes(1==x.length?x[0]:x.join(", "))+"' } ",!1!==t.opts.messages&&(r+=" , message: 'should have ",r+=1==x.length?"property "+t.util.escapeQuotes(x[0]):"properties "+t.util.escapeQuotes(x.join(", ")),r+=" when property "+t.util.escapeQuotes(_)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",l&&(d+="}",r+=" else { ")}t.errorPath=b;var L=f.baseId;for(var _ in g)t.util.schemaHasRules(y=g[_],t.RULES.all)&&(r+=" "+p+" = true; if ( "+c+t.util.getProperty(_)+" !== undefined ",m&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(_)+"') "),r+=") { ",f.schema=y,f.schemaPath=s+t.util.getProperty(_),f.errSchemaPath=u+"/"+t.util.escapeFragment(_),r+="  "+t.validate(f)+" ",f.baseId=L,r+=" }  ",l&&(r+=" if ("+p+") { ",d+="}"));return l&&(r+="   "+d+" if ("+h+" == errors) {"),t.util.cleanUpCode(r)}},{}],23:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f=t.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ");var d="i"+i,p="schema"+i;f||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+h+";",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=h+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+c+", "+p+"["+d+"])) { "+h+" = true; break; }",f&&(r+="  }  ");var g=g||[];g.push(r+=" if (!"+h+") {   "),r="",!1!==t.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==t.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;return r=g.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},{}],24:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||"");if(!1===t.opts.format)return l&&(r+=" if (true) { "),r;var h,f=t.opts.$data&&o&&o.$data;f?(r+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o;var d=t.opts.unknownFormats,p=Array.isArray(d);if(f)r+=" var "+(g="format"+i)+" = formats["+h+"]; var "+(v="isObject"+i)+" = typeof "+g+" == 'object' && !("+g+" instanceof RegExp) && "+g+".validate; var "+(m="formatType"+i)+" = "+v+" && "+g+".type || 'string'; if ("+v+") { ",t.async&&(r+=" var async"+i+" = "+g+".async; "),r+=" "+g+" = "+g+".validate; } if (  ",f&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+h+" && !"+g+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+g+" && "+m+" == '"+n+"' && !(typeof "+g+" == 'function' ? ",r+=t.async?" (async"+i+" ? await "+g+"("+c+") : "+g+"("+c+")) ":" "+g+"("+c+") ",r+=" : "+g+".test("+c+"))))) {";else{var g;if(!(g=t.formats[o])){if("ignore"==d)return t.logger.warn('unknown format "'+o+'" ignored in schema at path "'+t.errSchemaPath+'"'),l&&(r+=" if (true) { "),r;if(p&&d.indexOf(o)>=0)return l&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+t.errSchemaPath+'"')}var v,m=(v="object"==typeof g&&!(g instanceof RegExp)&&g.validate)&&g.type||"string";if(v){var y=!0===g.async;g=g.validate}if(m!=n)return l&&(r+=" if (true) { "),r;if(y){if(!t.async)throw new Error("async format in sync schema");r+=" if (!(await "+(x="formats"+t.util.getProperty(o)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var x="formats"+t.util.getProperty(o);v&&(x+=".validate"),r+="function"==typeof g?" "+x+"("+c+") ":" "+x+".test("+c+") ",r+=") { "}}var b=b||[];b.push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { format:  ",r+=f?""+h:""+t.util.toQuotedString(o),r+="  } ",!1!==t.opts.messages&&(r+=" , message: 'should match format \"",r+=f?"' + "+h+" + '":""+t.util.escapeQuotes(o),r+="\"' "),t.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+t.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var _=r;return r=b.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},{}],25:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,g=t.schema.then,v=t.schema.else,m=void 0!==g&&t.util.schemaHasRules(g,t.RULES.all),y=void 0!==v&&t.util.schemaHasRules(v,t.RULES.all),x=d.baseId;if(m||y){var b;d.createErrors=!1,d.schema=o,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+f+" = errors; var "+h+" = true;  ";var _=t.compositeRule;t.compositeRule=d.compositeRule=!0,r+="  "+t.validate(d)+" ",d.baseId=x,d.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=d.compositeRule=_,m?(r+=" if ("+p+") {  ",d.schema=t.schema.then,d.schemaPath=t.schemaPath+".then",d.errSchemaPath=t.errSchemaPath+"/then",r+="  "+t.validate(d)+" ",d.baseId=x,r+=" "+h+" = "+p+"; ",m&&y?r+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+p+") { ",y&&(d.schema=t.schema.else,d.schemaPath=t.schemaPath+".else",d.errSchemaPath=t.errSchemaPath+"/else",r+="  "+t.validate(d)+" ",d.baseId=x,r+=" "+h+" = "+p+"; ",m&&y?r+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { failingKeyword: "+b+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match \"' + "+b+" + '\" schema' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&l&&(r+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" }   ",l&&(r+=" else { "),r=t.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},{}],26:[function(t,e,n){"use strict";e.exports={$ref:t("./ref"),allOf:t("./allOf"),anyOf:t("./anyOf"),$comment:t("./comment"),const:t("./const"),contains:t("./contains"),dependencies:t("./dependencies"),enum:t("./enum"),format:t("./format"),if:t("./if"),items:t("./items"),maximum:t("./_limit"),minimum:t("./_limit"),maxItems:t("./_limitItems"),minItems:t("./_limitItems"),maxLength:t("./_limitLength"),minLength:t("./_limitLength"),maxProperties:t("./_limitProperties"),minProperties:t("./_limitProperties"),multipleOf:t("./multipleOf"),not:t("./not"),oneOf:t("./oneOf"),pattern:t("./pattern"),properties:t("./properties"),propertyNames:t("./propertyNames"),required:t("./required"),uniqueItems:t("./uniqueItems"),validate:t("./validate")}},{"./_limit":12,"./_limitItems":13,"./_limitLength":14,"./_limitProperties":15,"./allOf":16,"./anyOf":17,"./comment":18,"./const":19,"./contains":20,"./dependencies":22,"./enum":23,"./format":24,"./if":25,"./items":27,"./multipleOf":28,"./not":29,"./oneOf":30,"./pattern":31,"./properties":32,"./propertyNames":33,"./ref":34,"./required":35,"./uniqueItems":36,"./validate":37}],27:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var g="valid"+d.level,v="i"+i,m=d.dataLevel=t.dataLevel+1,y="data"+m,x=t.baseId;if(r+="var "+f+" = errors;var "+h+";",Array.isArray(o)){var b=t.schema.additionalItems;if(!1===b){r+=" "+h+" = "+c+".length <= "+o.length+"; ";var _=u;u=t.errSchemaPath+"/additionalItems";var w=w||[];w.push(r+="  if (!"+h+") {   "),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==t.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var S=r;r=w.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=_,l&&(p+="}",r+=" else { ")}var M=o;if(M)for(var O,C=-1,A=M.length-1;C<A;)if(O=M[C+=1],t.util.schemaHasRules(O,t.RULES.all)){r+=" "+g+" = true; if ("+c+".length > "+C+") { ";var I=c+"["+C+"]";d.schema=O,d.schemaPath=s+"["+C+"]",d.errSchemaPath=u+"/"+C,d.errorPath=t.util.getPathExpr(t.errorPath,C,t.opts.jsonPointers,!0),d.dataPathArr[m]=C;var T=t.validate(d);d.baseId=x,t.util.varOccurences(T,y)<2?r+=" "+t.util.varReplace(T,y,I)+" ":r+=" var "+y+" = "+I+"; "+T+" ",r+=" }  ",l&&(r+=" if ("+g+") { ",p+="}")}"object"==typeof b&&t.util.schemaHasRules(b,t.RULES.all)&&(d.schema=b,d.schemaPath=t.schemaPath+".additionalItems",d.errSchemaPath=t.errSchemaPath+"/additionalItems",r+=" "+g+" = true; if ("+c+".length > "+o.length+") {  for (var "+v+" = "+o.length+"; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0),I=c+"["+v+"]",d.dataPathArr[m]=v,T=t.validate(d),d.baseId=x,t.util.varOccurences(T,y)<2?r+=" "+t.util.varReplace(T,y,I)+" ":r+=" var "+y+" = "+I+"; "+T+" ",l&&(r+=" if (!"+g+") break; "),r+=" } }  ",l&&(r+=" if ("+g+") { ",p+="}"))}else t.util.schemaHasRules(o,t.RULES.all)&&(d.schema=o,d.schemaPath=s,d.errSchemaPath=u,r+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0),I=c+"["+v+"]",d.dataPathArr[m]=v,T=t.validate(d),d.baseId=x,t.util.varOccurences(T,y)<2?r+=" "+t.util.varReplace(T,y,I)+" ":r+=" var "+y+" = "+I+"; "+T+" ",l&&(r+=" if (!"+g+") break; "),r+=" }");return l&&(r+=" "+p+" if ("+f+" == errors) {"),t.util.cleanUpCode(r)}},{}],28:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=" ",a=t.level,o=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",r="schema"+a):r=s,i+="var division"+a+";if (",f&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+a+" = "+h+" / "+r+", ",i+=t.opts.multipleOfPrecision?" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+t.opts.multipleOfPrecision+" ":" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",f&&(i+="  )  ");var d=d||[];d.push(i+=" ) {   "),i="",!1!==t.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { multipleOf: "+r+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+r:r+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},{}],29:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(t.util.schemaHasRules(o,t.RULES.all)){f.schema=o,f.schemaPath=s,f.errSchemaPath=u,r+=" var "+h+" = errors;  ";var p,g=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+t.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),t.compositeRule=f.compositeRule=g;var v=v||[];v.push(r+=" if ("+d+") {   "),r="",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var m=r;r=v.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ");return r}},{}],30:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f="errs__"+i,d=t.util.copy(t),p="";d.level++;var g="valid"+d.level,v=d.baseId,m="prevValid"+i,y="passingSchemas"+i;r+="var "+f+" = errors , "+m+" = false , "+h+" = false , "+y+" = null; ";var x=t.compositeRule;t.compositeRule=d.compositeRule=!0;var b=o;if(b)for(var _,w=-1,S=b.length-1;w<S;)_=b[w+=1],t.util.schemaHasRules(_,t.RULES.all)?(d.schema=_,d.schemaPath=s+"["+w+"]",d.errSchemaPath=u+"/"+w,r+="  "+t.validate(d)+" ",d.baseId=v):r+=" var "+g+" = true; ",w&&(r+=" if ("+g+" && "+m+") { "+h+" = false; "+y+" = ["+y+", "+w+"]; } else { ",p+="}"),r+=" if ("+g+") { "+h+" = "+m+" = true; "+y+" = "+w+"; }";return t.compositeRule=d.compositeRule=x,r+=p+"if (!"+h+") {   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { passingSchemas: "+y+" } ",!1!==t.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&l&&(r+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(r+=" } "),r}},{}],31:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=" ",a=t.level,o=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(o||""),f=t.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",r="schema"+a):r=s;var d=f?"(new RegExp("+r+"))":t.usePattern(s);i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || ");var p=p||[];p.push(i+=" !"+d+".test("+h+") ) {   "),i="",!1!==t.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { pattern:  ",i+=f?""+r:""+t.util.toQuotedString(s),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+r+" + '":""+t.util.escapeQuotes(s),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+t.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;return i=p.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},{}],32:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="errs__"+i,f=t.util.copy(t),d="";f.level++;var p="valid"+f.level,g="key"+i,v="idx"+i,m=f.dataLevel=t.dataLevel+1,y="data"+m,x="dataProperties"+i,b=Object.keys(o||{}),_=t.schema.patternProperties||{},w=Object.keys(_),S=t.schema.additionalProperties,M=b.length||w.length,O=!1===S,C="object"==typeof S&&Object.keys(S).length,A=t.opts.removeAdditional,I=O||C||A,T=t.opts.ownProperties,E=t.baseId,j=t.schema.required;if(j&&(!t.opts.$data||!j.$data)&&j.length<t.opts.loopRequired)var P=t.util.toHash(j);if(r+="var "+h+" = errors;var "+p+" = true;",T&&(r+=" var "+x+" = undefined;"),I){if(r+=T?" "+x+" = "+x+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+x+".length; "+v+"++) { var "+g+" = "+x+"["+v+"]; ":" for (var "+g+" in "+c+") { ",M){if(r+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+g+") ";else{var k=b;if(k)for(var D=-1,L=k.length-1;D<L;)X=k[D+=1],r+=" || "+g+" == "+t.util.toQuotedString(X)+" "}if(w.length){var R=w;if(R)for(var N=-1,z=R.length-1;N<z;)rt=R[N+=1],r+=" || "+t.usePattern(rt)+".test("+g+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==A)r+=" delete "+c+"["+g+"]; ";else{var B=t.errorPath,F="' + "+g+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers)),O)if(A)r+=" delete "+c+"["+g+"]; ";else{var V=u;u=t.errSchemaPath+"/additionalProperties",(tt=tt||[]).push(r+=" "+p+" = false; "),r="",!1!==t.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { additionalProperty: '"+F+"' } ",!1!==t.opts.messages&&(r+=" , message: '",r+=t.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",r+="' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var G=r;r=tt.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+G+"]); ":" validate.errors = ["+G+"]; return false; ":" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=V,l&&(r+=" break; ")}else if(C)if("failing"==A){r+=" var "+h+" = errors;  ";var H=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=S,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var W=c+"["+g+"]";f.dataPathArr[m]=g;var q=t.validate(f);f.baseId=E,t.util.varOccurences(q,y)<2?r+=" "+t.util.varReplace(q,y,W)+" ":r+=" var "+y+" = "+W+"; "+q+" ",r+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+g+"]; }  ",t.compositeRule=f.compositeRule=H}else f.schema=S,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers),W=c+"["+g+"]",f.dataPathArr[m]=g,q=t.validate(f),f.baseId=E,t.util.varOccurences(q,y)<2?r+=" "+t.util.varReplace(q,y,W)+" ":r+=" var "+y+" = "+W+"; "+q+" ",l&&(r+=" if (!"+p+") break; ");t.errorPath=B}M&&(r+=" } "),r+=" }  ",l&&(r+=" if ("+p+") { ",d+="}")}var U=t.opts.useDefaults&&!t.compositeRule;if(b.length){var Y=b;if(Y)for(var X,Z=-1,$=Y.length-1;Z<$;){if(X=Y[Z+=1],t.util.schemaHasRules(ot=o[X],t.RULES.all)){var Q=t.util.getProperty(X),J=(W=c+Q,U&&void 0!==ot.default);if(f.schema=ot,f.schemaPath=s+Q,f.errSchemaPath=u+"/"+t.util.escapeFragment(X),f.errorPath=t.util.getPath(t.errorPath,X,t.opts.jsonPointers),f.dataPathArr[m]=t.util.toQuotedString(X),q=t.validate(f),f.baseId=E,t.util.varOccurences(q,y)<2){q=t.util.varReplace(q,y,W);var K=W}else K=y,r+=" var "+y+" = "+W+"; ";if(J)r+=" "+q+" ";else{if(P&&P[X]){r+=" if ( "+K+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(X)+"') "),r+=") { "+p+" = false; ",B=t.errorPath,V=u;var tt,et=t.util.escapeQuotes(X);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(B,X,t.opts.jsonPointers)),u=t.errSchemaPath+"/required",(tt=tt||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+et+"' } ",!1!==t.opts.messages&&(r+=" , message: '",r+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+et+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",G=r,r=tt.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+G+"]); ":" validate.errors = ["+G+"]; return false; ":" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=V,t.errorPath=B,r+=" } else { "}else l?(r+=" if ( "+K+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(X)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+K+" !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(X)+"') "),r+=" ) { ");r+=" "+q+" } "}}l&&(r+=" if ("+p+") { ",d+="}")}}if(w.length){var nt=w;if(nt)for(var rt,it=-1,at=nt.length-1;it<at;){var ot;rt=nt[it+=1],t.util.schemaHasRules(ot=_[rt],t.RULES.all)&&(f.schema=ot,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(rt),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(rt),r+=T?" "+x+" = "+x+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+x+".length; "+v+"++) { var "+g+" = "+x+"["+v+"]; ":" for (var "+g+" in "+c+") { ",r+=" if ("+t.usePattern(rt)+".test("+g+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers),W=c+"["+g+"]",f.dataPathArr[m]=g,q=t.validate(f),f.baseId=E,t.util.varOccurences(q,y)<2?r+=" "+t.util.varReplace(q,y,W)+" ":r+=" var "+y+" = "+W+"; "+q+" ",l&&(r+=" if (!"+p+") break; "),r+=" } ",l&&(r+=" else "+p+" = true; "),r+=" }  ",l&&(r+=" if ("+p+") { ",d+="}"))}}return l&&(r+=" "+d+" if ("+h+" == errors) {"),t.util.cleanUpCode(r)}},{}],33:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="errs__"+i,f=t.util.copy(t);f.level++;var d="valid"+f.level;if(t.util.schemaHasRules(o,t.RULES.all)){f.schema=o,f.schemaPath=s,f.errSchemaPath=u;var p="key"+i,g="idx"+i,v="i"+i,m="' + "+p+" + '",y="data"+(f.dataLevel=t.dataLevel+1),x="dataProperties"+i,b=t.opts.ownProperties,_=t.baseId;r+=" var "+h+" = errors; ",b&&(r+=" var "+x+" = undefined; "),r+=b?" "+x+" = "+x+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+x+".length; "+g+"++) { var "+p+" = "+x+"["+g+"]; ":" for (var "+p+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var w=p,S=t.compositeRule;t.compositeRule=f.compositeRule=!0;var M=t.validate(f);f.baseId=_,t.util.varOccurences(M,y)<2?r+=" "+t.util.varReplace(M,y,w)+" ":r+=" var "+y+" = "+w+"; "+M+" ",t.compositeRule=f.compositeRule=S,r+=" if (!"+d+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+p+"; }   var err =   ",!1!==t.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { propertyName: '"+m+"' } ",!1!==t.opts.messages&&(r+=" , message: 'property name \\'"+m+"\\' is invalid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&l&&(r+=t.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),l&&(r+=" break; "),r+=" } }"}return l&&(r+="  if ("+h+" == errors) {"),t.util.cleanUpCode(r)}},{}],34:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i,a=" ",o=t.dataLevel,s=t.schema[e],u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(o||""),h="valid"+t.level;if("#"==s||"#/"==s)t.isRoot?(r=t.async,i="validate"):(r=!0===t.root.schema.$async,i="root.refVal[0]");else{var f=t.resolveRef(t.baseId,s,t.isRoot);if(void 0===f){var d=t.MissingRefError.message(t.baseId,s);if("fail"==t.opts.missingRefs){t.logger.error(d),(m=m||[]).push(a),a="",!1!==t.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { ref: '"+t.util.escapeQuotes(s)+"' } ",!1!==t.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(s)+"' "),t.opts.verbose&&(a+=" , schema: "+t.util.toQuotedString(s)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var p=a;a=m.pop(),a+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(a+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,s,d);t.logger.warn(d),l&&(a+=" if (true) { ")}}else if(f.inline){var g=t.util.copy(t);g.level++;var v="valid"+g.level;g.schema=f.schema,g.schemaPath="",g.errSchemaPath=s,a+=" "+t.validate(g).replace(/validate\.schema/g,f.code)+" ",l&&(a+=" if ("+v+") { ")}else r=!0===f.$async||t.async&&!1!==f.$async,i=f.code}if(i){var m;(m=m||[]).push(a),a="",a+=t.opts.passContext?" "+i+".call(this, ":" "+i+"( ",a+=" "+c+", (dataPath || '')",'""'!=t.errorPath&&(a+=" + "+t.errorPath);var y=a+=" , "+(o?"data"+(o-1||""):"parentData")+" , "+(o?t.dataPathArr[o]:"parentDataProperty")+", rootData)  ";if(a=m.pop(),r){if(!t.async)throw new Error("async schema referenced by sync schema");l&&(a+=" var "+h+"; "),a+=" try { await "+y+"; ",l&&(a+=" "+h+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(a+=" "+h+" = false; "),a+=" } ",l&&(a+=" if ("+h+") { ")}else a+=" if (!"+y+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(a+=" else { ")}return a}},{}],35:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=" ",i=t.level,a=t.dataLevel,o=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,l=!t.opts.allErrors,c="data"+(a||""),h="valid"+i,f=t.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ");var d="schema"+i;if(!f)if(o.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],g=o;if(g)for(var v,m=-1,y=g.length-1;m<y;){v=g[m+=1];var x=t.schema.properties[v];x&&t.util.schemaHasRules(x,t.RULES.all)||(p[p.length]=v)}}else p=o;if(f||p.length){var b=t.errorPath,_=f||p.length>=t.opts.loopRequired,w=t.opts.ownProperties;if(l)if(r+=" var missing"+i+"; ",_){f||(r+=" var "+d+" = validate.schema"+s+"; ");var S="' + "+(T="schema"+i+"["+(A="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(b,T,t.opts.jsonPointers)),r+=" var "+h+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=" for (var "+A+" = 0; "+A+" < "+d+".length; "+A+"++) { "+h+" = "+c+"["+d+"["+A+"]] !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+d+"["+A+"]) "),r+="; if (!"+h+") break; } ",f&&(r+="  }  "),(O=O||[]).push(r+="  if (!"+h+") {   "),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(r+=" , message: '",r+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var M=r;r=O.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var O,C=p;if(C)for(var A=-1,I=C.length-1;A<I;)j=C[A+=1],A&&(r+=" || "),r+=" ( ( "+(L=c+(D=t.util.getProperty(j)))+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(j)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?j:D)+") ) ";r+=") {  ",S="' + "+(T="missing"+i)+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(b,T,!0):b+" + "+T),(O=O||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(r+=" , message: '",r+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",M=r,r=O.pop(),r+=!t.compositeRule&&l?t.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(_){var T;f||(r+=" var "+d+" = validate.schema"+s+"; "),S="' + "+(T="schema"+i+"["+(A="i"+i)+"]")+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(b,T,t.opts.jsonPointers)),f&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(r+=" , message: '",r+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+A+" = 0; "+A+" < "+d+".length; "+A+"++) { if ("+c+"["+d+"["+A+"]] === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+d+"["+A+"]) "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(r+=" , message: '",r+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var E=p;if(E)for(var j,P=-1,k=E.length-1;P<k;){j=E[P+=1];var D=t.util.getProperty(j),L=(S=t.util.escapeQuotes(j),c+D);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(b,j,t.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+t.util.escapeQuotes(j)+"') "),r+=") {  var err =   ",!1!==t.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(r+=" , message: '",r+=t.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=b}else l&&(r+=" if (true) {");return r}},{}],36:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=" ",a=t.level,o=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),l=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,h="data"+(o||""),f="valid"+a,d=t.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+a+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",r="schema"+a):r=s,(s||d)&&!1!==t.opts.uniqueItems){d&&(i+=" var "+f+"; if ("+r+" === false || "+r+" === undefined) "+f+" = true; else if (typeof "+r+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var p=t.schema.items&&t.schema.items.type,g=Array.isArray(p);!p||"object"==p||"array"==p||g&&(p.indexOf("object")>=0||p.indexOf("array")>=0)?i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ":(i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ",i+=" if ("+t.util["checkDataType"+(g?"s":"")](p,"item",!0)+") continue; ",g&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),i+=" } ",d&&(i+="  }  ");var v=v||[];v.push(i+=" if (!"+f+") {   "),i="",!1!==t.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;i=v.pop(),i+=!t.compositeRule&&c?t.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},{}],37:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r="",i=!0===t.schema.$async,a=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),o=t.self._getId(t.schema);if(t.isTop&&(r+=" var validate = ",i&&(t.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(t.opts.sourceCode||t.opts.processCode)&&(r+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof t.schema||!a&&!t.schema.$ref){var s=t.level,u=t.dataLevel,l=t.schema["false schema"],c=t.schemaPath+t.util.getProperty("false schema"),h=t.errSchemaPath+"/false schema",f=!t.opts.allErrors,d="data"+(u||""),p="valid"+s;if(!1===t.schema){t.isTop?f=!0:r+=" var "+p+" = false; ",(G=G||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: {} ",!1!==t.opts.messages&&(r+=" , message: 'boolean schema is false' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var g=r;r=G.pop(),r+=!t.compositeRule&&f?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else r+=t.isTop?i?" return data; ":" validate.errors = null; return true; ":" var "+p+" = true; ";return t.isTop&&(r+=" }; return validate; "),r}if(t.isTop){var v=t.isTop;s=t.level=0,u=t.dataLevel=0,d="data",t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[void 0],r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(s=t.level,d="data"+((u=t.dataLevel)||""),o&&(t.baseId=t.resolve.url(t.baseId,o)),i&&!t.async)throw new Error("async schema in sync schema");r+=" var errs_"+s+" = errors;"}p="valid"+s,f=!t.opts.allErrors;var m="",y="",x=t.schema.type,b=Array.isArray(x);if(b&&1==x.length&&(x=x[0],b=!1),t.schema.$ref&&a){if("fail"==t.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');!0!==t.opts.extendRefs&&(a=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(r+=" "+t.RULES.all.$comment.code(t,"$comment")),x){if(t.opts.coerceTypes)var _=t.util.coerceToTypes(t.opts.coerceTypes,x);var w=t.RULES.types[x];if(_||b||!0===w||w&&!X(w)){if(c=t.schemaPath+".type",h=t.errSchemaPath+"/type",c=t.schemaPath+".type",h=t.errSchemaPath+"/type",r+=" if ("+t.util[b?"checkDataTypes":"checkDataType"](x,d,!0)+") { ",_){var S="dataType"+s,M="coerced"+s;r+=" var "+S+" = typeof "+d+"; ","array"==t.opts.coerceTypes&&(r+=" if ("+S+" == 'object' && Array.isArray("+d+")) "+S+" = 'array'; "),r+=" var "+M+" = undefined; ";var O="",C=_;if(C)for(var A,I=-1,T=C.length-1;I<T;)A=C[I+=1],I&&(r+=" if ("+M+" === undefined) { ",O+="}"),"array"==t.opts.coerceTypes&&"array"!=A&&(r+=" if ("+S+" == 'array' && "+d+".length == 1) { "+M+" = "+d+" = "+d+"[0]; "+S+" = typeof "+d+";  } "),"string"==A?r+=" if ("+S+" == 'number' || "+S+" == 'boolean') "+M+" = '' + "+d+"; else if ("+d+" === null) "+M+" = ''; ":"number"==A||"integer"==A?(r+=" if ("+S+" == 'boolean' || "+d+" === null || ("+S+" == 'string' && "+d+" && "+d+" == +"+d+" ","integer"==A&&(r+=" && !("+d+" % 1)"),r+=")) "+M+" = +"+d+"; "):"boolean"==A?r+=" if ("+d+" === 'false' || "+d+" === 0 || "+d+" === null) "+M+" = false; else if ("+d+" === 'true' || "+d+" === 1) "+M+" = true; ":"null"==A?r+=" if ("+d+" === '' || "+d+" === 0 || "+d+" === false) "+M+" = null; ":"array"==t.opts.coerceTypes&&"array"==A&&(r+=" if ("+S+" == 'string' || "+S+" == 'number' || "+S+" == 'boolean' || "+d+" == null) "+M+" = ["+d+"]; ");(G=G||[]).push(r+=" "+O+" if ("+M+" === undefined) {   "),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",r+=b?""+x.join(","):""+x,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=b?""+x.join(","):""+x,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",g=r,r=G.pop(),r+=!t.compositeRule&&f?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var E=u?"data"+(u-1||""):"parentData";r+=" "+d+" = "+M+"; ",u||(r+="if ("+E+" !== undefined)"),r+=" "+E+"["+(u?t.dataPathArr[u]:"parentDataProperty")+"] = "+M+"; } "}else(G=G||[]).push(r),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",r+=b?""+x.join(","):""+x,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=b?""+x.join(","):""+x,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",g=r,r=G.pop(),r+=!t.compositeRule&&f?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(t.schema.$ref&&!a)r+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",f&&(r+=" } if (errors === ",r+=v?"0":"errs_"+s,r+=") { ",y+="}");else{var j=t.RULES;if(j)for(var P=-1,k=j.length-1;P<k;)if(X(w=j[P+=1])){if(w.type&&(r+=" if ("+t.util.checkDataType(w.type,d)+") { "),t.opts.useDefaults&&!t.compositeRule)if("object"==w.type&&t.schema.properties){l=t.schema.properties;var D=Object.keys(l);if(D)for(var L,R=-1,N=D.length-1;R<N;)void 0!==(B=l[L=D[R+=1]]).default&&(r+="  if ("+(V=d+t.util.getProperty(L))+" === undefined) "+V+" = ",r+="shared"==t.opts.useDefaults?" "+t.useDefault(B.default)+" ":" "+JSON.stringify(B.default)+" ",r+="; ")}else if("array"==w.type&&Array.isArray(t.schema.items)){var z=t.schema.items;if(z){I=-1;for(var B,F=z.length-1;I<F;){var V;void 0!==(B=z[I+=1]).default&&(r+="  if ("+(V=d+"["+I+"]")+" === undefined) "+V+" = ",r+="shared"==t.opts.useDefaults?" "+t.useDefault(B.default)+" ":" "+JSON.stringify(B.default)+" ",r+="; ")}}}var G,H=w.rules;if(H)for(var W,q=-1,U=H.length-1;q<U;)if(Z(W=H[q+=1])){var Y=W.code(t,W.keyword,w.type);Y&&(r+=" "+Y+" ",f&&(m+="}"))}f&&(r+=" "+m+" ",m=""),w.type&&(r+=" } ",x&&x===w.type&&!_)&&(c=t.schemaPath+".type",h=t.errSchemaPath+"/type",(G=G||[]).push(r+=" else { "),r="",!1!==t.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",r+=b?""+x.join(","):""+x,r+="' } ",!1!==t.opts.messages&&(r+=" , message: 'should be ",r+=b?""+x.join(","):""+x,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",g=r,r=G.pop(),r+=!t.compositeRule&&f?t.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),f&&(r+=" if (errors === ",r+=v?"0":"errs_"+s,r+=") { ",y+="}")}}function X(t){for(var e=t.rules,n=0;n<e.length;n++)if(Z(e[n]))return!0}function Z(e){return void 0!==t.schema[e.keyword]||e.implements&&function(e){for(var n=e.implements,r=0;r<n.length;r++)if(void 0!==t.schema[n[r]])return!0}(e)}return f&&(r+=" "+y+" "),v?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+p+" = errors === errs_"+s+";",r=t.util.cleanUpCode(r),v&&(r=t.util.finalCleanUpCode(r,i)),r}},{}],38:[function(t,e,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=t("./dotjs/custom");e.exports={add:function(t,e){var n=this.RULES;if(n.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!r.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){if(e.macro&&void 0!==e.valid)throw new Error('"valid" option cannot be used with macro keywords');var a=e.type;if(Array.isArray(a)){var o,s=a.length;for(o=0;o<s;o++)h(a[o]);for(o=0;o<s;o++)c(t,a[o],e)}else a&&h(a),c(t,a,e);var u=!0===e.$data&&this._opts.$data;if(u&&!e.validate)throw new Error('$data support: "validate" function is not defined');var l=e.metaSchema;l&&(u&&(l={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(l,!0))}function c(t,e,r){for(var a,o=0;o<n.length;o++){var s=n[o];if(s.type==e){a=s;break}}a||n.push(a={type:e,rules:[]});var u={keyword:t,definition:r,custom:!0,code:i,implements:r.implements};a.rules.push(u),n.custom[t]=u}function h(t){if(!n.types[t])throw new Error("Unknown type "+t)}return n.keywords[t]=n.all[t]=!0,this},get:function(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1},remove:function(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var n=0;n<e.length;n++)for(var r=e[n].rules,i=0;i<r.length;i++)if(r[i].keyword==t){r.splice(i,1);break}return this}}},{"./dotjs/custom":21}],39:[function(t,e,n){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],40:[function(t,e,n){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],41:[function(t,e,n){"use strict";var r=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function t(e,n){if(e===n)return!0;var o,s,u,l=r(e),c=r(n);if(l&&c){if((s=e.length)!=n.length)return!1;for(o=0;o<s;o++)if(!t(e[o],n[o]))return!1;return!0}if(l!=c)return!1;var h=e instanceof Date,f=n instanceof Date;if(h!=f)return!1;if(h&&f)return e.getTime()==n.getTime();var d=e instanceof RegExp,p=n instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==n.toString();if(e instanceof Object&&n instanceof Object){var g=i(e);if((s=g.length)!==i(n).length)return!1;for(o=0;o<s;o++)if(!a.call(n,g[o]))return!1;for(o=0;o<s;o++)if(!t(e[u=g[o]],n[u]))return!1;return!0}return!1}},{}],42:[function(t,e,n){"use strict";e.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(n=e.cmp,function(t){return function(e,r){return n({key:e,value:t[e]},{key:r,value:t[r]})}}),a=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,o;if(Array.isArray(e)){for(o="[",n=0;n<e.length;n++)n&&(o+=","),o+=t(e[n])||"null";return o+"]"}if(null===e)return"null";if(-1!==a.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(o="",n=0;n<u.length;n++){var l=u[n],c=t(e[l]);c&&(o&&(o+=","),o+=JSON.stringify(l)+":"+c)}return a.splice(s,1),"{"+o+"}"}}(t)}},{}],43:[function(t,e,n){"use strict";var r=e.exports=function(t,e,n){"function"==typeof e&&(n=e,e={}),function t(e,n,i,a,o,s,u,l,c){if(i&&"object"==typeof i&&!Array.isArray(i))for(var h in n(i,a,o,s,u,l,c),i){var f=i[h];if(Array.isArray(f)){if(h in r.arrayKeywords)for(var d=0;d<f.length;d++)t(e,n,f[d],a+"/"+h+"/"+d,o,a,h,i,d)}else if(h in r.propsKeywords){if(f&&"object"==typeof f)for(var p in f)t(e,n,f[p],a+"/"+h+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),o,a,h,i,p)}else(h in r.keywords||e.allKeys&&!(h in r.skipKeywords))&&t(e,n,f,a+"/"+h,o,a,h,i)}}(e,n,t,"",t)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],44:[function(t,e,n){!function(t){"use strict";function e(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,i=1;i<r;++i)e[i]=e[i].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function n(t){return"(?:"+t+")"}function r(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function i(t){return t.toUpperCase()}function a(t){var r=e("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=e("[\\:\\/\\?\\#\\[\\]\\@]",a),s=t?"[\\uE000-\\uF8FF]":"[]",u=e("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=n("[A-Za-z]"+e("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),c=n(n(i+"|"+e(u,a,"[\\:]"))+"*"),h=n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),f=n(h+"\\."+h+"\\."+h+"\\."+h),d=n(r+"{1,4}"),p=n(n(d+"\\:"+d)+"|"+f),g=n(n(d+"\\:")+"{6}"+p),v=n("\\:\\:"+n(d+"\\:")+"{5}"+p),m=n(n(d)+"?\\:\\:"+n(d+"\\:")+"{4}"+p),y=n(n(n(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+n(d+"\\:")+"{3}"+p),x=n(n(n(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+n(d+"\\:")+"{2}"+p),b=n(n(n(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+p),_=n(n(n(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+p),w=n(n(n(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),S=n(n(n(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),M=n([g,v,m,y,x,b,_,w,S].join("|")),O=n("[vV]"+r+"+\\."+e(u,a,"[\\:]")+"+"),C=n("\\["+n(M+"|"+O)+"\\]"),A=n(n(i+"|"+e(u,a))+"*"),I=n(C+"|"+f+"(?!"+A+")|"+A),T=n("[0-9]*"),E=n(n(c+"@")+"?"+I+n("\\:"+T)+"?"),j=n(i+"|"+e(u,a,"[\\:\\@]")),P=n(j+"*"),k=n(j+"+"),D=n(n(i+"|"+e(u,a,"[\\@]"))+"+"),L=n(n("\\/"+P)+"*"),R=n("\\/"+n(k+L)+"?"),N=n(D+L),z=n(k+L),B="(?!"+j+")",F=(n(L+"|"+R+"|"+N+"|"+z+"|"+B),n(n(j+"|"+e("[\\/\\?]",s))+"*")),V=n(n(j+"|[\\/\\?]")+"*"),G=n(n("\\/\\/"+E+L)+"|"+R+"|"+z+"|"+B),H=n(l+"\\:"+G+n("\\?"+F)+"?"+n("\\#"+V)+"?"),W=n(n("\\/\\/"+E+L)+"|"+R+"|"+N+"|"+B),q=n(W+n("\\?"+F)+"?"+n("\\#"+V)+"?");return n(H+"|"+q),n(l+"\\:"+G+n("\\?"+F)+"?"),n(n("\\/\\/("+n("("+c+")@")+"?("+I+")"+n("\\:("+T+")")+"?)")+"?("+L+"|"+R+"|"+z+"|"+B+")"),n("\\?("+F+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+I+")"+n("\\:("+T+")")+"?)")+"?("+L+"|"+R+"|"+N+"|"+B+")"),n("\\?("+F+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+I+")"+n("\\:("+T+")")+"?)")+"?("+L+"|"+R+"|"+z+"|"+B+")"),n("\\?("+F+")"),n("\\#("+V+")"),n("("+c+")@"),n("\\:("+T+")"),{NOT_SCHEME:new RegExp(e("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(e("[^\\%]",u,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",u,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV6ADDRESS:new RegExp("\\[?("+M+")\\]?","g")}}var o=a(!1),s=a(!0),u=2147483647,l=/^xn--/,c=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function g(t){throw new RangeError(f[t])}function v(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]);var i=function(t,e){for(var n=[],r=t.length;r--;)n[r]=e(t[r]);return n}((t=t.replace(h,".")).split("."),e).join(".");return r+i}function m(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),n--)}else e.push(i)}return e}var y=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},x=function(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=36)t=d(t/35);return d(r+36*t/(t+38))},b=function(t){var e,n=[],r=t.length,i=0,a=128,o=72,s=t.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)t.charCodeAt(l)>=128&&g("not-basic"),n.push(t.charCodeAt(l));for(var c=s>0?s+1:0;c<r;){for(var h=i,f=1,p=36;;p+=36){c>=r&&g("invalid-input");var v=(e=t.charCodeAt(c++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:36;(v>=36||v>d((u-i)/f))&&g("overflow"),i+=v*f;var m=p<=o?1:p>=o+26?26:p-o;if(v<m)break;var y=36-m;f>d(u/y)&&g("overflow"),f*=y}var b=n.length+1;o=x(i-h,b,0==h),d(i/b)>u-a&&g("overflow"),a+=d(i/b),i%=b,n.splice(i++,0,a)}return String.fromCodePoint.apply(String,n)},_=function(t){var e=[],n=(t=m(t)).length,r=128,i=0,a=72,o=!0,s=!1,l=void 0;try{for(var c,h=t[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var f=c.value;f<128&&e.push(p(f))}}catch(F){s=!0,l=F}finally{try{!o&&h.return&&h.return()}finally{if(s)throw l}}var v=e.length,b=v;for(v&&e.push("-");b<n;){var _=u,w=!0,S=!1,M=void 0;try{for(var O,C=t[Symbol.iterator]();!(w=(O=C.next()).done);w=!0){var A=O.value;A>=r&&A<_&&(_=A)}}catch(F){S=!0,M=F}finally{try{!w&&C.return&&C.return()}finally{if(S)throw M}}var I=b+1;_-r>d((u-i)/I)&&g("overflow"),i+=(_-r)*I,r=_;var T=!0,E=!1,j=void 0;try{for(var P,k=t[Symbol.iterator]();!(T=(P=k.next()).done);T=!0){var D=P.value;if(D<r&&++i>u&&g("overflow"),D==r){for(var L=i,R=36;;R+=36){var N=R<=a?1:R>=a+26?26:R-a;if(L<N)break;var z=L-N,B=36-N;e.push(p(y(N+z%B,0))),L=d(z/B)}e.push(p(y(L,0))),a=x(i,I,b==v),i=0,++b}}}catch(F){E=!0,j=F}finally{try{!T&&k.return&&k.return()}finally{if(E)throw j}}++i,++r}return e.join("")},w={version:"2.1.0",ucs2:{decode:m,encode:function(t){return String.fromCodePoint.apply(String,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}},decode:b,encode:_,toASCII:function(t){return v(t,function(t){return c.test(t)?"xn--"+_(t):t})},toUnicode:function(t){return v(t,function(t){return l.test(t)?b(t.slice(4).toLowerCase()):t})}},S={};function M(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function O(t){for(var e="",n=0,r=t.length;n<r;){var i=parseInt(t.substr(n+1,2),16);if(i<128)e+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var a=parseInt(t.substr(n+4,2),16);e+=String.fromCharCode((31&i)<<6|63&a)}else e+=t.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var o=parseInt(t.substr(n+4,2),16),s=parseInt(t.substr(n+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else e+=t.substr(n,9);n+=9}else e+=t.substr(n,3),n+=3}return e}function C(t,e){function n(t){var n=O(t);return n.match(e.UNRESERVED)?n:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,n).replace(e.NOT_USERINFO,M).replace(e.PCT_ENCODED,i)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_HOST,M).replace(e.PCT_ENCODED,i)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,n).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,M).replace(e.PCT_ENCODED,i)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,n).replace(e.NOT_QUERY,M).replace(e.PCT_ENCODED,i)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,n).replace(e.NOT_FRAGMENT,M).replace(e.PCT_ENCODED,i)),t}var A=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[\dA-F:.]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==e.iri?s:o;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var i=t.match(A);if(i){I?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==t.indexOf("@")?i[3]:void 0,n.host=-1!==t.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==t.indexOf("?")?i[7]:void 0,n.fragment=-1!==t.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=n.host.replace(r.IPV6ADDRESS,"$1")),n.reference=void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?"relative":void 0===n.fragment?"absolute":"uri":"same-document",e.reference&&"suffix"!==e.reference&&e.reference!==n.reference&&(n.error=n.error||"URI is not a "+e.reference+" reference.");var a=S[(e.scheme||n.scheme||"").toLowerCase()];if(e.unicodeSupport||a&&a.unicodeSupport)C(n,r);else{if(n.host&&(e.domainHost||a&&a.domainHost))try{n.host=w.toASCII(n.host.replace(r.PCT_ENCODED,O).toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+u}C(n,o)}a&&a.parse&&a.parse(n,e)}else n.error=n.error||"URI can not be parsed.";return n}var E=/^\.\.?\//,j=/^\/\.(\/|$)/,P=/^\/\.\.(\/|$)/,k=/^\/?(?:.|\n)*?(?=\/|$)/;function D(t){for(var e=[];t.length;)if(t.match(E))t=t.replace(E,"");else if(t.match(j))t=t.replace(j,"/");else if(t.match(P))t=t.replace(P,"/"),e.pop();else if("."===t||".."===t)t="";else{var n=t.match(k);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];t=t.slice(r.length),e.push(r)}return e.join("")}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.iri?s:o,r=[],i=S[(e.scheme||t.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(t,e),t.host)if(n.IPV6ADDRESS.test(t.host));else if(e.domainHost||i&&i.domainHost)try{t.host=e.iri?w.toUnicode(t.host):w.toASCII(t.host.replace(n.PCT_ENCODED,O).toLowerCase())}catch(l){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+l}C(t,n),"suffix"!==e.reference&&t.scheme&&(r.push(t.scheme),r.push(":"));var a=function(t,e){var n=!1!==e.iri?s:o,r=[];return void 0!==t.userinfo&&(r.push(t.userinfo),r.push("@")),void 0!==t.host&&r.push(String(t.host).replace(n.IPV6ADDRESS,"[$1]")),"number"==typeof t.port&&(r.push(":"),r.push(t.port.toString(10))),r.length?r.join(""):void 0}(t,e);if(void 0!==a&&("suffix"!==e.reference&&r.push("//"),r.push(a),t.path&&"/"!==t.path.charAt(0)&&r.push("/")),void 0!==t.path){var u=t.path;e.absolutePath||i&&i.absolutePath||(u=D(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==t.query&&(r.push("?"),r.push(t.query)),void 0!==t.fragment&&(r.push("#"),r.push(t.fragment)),r.join("")}function R(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(t=T(L(t,n),n),e=T(L(e,n),n)),!(n=n||{}).tolerant&&e.scheme?(r.scheme=e.scheme,r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=D(e.path||""),r.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=D(e.path||""),r.query=e.query):(e.path?("/"===e.path.charAt(0)?r.path=D(e.path):(r.path=void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:e.path:"/"+e.path,r.path=D(r.path)),r.query=e.query):(r.path=t.path,r.query=void 0!==e.query?e.query:t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=e.fragment,r}function N(t,e){return t&&t.toString().replace(e&&e.iri?s.PCT_ENCODED:o.PCT_ENCODED,O)}var z={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){return t.port!==("https"!==String(t.scheme).toLowerCase()?80:443)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},B={scheme:"https",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize},F={},V="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",H=n(n("%[EFef][0-9A-Fa-f]%"+G+G+"%"+G+G)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+G+G)+"|"+n("%"+G+G)),W=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),q=new RegExp(V,"g"),U=new RegExp(H,"g"),Y=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',W),"g"),X=new RegExp(e("[^]",V,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Z=X;function $(t){var e=O(t);return e.match(q)?e:t}var Q={scheme:"mailto",parse:function(t,e){var n=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var r=!1,i={},a=t.query.split("&"),o=0,s=a.length;o<s;++o){var u=a[o].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),c=0,h=l.length;c<h;++c)n.push(l[c]);break;case"subject":t.subject=N(u[1],e);break;case"body":t.body=N(u[1],e);break;default:r=!0,i[N(u[0],e)]=N(u[1],e)}}r&&(t.headers=i)}t.query=void 0;for(var f=0,d=n.length;f<d;++f){var p=n[f].split("@");if(p[0]=N(p[0]),e.unicodeSupport)p[1]=N(p[1],e).toLowerCase();else try{p[1]=w.toASCII(N(p[1],e).toLowerCase())}catch(g){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}n[f]=p.join("@")}return t},serialize:function(t,e){var n,r=null!=(n=t.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(r){for(var a=0,o=r.length;a<o;++a){var s=String(r[a]),u=s.lastIndexOf("@"),l=s.slice(0,u).replace(U,$).replace(U,i).replace(Y,M),c=s.slice(u+1);try{c=e.iri?w.toUnicode(c):w.toASCII(N(c,e).toLowerCase())}catch(p){t.error=t.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+p}r[a]=l+"@"+c}t.path=r.join(",")}var h=t.headers=t.headers||{};t.subject&&(h.subject=t.subject),t.body&&(h.body=t.body);var f=[];for(var d in h)h[d]!==F[d]&&f.push(d.replace(U,$).replace(U,i).replace(X,M)+"="+h[d].replace(U,$).replace(U,i).replace(Z,M));return f.length&&(t.query=f.join("&")),t}},J=new RegExp("^urn\\:((?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31}))$"),K=/^([^\:]+)\:(.*)/,tt=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,et={scheme:"urn",parse:function(t,e){var n=t.path&&t.path.match(K);if(n){var r="urn:"+n[1].toLowerCase(),i=S[r];i||(i=S[r]={scheme:r,parse:function(t,e){return t},serialize:S.urn.serialize}),t.scheme=r,t.path=n[2],t=i.parse(t,e)}else t.error=t.error||"URN can not be parsed.";return t},serialize:function(t,e){var n=t.scheme||e.scheme;if(n&&"urn"!==n){var r=n.match(J)||["urn:"+n,n];t.scheme="urn",t.path=r[1]+":"+(t.path?t.path.replace(tt,M):"")}return t}},nt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,rt={scheme:"urn:uuid",parse:function(t,e){return e.tolerant||t.path&&t.path.match(nt)||(t.error=t.error||"UUID is not valid."),t},serialize:function(t,e){return e.tolerant||t.path&&t.path.match(nt)?t.path=(t.path||"").toLowerCase():t.scheme=void 0,S.urn.serialize(t,e)}};S.http=z,S.https=B,S.mailto=Q,S.urn=et,S["urn:uuid"]=rt,t.SCHEMES=S,t.pctEncChar=M,t.pctDecChars=O,t.parse=T,t.removeDotSegments=D,t.serialize=L,t.resolveComponents=R,t.resolve=function(t,e,n){return L(R(T(t,n),T(e,n),n,!0),n)},t.normalize=function(t,e){return"string"==typeof t?t=L(T(t,e),e):"object"===r(t)&&(t=T(L(t,e),e)),t},t.equal=function(t,e,n){return"string"==typeof t?t=L(T(t,n),n):"object"===r(t)&&(t=L(t,n)),"string"==typeof e?e=L(T(e,n),n):"object"===r(e)&&(e=L(e,n)),t===e},t.escapeComponent=function(t,e){return t&&t.toString().replace(e&&e.iri?s.ESCAPE:o.ESCAPE,M)},t.unescapeComponent=N,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:this.URI=this.URI||{})},{}],ajv:[function(t,e,n){"use strict";var r=t("./compile"),i=t("./compile/resolve"),a=t("./cache"),o=t("./compile/schema_obj"),s=t("fast-json-stable-stringify"),u=t("./compile/formats"),l=t("./compile/rules"),c=t("./data"),h=t("./compile/util");e.exports=m,m.prototype.validate=function(t,e){var n;if("string"==typeof t){if(!(n=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var r=this._addSchema(t);n=r.validate||this._compile(r)}var i=n(e);return!0!==n.$async&&(this.errors=n.errors),i},m.prototype.compile=function(t,e){var n=this._addSchema(t,void 0,e);return n.validate||this._compile(n)},m.prototype.addSchema=function(t,e,n,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)this.addSchema(t[a],void 0,n,r);return this}var o=this._getId(t);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return S(this,e=i.normalizeId(e||o)),this._schemas[e]=this._addSchema(t,n,r,!0),this},m.prototype.addMetaSchema=function(t,e,n){return this.addSchema(t,e,n,!0),this},m.prototype.validateSchema=function(t,e){var n,r=t.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||(n=this._opts.meta,this._opts.defaultMeta="object"==typeof n?this._getId(n)||n:this.getSchema(p)?p:void 0,this._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i,a=this._formats.uri;this._formats.uri="function"==typeof a?this._schemaUriFormatFunc:this._schemaUriFormat;try{i=this.validate(r,t)}finally{this._formats.uri=a}if(!i&&e){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o)}return i},m.prototype.getSchema=function(t){var e=y(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(t,e){var n=i.schema.call(t,{schema:{}},e);if(n){var a=n.schema,s=n.root,u=n.baseId,l=r.call(t,a,s,void 0,u);return t._fragments[e]=new o({ref:e,fragment:!0,schema:a,root:s,baseId:u,validate:l}),l}}(this,t)}},m.prototype.removeSchema=function(t){if(t instanceof RegExp)return x(this,this._schemas,t),x(this,this._refs,t),this;switch(typeof t){case"undefined":return x(this,this._schemas),x(this,this._refs),this._cache.clear(),this;case"string":var e=y(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var n=this._opts.serialize,r=n?n(t):t;this._cache.del(r);var a=this._getId(t);a&&(a=i.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this},m.prototype.addFormat=function(t,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[t]=e,this},m.prototype.errorsText=function(t,e){if(!(t=t||this.errors))return"No errors";for(var n=void 0===(e=e||{}).separator?", ":e.separator,r=void 0===e.dataVar?"data":e.dataVar,i="",a=0;a<t.length;a++){var o=t[a];o&&(i+=r+o.dataPath+" "+o.message+n)}return i.slice(0,-n.length)},m.prototype._addSchema=function(t,e,n,r){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var a=this._opts.serialize,s=a?a(t):t,u=this._cache.get(s);if(u)return u;r=r||!1!==this._opts.addUsedSchema;var l=i.normalizeId(this._getId(t));l&&r&&S(this,l);var c,h=!1!==this._opts.validateSchema&&!e;h&&!(c=l&&l==i.normalizeId(t.$schema))&&this.validateSchema(t,!0);var f=i.ids.call(this,t),d=new o({id:l,schema:t,localRefs:f,cacheKey:s,meta:n});return"#"!=l[0]&&r&&(this._refs[l]=d),this._cache.put(s,d),h&&c&&this.validateSchema(t,!0),d},m.prototype._compile=function(t,e){if(t.compiling)return t.validate=a,a.schema=t.schema,a.errors=null,a.root=e||a,!0===t.schema.$async&&(a.$async=!0),a;var n,i;t.compiling=!0,t.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,t.schema,e,t.localRefs)}finally{t.compiling=!1,t.meta&&(this._opts=n)}return t.validate=i,t.refs=i.refs,t.refVal=i.refVal,t.root=i.root,i;function a(){var e=t.validate,n=e.apply(null,arguments);return a.errors=e.errors,n}},m.prototype.compileAsync=t("./compile/async");var f=t("./keyword");m.prototype.addKeyword=f.add,m.prototype.getKeyword=f.get,m.prototype.removeKeyword=f.remove;var d=t("./compile/error_classes");m.ValidationError=d.Validation,m.MissingRefError=d.MissingRef,m.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",g=["removeAdditional","useDefaults","coerceTypes"],v=["/properties"];function m(e){if(!(this instanceof m))return new m(e);e=this._opts=h.copy(e)||{},function(t){var e=t._opts.logger;if(!1===e)t.logger={log:M,warn:M,error:M};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format);var n=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(t){return n.test(t)},this._cache=e.cache||new a,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(t){switch(t.schemaId){case"auto":return w;case"id":return b;default:return _}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(t){for(var e=h.copy(t._opts),n=0;n<g.length;n++)delete e[g[n]];return e}(this),e.formats&&function(t){for(var e in t._opts.formats)t.addFormat(e,t._opts.formats[e])}(this),function(e){var n;if(e._opts.$data&&(n=t("./refs/data.json"),e.addMetaSchema(n,n.$id,!0)),!1!==e._opts.meta){var r=t("./refs/json-schema-draft-07.json");e._opts.$data&&(r=c(r,v)),e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var n in e)t.addSchema(e[n],n)}(this)}function y(t,e){return e=i.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function x(t,e,n){for(var r in e){var i=e[r];i.meta||n&&!n.test(r)||(t._cache.del(i.cacheKey),delete e[r])}}function b(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function _(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function w(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function S(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function M(){}},{"./cache":1,"./compile":5,"./compile/async":2,"./compile/error_classes":3,"./compile/formats":4,"./compile/resolve":6,"./compile/rules":7,"./compile/schema_obj":8,"./compile/util":10,"./data":11,"./keyword":38,"./refs/data.json":39,"./refs/json-schema-draft-07.json":40,"fast-json-stable-stringify":42}]},{},[])("ajv")}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SockJS=t()}(function(){return function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){return i(e[o][1][t]||t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){(function(n){"use strict";var r=t("./transport-list");e.exports=t("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./event");function a(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(a,i),e.exports=a},{"./event":4,inherits:54}],3:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./eventtarget");function a(){i.call(this)}r(a,i),a.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},a.prototype.once=function(t,e){var n=this,r=!1;this.on(t,function i(){n.removeListener(t,i),r||(r=!0,e.apply(this,arguments))})},a.prototype.emit=function(){var t=this._listeners[arguments[0]];if(t){for(var e=arguments.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0;i<t.length;i++)t[i].apply(this,n)}},a.prototype.on=a.prototype.addListener=i.prototype.addEventListener,a.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=a},{"./eventtarget":5,inherits:54}],4:[function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,e.exports=r},{}],5:[function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);-1===r||(1<n.length?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=r},{}],6:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./event");function a(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}r(a,i),e.exports=a},{"./event":4,inherits:54}],7:[function(t,e,n){"use strict";var r=t("json3"),i=t("./utils/iframe");function a(t){(this._transport=t).on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}a.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},a.prototype._transportMessage=function(t){i.postMessage("t",t)},a.prototype._send=function(t){this._transport.send(t)},a.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=a},{"./utils/iframe":47,json3:55}],8:[function(t,e,n){"use strict";var r=t("./utils/url"),i=t("./utils/event"),a=t("json3"),o=t("./facade"),s=t("./info-iframe-receiver"),u=t("./utils/iframe"),l=t("./location");e.exports=function(t,e){var n,c={};e.forEach(function(t){t.facadeTransport&&(c[t.facadeTransport.transportName]=t.facadeTransport)}),c[s.transportName]=s,t.bootstrap_iframe=function(){var e;u.currentWindowId=l.hash.slice(1),i.attachEvent("message",function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var s;try{s=a.parse(i.data)}catch(h){return}if(s.windowId===u.currentWindowId)switch(s.type){case"s":var h;try{h=a.parse(s.data)}catch(h){break}var f=h[0],d=h[1],p=h[2],g=h[3];if(f!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(p,l.href)||!r.isOriginEqual(g,l.href))throw new Error("Can't connect to different domain from within an iframe. ("+l.href+", "+p+", "+g+")");e=new o(new c[d](p,g));break;case"m":e._send(s.data);break;case"c":e&&e._close(),e=null}}}),u.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0,json3:55}],9:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=t("inherits"),a=t("json3"),o=t("./utils/object"),s=function(){};function u(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var r,u;if(200===t){if(u=+new Date-i,e)try{r=a.parse(e)}catch(t){s("bad json",e)}o.isObject(r)||(r={})}n.emit("finish",r,u),n.removeAllListeners()})}i(u,r),u.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=u},{"./utils/object":49,debug:void 0,events:3,inherits:54,json3:55}],10:[function(t,e,n){"use strict";var r=t("inherits"),i=t("events").EventEmitter,a=t("json3"),o=t("./transport/sender/xhr-local"),s=t("./info-ajax");function u(t){var e=this;i.call(this),this.ir=new s(t,o),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",a.stringify([t,n]))})}r(u,i),u.transportName="iframe-info-receiver",u.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=u},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54,json3:55}],11:[function(t,e,n){(function(n){"use strict";var r=t("events").EventEmitter,i=t("inherits"),a=t("json3"),o=t("./utils/event"),s=t("./transport/iframe"),u=t("./info-iframe-receiver"),l=function(){};function c(t,e){var i=this;r.call(this);var c=function(){var n=i.ifr=new s(u.transportName,e,t);n.once("message",function(t){if(t){var e;try{e=a.parse(t)}catch(e){return l("bad json",t),i.emit("finish"),void i.close()}i.emit("finish",e[0],e[1])}i.close()}),n.once("close",function(){i.emit("finish"),i.close()})};n.document.body?c():o.attachEvent("load",c)}i(c,r),c.enabled=function(){return s.enabled()},c.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54,json3:55}],12:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=t("inherits"),a=t("./utils/url"),o=t("./transport/sender/xdr"),s=t("./transport/sender/xhr-cors"),u=t("./transport/sender/xhr-local"),l=t("./transport/sender/xhr-fake"),c=t("./info-iframe"),h=t("./info-ajax"),f=function(){};function d(t,e){f(t);var n=this;r.call(this),setTimeout(function(){n.doXhr(t,e)},0)}i(d,r),d._getReceiver=function(t,e,n){return n.sameOrigin?new h(e,u):s.enabled?new h(e,s):o.enabled&&n.sameScheme?new h(e,o):c.enabled()?new c(t,e):new h(e,l)},d.prototype.doXhr=function(t,e){var n=this,r=a.addPath(t,"/info");f("doXhr",r),this.xo=d._getReceiver(t,r,e),this.timeoutRef=setTimeout(function(){f("timeout"),n._cleanup(!1),n.emit("finish")},d.timeout),this.xo.once("finish",function(t,e){f("finish",t,e),n._cleanup(!0),n.emit("finish",t,e)})},d.prototype._cleanup=function(t){f("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){f("close"),this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,e.exports=d},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(t,e,n){(function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,n){(function(n){"use strict";t("./shims");var r,i=t("url-parse"),a=t("inherits"),o=t("json3"),s=t("./utils/random"),u=t("./utils/escape"),l=t("./utils/url"),c=t("./utils/event"),h=t("./utils/transport"),f=t("./utils/object"),d=t("./utils/browser"),p=t("./utils/log"),g=t("./event/event"),v=t("./event/eventtarget"),m=t("./location"),y=t("./event/close"),x=t("./event/trans-message"),b=t("./info-receiver"),_=function(){};function w(t,e,n){if(!(this instanceof w))return new w(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=w.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&p.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(r)}}this._server=n.server||s.numberString(1e3);var a=new i(t);if(!a.host||!a.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(a.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==a.protocol&&"https:"!==a.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+a.protocol+"' is not allowed.");if("https:"===m.protocol&&"https:"!==a.protocol)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var o=e.sort();o.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<o.length-1&&t===o[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var u=l.getOrigin(m.href);this._origin=u?u.toLowerCase():null,a.set("pathname",a.pathname.replace(/\/+$/,"")),this.url=a.href,_("using url",this.url),this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:l.isOriginEqual(this.url,m.href),sameScheme:l.isSchemeEqual(this.url,m.href)},this._ir=new b(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function S(t){return 1e3===t||3e3<=t&&t<=4999}a(w,v),w.prototype.close=function(t,e){if(t&&!S(t))throw new Error("InvalidAccessError: Invalid code");if(e&&123<e.length)throw new SyntaxError("reason argument has an invalid length");this.readyState!==w.CLOSING&&this.readyState!==w.CLOSED&&this._close(t||1e3,e||"Normal closure",!0)},w.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===w.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===w.OPEN&&this._transport.send(u.quote(t))},w.version=t("./version"),w.CONNECTING=0,w.OPEN=1,w.CLOSING=2,w.CLOSED=3,w.prototype._receiveInfo=function(t,e){if(_("_receiveInfo",e),this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=f.extend(t,this._urlInfo),_("info",t);var n=r.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,_(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},w.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(_("attempt",t.transportName),t.needBody&&(!n.document.body||void 0!==n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return _("waiting for body"),this._transports.unshift(t),void c.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e),_("using timeout",e);var r=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[t.transportName];_("transport url",r);var a=new t(r,this._transUrl,i);return a.on("message",this._transportMessage.bind(this)),a.once("close",this._transportClose.bind(this)),a.transportName=t.transportName,void(this._transport=a)}this._close(2e3,"All transports failed",!1)},w.prototype._transportTimeout=function(){_("_transportTimeout"),this.readyState===w.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},w.prototype._transportMessage=function(t){_("_transportMessage",t);var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void _("heartbeat",this.transport)}if(i)try{e=o.parse(i)}catch(t){_("bad json",i)}if(void 0!==e)switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){_("message",n.transport,t),n.dispatchEvent(new x(t))});break;case"m":_("message",this.transport,e),this.dispatchEvent(new x(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}else _("empty payload",i)},w.prototype._transportClose=function(t,e){_("_transportClose",this.transport,t,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),S(t)||2e3===t||this.readyState!==w.CONNECTING?this._close(t,e):this._connect()},w.prototype._open=function(){_("_open",this._transport.transportName,this.readyState),this.readyState===w.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=w.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),_("connected",this.transport)):this._close(1006,"Server lost session")},w.prototype._close=function(t,e,n){_("_close",this.transport,t,e,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===w.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=w.CLOSING,setTimeout((function(){this.readyState=w.CLOSED,r&&this.dispatchEvent(new g("error"));var i=new y("close");i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null,_("disconnected")}).bind(this),0)},w.prototype.countRTO=function(t){return 100<t?4*t:300+t},e.exports=function(e){return r=h(e),t("./iframe-bootstrap")(w,e),w}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,json3:55,"url-parse":58}],15:[function(t,e,n){"use strict";var r,i=Array.prototype,a=Object.prototype,o=Function.prototype,s=String.prototype,u=i.slice,l=a.toString,c=function(t){return"[object Function]"===a.toString.call(t)},h=function(t){return"[object String]"===l.call(t)},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=f?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var d=function(t,e,n){for(var i in e)a.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},p=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};function g(){}d(o,{bind:function(t){var e=this;if(!c(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=u.call(arguments,1),r=Math.max(0,e.length-n.length),i=[],a=0;a<r;a++)i.push("$"+a);var o=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof o){var r=e.apply(this,n.concat(u.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(u.call(arguments)))});return e.prototype&&(g.prototype=e.prototype,o.prototype=new g,g.prototype=null),o}}),d(Array,{isArray:function(t){return"[object Array]"===l.call(t)}});var v,m,y,x=Object("a"),b="a"!==x[0]||!(0 in x);d(i,{forEach:function(t){var e=p(this),n=b&&h(this)?this.split(""):e,r=arguments[1],i=-1,a=n.length>>>0;if(!c(t))throw new TypeError;for(;++i<a;)i in n&&t.call(r,n[i],i,e)}},(y=m=!0,(v=i.forEach)&&(v.call("foo",function(t,e,n){"object"!=typeof n&&(m=!1)}),v.call([1],function(){y="string"==typeof this},"x")),!(v&&m&&y)));var _=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);d(i,{indexOf:function(t){var e=b&&h(this)?this.split(""):p(this),n=e.length>>>0;if(!n)return-1;var r,i=0;for(1<arguments.length&&((r=+arguments[1])!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(0<r||-1)*Math.floor(Math.abs(r))),i=r),i=0<=i?i:Math.max(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}},_);var w,S=s.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(w=void 0===/()??/.exec("")[1],s.split=function(t,e){var n=this;if(void 0===t&&0===e)return[];if("[object RegExp]"!==l.call(t))return S.call(this,t,e);var r,a,o,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),h=0;for(t=new RegExp(t.source,c+"g"),n+="",w||(r=new RegExp("^"+t.source+"$(?!\\s)",c)),e=void 0===e?-1>>>0:e>>>0;(a=t.exec(n))&&!(h<(o=a.index+a[0].length)&&(u.push(n.slice(h,a.index)),!w&&1<a.length&&a[0].replace(r,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(a[t]=void 0)}),1<a.length&&a.index<n.length&&i.push.apply(u,a.slice(1)),s=a[0].length,h=o,u.length>=e));)t.lastIndex===a.index&&t.lastIndex++;return h===n.length?!s&&t.test("")||u.push(""):u.push(n.slice(h)),u.length>e?u.slice(0,e):u}):"0".split(void 0,0).length&&(s.split=function(t,e){return void 0===t&&0===e?[]:S.call(this,t,e)});var M=s.substr;d(s,{substr:function(t,e){return M.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},"".substr&&"b"!=="0b".substr(-1))},{}],16:[function(t,e,n){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e,n){(function(n){"use strict";var r=t("events").EventEmitter,i=t("inherits"),a=t("../../utils/event"),o=t("../../utils/url"),s=n.XMLHttpRequest,u=function(){};function l(t,e,n,i){u(t,e);var a=this;r.call(this),setTimeout(function(){a._start(t,e,n,i)},0)}i(l,r),l.prototype._start=function(t,e,n,r){var i=this;try{this.xhr=new s}catch(t){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();e=o.addQuery(e,"t="+ +new Date),this.unloadRef=a.unloadAdd(function(){u("unload cleanup"),i._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch(t){return u("exception",t),this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!l.supportsCORS||(u("withCredentials"),this.xhr.withCredentials=!0),r&&r.headers)for(var c in r.headers)this.xhr.setRequestHeader(c,r.headers[c]);this.xhr.onreadystatechange=function(){if(i.xhr){var t,e,n=i.xhr;switch(u("readyState",n.readyState),n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}u("status",e),1223===e&&(e=204),200===e&&t&&0<t.length&&(u("chunk"),i.emit("chunk",e,t));break;case 4:u("status",e=n.status),1223===e&&(e=204),12005!==e&&12029!==e||(e=0),u("finish",e,n.responseText),i.emit("finish",e,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(t){i.emit("finish",0,""),i._cleanup(!1)}},l.prototype._cleanup=function(t){if(u("cleanup"),this.xhr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},l.prototype.close=function(){u("close"),this._cleanup(!0)},l.enabled=!!s;var c=["Active"].concat("Object").join("X");!l.enabled&&c in n&&(u("overriding xmlhttprequest"),l.enabled=!!new(s=function(){try{return new n[c]("Microsoft.XMLHTTP")}catch(n){return null}}));var h=!1;try{h="withCredentials"in new s}catch(n){}l.supportsCORS=h,e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(t,e,n){(function(t){e.exports=t.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,n){(function(t){"use strict";var n=t.WebSocket||t.MozWebSocket;e.exports=n?function(t){return new n(t)}:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./lib/ajax-based"),a=t("./receiver/eventsource"),o=t("./sender/xhr-cors"),s=t("eventsource");function u(t){if(!u.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",a,o)}r(u,i),u.enabled=function(){return!!s},u.transportName="eventsource",u.roundTrips=2,e.exports=u},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./receiver/htmlfile"),a=t("./sender/xhr-local"),o=t("./lib/ajax-based");function s(t){if(!i.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/htmlfile",i,a)}r(s,o),s.enabled=function(t){return i.enabled&&t.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(t,e,n){"use strict";var r=t("inherits"),i=t("json3"),a=t("events").EventEmitter,o=t("../version"),s=t("../utils/url"),u=t("../utils/iframe"),l=t("../utils/event"),c=t("../utils/random"),h=function(){};function f(t,e,n){if(!f.enabled())throw new Error("Transport created when disabled");a.call(this);var r=this;this.origin=s.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=c.string(8);var i=s.addPath(n,"/iframe.html")+"#"+this.windowId;h(t,e,i),this.iframeObj=u.createIframe(i,function(t){h("err callback"),r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}r(f,a),f.prototype.close=function(){if(h("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},f.prototype._message=function(t){if(h("message",t.data),s.isOriginEqual(t.origin,this.origin)){var e;try{e=i.parse(t.data)}catch(n){return void h("bad json",t.data)}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([o,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=i.parse(e.data)}catch(n){return void h("bad json",e.data)}this.emit("close",n[0],n[1]),this.close()}else h("mismatched window id",e.windowId,this.windowId)}else h("not same origin",t.origin,this.origin)},f.prototype.postMessage=function(t,e){h("postMessage",t,e),this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},f.prototype.send=function(t){h("send",t),this.postMessage("m",t)},f.enabled=function(){return u.iframeEnabled},f.transportName="iframe",f.roundTrips=2,e.exports=f},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54,json3:55}],23:[function(t,e,n){(function(n){"use strict";var r=t("inherits"),i=t("./lib/sender-receiver"),a=t("./receiver/jsonp"),o=t("./sender/jsonp");function s(t){if(!s.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/jsonp",o,a)}r(s,i),s.enabled=function(){return!!n.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(t,e,n){"use strict";var r=t("inherits"),i=t("../../utils/url"),a=t("./sender-receiver"),o=function(){};function s(t,e,n,r){var s;a.call(this,t,e,(s=r,function(t,e,n){o("create ajax sender",t,e);var r={};"string"==typeof e&&(r.headers={"Content-type":"text/plain"});var a=i.addPath(t,"/xhr_send"),u=new s("POST",a,e,r);return u.once("finish",function(t){if(o("finish",t),u=null,200!==t&&204!==t)return n(new Error("http status "+t));n()}),function(){o("abort"),u.close(),u=null;var t=new Error("Aborted");t.code=1e3,n(t)}}),n,r)}r(s,a),e.exports=s},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(t,e,n){"use strict";var r=t("inherits"),i=t("events").EventEmitter,a=function(){};function o(t,e){a(t),i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(o,i),o.prototype.send=function(t){a("send",t),this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){a("sendScheduleWait");var t,e=this;this.sendStop=function(){a("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){a("timeout"),e.sendStop=null,e.sendSchedule()},25)},o.prototype.sendSchedule=function(){a("sendSchedule",this.sendBuffer.length);var t=this;if(0<this.sendBuffer.length){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(a("error",e),t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}},o.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},o.prototype.close=function(){a("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=o},{debug:void 0,events:3,inherits:54}],26:[function(t,e,n){(function(n){"use strict";var r=t("inherits"),i=t("../iframe"),a=t("../../utils/object");e.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,r){if(!n.document)return!1;var o=a.extend({},r);return o.sameOrigin=!0,t.enabled(o)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(t,e,n){"use strict";var r=t("inherits"),i=t("events").EventEmitter,a=function(){};function o(t,e,n){a(e),i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){a("_scheduleReceiver");var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){a("message",e),t.emit("message",e)}),e.once("close",function(n,r){a("close",n,r,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},o.prototype.abort=function(){a("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=o},{debug:void 0,events:3,inherits:54}],28:[function(t,e,n){"use strict";var r=t("inherits"),i=t("../../utils/url"),a=t("./buffered-sender"),o=t("./polling"),s=function(){};function u(t,e,n,r,u){var l=i.addPath(t,e);s(l);var c=this;a.call(this,t,n),this.poll=new o(r,l,u),this.poll.on("message",function(t){s("poll message",t),c.emit("message",t)}),this.poll.once("close",function(t,e){s("poll close",t,e),c.poll=null,c.emit("close",t,e),c.close()})}r(u,a),u.prototype.close=function(){a.prototype.close.call(this),s("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=u},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(t,e,n){"use strict";var r=t("inherits"),i=t("events").EventEmitter,a=t("eventsource"),o=function(){};function s(t){o(t),i.call(this);var e=this,n=this.es=new a(t);n.onmessage=function(t){o("message",t.data),e.emit("message",decodeURI(t.data))},n.onerror=function(t){o("error",n.readyState,t);var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(s,i),s.prototype.abort=function(){o("abort"),this._cleanup(),this._close("user")},s.prototype._cleanup=function(){o("cleanup");var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},s.prototype._close=function(t){o("close",t);var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},e.exports=s},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(t,e,n){(function(n){"use strict";var r=t("inherits"),i=t("../../utils/iframe"),a=t("../../utils/url"),o=t("events").EventEmitter,s=t("../../utils/random"),u=function(){};function l(t){u(t),o.call(this);var e=this;i.polluteGlobalNamespace(),this.id="a"+s.string(6),t=a.addQuery(t,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),u("using htmlfile",l.htmlfileEnabled);var r=l.htmlfileEnabled?i.createHtmlfile:i.createIframe;n[i.WPrefix][this.id]={start:function(){u("start"),e.iframeObj.loaded()},message:function(t){u("message",t),e.emit("message",t)},stop:function(){u("stop"),e._cleanup(),e._close("network")}},this.iframeObj=r(t,function(){u("callback"),e._cleanup(),e._close("permanent")})}r(l,o),l.prototype.abort=function(){u("abort"),this._cleanup(),this._close("user")},l.prototype._cleanup=function(){u("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[i.WPrefix][this.id]},l.prototype._close=function(t){u("_close",t),this.emit("close",null,t),this.removeAllListeners()},l.htmlfileEnabled=!1;var c=["Active"].concat("Object").join("X");if(c in n)try{l.htmlfileEnabled=!!new n[c]("htmlfile")}catch(r){}l.enabled=l.htmlfileEnabled||i.iframeEnabled,e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(t,e,n){(function(n){"use strict";var r=t("../../utils/iframe"),i=t("../../utils/random"),a=t("../../utils/browser"),o=t("../../utils/url"),s=t("inherits"),u=t("events").EventEmitter,l=function(){};function c(t){l(t);var e=this;u.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var a=o.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));n[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(a),this.timeoutId=setTimeout(function(){l("timeout"),e._abort(new Error("JSONP script loaded abnormally (timeout)"))},c.timeout)}s(c,u),c.prototype.abort=function(){if(l("abort"),n[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},c.timeout=35e3,c.scriptErrorTimeout=1e3,c.prototype._callback=function(t){l("_callback",t),this._cleanup(),this.aborting||(t&&(l("message",t),this.emit("message",t)),this.emit("close",null,"network"),this.removeAllListeners())},c.prototype._abort=function(t){l("_abort",t),this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},c.prototype._cleanup=function(){if(l("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete n[r.WPrefix][this.id]},c.prototype._scriptError=function(){l("_scriptError");var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},c.scriptErrorTimeout))},c.prototype._createScript=function(t){l("_createScript",t);var e,r=this,o=this.script=n.document.createElement("script");if(o.id="a"+i.string(8),o.src=t,o.type="text/javascript",o.charset="UTF-8",o.onerror=this._scriptError.bind(this),o.onload=function(){l("onload"),r._abort(new Error("JSONP script loaded abnormally (onload)"))},o.onreadystatechange=function(){if(l("onreadystatechange",o.readyState),/loaded|closed/.test(o.readyState)){if(o&&o.htmlFor&&o.onclick){r.loadedOkay=!0;try{o.onclick()}catch(t){}}o&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===o.async&&n.document.attachEvent)if(a.isOpera())(e=this.script2=n.document.createElement("script")).text="try{var a = document.getElementById('"+o.id+"'); if(a)a.onerror();}catch(x){};",o.async=e.async=!1;else{try{o.htmlFor=o.id,o.event="onclick"}catch(t){}o.async=!0}void 0!==o.async&&(o.async=!0);var s=n.document.getElementsByTagName("head")[0];s.insertBefore(o,s.firstChild),e&&s.insertBefore(e,s.firstChild)},e.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(t,e,n){"use strict";var r=t("inherits"),i=t("events").EventEmitter,a=function(){};function o(t,e){a(t),i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){a("finish",t,e),n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";a("close",r),n.emit("close",null,r),n._cleanup()})}r(o,i),o.prototype._chunkHandler=function(t,e){if(a("_chunkHandler",t),200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&(a("message",i),this.emit("message",i))}},o.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},o.prototype.abort=function(){a("abort"),this.xo&&(this.xo.close(),a("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=o},{debug:void 0,events:3,inherits:54}],33:[function(t,e,n){(function(n){"use strict";var r,i,a=t("../../utils/random"),o=t("../../utils/url");e.exports=function(t,e,s){r||((r=n.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=n.document.createElement("textarea")).name="d",r.appendChild(i),n.document.body.appendChild(r));var u="a"+a.string(8);r.target=u,r.action=o.addQuery(o.addPath(t,"/jsonp_send"),"i="+u);var l=function(e){try{return n.document.createElement('<iframe name="'+e+'">')}catch(t){var r=n.document.createElement("iframe");return r.name=e,r}}(u);l.id=u,l.style.display="none",r.appendChild(l);try{i.value=e}catch(t){}r.submit();var c=function(t){l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout(function(){l.parentNode.removeChild(l),l=null},500),i.value="",s(t))};return l.onerror=function(){c()},l.onload=function(){c()},l.onreadystatechange=function(t){"complete"===l.readyState&&c()},function(){c(new Error("Aborted"))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(t,e,n){(function(n){"use strict";var r=t("events").EventEmitter,i=t("inherits"),a=t("../../utils/event"),o=t("../../utils/browser"),s=t("../../utils/url"),u=function(){};function l(t,e,n){u(t,e);var i=this;r.call(this),setTimeout(function(){i._start(t,e,n)},0)}i(l,r),l.prototype._start=function(t,e,r){u("_start");var i=this,o=new n.XDomainRequest;e=s.addQuery(e,"t="+ +new Date),o.onerror=function(){u("onerror"),i._error()},o.ontimeout=function(){u("ontimeout"),i._error()},o.onprogress=function(){u("progress",o.responseText),i.emit("chunk",200,o.responseText)},o.onload=function(){u("load"),i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=a.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(t){this._error()}},l.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},l.prototype._cleanup=function(t){if(u("cleanup",t),this.xdr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},l.prototype.close=function(){u("close"),this._cleanup(!0)},l.enabled=!(!n.XDomainRequest||!o.hasDomain()),e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(t,e,n){"use strict";var r=t("inherits"),i=t("../driver/xhr");function a(t,e,n,r){i.call(this,t,e,n,r)}r(a,i),a.enabled=i.enabled&&i.supportsCORS,e.exports=a},{"../driver/xhr":17,inherits:54}],36:[function(t,e,n){"use strict";var r=t("events").EventEmitter;function i(){var t=this;r.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},i.timeout)}t("inherits")(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,e.exports=i},{events:3,inherits:54}],37:[function(t,e,n){"use strict";var r=t("inherits"),i=t("../driver/xhr");function a(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}r(a,i),a.enabled=i.enabled,e.exports=a},{"../driver/xhr":17,inherits:54}],38:[function(t,e,n){"use strict";var r=t("../utils/event"),i=t("../utils/url"),a=t("inherits"),o=t("events").EventEmitter,s=t("./driver/websocket"),u=function(){};function l(t,e,n){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this),u("constructor",t);var a=this,c=i.addPath(t,"/websocket");c="https"===c.slice(0,5)?"wss"+c.slice(5):"ws"+c.slice(4),this.url=c,this.ws=new s(this.url,[],n),this.ws.onmessage=function(t){u("message event",t.data),a.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){u("unload"),a.ws.close()}),this.ws.onclose=function(t){u("close event",t.code,t.reason),a.emit("close",t.code,t.reason),a._cleanup()},this.ws.onerror=function(t){u("error event",t),a.emit("close",1006,"WebSocket connection broken"),a._cleanup()}}a(l,o),l.prototype.send=function(t){var e="["+t+"]";u("send",e),this.ws.send(e)},l.prototype.close=function(){u("close");var t=this.ws;this._cleanup(),t&&t.close()},l.prototype._cleanup=function(){u("_cleanup");var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},l.enabled=function(){return u("enabled"),!!s},l.transportName="websocket",l.roundTrips=2,e.exports=l},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./lib/ajax-based"),a=t("./xdr-streaming"),o=t("./receiver/xhr"),s=t("./sender/xdr");function u(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,s)}r(u,i),u.enabled=a.enabled,u.transportName="xdr-polling",u.roundTrips=2,e.exports=u},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./lib/ajax-based"),a=t("./receiver/xhr"),o=t("./sender/xdr");function s(t){if(!o.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",a,o)}r(s,i),s.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&o.enabled&&t.sameScheme},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./lib/ajax-based"),a=t("./receiver/xhr"),o=t("./sender/xhr-cors"),s=t("./sender/xhr-local");function u(t){if(!s.enabled&&!o.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",a,o)}r(u,i),u.enabled=function(t){return!t.nullOrigin&&(!(!s.enabled||!t.sameOrigin)||o.enabled)},u.transportName="xhr-polling",u.roundTrips=2,e.exports=u},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(t,e,n){(function(n){"use strict";var r=t("inherits"),i=t("./lib/ajax-based"),a=t("./receiver/xhr"),o=t("./sender/xhr-cors"),s=t("./sender/xhr-local"),u=t("../utils/browser");function l(t){if(!s.enabled&&!o.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",a,o)}r(l,i),l.enabled=function(t){return!t.nullOrigin&&!u.isOpera()&&o.enabled},l.transportName="xhr-streaming",l.roundTrips=2,l.needBody=!!n.document,e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(t,e,n){(function(t){"use strict";e.exports.randomBytes=t.crypto&&t.crypto.getRandomValues?function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,n){(function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(t){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){"use strict";var r,i=t("json3"),a=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(t){var e=i.stringify(t);return a.lastIndex=0,a.test(e)?(r||(r=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n}(a)),e.replace(a,function(t){return r[t]})):e}}},{json3:55}],46:[function(t,e,n){(function(n){"use strict";var r=t("./random"),i={},a=!1,o=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){void 0!==n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){void 0!==n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(o)return null;var e=r.string(8);return i[e]=t,a&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}},o||e.exports.attachEvent("unload",function(){a||(a=!0,e.exports.triggerUnloadCallbacks())})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e,n){(function(n){"use strict";var r=t("./event"),i=t("json3"),a=t("./browser");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n||(n[e.exports.WPrefix]={})},postMessage:function(t,r){n.parent!==n&&n.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(t,e){var i,a,o=n.document.createElement("iframe"),s=function(){clearTimeout(i);try{o.onload=null}catch(t){}o.onerror=null},u=function(){o&&(s(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),r.unloadDel(a))},l=function(t){o&&(u(),e(t))};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){l("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){l("onload timeout")},2e3)},n.document.body.appendChild(o),i=setTimeout(function(){l("timeout")},15e3),a=r.unloadAdd(u),{post:function(t,e){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(t,e)}catch(t){}},0)},cleanup:u,loaded:s}},createHtmlfile:function(t,i){var a,o,s,u=["Active"].concat("Object").join("X"),l=new n[u]("htmlfile"),c=function(){clearTimeout(a),s.onerror=null},h=function(){l&&(c(),r.unloadDel(o),s.parentNode.removeChild(s),s=l=null,CollectGarbage())},f=function(t){l&&(h(),i(t))};l.open(),l.write('<html><script>document.domain="'+n.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[e.exports.WPrefix]=n[e.exports.WPrefix];var d=l.createElement("div");return l.body.appendChild(d),s=l.createElement("iframe"),d.appendChild(s),s.src=t,s.onerror=function(){f("onerror")},a=setTimeout(function(){f("timeout")},15e3),o=r.unloadAdd(h),{post:function(t,e){try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)},0)}catch(t){}},cleanup:h,loaded:c}}},e.exports.iframeEnabled=!1,n.document&&(e.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!a.isKonqueror())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0,json3:55}],48:[function(t,e,n){(function(t){"use strict";var n={};["log","debug","warn"].forEach(function(e){var r;try{r=t.console&&t.console[e]&&t.console[e].apply}catch(e){}n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log}),e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},{}],50:[function(t,e,n){"use strict";var r=t("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=i.length,n=r.randomBytes(t),a=[],o=0;o<t;o++)a.push(i.substr(n[o]%e,1));return a.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(t,e,n){"use strict";e.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){t&&("websocket"!==t.transportName||!1!==n.websocket)&&(e.length&&-1===e.indexOf(t.transportName)||t.enabled(n)&&(r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)))}),r}}}},{debug:void 0}],52:[function(t,e,n){"use strict";var r=t("url-parse");e.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){return this.getOrigin(t)===this.getOrigin(e)},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},{debug:void 0,"url-parse":58}],53:[function(t,e,n){e.exports="1.3.0"},{}],54:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],55:[function(t,e,n){(function(t){(function(){var r={function:!0,object:!0},i=r[typeof n]&&n&&!n.nodeType&&n,a=r[typeof window]&&window||this,o=i&&r[typeof e]&&e&&!e.nodeType&&"object"==typeof t&&t;function s(t,e){t||(t=a.Object()),e||(e=a.Object());var n=t.Number||a.Number,i=t.String||a.String,o=t.Object||a.Object,u=t.Date||a.Date,l=t.SyntaxError||a.SyntaxError,c=t.TypeError||a.TypeError,h=t.Math||a.Math,f=t.JSON||a.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var d,p,g,v=o.prototype,m=v.toString,y=new u(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(t){}function x(t){if(x[t]!==g)return x[t];var r;if("bug-string-char-index"==t)r="a"!="a"[0];else if("json"==t)r=x("json-stringify")&&x("json-parse");else{var a,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var s=e.stringify,l="function"==typeof s&&y;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===s(0)&&"0"===s(new n)&&'""'==s(new i)&&s(m)===g&&s(g)===g&&s()===g&&"1"===s(a)&&"[1]"==s([a])&&"[null]"==s([g])&&"null"==s(null)&&"[null,null,null]"==s([g,m,null])&&s({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===s(null,a)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new u(-1))}catch(t){l=!1}}r=l}if("json-parse"==t){var c=e.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){var h=5==(a=c(o)).a.length&&1===a.a[0];if(h){try{h=!c('"\t"')}catch(t){}if(h)try{h=1!==c("01")}catch(t){}if(h)try{h=1!==c("1.")}catch(t){}}}}catch(t){h=!1}r=h}}return x[t]=!!r}if(!x("json")){var b="[object Function]",_="[object Number]",w="[object String]",S="[object Array]",M=x("bug-string-char-index");if(!y)var O=h.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(t,e){return C[e]+365*(t-1970)+O((t-1969+(e=+(1<e)))/4)-O((t-1901+e)/100)+O((t-1601+e)/400)};if((d=v.hasOwnProperty)||(d=function(t){var e,n={};return d=(n.__proto__=null,n.__proto__={toString:1},n).toString!=m?function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,d.call(this,t)}),p=function(t,e){var n,i,a,o=0;for(a in(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n)d.call(i,a)&&o++;return n=i=null,(p=o?2==o?function(t,e){var n,r={},i=m.call(t)==b;for(n in t)i&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(t,n)||e(n)}:function(t,e){var n,r,i=m.call(t)==b;for(n in t)i&&"prototype"==n||!d.call(t,n)||(r="constructor"===n)||e(n);(r||d.call(t,n="constructor"))&&e(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(t,e){var n,a,o=m.call(t)==b,s=!o&&"function"!=typeof t.constructor&&r[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(n in t)o&&"prototype"==n||!s.call(t,n)||e(n);for(a=i.length;n=i[--a];s.call(t,n)&&e(n));}))(t,e)},!x("json-stringify")){var I={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T=function(t,e){return("000000"+(e||0)).slice(-t)},E=function(t){for(var e='"',n=0,r=t.length,i=!M||10<r,a=i&&(M?t.split(""):t);n<r;n++){var o=t.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=I[o];break;default:if(o<32){e+="\\u00"+T(2,o.toString(16));break}e+=i?a[n]:t.charAt(n)}}return e+'"'},j=function(t,e,n,r,i,a,o){var s,u,l,h,f,v,y,x,b,M,C,I,P,k,D,L;try{s=e[t]}catch(t){}if("object"==typeof s&&s)if("[object Date]"!=(u=m.call(s))||d.call(s,"toJSON"))"function"==typeof s.toJSON&&(u!=_&&u!=w&&u!=S||d.call(s,"toJSON"))&&(s=s.toJSON(t));else if(-1/0<s&&s<1/0){if(A){for(f=O(s/864e5),l=O(f/365.2425)+1970-1;A(l+1,0)<=f;l++);for(h=O((f-A(l,0))/30.42);A(l,h+1)<=f;h++);f=1+f-A(l,h),y=O((v=(s%864e5+864e5)%864e5)/36e5)%24,x=O(v/6e4)%60,b=O(v/1e3)%60,M=v%1e3}else l=s.getUTCFullYear(),h=s.getUTCMonth(),f=s.getUTCDate(),y=s.getUTCHours(),x=s.getUTCMinutes(),b=s.getUTCSeconds(),M=s.getUTCMilliseconds();s=(l<=0||1e4<=l?(l<0?"-":"+")+T(6,l<0?-l:l):T(4,l))+"-"+T(2,h+1)+"-"+T(2,f)+"T"+T(2,y)+":"+T(2,x)+":"+T(2,b)+"."+T(3,M)+"Z"}else s=null;if(n&&(s=n.call(e,t,s)),null===s)return"null";if("[object Boolean]"==(u=m.call(s)))return""+s;if(u==_)return-1/0<s&&s<1/0?""+s:"null";if(u==w)return E(""+s);if("object"==typeof s){for(k=o.length;k--;)if(o[k]===s)throw c();if(o.push(s),C=[],D=a,a+=i,u==S){for(P=0,k=s.length;P<k;P++)I=j(P,s,n,r,i,a,o),C.push(I===g?"null":I);L=C.length?i?"[\n"+a+C.join(",\n"+a)+"\n"+D+"]":"["+C.join(",")+"]":"[]"}else p(r||s,function(t){var e=j(t,s,n,r,i,a,o);e!==g&&C.push(E(t)+":"+(i?" ":"")+e)}),L=C.length?i?"{\n"+a+C.join(",\n"+a)+"\n"+D+"}":"{"+C.join(",")+"}":"{}";return o.pop(),L}};e.stringify=function(t,e,n){var i,a,o,s;if(r[typeof e]&&e)if((s=m.call(e))==b)a=e;else if(s==S){o={};for(var u,l=0,c=e.length;l<c;u=e[l++],((s=m.call(u))==w||s==_)&&(o[u]=1));}if(n)if((s=m.call(n))==_){if(0<(n-=n%1))for(i="",10<n&&(n=10);i.length<n;i+=" ");}else s==w&&(i=n.length<=10?n:n.slice(0,10));return j("",((u={})[""]=t,u),a,o,i,"",[])}}if(!x("json-parse")){var P,k,D=i.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},R=function(){throw P=k=null,l()},N=function(){for(var t,e,n,r,i,a=k,o=a.length;P<o;)switch(i=a.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=M?a.charAt(P):a[P],P++,t;case 34:for(t="@",P++;P<o;)if((i=a.charCodeAt(P))<32)R();else if(92==i)switch(i=a.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[i],P++;break;case 117:for(e=++P,n=P+4;P<n;P++)48<=(i=a.charCodeAt(P))&&i<=57||97<=i&&i<=102||65<=i&&i<=70||R();t+=D("0x"+a.slice(e,P));break;default:R()}else{if(34==i)break;for(i=a.charCodeAt(P),e=P;32<=i&&92!=i&&34!=i;)i=a.charCodeAt(++P);t+=a.slice(e,P)}if(34==a.charCodeAt(P))return P++,t;R();default:if(e=P,45==i&&(r=!0,i=a.charCodeAt(++P)),48<=i&&i<=57){for(48==i&&48<=(i=a.charCodeAt(P+1))&&i<=57&&R(),r=!1;P<o&&48<=(i=a.charCodeAt(P))&&i<=57;P++);if(46==a.charCodeAt(P)){for(n=++P;n<o&&48<=(i=a.charCodeAt(n))&&i<=57;n++);n==P&&R(),P=n}if(101==(i=a.charCodeAt(P))||69==i){for(43!=(i=a.charCodeAt(++P))&&45!=i||P++,n=P;n<o&&48<=(i=a.charCodeAt(n))&&i<=57;n++);n==P&&R(),P=n}return+a.slice(e,P)}if(r&&R(),"true"==a.slice(P,P+4))return P+=4,!0;if("false"==a.slice(P,P+5))return P+=5,!1;if("null"==a.slice(P,P+4))return P+=4,null;R()}return"$"},z=function(t){var e,n;if("$"==t&&R(),"string"==typeof t){if("@"==(M?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=N());n||(n=!0))n&&(","==t?"]"==(t=N())&&R():R()),","==t&&R(),e.push(z(t));return e}if("{"==t){for(e={};"}"!=(t=N());n||(n=!0))n&&(","==t?"}"==(t=N())&&R():R()),","!=t&&"string"==typeof t&&"@"==(M?t.charAt(0):t[0])&&":"==N()||R(),e[t.slice(1)]=z(N());return e}R()}return t},B=function(t,e,n){var r=F(t,e,n);r===g?delete t[e]:t[e]=r},F=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(m.call(i)==S)for(r=i.length;r--;)B(i,r,n);else p(i,function(t){B(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return P=0,k=""+t,n=z(N()),"$"!=N()&&R(),P=k=null,e&&m.call(e)==b?F(((r={})[""]=n,r),"",e):n}}}return e.runInContext=s,e}if(!o||o.global!==o&&o.window!==o&&o.self!==o||(a=o),i)s(a,i);else{var u=a.JSON,l=a.JSON3,c=!1,h=s(a,a.JSON3={noConflict:function(){return c||(c=!0,a.JSON=u,a.JSON3=l,u=l=null),h}});a.JSON={parse:h.parse,stringify:h.stringify}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t){return decodeURIComponent(t.replace(/\+/g," "))}n.stringify=function(t,e){e=e||"";var n=[];for(var i in"string"!=typeof e&&(e="?"),t)r.call(t,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length?e+n.join("&"):""},n.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var a=i(e[1]),o=i(e[2]);a in r||(r[a]=o)}return r}},{}],57:[function(t,e,n){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],58:[function(t,e,n){(function(n){"use strict";var r=t("requires-port"),i=t("querystringify"),a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function l(t){var e,r={},i=typeof(t=t||n&&n.location||{});if("blob:"===t.protocol)r=new h(unescape(t.pathname),{});else if("string"===i)for(e in r=new h(t,{}),u)delete r[e];else if("object"===i){for(e in t)e in u||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=o.test(t.href))}return r}function c(t){var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function h(t,e,n){if(!(this instanceof h))return new h(t,e,n);var a,o,u,f,d,p,g=s.slice(),v=typeof e,m=this,y=0;for("object"!==v&&"string"!==v&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),e=l(e),a=!(o=c(t||"")).protocol&&!o.slashes,m.slashes=o.slashes||a&&e.slashes,m.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(g[3]=[/(.*)/,"pathname"]);y<g.length;y++)"function"!=typeof(f=g[y])?(p=f[1],(u=f[0])!=u?m[p]=t:"string"==typeof u?~(d=t.indexOf(u))&&(t="number"==typeof f[2]?(m[p]=t.slice(0,d),t.slice(d+f[2])):(m[p]=t.slice(d),t.slice(0,d))):(d=u.exec(t))&&(m[p]=d[1],t=t.slice(0,d.index)),m[p]=m[p]||a&&f[3]&&e[p]||"",f[4]&&(m[p]=m[p].toLowerCase())):t=f(t);n&&(m.query=n(m.query)),a&&e.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==e.pathname)&&(m.pathname=function(t,e){for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],a=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(a=!0),n.splice(r,1),o--);return a&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(m.pathname,e.pathname)),r(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(f=m.auth.split(":"),m.username=f[0]||"",m.password=f[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}h.prototype={set:function(t,e,n){var a=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),a[t]=e;break;case"port":a[t]=e,r(e,a.protocol)?e&&(a.host=a.hostname+":"+e):(a.host=a.hostname,a[t]="");break;case"hostname":a[t]=e,a.port&&(e+=":"+a.port),a.host=e;break;case"host":a[t]=e,/:\d+$/.test(e)?(e=e.split(":"),a.port=e.pop(),a.hostname=e.join(":")):(a.hostname=e,a.port="");break;case"protocol":a.protocol=e.toLowerCase(),a.slashes=!n;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";a[t]=e.charAt(0)!==o?o+e:e}else a[t]=e;break;default:a[t]=e}for(var u=0;u<s.length;u++){var l=s[u];l[4]&&(a[l[1]]=a[l[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(a+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(a+=n.hash),a}},h.extractProtocol=c,h.location=l,h.qs=i,e.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:56,"requires-port":57}]},{},[1])(1)}),(function(){var t,e,n,r,i={}.hasOwnProperty,a=[].slice;t={LF:"\n",NULL:"\0"},n=function(){var e;function n(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}return n.prototype.toString=function(){var e,r,a,o;for(r in e=[this.command],(a=!1===this.headers["content-length"])&&delete this.headers["content-length"],o=this.headers)i.call(o,r)&&e.push(r+":"+o[r]);return this.body&&!a&&e.push("content-length:"+n.sizeOfUTF8(this.body)),e.push(t.LF+this.body),e.join(t.LF)},n.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},e=function(e){var r,i,a,o,s,u,l,c,h,f,d,p,g,v,m,y,x;for(o=e.search(RegExp(""+t.LF+t.LF)),a=(s=e.substring(0,o).split(t.LF)).shift(),u={},p=function(t){return t.replace(/^\s+|\s+$/g,"")},g=0,m=(y=s.reverse()).length;g<m;g++)c=(f=y[g]).indexOf(":"),u[p(f.substring(0,c))]=p(f.substring(c+1));if(r="",d=o+2,u["content-length"])h=parseInt(u["content-length"]),r=(""+e).substring(d,d+h);else for(i=null,l=v=d,x=e.length;(d<=x?v<x:v>x)&&(i=e.charAt(l))!==t.NULL;l=d<=x?++v:--v)r+=i;return new n(a,u,r)},n.unmarshall=function(n){var r;return function(){var i,a,o,s;for(s=[],i=0,a=(o=n.split(RegExp(""+t.NULL+t.LF+"*"))).length;i<a;i++)(null!=(r=o[i])?r.length:void 0)>0&&s.push(e(r));return s}()},n.marshall=function(e,r,i){return new n(e,r,i).toString()+t.NULL},n}(),e=function(){var e;function i(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}return i.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},e=function(){return Date.now?Date.now():(new Date).valueOf},i.prototype._transmit=function(t,e,r){var i;for(i=n.marshall(t,e,r),"function"==typeof this.debug&&this.debug(">>> "+i);;){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+i.length)}},i.prototype._setupHeartbeat=function(n){var i,a,o,s,u,l;if((s=n.version)===r.VERSIONS.V1_1||s===r.VERSIONS.V1_2)return a=(u=function(){var t,e,r,i;for(i=[],t=0,e=(r=n["heart-beat"].split(",")).length;t<e;t++)i.push(parseInt(r[t]));return i}())[0],i=u[1],0!==this.heartbeat.outgoing&&0!==i&&(o=Math.max(this.heartbeat.outgoing,i),"function"==typeof this.debug&&this.debug("send PING every "+o+"ms"),this.pinger=r.setInterval(o,(l=this,function(){return l.ws.send(t.LF),"function"==typeof l.debug?l.debug(">>> PING"):void 0}))),0!==this.heartbeat.incoming&&0!==a?(o=Math.max(this.heartbeat.incoming,a),"function"==typeof this.debug&&this.debug("check PONG every "+o+"ms"),this.ponger=r.setInterval(o,function(t){return function(){var n;if((n=e()-t.serverActivity)>2*o)return"function"==typeof t.debug&&t.debug("did not receive server activity for the last "+n+"ms"),t.ws.close()}}(this))):void 0},i.prototype._parseConnect=function(){var t,e,n,r;switch(r={},(t=1<=arguments.length?a.call(arguments,0):[]).length){case 2:r=t[0],e=t[1];break;case 3:t[1]instanceof Function?(r=t[0],e=t[1],n=t[2]):(r.login=t[0],r.passcode=t[1],e=t[2]);break;case 4:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3];break;default:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3],r.host=t[4]}return[r,e,n]},i.prototype.connect=function(){var i,o,s,u,l;return i=1<=arguments.length?a.call(arguments,0):[],u=this._parseConnect.apply(this,i),s=u[0],this.connectCallback=u[1],o=u[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=(l=this,function(r){var i,a,s,u,c,h,f,d,p,g,v;if(s="undefined"!=typeof ArrayBuffer&&r.data instanceof ArrayBuffer?(i=new Uint8Array(r.data),"function"==typeof l.debug&&l.debug("--- got data length: "+i.length),function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)n.push(String.fromCharCode(i[t]));return n}().join("")):r.data,l.serverActivity=e(),s!==t.LF){for("function"==typeof l.debug&&l.debug("<<< "+s),v=[],d=0,p=(g=n.unmarshall(s)).length;d<p;d++)switch((u=g[d]).command){case"CONNECTED":"function"==typeof l.debug&&l.debug("connected to server "+u.headers.server),l.connected=!0,l._setupHeartbeat(u.headers),v.push("function"==typeof l.connectCallback?l.connectCallback(u):void 0);break;case"MESSAGE":(h=l.subscriptions[f=u.headers.subscription]||l.onreceive)?(a=l,c=u.headers["message-id"],u.ack=function(t){return null==t&&(t={}),a.ack(c,f,t)},u.nack=function(t){return null==t&&(t={}),a.nack(c,f,t)},v.push(h(u))):v.push("function"==typeof l.debug?l.debug("Unhandled received MESSAGE: "+u):void 0);break;case"RECEIPT":v.push("function"==typeof l.onreceipt?l.onreceipt(u):void 0);break;case"ERROR":v.push("function"==typeof o?o(u):void 0);break;default:v.push("function"==typeof l.debug?l.debug("Unhandled frame: "+u):void 0)}return v}"function"==typeof l.debug&&l.debug("<<< PONG")}),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof o?o(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),s["accept-version"]=r.VERSIONS.supportedVersions(),s["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",s)}}(this)},i.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},i.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&r.clearInterval(this.pinger),this.ponger)return r.clearInterval(this.ponger)},i.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},i.prototype.subscribe=function(t,e,n){var r;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),r=this,{id:n.id,unsubscribe:function(){return r.unsubscribe(n.id)}}},i.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},i.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},i.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},i.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},i.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},i.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},i}(),r={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,n){var i;return null==n&&(n=["v10.stomp","v11.stomp"]),i=new(r.WebSocketClass||WebSocket)(t,n),new e(i)},over:function(t){return new e(t)},Frame:n},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=r),"undefined"!=typeof window&&null!==window?(r.setInterval=function(t,e){return window.setInterval(e,t)},r.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=r):exports||(self.Stomp=r)}).call(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G2_3=e():t.G2_3=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=389)}([function(t,e,n){var r=n(127),i=n(16),a=r.mix({},r,{assign:r.mix,merge:r.deepMix,cloneDeep:r.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:r.isNumberEqual,remove:r.pull,inArray:r.contains,toAllPadding:function(t){var e=0,n=0,r=0,i=0;return a.isNumber(t)||a.isString(t)?e=n=r=i=t:a.isArray(t)?(e=t[0],r=a.isNil(t[1])?t[0]:t[1],i=a.isNil(t[2])?t[0]:t[2],n=a.isNil(t[3])?r:t[3]):a.isObject(t)&&(e=t.top||0,r=t.right||0,i=t.bottom||0,n=t.left||0),[e,r,i,n]},getClipByRange:function(t){var e=t.tl,n=t.br;return new i.Rect({attrs:{x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}})}});a.Array={groupToMap:r.groupToMap,group:r.group,merge:r.merge,values:r.valuesOfKey,getRange:r.getRange,firstValue:r.firstValue,remove:r.pull},t.exports=a},function(t,e,n){var r=n(81),i={};r.merge(i,r,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var r={};i.each(e,function(e){i.augment(t,e);var a=e[n];a&&i.merge(r,a)}),t[n]=i.merge(r,t[n])}}}),t.exports=i},function(t,e,n){var r=n(24),i=n(4);t.exports=function(t,e){if(t)if(i(t))for(var n=0,a=t.length;n<a&&!1!==e(t[n],n);n++);else if(r(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break}},function(t,e,n){var r=n(25),i=n(127),a=i.mix({assign:i.mix,isFinite:isFinite,isNaN:isNaN,Group:r.Group,Event:r.Event},i);t.exports=a},function(t,e,n){var r=n(12),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var r=n(1),i=n(189),a=n(102),o=n(54),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={},r.extend(s,a);var u={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};r.augment(s,i,{isShape:!0,drawInner:function(t){var e=this._attrs;this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var i=e.fillOpacity;r.isNil(i)||1===i?t.fill():(t.globalAlpha=i,t.fill(),t.globalAlpha=n)}if(this.hasStroke()&&this._attrs.lineWidth>0){var a=e.strokeOpacity;r.isNil(a)||1===a||(t.globalAlpha=a),t.stroke()}this.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=[t,e,1];if(this.invert(n),this.isHitBox()){var r=this.getBBox();if(r&&!o.box(r.minX,r.maxX,r.minY,r.maxY,n[0],n[1]))return!1}var i=this._attrs.clip;return i?(i.invert(n,this.get("canvas")),!!i.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs;return(t.lineWidth||0)+(t.lineAppendWidth||0)},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=null,e=this._attrs,n={};return r.each(e,function(t,i){n[i]=u[i]&&r.isArray(e[i])?function(t){for(var e=[],n=0;n<t.length;n++)r.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[i]):e[i]}),(t=new this.constructor({attrs:n}))._cfg.zIndex=this._cfg.zIndex,t}}),t.exports=s},function(t,e,n){var r=n(0),i=n(151),a={version:"3.5.5",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(t,e){i[t]=e},setTheme:function(t){var e;e=r.isObject(t)?t:-1!==r.indexOf(Object.keys(i),t)?i[t]:i.default,r.deepMix(a,e)}};a.setTheme("default"),t.exports=a},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,r,i){return e&&n(t,e),r&&n(t,r),i&&n(t,i),t}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Number")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"String")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Function")}},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e){t.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(t,e,n){var r=n(3),i=n(156),a=["min","max","median","start","end"],o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{xScales:null,yScales:null,el:null})},n.render=function(){},n.clear=function(){var t=this.get("el");t&&t.remove()},n.changeVisible=function(t){this.set("visible",t);var e=this.get("el");e&&(e.set?e.set("visible",t):e.style.display=t?"":"none")},n.parsePoint=function(t,e){var n,a,o=this.get("xScales"),s=this.get("yScales");if(r.isFunction(e)&&(e=e(o,s)),r.isArray(e)&&r.isString(e[0])&&-1!==e[0].indexOf("%"))return this._parsePercentPoint(t,e);if(r.isArray(e))n=this._getNormalizedValue(e[0],i.getFirstScale(o)),a=this._getNormalizedValue(e[1],i.getFirstScale(s));else for(var u in e){var l=e[u];o[u]&&(n=this._getNormalizedValue(l,o[u])),s[u]&&(a=this._getNormalizedValue(l,s[u],"y"))}return r.isNil(n)||r.isNil(a)?void 0:t.convert({x:n,y:a})},n._getNormalizedValue=function(t,e){return-1!==r.indexOf(a,t)?"start"===t?0:"end"===t?1:e.scale("median"===t?e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2:e.isCategory?"min"===t?0:e.values.length-1:e[t]):e.scale(t)},n._parsePercentPoint=function(t,e){var n=parseFloat(e[0])/100,r=parseFloat(e[1])/100,i=t.start,a=t.end,o=Math.min(i.x,a.x),s=Math.min(i.y,a.y);return{x:t.width*n+o,y:t.height*r+s}},e}(n(32));t.exports=o},function(t,e,n){var r=n(25);t.exports=r},function(t,e,n){var r=n(8),i=n(2),a=n(24),o=n(5),s=function(){function t(t){this._initDefaultCfg(),r(this,t),this.init()}var e=t.prototype;return e._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},e.init=function(){},e.getTicks=function(){var t=this,e=[];return i(t.ticks,function(n){var r;r=a(n)?n:{text:t.getText(n),tickValue:n,value:t.scale(n)},e.push(r)}),e},e.getText=function(t,e){var n=this.formatter;return t=n?n(t,e):t,!o(t)&&t.toString||(t=""),t.toString()},e.rangeMin=function(){return this.range[0]},e.rangeMax=function(){var t=this.range;return t[t.length-1]},e.invert=function(t){return t},e.translate=function(t){return t},e.scale=function(t){return t},e.clone=function(){var t=this,e=t.constructor,n={};return i(t,function(e,r){n[r]=t[r]}),new e(n)},e.change=function(t){return this.ticks=null,r(this,t),this.init(),this},t}();t.exports=s},function(t,e,n){var r=n(0),i=n(22),a=r.PathUtil,o={},s={_coord:null,draw:function(t,e){return this.drawShape?this.drawShape(t,e):null},setCoord:function(t){this._coord=t},parsePath:function(t,e){var n=this._coord;return t=a.parsePathString(t),n.isPolar&&!1!==e?i.convertPolarPath(n,t):i.convertNormalPath(n,t)},parsePoint:function(t){return this._coord.convertPoint(t)},parsePoints:function(t){var e=this._coord,n=[];return r.each(t,function(t){n.push(e.convertPoint(t))}),n}},u={defaultShapeType:null,setCoord:function(t){this._coord=t},getShape:function(t){r.isArray(t)&&(t=t[0]);var e=this[t]||this[this.defaultShapeType];return e._coord=this._coord,e},getShapePoints:function(t,e){var n=this.getShape(t);return(n.getPoints||n.getShapePoints||this.getDefaultPoints)(e)},getDefaultPoints:function(){return[]},getMarkerCfg:function(t,e){var n=this.getShape(t);return n.getMarkerCfg||(n=this.getShape(this.defaultShapeType)),n.getMarkerCfg(e)},getSelectedCfg:function(){return{}},drawShape:function(t,e,n){var r=this.getShape(t).draw(e,n);return r&&(r.setSilent("origin",e.origin),r._id=e.yIndex?e._id+e.yIndex:e._id,r.name=this.name),r}};o.registerFactory=function(t,e){var n=r.upperFirst(t),i=r.assign({},u,e);return o[n]=i,i.name=t,i},o.registerShape=function(t,e,n){var i=r.upperFirst(t),a=o[i],u=r.assign({},s,n);return a[e]=u,u},o.getShapeFactory=function(t){return this[r.upperFirst(t=t||"point")]},t.exports=o},function(t,e,n){"use strict";var r=n(60);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(203);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var a=n(204);n.d(e,"b",function(){return a.a})},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(u.isString(t)||u.isPlainObject(t))&&(t=[t]),u.each(t,function(e,n){u.isObject(e)||(t[n]={type:e})}),t}var a=n(73),o=n(297),s=n(148),u=n(0),l=n(7),c=n(305),h=n(18),f=n(337),d=n(338),p=n(339),g=n(340),v=["color","shape","size"],m=function(t){function e(e){var n;return(n=t.call(this,e)||this).viewTheme=n.get("viewTheme"),u.assign(r(r(n)),f,d,p),n.get("container")&&n._initContainer(),n._initOptions(),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},n._initOptions=function(){var t=this.get("adjusts");t&&(t=i(t),this.set("adjusts",t))},n._createScale=function(t,e){var n=this.get("scales"),r=n[t];return r||(r=this.get("view").createScale(t,e),n[t]=r),r},n._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},n._createAttrOption=function(t,e,n,r){var i={};i.field=e,n?u.isFunction(n)?i.callback=n:i.values=n:"color"!==t&&(i.values=r),this._setAttrOptions(t,i)},n.position=function(t){return this._setAttrOptions("position",{field:t}),this},n.color=function(t,e){return this._createAttrOption("color",t,e,(this.viewTheme||l).colors),this},n.size=function(t,e){return this._createAttrOption("size",t,e,(this.viewTheme||l).sizes),this},n.shape=function(t,e){var n=this.viewTheme||l,r=this.get("type");return this._createAttrOption("shape",t,e,n.shapes[r]||[]),this},n.opacity=function(t,e){return this._createAttrOption("opacity",t,e,(this.viewTheme||l).opacities),this},n.style=function(t,e){var n,r=this.get("styleOptions");return r||this.set("styleOptions",r={}),u.isObject(t)&&(e=t,t=null),t&&(n=g(t)),r.fields=n,r.style=e,this},n.label=function(t,e,n){var r,i=this.get("labelCfg");return i||this.set("labelCfg",i={}),t&&(r=g(t)),i.fields=r,u.isFunction(e)?(n||(n={}),i.callback=e):u.isObject(e)&&(n=e),i.globalCfg=n,this},n.tooltip=function(t,e){var n,r=this.get("tooltipCfg");return r||(r={}),!1===t?this.set("tooltipCfg",!1):(t&&(n=g(t)),r.fields=n,r.cfg=e),this.set("tooltipCfg",r),this},n.animate=function(t){return this.set("animateCfg",t),this},n.active=function(t,e){return!1===t?this.set("allowActive",!1):u.isObject(t)?(this.set("allowActive",!0),this.set("activedOptions",t)):(this.set("allowActive",!0),this.set("activedOptions",e)),this},n.adjust=function(t){return this.get("hasDefaultAdjust")||(t&&(t=i(t)),this.set("adjusts",t)),this},n.select=function(t,e){return!1===t?this.set("allowSelect",!1):u.isObject(t)?(this.set("allowSelect",!0),this.set("selectedOptions",t)):(this.set("allowSelect",!0),this.set("selectedOptions",e)),this},n.hasAdjust=function(t){var e=this.get("adjusts");if(!t)return!1;var n=!1;return u.each(e,function(e){if(e.type===t)return n=!0,!1}),n},n.hasStack=function(){var t=this.get("isStacked");return u.isNil(t)&&(t=this.hasAdjust("stack"),this.set("isStacked",t)),t},n.isInCircle=function(){var t=this.get("coord");return t&&t.isPolar},n._initContainer=function(){var t=this.get("shapeContainer");if(!t){var e=this.get("container"),n=this.get("view"),r=n&&n.get("_id");t=e.addGroup({viewId:r,visible:this.get("visible")}),this.set("shapeContainer",t)}},n.init=function(){var t=this;if(t._initContainer(),t._initAttrs(),t.get("tooltipCfg")&&t.get("tooltipCfg").fields){var e=t.get("tooltipCfg").fields;u.each(e,function(e){t._createScale(e)})}var n=t._processData();t.get("adjusts")&&t._adjust(n),t.set("dataArray",n)},n._initAttrs=function(){var t=this.get("attrs"),e=this.get("attrOptions"),n=this.get("coord"),r=this.viewTheme||l,i=!1;for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],c=u.upperFirst(o),h=g(s.field);"position"===o&&(s.coord=n,1===h.length&&"theta"===n.type&&(h.unshift("1"),i=!0));for(var f=[],d=0;d<h.length;d++){var p=this._createScale(h[d]);"color"===o&&u.isNil(s.values)&&(s.values=p.values.length<=8?i?r.colors_pie:r.colors:p.values.length<=16?i?r.colors_pie_16:r.colors_16:r.colors_24,u.isNil(s.values)&&(s.values=r.colors)),f.push(p)}if("theta"===n.type&&"position"===o&&f.length>1){var v=f[1],m=Math.max.apply(null,v.values);isFinite(m)||(m=1),v.change({nice:!1,min:0,max:m})}s.scales=f;var y=new a[c](s);t[o]=y}},n._processData=function(){for(var t=this.get("data"),e=[],n=this._groupData(t),r=0;r<n.length;r++){var i=this._saveOrigin(n[r]);this._numberic(i),e.push(i)}return e},n._groupData=function(t){var e=this._getGroupScales().map(function(t){return t.field});return u.Array.group(t,e)},n._saveOrigin=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i={};for(var a in r)i[a]=r[a];i._origin=r,e.push(i)}return e},n._numberic=function(t){for(var e=this.getAttr("position").scales,n=0;n<t.length;n++)for(var r=t[n],i=0;i<Math.min(2,e.length);i++){var a=e[i];if(a.isCategory){var o=a.field;r[o]=a.translate(r[o])}}},n._getGroupScales=function(){var t=this.get("groupScales");if(!t){t=[];var e=this.get("attrs");u.each(e,function(e){-1!==v.indexOf(e.type)&&u.each(e.scales,function(e){e.isCategory&&-1===u.indexOf(t,e)&&t.push(e)})}),this.set("groupScales",t)}return t},n._updateStackRange=function(t,e,n){for(var r=u.Array.merge(n),i=e.min,a=e.max,o=0;o<r.length;o++){var s=r[o],l=Math.min.apply(null,s[t]),c=Math.max.apply(null,s[t]);l<i&&(i=l),c>a&&(a=c)}(i<e.min||a>e.max)&&e.change({min:i,max:a})},n._adjust=function(t){var e=this,n=e.get("adjusts"),r=this.viewTheme||l,i=e.getYScale(),a=e.getXScale(),s=a.field,c=i?i.field:null;u.each(n,function(n){var l=u.mix({xField:s,yField:c},n),h=u.upperFirst(n.type);if("Dodge"===h){var f=[];if(a.isCategory||a.isIdentity)f.push("x");else{if(i)throw new Error("dodge is not support linear attribute, please use category attribute!");f.push("y")}l.adjustNames=f,l.dodgeRatio=r.widthRatio.column}else if("Stack"===h){var d=e.get("coord");if(!i){l.height=d.getHeight();var p=e.getDefaultValue("size")||3;l.size=p}!d.isTransposed&&u.isNil(l.reverseOrder)&&(l.reverseOrder=!0)}new o[h](l).processAdjust(t),"Stack"===h&&i&&e._updateStackRange(c,i,t)})},n.setCoord=function(t){this.set("coord",t);var e=this.getAttr("position");this.get("shapeContainer").setMatrix(t.matrix),e&&(e.coord=t)},n.paint=function(){var t=this.get("dataArray"),e=[],n=this.getShapeFactory();n.setCoord(this.get("coord")),this.set("shapeFactory",n);var r=this.get("shapeContainer");this._beforeMapping(t);for(var i=0;i<t.length;i++){var a=t[i],o=i;a=this._mapping(a),e.push(a),this.draw(a,r,n,o)}this.get("labelCfg")&&this._addLabels(u.union.apply(null,e),r.get("children")),this.get("sortable")?this.set("dataArray",e):this._sort(e)},n._sort=function(t){var e=this.getXScale(),n=e.field;u.each(t,function(t){t.sort(function(t,r){return e.translate(t._origin[n])-e.translate(r._origin[n])})}),this.set("dataArray",t)},n._beforeMapping=function(t){var e=this;if(e.get("sortable")){var n=e.getXScale(),r=n.field;u.each(t,function(t){t.sort(function(t,e){return n.translate(t[r])-n.translate(e[r])})})}e.get("generatePoints")&&(u.each(t,function(t){e._generatePoints(t)}),u.each(t,function(e,n){var r=t[n+1];r&&(e[0].nextPoints=r[0].points)}))},n._addLabels=function(t,e){var n=this,r=n.get("type"),i=n.get("viewTheme")||l,a=n.get("coord"),o=c.getLabelsClass(a.type,r),s=n.get("container"),h=u.map(n.get("labelCfg").fields,function(t){return n._createScale(t)}),f=s.addGroup(o,{_id:this.get("_id"),labelCfg:u.mix({scales:h},n.get("labelCfg")),coord:a,geom:n,geomType:r,viewTheme:i,visible:n.get("visible")});f.showLabels(t,e),n.set("labelContainer",f)},n.getShapeFactory=function(){var t=this.get("shapeFactory");if(!t){var e=this.get("shapeType");t=h.getShapeFactory(e),this.set("shapeFactory",t)}return t},n._generatePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttr("shape"),r=0;r<t.length;r++){var i=t[r],a=this.createShapePointsCfg(i),o=n?this._getAttrValues(n,i):null,s=e.getShapePoints(o,a);i.points=s}},n.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this._normalizeValues(t[e.field],e),y:n?this._normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},n.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},n._normalizeValues=function(t,e){var n=[];if(u.isArray(t))for(var r=0;r<t.length;r++)n.push(e.scale(t[r]));else n=e.scale(t);return n},n._mapping=function(t){for(var e=this.get("attrs"),n=[],r=0;r<t.length;r++){var i=t[r],a={};for(var o in a._origin=i._origin,a.points=i.points,a.nextPoints=i.nextPoints,e)if(e.hasOwnProperty(o)){var s=e[o],l=s.names,c=this._getAttrValues(s,i);if(l.length>1)for(var h=0;h<c.length;h++){var f=c[h];a[l[h]]=u.isArray(f)&&1===f.length?f[0]:f}else a[l[0]]=1===c.length?c[0]:c}n.push(a)}return n},n._getAttrValues=function(t,e){for(var n=t.scales,r=[],i=0;i<n.length;i++){var a=n[i];r.push("identity"===a.type?a.value:e[a.field])}return t.mapping.apply(t,r)},n.getAttrValue=function(t,e){var n=this.getAttr(t),r=null;return n&&(r=this._getAttrValues(n,e)[0]),r},n.getDefaultValue=function(t){var e=this.get(t),n=this.getAttr(t);if(n){var r=n.getScale(t);"identity"===r.type&&(e=r.value)}return e},n.draw=function(t,e,n,r){for(var i=0;i<t.length;i++)this.drawPoint(t[i],e,n,r+i)},n.getCallbackCfg=function(t,e,n){if(!t)return e;var r={},i=t.map(function(t){return n[t]});return u.each(e,function(t,e){r[e]=u.isFunction(t)?t.apply(null,i):t}),r},n._getShapeId=function(t){var e=this.get("_id"),n=this.get("keyFields");if(n&&n.length>0)u.each(n,function(n){e+="-"+t[n]});else{var r,i=this.get("type"),a=this.getXScale(),o=this.getYScale();r=a.isIdentity?a.value:t[a.field||"x"],e+="interval"===i||"schema"===i?"-"+r:"line"===i||"area"===i||"path"===i?"-"+i:"-"+r+"-"+t[o.field||"y"];var s=this._getGroupScales();u.isEmpty(s)||u.each(s,function(n){"identity"!==n.type&&(e+="-"+t[n.field])})}return e},n.getDrawCfg=function(t){var e={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:this.isInCircle(),opacity:t.opacity},n=this.get("styleOptions");return n&&n.style&&(e.style=this.getCallbackCfg(n.fields,n.style,t._origin)),this.get("generatePoints")&&(e.points=t.points,e.nextPoints=t.nextPoints),this.get("animate")&&(e._id=this._getShapeId(t._origin)),e},n.appendShapeInfo=function(t,e){t&&(t.setSilent("index",e),t.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&t.setSilent("animateCfg",this.get("animateCfg")))},n._applyViewThemeShapeStyle=function(t,e,n){var r=this.viewTheme||l,i=n.name;e?e&&(e.indexOf("hollow")>-1||e.indexOf("liquid")>-1)&&(i="hollow"+u.upperFirst(i)):n.defaultShapeType.indexOf("hollow")>-1&&(i="hollow"+u.upperFirst(i)),t.style=u.mix({},r.shape[i]||{},t.style)},n.drawPoint=function(t,e,n,r){var i=t.shape,a=this.getDrawCfg(t);this._applyViewThemeShapeStyle(a,i,n);var o=n.drawShape(i,a,e);this.appendShapeInfo(o,r)},n.getAttr=function(t){return this.get("attrs")[t]},n.getXScale=function(){return this.getAttr("position").scales[0]},n.getYScale=function(){return this.getAttr("position").scales[1]},n.getShapes=function(){var t=[],e=this.get("shapeContainer").get("children");return u.each(e,function(e){e.get("origin")&&t.push(e)}),t},n.getAttrsForLegend=function(){var t=this.get("attrs"),e=[];return u.each(t,function(t){-1!==v.indexOf(t.type)&&e.push(t)}),e},n.getFieldsForLegend=function(){var t=[],e=this.get("attrOptions");return u.each(v,function(n){var r=e[n];r&&r.field&&u.isString(r.field)&&(t=t.concat(r.field.split("*")))}),u.uniq(t)},n.changeVisible=function(t,e){this.set("visible",t);var n=this.get("shapeContainer");n&&n.set("visible",t);var r=this.get("labelContainer");r&&r.set("visible",t),!e&&n&&n.get("canvas").draw()},n.reset=function(){this.set("attrOptions",{}),this.clearInner()},n.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var t=this.get("shapeContainer");t&&t.clear();var e=this.get("labelContainer");e&&e.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},n.clear=function(){this.clearInner(),this.set("scales",{})},n.destroy=function(){this.clear();var e=this.get("shapeContainer");e&&e.remove(),this.offEvents(),t.prototype.destroy.call(this)},n.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},n.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},e}(s);t.exports=m},function(t,e,n){t.exports={Axis:n(306),Component:n(66),Guide:n(314),Label:n(323),Legend:n(324),Tooltip:n(330)}},function(t,e,n){function r(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function i(t,e){for(var n=t.length,r=[t[0]],i=1;i<n;i+=2){var a=e.convertPoint({x:t[i],y:t[i+1]});r.push(a.x,a.y)}return r}var a=n(0),o=n(334),s={getLinePath:function(t,e){return function(t,e){if(!t.length)return[];for(var n=[],r=0,i=t.length;r<i;r++){var a=t[r];n.push(0===r?["M",a.x,a.y]:["L",a.x,a.y])}return e&&n.push(["Z"]),n}(t,e)},getSplinePath:function(t,e,n){var r=[],i=t[0],u=null;if(t.length<=2)return s.getLinePath(t,e);a.each(t,function(t){u&&u.x===t.x&&u.y===t.y||(r.push(t.x),r.push(t.y),u=t)});var l=o.catmullRom2bezier(r,e,n=n||[[0,0],[1,1]]);return l.unshift(["M",i.x,i.y]),l},getPointRadius:function(t,e){return r(t,e)},getPointAngle:function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},convertNormalPath:function(t,e){var n=[];return a.each(e,function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(i(e,t));break;case"z":default:n.push(e)}}),n},convertPolarPath:function(t,e){var n,o,s=[];return a.each(e,function(a,u){switch(a[0].toLowerCase()){case"m":case"c":case"q":s.push(i(a,t));break;case"l":n=e[u-1],o=a,(t.isTransposed?n[n.length-2]===o[1]:n[n.length-1]===o[2])?s=s.concat(function(t,e,n){var i=n.startAngle,a=n.endAngle,o={x:t[1],y:t[2]},s={x:e[1],y:e[2]},u=[],l=n.isTransposed?"y":"x",c=Math.abs(s[l]-o[l])*(a-i),h=s[l]>=o[l]?1:0,f=c>Math.PI?1:0,d=n.convertPoint(s),p=r(n,d);if(p>=.5)if(c===2*Math.PI){var g=n.convertPoint({x:(s.x+o.x)/2,y:(s.y+o.y)/2});u.push(["A",p,p,0,f,h,g.x,g.y]),u.push(["A",p,p,0,f,h,d.x,d.y])}else u.push(["A",p,p,0,f,h,d.x,d.y]);return u}(n,o,t)):s.push(i(a,t));break;case"z":default:s.push(a)}}),function(t){a.each(t,function(e,n){if("a"===e[0].toLowerCase()){var r=t[n-1],i=t[n+1];i&&"a"===i[0].toLowerCase()?r&&"l"===r[0].toLowerCase()&&(r[0]="M"):r&&"a"===r[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}})}(s),s}};t.exports=s},function(t,e,n){var r=n(5);t.exports=function(t){return r(t)?"":t.toString()}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){t.exports={Canvas:n(181),Group:n(101),Shape:n(6),Arc:n(105),Circle:n(106),Dom:n(107),Ellipse:n(108),Fan:n(109),Image:n(110),Line:n(111),Marker:n(56),Path:n(112),Polygon:n(113),Polyline:n(114),Rect:n(115),Text:n(116),PathSegment:n(39),PathUtil:n(57),Event:n(100),version:"3.3.6"}},function(t,e,n){var r=n(48),i=n(12);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var r=n(1),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi,o={};t.exports={parseRadius:function(t){var e=0,n=0,i=0,a=0;return r.isArray(t)?1===t.length?e=n=i=a=t[0]:2===t.length?(e=i=t[0],n=a=t[1]):3===t.length?(e=t[0],n=a=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],a=t[3]):e=n=i=a=t,{r1:e,r2:n,r3:i,r4:a}},parsePath:function(t){return r.isArray(t=t||[])?t:r.isString(t)?(t=t.match(i),r.each(t,function(e,n){if((e=e.match(a))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0},numberToColor:function(t){var e=o[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;o[t]=e="#"+n}return e}}},function(t,e,n){"use strict";function r(t,e){return function(n){return t+n*e}}function i(t,e){var n=e-t;return n?r(t,n):Object(a.a)(isNaN(t)?e:t)}e.c=function(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(a.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?i:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(a.a)(isNaN(e)?n:e)}},e.a=i;var a=n(121)},function(t,e,n){function r(t,e){return i(e)?e:t.invert(t.scale(e))}var i=n(10),a=n(4),o=n(5),s=n(8),u=n(2),l=function(){function t(t){var e=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var n=null,r=this.callback;if(t.callback){var i=t.callback;n=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=i.apply(void 0,n);return o(s)&&(s=r.apply(e,n)),s}}s(this,t),n&&s(this,{callback:n})}var e=t.prototype;return e._getAttrValue=function(t,e){var n=this.values;if(t.isCategory&&!this.linear)return n[t.translate(e)%n.length];var r=t.scale(e);return this.getLinearValue(r)},e.getLinearValue=function(t){var e=this.values,n=e.length-1,r=Math.floor(n*t),i=e[r];return i+((r===n?i:e[r+1])-i)*(n*t-r)},e.callback=function(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},e.getNames=function(){for(var t=this.names,e=Math.min(this.scales.length,t.length),n=[],r=0;r<e;r++)n.push(t[r]);return n},e.getFields=function(){var t=[];return u(this.scales,function(e){t.push(e.field)}),t},e.getScale=function(t){return this.scales[this.names.indexOf(t)]},e.mapping=function(){for(var t=this.scales,e=this.callback,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r;if(e){for(var o=0,s=r.length;o<s;o++)r[o]=this._toOriginParam(r[o],t[o]);a=e.apply(this,r)}return[].concat(a)},e._toOriginParam=function(t,e){var n=t;if(!e.isLinear)if(a(t)){n=[];for(var i=0,o=t.length;i<o;i++)n.push(r(e,t[i]))}else n=r(e,t);return n},t}();t.exports=l},function(t,e,n){var r=n(8),i=function(){function t(t){this._initDefaultCfg(),r(this,t)}var e=t.prototype;return e._initDefaultCfg=function(){this.adjustNames=["x","y"]},e.processAdjust=function(){},t}();t.exports=i},function(t,e,n){var r=n(32),i=n(3),a=n(153),o=n(154),s=n(14).FONT_FAMILY,u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},n.beforeRender=function(){var t=this.get("title"),e=this.get("label"),n=this.get("grid");t&&this.set("title",i.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s,textAlign:"center"},offset:48},t)),e&&this.set("label",i.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s},offset:10},e)),n&&this.set("grid",i.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},n))},n.render=function(){this.beforeRender(),this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),i.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},n.renderLabels=function(){var t=this.get("group"),e=this.get("label"),n=new o;this.set("labelRenderer",n),n.set("labelCfg",e),i.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],function(t){e[t]&&n.set(t,e[t])}),n.set("coord",this.get("coord")),n.set("group",t.addGroup()),n.set("canvas",this.get("canvas"))},n._parseTicks=function(t){for(var e=(t=t||[]).length,n=0;n<e;n++){var r=t[n];i.isObject(r)||(t[n]=this.parseTick(r,n,e))}return this.set("ticks",t),t},n._addTickItem=function(t,e,n,r){void 0===r&&(r="");var i=this.get("tickItems"),a=this.get("subTickItems"),o=this.getTickEnd(e,n,t),s={x1:e.x,y1:e.y,x2:o.x,y2:o.y};i||(i=[]),a||(a=[]),"sub"===r?a.push(s):i.push(s),this.set("tickItems",i),this.set("subTickItems",a)},n._renderLine=function(){var t,e=this.get("line");if(e){t=this.getLinePath(),e=i.mix({path:t},e);var n=this.get("group").addShape("path",{attrs:e});n.name="axis-line",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",n)}},n._processCatTicks=function(){var t=this.get("label"),e=this.get("tickLine"),n=this.get("ticks");n=this._parseTicks(n);for(var r=this._getNormalizedTicks(n),i=0;i<r.length;i+=3){var a=this.getTickPoint(r[i]),o=this.getTickPoint(r[i+1]),s=this.getTickPoint(r[i+2]),u=Math.floor(i/3),l=n[u];e&&(0===u&&this._addTickItem(u,o,e.length),this._addTickItem(u,s,e.length)),t&&this.addLabel(l,a,u)}},n._getNormalizedTicks=function(t){var e=0;t.length>1&&(e=(t[1].value-t[0].value)/2);for(var n=[],r=0;r<t.length;r++){var a=t[r];n.push(a.value,a.value-e,a.value+e)}var o=i.arrayUtil.getRange(n);return n.map(function(t){return(t-o.min)/(o.max-o.min)})},n.addLabel=function(t,e,n){var r=this.get("labelItems"),a=this.get("labelRenderer"),o=i.deepMix({},this.get("label"));if(a){var s=this.get("_labelOffset");i.isNil(this.get("label").offset)||(s=this.get("label").offset);var u=this.getSideVector(s,e,n);e={x:e.x+u[0]+o.offsetX,y:e.y+u[1]+o.offsetY},o.text=t.text,o.x=e.x,o.y=e.y,o.point=e,o.textAlign=this.getTextAnchor(u),e.rotate&&(o.rotate=e.rotate),r.push(o)}},n._processTicks=function(){var t=this,e=t.get("label"),n=t.get("subTickCount"),r=t.get("tickLine"),a=t.get("ticks");if(a=t._parseTicks(a),i.each(a,function(n,i){var a=t.getTickPoint(n.value,i);r&&t._addTickItem(i,a,r.length),e&&t.addLabel(n,a,i)}),n){var o=t.get("subTickLine");i.each(a,function(e,i){if(i>0){var s=e.value-a[i-1].value;s/=t.get("subTickCount")+1;for(var u=1;u<=n;u++){var l,c=t.getTickPoint(i?a[i-1].value+u*s:u*s);l=o&&o.length?o.length:parseInt(.6*r.length,10),t._addTickItem(u-1,c,l,"sub")}}})}},n._addTickLine=function(t,e){var n=i.mix({},e),r=[];i.each(t,function(t){r.push(["M",t.x1,t.y1]),r.push(["L",t.x2,t.y2])}),delete n.length,n.path=r;var a=this.get("group").addShape("path",{attrs:n});a.name="axis-ticks",a._id=this.get("_id")+"-ticks",a.set("coord",this.get("coord")),this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo"))},n._renderTicks=function(){var t=this.get("tickItems"),e=this.get("subTickItems");if(!i.isEmpty(t)){var n=this.get("tickLine");this._addTickLine(t,n)}if(!i.isEmpty(e)){var r=this.get("subTickLine")||this.get("tickLine");this._addTickLine(e,r)}},n._renderGrid=function(){var t=this.get("grid");if(t){t.coord=this.get("coord"),t.appendInfo=this.get("appendInfo");var e=this.get("group");this.set("gridGroup",e.addGroup(a,t))}},n._renderLabels=function(){var t=this.get("labelRenderer"),e=this.get("labelItems");t&&(t.set("items",e),t._dryDraw())},n.paint=function(){var t=this.get("tickLine"),e=!0;t&&t.hasOwnProperty("alignWithLabel")&&(e=t.alignWithLabel),this._renderLine();var n=this.get("type");"cat"!==n&&"timeCat"!==n||!1!==e?this._processTicks():this._processCatTicks(),this._renderTicks(),this._renderGrid(),this._renderLabels();var r=this.get("label");r&&r.autoRotate&&this.autoRotateLabels(),r&&r.autoHide&&this.autoHideLabels()},n.parseTick=function(t,e,n){return{text:t,value:e/(n-1)}},n.getTextAnchor=function(t){return Math.abs(t[1]/t[0])>=1?"center":t[0]>0?"start":"end"},n.getMaxLabelWidth=function(t){var e=t.getLabels(),n=0;return i.each(e,function(t){var e=t.getBBox().width;n<e&&(n=e)}),n},n.getMaxLabelHeight=function(t){var e=t.getLabels(),n=0;return i.each(e,function(t){var e=t.getBBox().height;n<e&&(n=e)}),n},n.destroy=function(){if(!this.destroyed){t.prototype.destroy.call(this);var e=this.get("gridGroup");e&&e.remove();var n=this.get("labelRenderer");n&&n.destroy(),this.get("group").destroy(),this.destroyed=!0}},n.clear=function(){var t=this.get("group");if(!t.get("destroyed")&&t.get("children").length){var e=this.get("gridGroup");e&&e.clear();var n=this.get("labelRenderer");n&&n.clear(),this.get("group").clear()}},n.autoRotateLabels=function(){},n.autoHideLabels=function(){},n.renderTitle=function(){},n.getLinePath=function(){},n.getTickPoint=function(){},n.getTickEnd=function(){},n.getSideVector=function(){},e}(r);t.exports=u},function(t,e,n){var r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},n._init=function(){},n.clear=function(){},n.destroy=function(){},n.beforeRender=function(){},n.render=function(){},n.afterRender=function(){},n.beforeDraw=function(){},n.draw=function(){},n.afterDraw=function(){},n.show=function(){},n.hide=function(){},n.setOffset=function(){},n.setPosition=function(){},n.setVisible=function(){},n.setZIndex=function(){},e}(n(66));t.exports=r},function(t,e,n){var r=n(5),i=n(2),a=n(17),o=n(174),s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="linear",this.isLinear=!0,this.nice=!1,this.min=null,this.minLimit=null,this.max=null,this.maxLimit=null,this.tickCount=null,this.tickInterval=null,this.minTickInterval=null,this.snapArray=null},n.init=function(){if(this.ticks){var t=this.ticks,e=this.translate(t[0]),n=this.translate(t[t.length-1]);(r(this.min)||this.min>e)&&(this.min=e),(r(this.max)||this.max<n)&&(this.max=n)}else this.min=this.translate(this.min),this.max=this.translate(this.max),this.initTicks()},n.calculateTicks=function(){var t=this.min,e=this.max,n=this.minLimit,r=this.maxLimit,i=this.tickCount,a=this.tickInterval,s=this.minTickInterval,u=this.snapArray;if(1===i)throw new Error("linear scale'tickCount should not be 1");if(e<t)throw new Error("max: "+e+" should not be less than min: "+t);return o({min:t,max:e,minLimit:n,maxLimit:r,minCount:i,maxCount:i,interval:a,minTickInterval:s,snapArray:u}).ticks},n.initTicks=function(){var t=this,e=t.calculateTicks();if(t.nice)t.ticks=e,t.min=e[0],t.max=e[e.length-1];else{var n=[];i(e,function(e){e>=t.min&&e<=t.max&&n.push(e)}),n.length||(n.push(t.min),n.push(t.max)),t.ticks=n}},n.scale=function(t){if(r(t))return NaN;var e=this.max,n=this.min;if(e===n)return 0;var i=(t-n)/(e-n),a=this.rangeMin();return a+i*(this.rangeMax()-a)},n.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)},e}(a);a.Linear=s,t.exports=s},function(t,e,n){var r=n(13);t.exports=function(t){return r(t)?Array.prototype.slice.call(t):[]}},function(t,e){t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<n}},function(t,e,n){var r=n(1).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,i,a,o){var s=[n-t,i-e];if(r.exactEquals(s,[0,0]))return NaN;var u=[-s[1],s[0]];return r.normalize(u,u),Math.abs(r.dot([a-t,o-e],u))},box:function(t,e,n,r,i){var a=i/2,o=Math.min(t,n),s=Math.max(t,n);return{minX:o-a,minY:Math.min(e,r)-a,maxX:s+a,maxY:Math.max(e,r)+a}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){function r(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function i(t,e,n,r){var i,a;return r?t<e?(i=e-t,a=2*Math.PI-n+t):t>n&&(i=2*Math.PI-t+e,a=t-n):(i=t-e,a=n-t),i>a?n:e}function a(t,e,n,r){var a=0;return n-e>=2*Math.PI&&(a=2*Math.PI),e=s.mod(e,2*Math.PI),n=s.mod(n,2*Math.PI)+a,t=s.mod(t,2*Math.PI),r?e>=n?t>n&&t<e?t:i(t,n,e,!0):t<e||t>n?t:i(t,e,n):e<=n?e<t&&t<n?t:i(t,e,n,!0):t>e||t<n?t:i(t,n,e)}function o(t,e,n,r,i,o,u,l,c){var h=[u,l],f=s.vec2.subtract([],h,[t,e]),d=s.vec2.angleTo([1,0],f);d=a(d,r,i,o);var p=[n*Math.cos(d)+t,n*Math.sin(d)+e];return c&&(c.x=p[0],c.y=p[1]),s.vec2.distance(p,h)}var s=n(1);t.exports={nearAngle:a,projectPoint:function(t,e,n,r,i,a,s,u){var l={};return o(t,e,n,r,i,a,s,u,l),l},pointDistance:o,box:function(t,e,n,i,o,u){var l=Math.PI/2,c=Math.PI,h=3*Math.PI/2,f=[],d=a(0,i,o,u);0===d&&f.push(r(t,e,n,0)),(d=a(l,i,o,u))===l&&f.push(r(t,e,n,l)),(d=a(c,i,o,u))===c&&f.push(r(t,e,n,c)),(d=a(h,i,o,u))===h&&f.push(r(t,e,n,h)),f.push(r(t,e,n,i)),f.push(r(t,e,n,o));var p=1/0,g=-1/0,v=1/0,m=-1/0;return s.each(f,function(t){p>t.x&&(p=t.x),g<t.x&&(g=t.x),v>t.y&&(v=t.y),m<t.y&&(m=t.y)}),{minX:p,minY:v,maxX:g,maxY:m}}}},function(t,e,n){function r(t,e,n,r,i,a,o){var d,p,g,v,m,y,x;if(!e.fill){var b=e.arrowLength||h,_=e.arrowAngle?e.arrowAngle*s/180:f;x=c(r-a,n-i),m=Math.abs(e.lineWidth*l(x))/2,y=Math.abs(e.lineWidth*u(x))/2,o&&(m=-m,y=-y),d=i+b*l(x+_/2),p=a+b*u(x+_/2),g=i+b*l(x-_/2),v=a+b*u(x-_/2),t.beginPath(),t.moveTo(d-m,p-y),t.lineTo(i-m,a-y),t.lineTo(g-m,v-y),t.moveTo(i-m,a-y),t.lineTo(i+m,a+y),t.moveTo(i,a),t.stroke()}}function i(t,e,n,r,i,s,u){var l=u?e.startArrow:e.endArrow,c=l.d,h=0,f=i-n,d=s-r,p=Math.atan(f/d);0===d&&f<0?h=Math.PI:f>0&&d>0?h=Math.PI/2-p:f<0&&d<0?h=-Math.PI/2-p:f>=0&&d<0?h=-p-Math.PI/2:f<=0&&d>0&&(h=Math.PI/2-p);var g=function(t){var e,n=[],r=a.parsePath(l.path);if(!Array.isArray(r)||0===r.length||"M"!==r[0][0]&&"m"!==r[0][0])return!1;for(var i=r.length,s=0;s<r.length;s++)e=new o(r[s],e,s===i-1),n.push(e);return n}();if(g){c&&(u?(i+=Math.sin(Math.abs(p))*c,s=s+Math.cos(Math.abs(p))*c-.5*t.lineWidth):(i-=Math.sin(Math.abs(p))*c,s=s-Math.cos(Math.abs(p))*c+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(i,s),t.rotate(h);for(var v=0;v<g.length;v++)g[v].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}var a=n(27),o=n(39),s=Math.PI,u=Math.sin,l=Math.cos,c=Math.atan2,h=10,f=s/3;t.exports={addStartArrow:function(t,e,n,a,o,s){"object"==typeof e.startArrow?i(t,e,n,a,o,s,!0):e.startArrow&&r(t,e,n,a,o,s,!0)},addEndArrow:function(t,e,n,a,o,s){"object"==typeof e.endArrow?i(t,e,n,a,o,s,!1):e.endArrow&&r(t,e,n,a,o,s,!1)}}},function(t,e,n){function r(t,e,n){return{x:n.x+t,y:n.y+e}}function i(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return(t[0]*e[0]+t[1]*e[1])/(a(t)*a(e))}function s(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}var u=n(1),l=n(54),c=n(55),h=n(103),f=n(104),d=u.vec3,p=u.mat3,g=["m","l","c","a","q","h","v","t","s","z"],v=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};u.augment(v,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var a,l,c,h,f=g.indexOf(n)>=0,d=f?n.toUpperCase():n,p=t,v=e.endPoint,m=p[1],y=p[2];switch(d){default:break;case"M":h=f?r(m,y,v):{x:m,y:y},this.command="M",this.params=[v,h],this.subStart=h,this.endPoint=h;break;case"L":h=f?r(m,y,v):{x:m,y:y},this.command="L",this.params=[v,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-v.x,h.y-v.y]},this.startTangent=function(){return[v.x-h.x,v.y-h.y]};break;case"H":h=f?r(m,0,v):{x:m,y:v.y},this.command="L",this.params=[v,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-v.x,h.y-v.y]},this.startTangent=function(){return[v.x-h.x,v.y-h.y]};break;case"V":h=f?r(0,m,v):{x:v.x,y:m},this.command="L",this.params=[v,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-v.x,h.y-v.y]},this.startTangent=function(){return[v.x-h.x,v.y-h.y]};break;case"Q":f?(a=r(m,y,v),l=r(p[3],p[4],v)):(a={x:m,y:y},l={x:p[3],y:p[4]}),this.command="Q",this.params=[v,a,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-a.x,l.y-a.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]};break;case"T":l=f?r(m,y,v):{x:m,y:y},"Q"===e.command?(a=i(e.params[1],v),this.command="Q",this.params=[v,a,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-a.x,l.y-a.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]}):(this.command="TL",this.params=[v,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-v.x,l.y-v.y]},this.startTangent=function(){return[v.x-l.x,v.y-l.y]});break;case"C":f?(a=r(m,y,v),l=r(p[3],p[4],v),c=r(p[5],p[6],v)):(a={x:m,y:y},l={x:p[3],y:p[4]},c={x:p[5],y:p[6]}),this.command="C",this.params=[v,a,l,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-l.x,c.y-l.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]};break;case"S":f?(l=r(m,y,v),c=r(p[3],p[4],v)):(l={x:m,y:y},c={x:p[3],y:p[4]}),"C"===e.command?(a=i(e.params[2],v),this.command="C",this.params=[v,a,l,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-l.x,c.y-l.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]}):(this.command="SQ",this.params=[v,l,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-l.x,c.y-l.y]},this.startTangent=function(){return[v.x-l.x,v.y-l.y]});break;case"A":var x=m,b=y,_=p[3],w=p[4],S=p[5];h=f?r(p[6],p[7],v):{x:p[6],y:p[7]},this.command="A";var M=function(t,e,n,r,i,a,l){var c=u.mod(u.toRadian(l),2*Math.PI),h=t.x,f=t.y,d=e.x,p=e.y,g=Math.cos(c)*(h-d)/2+Math.sin(c)*(f-p)/2,v=-1*Math.sin(c)*(h-d)/2+Math.cos(c)*(f-p)/2,m=g*g/(i*i)+v*v/(a*a);m>1&&(i*=Math.sqrt(m),a*=Math.sqrt(m));var y=i*i*(v*v)+a*a*(g*g),x=Math.sqrt((i*i*(a*a)-y)/y);n===r&&(x*=-1),isNaN(x)&&(x=0);var b=x*i*v/a,_=x*-a*g/i,w=(h+d)/2+Math.cos(c)*b-Math.sin(c)*_,S=(f+p)/2+Math.sin(c)*b+Math.cos(c)*_,M=s([1,0],[(g-b)/i,(v-_)/a]),O=[(g-b)/i,(v-_)/a],C=[(-1*g-b)/i,(-1*v-_)/a],A=s(O,C);return o(O,C)<=-1&&(A=Math.PI),o(O,C)>=1&&(A=0),0===r&&A>0&&(A-=2*Math.PI),1===r&&A<0&&(A+=2*Math.PI),[t,w,S,i,a,M,A,c,r]}(v,h,w,S,x,b,_);this.params=M;var O=e.subStart;this.subStart=O,this.endPoint=h;var C=M[5]%(2*Math.PI);u.isNumberEqual(C,2*Math.PI)&&(C=0);var A=M[6]%(2*Math.PI);u.isNumberEqual(A,2*Math.PI)&&(A=0);var I=.001;this.startTangent=function(){0===S&&(I*=-1);var t=M[3]*Math.cos(C-I)+M[1],e=M[4]*Math.sin(C-I)+M[2];return[t-O.x,e-O.y]},this.endTangent=function(){var t=M[6];t-2*Math.PI<1e-4&&(t=0);var e=M[3]*Math.cos(C+t+I)+M[1],n=M[4]*Math.sin(C+t-I)+M[2];return[v.x-e,v.y-n]};break;case"Z":this.command="Z",this.params=[v,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this.command,i=this.params,a=this.box;if(a&&!l.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(r){default:break;case"M":return!1;case"TL":case"L":case"Z":return l.line(i[0].x,i[0].y,i[1].x,i[1].y,n,t,e);case"SQ":case"Q":return l.quadraticline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,n,t,e);case"C":return l.cubicline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y,n,t,e);case"A":var o=i,s=o[1],u=o[2],c=o[3],h=o[4],f=o[5],g=o[6],v=o[7],m=o[8],y=c>h?c:h,x=c>h?1:c/h,b=c>h?h/c:1;o=[t,e,1];var _=[1,0,0,0,1,0,0,0,1];return p.translate(_,_,[-s,-u]),p.rotate(_,_,-v),p.scale(_,_,[1/x,1/b]),d.transformMat3(o,o,_),l.arcline(0,0,y,f,f+g,1-m,n,o[0],o[1])}return!1},draw:function(t){var e,n,r,i=this.params;switch(this.command){default:break;case"M":t.moveTo(i[1].x,i[1].y);break;case"TL":case"L":t.lineTo(i[1].x,i[1].y);break;case"SQ":case"Q":t.quadraticCurveTo((e=i[1]).x,e.y,(n=i[2]).x,n.y);break;case"C":t.bezierCurveTo((e=i[1]).x,e.y,(n=i[2]).x,n.y,(r=i[3]).x,r.y);break;case"A":var a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],c=i[6],h=i[7],f=i[8],d=s>u?s:u,p=s>u?1:s/u,g=s>u?u/s:1;t.translate(a,o),t.rotate(h),t.scale(p,g),t.arc(0,0,d,l,l+c,1-f),t.scale(1/p,1/g),t.rotate(-h),t.translate(-a,-o);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,r,i,a=t/2,o=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(o[0].x,o[1].x)-a,maxX:Math.max(o[0].x,o[1].x)+a,minY:Math.min(o[0].y,o[1].y)-a,maxY:Math.max(o[0].y,o[1].y)+a};break;case"SQ":case"Q":for(r=0,i=(n=h.extrema(o[0].x,o[1].x,o[2].x)).length;r<i;r++)n[r]=h.at(o[0].x,o[1].x,o[2].x,n[r]);for(n.push(o[0].x,o[2].x),r=0,i=(e=h.extrema(o[0].y,o[1].y,o[2].y)).length;r<i;r++)e[r]=h.at(o[0].y,o[1].y,o[2].y,e);e.push(o[0].y,o[2].y),this.box={minX:Math.min.apply(Math,n)-a,maxX:Math.max.apply(Math,n)+a,minY:Math.min.apply(Math,e)-a,maxY:Math.max.apply(Math,e)+a};break;case"C":for(r=0,i=(n=c.extrema(o[0].x,o[1].x,o[2].x,o[3].x)).length;r<i;r++)n[r]=c.at(o[0].x,o[1].x,o[2].x,o[3].x,n[r]);for(r=0,i=(e=c.extrema(o[0].y,o[1].y,o[2].y,o[3].y)).length;r<i;r++)e[r]=c.at(o[0].y,o[1].y,o[2].y,o[3].y,e[r]);n.push(o[0].x,o[3].x),e.push(o[0].y,o[3].y),this.box={minX:Math.min.apply(Math,n)-a,maxX:Math.max.apply(Math,n)+a,minY:Math.min.apply(Math,e)-a,maxY:Math.max.apply(Math,e)+a};break;case"A":var s=o[1],u=o[2],l=o[3],d=o[4],p=o[5],g=o[7],v=o[8],m=p,y=p+o[6],x=f.xExtrema(g,l,d),b=1/0,_=-1/0,w=[m,y];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var S=x+r;1===v?m<S&&S<y&&w.push(S):y<S&&S<m&&w.push(S)}for(r=0,i=w.length;r<i;r++){var M=f.xAt(g,l,d,s,w[r]);M<b&&(b=M),M>_&&(_=M)}var O=f.yExtrema(g,l,d),C=1/0,A=-1/0,I=[m,y];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var T=O+r;1===v?m<T&&T<y&&I.push(T):y<T&&T<m&&I.push(T)}for(r=0,i=I.length;r<i;r++){var E=f.yAt(g,l,d,u,I[r]);E<C&&(C=E),E>A&&(A=E)}this.box={minX:b-a,maxX:_+a,minY:C-a,maxY:A+a}}}}),t.exports=v},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){var r=n(13),i=Array.prototype.indexOf;t.exports=function(t,e){return!!r(t)&&i.call(t,e)>-1}},function(t,e){t.exports=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){t.exports={mat3:n(51),vec2:n(97),vec3:n(98),transform:n(99)}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var a=n(43),o=n(8),s=a.mat3,u=a.vec3,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getDefaultCfg();o(this,n,e),this.init()}return i(t,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),i(t,[{key:"init",value:function(){var t=this.start,e=this.end;this.center={x:(t.x+e.x)/2,y:(t.y+e.y)/2},this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y)}},{key:"_swapDim",value:function(t){var e=this[t];if(e){var n=e.start;e.start=e.end,e.end=n}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(t,e){var n=this[e],r=n.start;return r+t*(n.end-r)}},{key:"invertDim",value:function(t,e){var n=this[e],r=n.start;return(t-r)/(n.end-r)}},{key:"convertPoint",value:function(t){return t}},{key:"invertPoint",value:function(t){return t}},{key:"applyMatrix",value:function(t,e){var n=[t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0];return u.transformMat3(n,n,this.matrix),n}},{key:"invertMatrix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=s.invert([],this.matrix),i=[t,e,n];return u.transformMat3(i,i,r),i}},{key:"convert",value:function(t){var e=this.convertPoint(t),n=this.applyMatrix(e.x,e.y,1);return{x:n[0],y:n[1]}}},{key:"invert",value:function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})}},{key:"rotate",value:function(t){var e=this.matrix,n=this.center;return s.translate(e,e,[-n.x,-n.y]),s.rotate(e,e,t),s.translate(e,e,[n.x,n.y]),this}},{key:"reflect",value:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(t,e){var n=this.matrix,r=this.center;return s.translate(n,n,[-r.x,-r.y]),s.scale(n,n,[t,e]),s.translate(n,n,[r.x,r.y]),this}},{key:"translate",value:function(t,e){var n=this.matrix;return s.translate(n,n,[t,e]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),t}();t.exports=l},function(t,e,n){var r=n(0),i={splitPoints:function(t){var e=[],n=t.x,i=t.y;return i=r.isArray(i)?i:[i],r.each(i,function(t,i){var a={x:r.isArray(n)?n[i]:n,y:t};e.push(a)}),e},addFillAttrs:function(t,e){e.color&&(t.fill=e.color),r.isNumber(e.opacity)&&(t.opacity=t.fillOpacity=e.opacity)},addStrokeAttrs:function(t,e){e.color&&(t.stroke=e.color),r.isNumber(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity)}};t.exports=i},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(4);t.exports=function t(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return e;var n=void 0;if(i(e)){n=[];for(var a=0,o=e.length;a<o;a++)n[a]="object"===r(e[a])&&null!=e[a]?t(e[a]):e[a]}else for(var s in n={},e)n[s]="object"===r(e[s])&&null!=e[s]?t(e[s]):e[s];return n}},function(t,e,n){function r(t,e,n,s){for(var u in n=n||0,s=s||o,e)if(e.hasOwnProperty(u)){var l=e[u];null!==l&&i(l)?(i(t[u])||(t[u]={}),n<s?r(t[u],l,n+1,s):t[u]=e[u]):a(l)?(t[u]=[],t[u]=t[u].concat(l)):void 0!==l&&(t[u]=l)}}var i=n(26),a=n(4),o=5;t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],a=1;a<e;a++)r(i,t[a]);return i}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){var r=n(48),i=n(13),a=n(10);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(a(e)||a(n))return!1;if(i(e)||i(n)){if(e.length!==n.length)return!1;for(var o=!0,s=0;s<e.length&&(o=t(e[s],n[s]));s++);return o}if(r(e)||r(n)){var u=Object.keys(e),l=Object.keys(n);if(u.length!==l.length)return!1;for(var c=!0,h=0;h<u.length&&(c=t(e[u[h]],n[u[h]]));h++);return c}return!1}},function(t,e){t.exports=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(182);r.translate=function(t,e,n){var i=new Array(9);return r.fromTranslation(i,n),r.multiply(t,i,e)},r.rotate=function(t,e,n){var i=new Array(9);return r.fromRotation(i,n),r.multiply(t,i,e)},r.scale=function(t,e,n){var i=new Array(9);return r.fromScaling(i,n),r.multiply(t,i,e)},t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6,i=(e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random,Math.PI/180)},function(t,e,n){var r;!function(e){"use strict";function i(){}function a(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}var s=i.prototype,u=e.EventEmitter;s.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},s.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},s.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},s.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===a(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},s.on=o("addListener"),s.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},s.once=o("addOnceListener"),s.defineEvent=function(t){return this.getListeners(t),this},s.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},s.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=a(i[r],e))&&i[r].splice(n,1);return this},s.off=o("removeListener"),s.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},s.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},s.manipulateListeners=function(t,e,n){var r,i,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)a.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},s.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},s.removeAllListeners=o("removeEvent"),s.emitEvent=function(t,e){var n,r,i,a,o=this.getListenersAsObject(t);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},s.trigger=o("emitEvent"),s.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},s.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return e.EventEmitter=u,i},void 0!==(r=(function(){return i}).call(e,n,e,t))&&(t.exports=r)}(this||{})},function(t,e,n){var r=n(36),i=n(103),a=n(55),o=n(37);t.exports={line:function(t,e,n,i,a,o,s){var u=r.box(t,e,n,i,a);if(!this.box(u.minX,u.maxX,u.minY,u.maxY,o,s))return!1;var l=r.pointDistance(t,e,n,i,o,s);return!isNaN(l)&&l<=a/2},polyline:function(t,e,n,r){var i=t.length-1;if(i<1)return!1;for(var a=0;a<i;a++)if(this.line(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0;return!1},cubicline:function(t,e,n,r,i,o,s,u,l,c,h){return a.pointDistance(t,e,n,r,i,o,s,u,c,h)<=l/2},quadraticline:function(t,e,n,r,a,o,s,u,l){return i.pointDistance(t,e,n,r,a,o,u,l)<=s/2},arcline:function(t,e,n,r,i,a,s,u,l){return o.pointDistance(t,e,n,r,i,a,u,l)<=s/2},rect:function(t,e,n,r,i,a){return t<=i&&i<=t+n&&e<=a&&a<=e+r},circle:function(t,e,n,r,i){return Math.pow(r-t,2)+Math.pow(i-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,i,a){return t<=i&&i<=e&&n<=a&&a<=r}}},function(t,e,n){function r(t,e,n,r,i){var a=1-i;return a*a*(a*r+3*i*n)+i*i*(i*t+3*a*e)}function i(t,e,n,i,a,o,u,l,c,h,f){var d,p,g,v,m,y,x,b,_=.005,w=1/0,S=[c,h];for(p=0;p<1;p+=.05)g=[r(t,n,a,u,p),r(e,i,o,l,p)],(v=s.squaredDistance(S,g))<w&&(d=p,w=v);w=1/0;for(var M=0;M<32&&!(_<1e-4);M++)b=d+_,g=[r(t,n,a,u,x=d-_),r(e,i,o,l,x)],v=s.squaredDistance(S,g),x>=0&&v<w?(d=x,w=v):(y=[r(t,n,a,u,b),r(e,i,o,l,b)],m=s.squaredDistance(S,y),b<=1&&m<w?(d=b,w=m):_*=.5);return f&&(f.x=r(t,n,a,u,d),f.y=r(e,i,o,l,d)),Math.sqrt(w)}function a(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}var o=n(1),s=o.vec2;t.exports={at:r,derivativeAt:function(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)},projectPoint:function(t,e,n,r,a,o,s,u,l,c){var h={};return i(t,e,n,r,a,o,s,u,l,c,h),h},pointDistance:i,extrema:function(t,e,n,r){var i,a,s,u=3*t-9*e+9*n-3*r,l=6*e-12*n+6*r,c=3*n-3*r,h=[];if(o.isNumberEqual(u,0))o.isNumberEqual(l,0)||(i=-c/l)>=0&&i<=1&&h.push(i);else{var f=l*l-4*u*c;o.isNumberEqual(f,0)?h.push(-l/(2*u)):f>0&&(a=(-l-(s=Math.sqrt(f)))/(2*u),(i=(-l+s)/(2*u))>=0&&i<=1&&h.push(i),a>=0&&a<=1&&h.push(a))}return h},len:function(t,e,n,r,i,s,u,l,c){o.isNil(c)&&(c=1);for(var h=(c=c>1?1:c<0?0:c)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;g<12;g++){var v=h*f[g]+h,m=a(v,t,n,i,u),y=a(v,e,r,s,l);p+=d[g]*Math.sqrt(m*m+y*y)}return h*p}}},function(t,e,n){var r=n(1),i=n(6),a=n(27),o=n(39),s=function t(e){t.superclass.constructor.call(this,e)};s.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},s.ATTRS={path:null,lineWidth:1},r.extend(s,i),r.augment(s,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},_getPath:function(){var t,e=this._attrs,n=e.x,i=e.y,a=e.radius||e.r,o=e.symbol||"circle";return(t=r.isFunction(o)?o:s.Symbols[o])?t(n,i,a):(console.warn(o+" marker is not supported."),null)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n,r=a.parsePath(this._getPath());t.beginPath(),e=[];for(var i=0;i<r.length;i++)n=new o(r[i],n,i===r.length-1),e.push(n),n.draw(t);this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var s=0;s<e.length;s++)e[s].draw(t)}}}),t.exports=s},function(t,e,n){function r(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=[],o=0;o<e.length-1;o++)0===o&&n.push(e[0]),o===e.length-2&&r.push(e[o+1]),a[o]=[(1-i)*e[o][0]+i*e[o+1][0],(1-i)*e[o][1]+i*e[o+1][1]];t(a,i)}}(t,e),{left:n,right:r.reverse()}}function i(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}function a(t,e,n){for(var r,i=[].concat(t),a=1/(n+1),s=o(e)[0],u=1;u<=n;u++)a*=u,0===(r=Math.floor(t.length*a))?i.unshift([s[0]*a+t[r][0]*(1-a),s[1]*a+t[r][1]*(1-a)]):i.splice(r,0,[s[0]*a+t[r][0]*(1-a),s[1]*a+t[r][1]*(1-a)]);return i}function o(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var s=n(81),u="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",l=new RegExp("([a-z])["+u+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+u+"]*,?["+u+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+u+"]*,?["+u+"]*","ig"),h=function(t){if(!t)return null;if(typeof t==typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(l,function(t,r,i){var a=[],o=r.toLowerCase();if(i.replace(c,function(t,e){e&&a.push(+e)}),"m"===o&&a.length>2&&(n.push([r].concat(a.splice(0,2))),o="l",r="m"===r?"l":"L"),"o"===o&&1===a.length&&n.push([r,a[0]]),"r"===o)n.push([r].concat(a));else for(;a.length>=e[o]&&(n.push([r].concat(a.splice(0,e[o]))),e[o]););}),n},f=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?a[3]={x:+t[0],y:+t[1]}:i-2===r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(6*a[1].x-a[0].x+a[2].x)/6,(6*a[1].y-a[0].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n},d=function(t,e,n,r,i){var a=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var o=Math.PI/180,s=t+n*Math.cos(-r*o),u=t+n*Math.cos(-i*o);a=[["M",s,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*o)]]}else a=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return a},p=function(t){if(!(t=h(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,a=0,o=0,s=0,u=0;"M"===t[0][0]&&(o=i=+t[0][1],s=a=+t[0][2],u++,r[0]=["M",i,a]);for(var l,c,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=u,v=t.length;g<v;g++){if(r.push(l=[]),(e=(c=t[g])[0])!==e.toUpperCase())switch(l[0]=e.toUpperCase(),l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+c[6]+i,l[7]=+c[7]+a;break;case"V":l[1]=+c[1]+a;break;case"H":l[1]=+c[1]+i;break;case"R":for(var m=2,y=(n=[i,a].concat(c.slice(1))).length;m<y;m++)n[m]=+n[m]+i,n[++m]=+n[m]+a;r.pop(),r=r.concat(f(n,p));break;case"O":r.pop(),(n=d(i,a,c[1],c[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(d(i,a,c[1],c[2],c[3])),l=["U"].concat(r[r.length-1].slice(-2));break;case"M":o=+c[1]+i,s=+c[2]+a;break;default:for(var x=1,b=c.length;x<b;x++)l[x]=+c[x]+(x%2?i:a)}else if("R"===e)n=[i,a].concat(c.slice(1)),r.pop(),r=r.concat(f(n,p)),l=["R"].concat(c.slice(-2));else if("O"===e)r.pop(),(n=d(i,a,c[1],c[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(d(i,a,c[1],c[2],c[3])),l=["U"].concat(r[r.length-1].slice(-2));else for(var _=0,w=c.length;_<w;_++)l[_]=c[_];if("O"!==(e=e.toUpperCase()))switch(l[0]){case"Z":i=+o,a=+s;break;case"H":i=l[1];break;case"V":a=l[1];break;case"M":o=l[l.length-2],s=l[l.length-1];break;default:i=l[l.length-2],a=l[l.length-1]}}return r},g=function(t,e,n,r){return[t,e,n,r,n,r]},v=function(t,e,n,r,i,a){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*a+2/3*r,i,a]},m=function(t,e){var n,r=p(t),i=e&&p(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",c="",h=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat((function t(e,n,r,i,a,o,s,u,l,c){r===i&&(r+=1);var h,f,d,p,g,v=120*Math.PI/180,m=Math.PI/180*(+a||0),y=[],x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)f=c[0],d=c[1],p=c[2],g=c[3];else{e=(h=x(e,n,-m)).x,n=h.y,u=(h=x(u,l,-m)).x,l=h.y,e===u&&n===l&&(u+=1,l+=1);var b=(e-u)/2,_=(n-l)/2,w=b*b/(r*r)+_*_/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,M=i*i,O=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*_*_-M*b*b)/(S*_*_+M*b*b)));p=O*r*_/i+(e+u)/2,g=O*-i*b/r+(n+l)/2,f=Math.asin(((n-g)/i).toFixed(9)),d=Math.asin(((l-g)/i).toFixed(9)),f=e<p?Math.PI-f:f,d=u<p?Math.PI-d:d,f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),s&&f>d&&(f-=2*Math.PI),!s&&d>f&&(d-=2*Math.PI)}var C=d-f;if(Math.abs(C)>v){var A=d,I=u,T=l;d=f+v*(s&&d>f?1:-1),y=t(u=p+r*Math.cos(d),l=g+i*Math.sin(d),r,i,a,0,s,I,T,[d,A,p,g])}C=d-f;var E=Math.cos(f),j=Math.sin(f),P=Math.cos(d),k=Math.sin(d),D=Math.tan(C/4),L=4/3*r*D,R=4/3*i*D,N=[e,n],z=[e+L*j,n-R*E],B=[u+L*k,l-R*P],F=[u,l];if(z[0]=2*N[0]-z[0],z[1]=2*N[1]-z[1],c)return[z,B,F].concat(y);for(var V=[],G=0,H=(y=[z,B,F].concat(y).join().split(",")).length;G<H;G++)V[G]=G%2?x(y[G-1],y[G],m).y:x(y[G],y[G+1],m).x;return V}).apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(v(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(v(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(g(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(g(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(g(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(g(e.x,e.y,e.X,e.Y))}return t},f=function(t,e){if(t[e].length>7){t[e].shift();for(var a=t[e];a.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(a.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},d=function(t,e,a,o,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=t[s][1],a.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var m=0;m<n;m++){r[m]&&(l=r[m][0]),"C"!==l&&(s[m]=l,m&&(c=s[m-1])),r[m]=h(r[m],a,c),"A"!==s[m]&&"C"===l&&(s[m]="C"),f(r,m),i&&(i[m]&&(l=i[m][0]),"C"!==l&&(u[m]=l,m&&(c=u[m-1])),i[m]=h(i[m],o,c),"A"!==u[m]&&"C"===l&&(u[m]="C"),f(i,m)),d(r,i,a,o,m),d(i,r,o,a,m);var y=r[m],x=i&&i[m],b=y.length,_=i&&x.length;a.x=y[b-2],a.y=y[b-1],a.bx=parseFloat(y[b-4])||a.x,a.by=parseFloat(y[b-3])||a.y,o.bx=i&&(parseFloat(x[_-4])||o.x),o.by=i&&(parseFloat(x[_-3])||o.y),o.x=i&&x[_-2],o.y=i&&x[_-1]}return i?[r,i]:r},y=/,?([a-z]),?/gi,x=function(t){return t.join(",").replace(y,"$1")},b=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},_=function(t,e,n,r,i,a,o,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var p=l*c[d]+l,g=b(p,t,n,i,o),v=b(p,e,r,a,s);f+=h[d]*Math.sqrt(g*g+v*v)}return l*f},w=function(t,e,n,r,i,a,o,s){if(!(Math.max(t,n)<Math.min(i,o)||Math.min(t,n)>Math.max(i,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(t-n)*(a-s)-(e-r)*(i-o);if(u){var l=((t*r-e*n)*(i-o)-(t-n)*(i*s-a*o))/u,c=((t*r-e*n)*(a-s)-(e-r)*(i*s-a*o))/u,h=+l.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,o).toFixed(2)||h>+Math.max(i,o).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:l,y:c}}}},S=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},M=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return a.parsePathArray=x,a},O=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:M(t,e,n,r),vb:[t,e,n,r].join(" ")}},C=function(t,e,n,r,i,a,o,u){s.isArray(t)||(t=[t,e,n,r,i,a,o,u]);var l=(function(t,e,n,r,i,a,o,s){for(var u,l,c,h,f=[],d=[[],[]],p=0;p<2;++p)if(0===p?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*o,c=3*n-3*t):(l=6*e-12*r+6*a,u=-3*e+9*r-9*a+3*s,c=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(h=-c/l)>0&&h<1&&f.push(h)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var m=(-l+v)/(2*u);m>0&&m<1&&f.push(m);var y=(-l-v)/(2*u);y>0&&y<1&&f.push(y)}}for(var x,b=f.length,_=b;b--;)x=1-(h=f[b]),d[0][b]=x*x*x*t+3*x*x*h*n+3*x*h*h*i+h*h*h*o,d[1][b]=x*x*x*e+3*x*x*h*r+3*x*h*h*a+h*h*h*s;return d[0][_]=t,d[1][_]=e,d[0][_+1]=o,d[1][_+1]=s,d[0].length=d[1].length=_+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}).apply(null,t);return O(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},A=function(t,e,n,r,i,a,o,s,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),f=u*u,d=f*u,p=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(a-2*r+e),v=n+2*u*(i-n)+f*(o-2*i+n),m=r+2*u*(a-r)+f*(s-2*a+r);return{x:c*t+3*h*u*n+3*l*u*u*i+d*o,y:c*e+3*h*u*r+3*l*u*u*a+d*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*o,y:l*a+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},I=function(t,e,n){if(!function(t,e){return t=O(t),e=O(e),S(e,t.x,t.y)||S(e,t.x2,t.y)||S(e,t.x,t.y2)||S(e,t.x2,t.y2)||S(t,e.x,e.y)||S(t,e.x2,e.y)||S(t,e.x,e.y2)||S(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(C(t),C(e)))return n?0:[];for(var r=~~(_.apply(0,t)/8),i=~~(_.apply(0,e)/8),a=[],o=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=A.apply(0,t.concat(l/r));a.push({x:c.x,y:c.y,t:l/r})}for(var h=0;h<i+1;h++){var f=A.apply(0,e.concat(h/i));o.push({x:f.x,y:f.y,t:h/i})}for(var d=0;d<r;d++)for(var p=0;p<i;p++){var g=a[d],v=a[d+1],m=o[p],y=o[p+1],x=Math.abs(v.x-g.x)<.001?"y":"x",b=Math.abs(y.x-m.x)<.001?"y":"x",M=w(g.x,g.y,v.x,v.y,m.x,m.y,y.x,y.y);if(M){if(s[M.x.toFixed(4)]===M.y.toFixed(4))continue;s[M.x.toFixed(4)]=M.y.toFixed(4);var I=g.t+Math.abs((M[x]-g[x])/(v[x]-g[x]))*(v.t-g.t),T=m.t+Math.abs((M[b]-m[b])/(y[b]-m[b]))*(y.t-m.t);I>=0&&I<=1&&T>=0&&T<=1&&(n?u++:u.push({x:M.x,y:M.y,t1:I,t2:T}))}}return u},T=function(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var a=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,s=1/n,u=0;u<n-1;u++){var l=r(o,s/(1-s*u));a.push(l.left),o=l.right}return a.push(o),a.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e,n));else{var a=[].concat(t);"M"===a[0]&&(a[0]="L");for(var o=0;o<=n-1;o++)i.push(a)}return i},E=function(t,e){if(t.length!==e.length)return!1;var n=!0;return s.each(t,function(t,r){if(t!==e[r])return n=!1,!1}),n};t.exports={parsePathString:h,parsePathArray:x,pathTocurve:m,pathToAbsolute:p,catmullRomToBezier:f,rectPath:M,fillPath:function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,a=[];if(1===t.length&&"M"===t[0][0]){for(var o=0;o<r-n;o++)t.push(t[0]);return t}for(var s=0;s<r;s++){var u=Math.floor(i*s);a[u]=(a[u]||0)+1}var l=a.reduce(function(e,r,i){return e.concat(i===n?t[n]:T(t[i],t[i+1],r))},[]);return l.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||l.push("Z"),l},fillPathByDiff:function(t,e){var n=function(t,e){var n,r=t.length,a=e.length,o=0;if(0===r||0===a)return null;for(var s=[],u=0;u<=r;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=a;l++)s[0][l]={min:l};for(var c=1;c<=r;c++){n=t[c-1];for(var h=1;h<=a;h++)o=E(n,e[h-1])?0:1,s[c][h]=i(s[c-1][h].min+1,s[c][h-1].min+1,s[c-1][h-1].min+o)}return s}(t,e),r=t.length,a=e.length,o=[],s=1,u=1;if(n[r][a]!==r){for(var l=1;l<=r;l++){var c=n[l][l].min;u=l;for(var h=s;h<=a;h++)n[l][h].min<c&&(c=n[l][h].min,u=h);n[l][s=u].type&&o.push({index:l-1,type:n[l][s].type})}for(var f=o.length-1;f>=0;f--)s=o[f].index,"add"===o[f].type?t.splice(s,0,[].concat(t[s])):t.splice(s,1)}var d=a-(r=t.length);if(r<a)for(var p=0;p<d;p++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=o(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=a(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=a(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=a(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t},intersection:function(t,e){return function(t,e,n){t=m(t),e=m(e);for(var r,i,a,o,s,u,l,c,h,f,d=[],p=0,g=t.length;p<g;p++){var v=t[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(r=(h=[r,i].concat(v.slice(1)))[6],i=h[7]):(h=[r,i,r,i,s,u,s,u],r=s,i=u);for(var y=0,x=e.length;y<x;y++){var b=e[y];if("M"===b[0])a=l=b[1],o=c=b[2];else{"C"===b[0]?(a=(f=[a,o].concat(b.slice(1)))[6],o=f[7]):(f=[a,o,a,o,l,c,l,c],a=l,o=c);for(var _=I(h,f,void 0),w=0,S=_.length;w<S;w++)_[w].segment1=p,_[w].segment2=y,_[w].bez1=h,_[w].bez2=f;d=d.concat(_)}}}}return d}(t,e)}}},function(t,e,n){"use strict";function r(){return y||(_(i),y=b.now()+x)}function i(){y=0}function a(){this._call=this._time=this._next=null}function o(t,e,n){var r=new a;return r.restart(t,e,n),r}function s(){r(),++d;for(var t,e=h;e;)(t=y-e._time)>=0&&e._call.call(null,t),e=e._next;--d}function u(){y=(m=b.now())+x,d=p=0;try{s()}finally{d=0,function(){for(var t,e,n=h,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:h=e);f=t,c(r)}(),y=0}}function l(){var t=b.now(),e=t-m;e>v&&(x-=e,m=t)}function c(t){d||(p&&(p=clearTimeout(p)),t-y>24?(t<1/0&&(p=setTimeout(u,t-b.now()-x)),g&&(g=clearInterval(g))):(g||(m=b.now(),g=setInterval(l,v)),d=1,_(u)))}e.b=r,e.a=a,e.c=o,e.d=s;var h,f,d=0,p=0,g=0,v=1e3,m=0,y=0,x=0,b="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};a.prototype=o.prototype={constructor:a,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==e?0:+e),this._next||f===this||(f?f._next=this:h=this,f=this),this._call=t,this._time=n,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}}},function(t,e,n){"use strict";var r=n(19),i=n(119),a=n(122),o=n(123),s=n(40),u=n(124),l=n(125),c=n(121);e.a=function(t,e){var n,h=typeof e;return null==e||"boolean"===h?Object(c.a)(e):("number"===h?s.a:"string"===h?(n=Object(r.a)(e))?(e=n,i.a):l.a:e instanceof r.a?i.a:e instanceof Date?o.a:Array.isArray(e)?a.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";function r(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=b.exec(t))?new l((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=_.exec(t))?a(parseInt(e[1],16)):(e=w.exec(t))?new l(e[1],e[2],e[3],1):(e=S.exec(t))?new l(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=M.exec(t))?o(e[1],e[2],e[3],e[4]):(e=O.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=C.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=A.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):I.hasOwnProperty(t)?a(I[t]):"transparent"===t?new l(NaN,NaN,NaN,0):null}function a(t){return new l(t>>16&255,t>>8&255,255&t,1)}function o(t,e,n,r){return r<=0&&(t=e=n=NaN),new l(t,e,n,r)}function s(t){return t instanceof r||(t=i(t)),t?new l((t=t.rgb()).r,t.g,t.b,t.opacity):new l}function u(t,e,n,r){return 1===arguments.length?s(t):new l(t,e,n,null==r?1:r)}function l(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function c(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new f(t,e,n,r)}function h(t,e,n,a){return 1===arguments.length?function(t){if(t instanceof f)return new f(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new f;if(t instanceof f)return t;var e=(t=t.rgb()).r/255,n=t.g/255,a=t.b/255,o=Math.min(e,n,a),s=Math.max(e,n,a),u=NaN,l=s-o,c=(s+o)/2;return l?(u=e===s?(n-a)/l+6*(n<a):n===s?(a-e)/l+2:(e-n)/l+4,l/=c<.5?s+o:2-s-o,u*=60):l=c>0&&c<1?0:u,new f(u,l,c,t.opacity)}(t):new f(t,e,n,null==a?1:a)}function f(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function d(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e.a=r,n.d(e,"d",function(){return g}),n.d(e,"c",function(){return v}),e.e=i,e.h=s,e.g=u,e.b=l,e.f=h;var p=n(61),g=.7,v=1/g,m="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",x="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b=/^#([0-9a-f]{3})$/,_=/^#([0-9a-f]{6})$/,w=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),S=new RegExp("^rgb\\("+[x,x,x]+"\\)$"),M=new RegExp("^rgba\\("+[m,m,m,y]+"\\)$"),O=new RegExp("^rgba\\("+[x,x,x,y]+"\\)$"),C=new RegExp("^hsl\\("+[y,x,x]+"\\)$"),A=new RegExp("^hsla\\("+[y,x,x,y]+"\\)$"),I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(p.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(p.a)(l,u,Object(p.b)(r,{brighter:function(t){return t=null==t?v:Math.pow(v,t),new l(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new l(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(p.a)(f,h,Object(p.b)(r,{brighter:function(t){return t=null==t?v:Math.pow(v,t),new f(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new f(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new l(d(t>=240?t-240:t+120,i,r),d(t,i,r),d(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[i],o=t[i+1];return r((n-i/e)*e,i>0?t[i-1]:2*a-o,a,o,i<e-1?t[i+2]:2*o-a)}}},function(t,e,n){var r=n(2),i=n(13);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,function(t,r){e(t,r)&&n.push(t)}),n}},function(t,e,n){var r=n(5),i=n(4),a=n(2);t.exports=function(t,e){for(var n=[],o={},s=0;s<t.length;s++){var u=t[s][e];r(u)||(i(u)||(u=[u]),a(u,function(t){o[t]||(n.push(t),o[t]=!0)}))}return n}},function(t,e,n){var r=n(16).Group,i=n(21).Label,a=n(7),o=n(0),s=["line","point","path"],u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{label:a.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},n._renderUI=function(){t.prototype._renderUI.call(this),this.initLabelsCfg();var e=this.addGroup(),n=this.addGroup({elCls:"x-line-group"}),r=this.get("labelRenderer");this.set("labelsGroup",e),this.set("lineGroup",n),this.get("labelRenderer").set("group",e),r.set("group",e),r.set("lineGroup",n)},n.initLabelsCfg=function(){var t=new i,e=this.getDefaultLabelCfg(),n=this.get("labelCfg");o.deepMix(e,n.globalCfg||n.cfg),t.set("config",!1),e.labelLine&&t.set("labelLine",e.labelLine),t.set("coord",this.get("coord")),this.set("labelRenderer",t),this.set("label",e)},n.getDefaultLabelCfg=function(){var t=this.get("labelCfg").cfg||this.get("labelCfg").globalCfg,e=this.get("geomType"),n=this.get("viewTheme")||a;return"polygon"===e||t&&t.offset<0&&-1===o.indexOf(s,e)?o.deepMix({},this.get("label"),n.innerLabels,t):o.deepMix({},this.get("label"),n.label,t)},n.getLabelsItems=function(t,e){var n=this,r=[],i=n.get("geom"),a=n.get("coord");n._getLabelCfgs(t,e);var s=n.get("labelItemCfgs");return o.each(t,function(t,e){var u=t._origin,l=s[e];if(l){o.isArray(l.text)||(l.text=[l.text]);var c=l.length;o.each(l.text,function(e,s){if(o.isNil(e)||""===e)r.push(null);else{var h=n.getLabelPoint(l,t,s);(h=o.mix({},l,h)).textAlign||(h.textAlign=n.getLabelAlign(h,s,c)),i&&(h._id=i._getShapeId(u)+"-glabel-"+s+"-"+h.text),h.coord=a,r.push(h)}})}else r.push(null)}),r},n.adjustItems=function(t){return o.each(t,function(t){t&&(t.offsetX&&(t.x+=t.offsetX),t.offsetY&&(t.y+=t.offsetY))}),t},n.drawLines=function(t){var e=this;o.each(t,function(t){t&&t.offset>0&&e.lineToLabel(t)})},n.lineToLabel=function(){},n.getLabelPoint=function(t,e,n){function r(e,n){return o.isArray(e)&&(e=1===t.text.length?e.length<=2?e[e.length-1]:function(t){var e=0;return o.each(t,function(t){e+=t}),e/t.length}(e):e[n]),e}var i=this.get("coord"),a=t.text.length,s={text:t.text[n]};if(e&&"polygon"===this.get("geomType")){var u=function(t,e){if(o.isNumber(t)&&o.isNumber(e))return[t,e];for(var n,r,i=-1,a=0,s=0,u=t.length-1,l=0;++i<t.length;)l+=r=t[n=u]*e[u=i]-t[u]*e[n],a+=(t[n]+t[u])*r,s+=(e[n]+e[u])*r;return[a/(l*=3),s/l]}(e.x,e.y);s.x=u[0],s.y=u[1]}else s.x=r(e.x,n),s.y=r(e.y,n);if(e&&e.nextPoints&&("funnel"===e.shape||"pyramid"===e.shape)){var l=-1/0;e.nextPoints.forEach(function(t){(t=i.convert(t)).x>l&&(l=t.x)}),s.x=(s.x+l)/2}"pyramid"===e.shape&&!e.nextPoints&&e.points&&e.points.forEach(function(t){t=i.convert(t),(o.isArray(t.x)&&-1===e.x.indexOf(t.x)||o.isNumber(t.x)&&e.x!==t.x)&&(s.x=(s.x+t.x)/2)}),t.position&&this.setLabelPosition(s,e,n,t.position);var c=this.getLabelOffset(t,n,a);return t.offsetX&&(c.x+=t.offsetX),t.offsetY&&(c.y+=t.offsetY),this.transLabelPoint(s),s.start={x:s.x,y:s.y},s.x+=c.x,s.y+=c.y,s.color=e.color,s},n.setLabelPosition=function(){},n.transLabelPoint=function(t){var e=this.get("coord").applyMatrix(t.x,t.y,1);t.x=e[0],t.y=e[1]},n.getOffsetVector=function(t){var e=t.offset||0,n=this.get("coord");return n.isTransposed?n.applyMatrix(e,0):n.applyMatrix(0,e)},n.getDefaultOffset=function(t){var e=this.get("coord"),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},n.getLabelOffset=function(t,e,n){var r=this.getDefaultOffset(t),i=this.get("coord").isTransposed,a=i?1:-1,o={x:0,y:0};return o[i?"x":"y"]=e>0||1===n?r*a:r*a*-1,o},n.getLabelAlign=function(t,e,n){var r="center";if(this.get("coord").isTransposed){var i=this.getDefaultOffset(t);r=i<0?"right":0===i?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},n._getLabelValue=function(t,e){o.isArray(e)||(e=[e]);var n=[];return o.each(e,function(e){var r=t[e.field];if(o.isArray(r)){var i=[];o.each(r,function(t){i.push(e.getText(t))}),r=i}else r=e.getText(r);(o.isNil(r)||""===r)&&n.push(null),n.push(r)}),n},n._getLabelCfgs=function(t){var e=this,n=this.get("labelCfg"),r=n.scales,i=this.get("label"),s=e.get("viewTheme")||a,u=[];n.globalCfg&&n.globalCfg.type&&e.set("type",n.globalCfg.type),o.each(t,function(t,a){var l={},c=t._origin,h=e._getLabelValue(c,r);if(n.callback){var f=r.map(function(t){return c[t.field]});l=n.callback.apply(null,f.concat([t,a]))}if(l||0===l){if(o.isString(l)||o.isNumber(l)?l={text:l}:(l.text=l.content||h[0],delete l.content),l=o.mix({},i,n.globalCfg||{},l),t.point=c,l.htmlTemplate&&(l.useHtml=!0,l.text=l.htmlTemplate.call(null,l.text,t,a),delete l.htmlTemplate),l.formatter&&(l.text=l.formatter.call(null,l.text,t,a),delete l.formatter),l.label){var d=l.label;delete l.label,l=o.mix(l,d)}if(l.textStyle){delete l.textStyle.offset;var p=l.textStyle;o.isFunction(p)&&(l.textStyle=p.call(null,l.text,t,a))}l.labelLine&&(l.labelLine=o.mix({},i.labelLine,l.labelLine)),l.textStyle=o.mix({},i.textStyle,s.label.textStyle,l.textStyle),delete l.items,u.push(l)}else u.push(null)}),this.set("labelItemCfgs",u)},n.showLabels=function(t,e){var n=this.get("labelRenderer"),r=this.getLabelsItems(t,e);e=[].concat(e);var i=this.get("type");r=this.adjustItems(r,e),this.drawLines(r),n.set("items",r.filter(function(t,n){return!!t||(e.splice(n,1),!1)})),i&&(n.set("shapes",e),n.set("type",i),n.set("points",t)),n.set("canvas",this.get("canvas")),n.draw()},n.destroy=function(){this.get("labelRenderer").destroy(),t.prototype.destroy.call(this)},e}(r);t.exports=u},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(53),a=n(3),o=function(t){function e(e){var n,i=r(r(n=t.call(this)||this)),o={visible:!0},s=i.getDefaultCfg();return i._attrs=o,a.deepMix(o,s,e),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{}},n.get=function(t){return this._attrs[t]},n.set=function(t,e){this._attrs[t]=e},n.changeVisible=function(){},n.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},e}(i);t.exports=o},function(t,e,n){var r=n(3),i=n(158),a=n(327),o=n(14).FONT_FAMILY,s=r.Event,u=r.Group,l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:o},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},n._calStartPoint=function(){var t={x:10,y:this.get("titleGap")-8},e=this.get("titleShape");if(e){var n=e.getBBox();t.y+=n.height}return t},n.beforeRender=function(){var e=this.get("items");r.isArray(e)&&!r.isEmpty(e)&&(t.prototype.beforeRender.call(this),this.set("firstItem",e[0]),this.set("lastItem",e[e.length-1]))},n._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},n.render=function(){t.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},n._renderSlider=function(){var t=new u,e=new u,n=new u,r=this._calStartPoint(),i=this.get("group").addGroup(a,{minHandleElement:t,maxHandleElement:e,backgroundElement:n,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});i.translate(r.x,r.y),this.set("slider",i),this._renderSliderShape().attr("clip",i.get("middleHandleElement")),this._renderTrigger()},n._addMiddleBar=function(t,e,n){return t.addShape(e,{attrs:r.mix({},n,this.get("middleBackgroundStyle"))}),t.addShape(e,{attrs:n})},n._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),i=this.get("textStyle"),a=this.get("triggerAttr"),o=r.mix({},a),s=r.mix({},a),u=r.mix({text:this._formatItemValue(t.value)+""},i),l=r.mix({text:this._formatItemValue(e.value)+""},i);"vertical"===n?(this._addVerticalTrigger("min",o,u),this._addVerticalTrigger("max",s,l)):(this._addHorizontalTrigger("min",o,u),this._addHorizontalTrigger("max",s,l))},n._addVerticalTrigger=function(t,e,n){var i=this.get("slider").get(t+"HandleElement"),a=this.get("width"),o=i.addShape("rect",{attrs:r.mix({x:a/2-8-2,y:"min"===t?0:-8,width:18,height:8},e)}),s=i.addShape("text",{attrs:r.mix(n,{x:a+this.get("textOffset"),y:"max"===t?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",u),s.attr("cursor",u),this.set(t+"ButtonElement",o),this.set(t+"TextElement",s)},n._addHorizontalTrigger=function(t,e,n){var i=this.get("slider").get(t+"HandleElement"),a=i.addShape("rect",{attrs:r.mix({x:"min"===t?-8:0,y:-8-this.get("height")/2,width:8,height:16},e)}),o=i.addShape("text",{attrs:r.mix(n,{x:"min"===t?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===t?"end":"start",textBaseline:"middle"})}),s="vertical"===this.get("layout")?"ns-resize":"ew-resize";a.attr("cursor",s),o.attr("cursor",s),this.set(t+"ButtonElement",a),this.set(t+"TextElement",o)},n._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(e){var n=e.range,r=t.get("firstItem").value,i=t.get("lastItem").value,a=r+n[0]/100*(i-r),o=r+n[1]/100*(i-r);t._updateElement(a,o);var u=new s("itemfilter",e,!0,!0);u.range=[a,o],t.emit("itemfilter",u)}),this.get("hoverable")&&(this.get("group").on("mousemove",r.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",r.wrapBehavior(this,"_onMouseLeave")))},n._updateElement=function(t,e){var n=this.get("minTextElement"),r=this.get("maxTextElement");e>1&&(t=parseInt(t,10),e=parseInt(e,10)),n.attr("text",this._formatItemValue(t)+""),r.attr("text",this._formatItemValue(e)+"")},n._onMouseLeave=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},n._onMouseMove=function(t){var e,n=this.get("height"),r=this.get("width"),i=this.get("items"),a=this.get("canvas").get("el").getBoundingClientRect(),o=this.get("group").getBBox();if("vertical"===this.get("layout")){var s=5;"color-legend"===this.get("type")&&(s=30);var u=this.get("titleGap"),l=this.get("titleShape");l&&(u+=l.getBBox().maxY-l.getBBox().minY);var c=t.clientY||t.event.clientY;c=c-a.y-this.get("group").attr("matrix")[7]+o.y-s+u,e=i[0].value+(1-c/n)*(i[i.length-1].value-i[0].value)}else{var h=t.clientX||t.event.clientX;h=h-a.x-this.get("group").attr("matrix")[6],e=i[0].value+h/r*(i[i.length-1].value-i[0].value)}e=e.toFixed(2),this.activate(e),this.emit("mousehover",{value:e})},n.activate=function(t){if(t){var e=this.get("group").findById("hoverPointer"),n=this.get("group").findById("hoverText"),i=this.get("items");if(!(t<i[0].value||t>i[i.length-1].value)){var a,o=this.get("height"),s=this.get("width"),u=this.get("titleShape"),l=this.get("titleGap"),c=[],h=(t-i[0].value)/(i[i.length-1].value-i[0].value);if("vertical"===this.get("layout")){var f=0,d=0;"color-legend"===this.get("type")&&(f=l,u&&(f+=u.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?f-=13:(f=l-15,u&&(f+=u.getBBox().height)),d+=10),c=[[d,(h=(1-h)*o)+f],[d-10,h+f-5],[d-10,h+f+5]],a=r.mix({},{x:s+this.get("textOffset")/2+d,y:h+f,text:this._formatItemValue(t)+""},this.get("textStyle"),{textAlign:"start"})}else{var p=0,g=0;"color-legend"===this.get("type")&&(p=l,u&&(p+=u.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?p-=7:(p=l,u||(p-=7)),g+=10),c=[[(h*=s)+g,p],[h+g-5,p-10],[h+g+5,p-10]],a=r.mix({},{x:h-5,y:o+this.get("textOffset")+p,text:this._formatItemValue(t)+""},this.get("textStyle"))}var v=r.mix(a,this.get("hoverTextStyle"));n?n.attr(v):(n=this.get("group").addShape("text",{attrs:v})).set("id","hoverText"),e?e.attr(r.mix({points:c},this.get("pointerStyle"))):(e=this.get("group").addShape("Polygon",{attrs:r.mix({points:c},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},n.deactivate=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},e}(i);t.exports=l},function(t,e,n){var r=n(66),i=n(3),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},n.isContentChange=function(t,e){var n=this.get("titleContent"),r=this.get("items"),a=!(t===n&&r.length===e.length);return a||i.each(e,function(t,e){var n=r[e];for(var o in t)if(t.hasOwnProperty(o)&&!i.isObject(t[o])&&t[o]!==n[o]){a=!0;break}if(a)return!1}),a},n.setContent=function(t,e){var n=(new Date).valueOf();return this.set("items",e),this.set("titleContent",t),this.set("timeStamp",n),this.render(),this},n.setPosition=function(t,e){this.set("x",t),this.set("y",e)},n.render=function(){},n.clear=function(){},n.show=function(){this.set("visible",!0)},n.hide=function(){this.set("visible",!1)},n.destroy=function(){},e}(r);t.exports=a},function(t,e,n){"use strict";function r(t,e){this._groups=t,this._parents=e}function i(){return new r([[document.documentElement]],L)}n.d(e,"c",function(){return L}),e.a=r;var a=n(402),o=n(403),s=n(404),u=n(405),l=n(382),c=n(407),h=n(408),f=n(409),d=n(410),p=n(411),g=n(412),v=n(413),m=n(414),y=n(415),x=n(416),b=n(417),_=n(384),w=n(418),S=n(419),M=n(420),O=n(421),C=n(422),A=n(423),I=n(424),T=n(425),E=n(426),j=n(427),P=n(428),k=n(374),D=n(429),L=[null];r.prototype=i.prototype={constructor:r,select:a.a,selectAll:o.a,filter:s.a,data:u.a,enter:l.b,exit:c.a,merge:h.a,order:f.a,sort:d.a,call:p.a,nodes:g.a,node:v.a,size:m.a,empty:y.a,each:x.a,attr:b.a,style:_.a,property:w.a,classed:S.a,text:M.a,html:O.a,raise:C.a,lower:A.a,append:I.a,insert:T.a,remove:E.a,clone:j.a,datum:P.a,on:k.b,dispatch:D.a},e.b=i},function(t,e,n){"use strict";function r(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p}),e.g=function(t,e){var n=r(t,e);if(n.state>u)throw new Error("too late; already scheduled");return n},e.h=function(t,e){var n=r(t,e);if(n.state>c)throw new Error("too late; already started");return n},e.f=r;var i=n(438),a=n(170),o=Object(i.a)("start","end","interrupt"),s=[],u=0,l=1,c=2,h=3,f=4,d=5,p=6;e.e=function(t,e,n,r,i,g){var v=t.__transition;if(v){if(n in v)return}else t.__transition={};!function(t,e,n){function r(d){var g,v,m,y;if(n.state!==l)return o();for(g in u)if((y=u[g]).name===n.name){if(y.state===h)return Object(a.timeout)(r);y.state===f?(y.state=p,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete u[g]):+g<e&&(y.state=p,y.timer.stop(),delete u[g])}if(Object(a.timeout)(function(){n.state===h&&(n.state=f,n.timer.restart(i,n.delay,n.time),i(d))}),n.state=c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===c){for(n.state=h,s=new Array(m=n.tween.length),g=0,v=-1;g<m;++g)(y=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(s[++v]=y);s.length=v+1}}function i(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=d,1),i=-1,a=s.length;++i<a;)s[i].call(null,r);n.state===d&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var r in n.state=p,n.timer.stop(),delete u[e],u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=Object(a.timer)(function(t){n.state=l,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:o,tween:s,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:u})}},function(t,e,n){var r=n(10),i=n(80);t.exports={toTimeStamp:function(t){return r(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),i(t)&&(t=t.getTime()),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(401);n.d(e,"create",function(){return r.a});var i=n(360);n.d(e,"creator",function(){return i.a});var a=n(430);n.d(e,"local",function(){return a.a});var o=n(381);n.d(e,"matcher",function(){return o.a});var s=n(431);n.d(e,"mouse",function(){return s.a});var u=n(370);n.d(e,"namespace",function(){return u.a});var l=n(371);n.d(e,"namespaces",function(){return l.a});var c=n(361);n.d(e,"clientPoint",function(){return c.a});var h=n(379);n.d(e,"select",function(){return h.a});var f=n(432);n.d(e,"selectAll",function(){return f.a});var d=n(69);n.d(e,"selection",function(){return d.b});var p=n(372);n.d(e,"selector",function(){return p.a});var g=n(380);n.d(e,"selectorAll",function(){return g.a});var v=n(384);n.d(e,"style",function(){return v.b});var m=n(433);n.d(e,"touch",function(){return m.a});var y=n(434);n.d(e,"touches",function(){return y.a});var x=n(373);n.d(e,"window",function(){return x.a});var b=n(374);n.d(e,"event",function(){return b.c}),n.d(e,"customEvent",function(){return b.a})},function(t,e,n){t.exports={Position:n(292),Color:n(293),Shape:n(294),Size:n(295),Opacity:n(296),ColorUtil:n(149)}},function(t,e,n){var r=n(75),i=n(17);i.Linear=n(33),i.Identity=n(175),i.Cat=n(77),i.Time=n(176),i.TimeCat=n(178),i.Log=n(179),i.Pow=n(180);var a=function(t){if(i.hasOwnProperty(t)){var e=r(t);i[e]=function(e){return new i[t](e)}}};for(var o in i)a(o);var s=["cat","timeCat"];i.isCategory=function(t){return s.indexOf(t)>=0},t.exports=i},function(t,e,n){var r=n(23);t.exports=function(t){var e=r(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e){function n(t,e){var n=t.length;if(0===n)return NaN;var r=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var i=1;i<t.length&&!(e<t[i]);i++)r=t[i];return r}function r(t,e){var n,r=t.length;if(0===r)return NaN;if(e>t[r-1])return NaN;if(e<t[0])return t[0];for(var i=1;i<t.length;i++)if(e<=t[i]){n=t[i];break}return n}var i={snapFactorTo:function(t,e,n){if(isNaN(t))return NaN;var r=1;if(0!==t){t<0&&(r=-1);var a=function(t){var e=1;if(t===1/0||t===-1/0)throw new Error("Not support Infinity!");if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;e.toString().length>12&&(e=parseFloat(e.toFixed(n)))}else for(;t>10;)e*=10,t/=10;return e}(t*=r);r*=a,t/=a}t="floor"===n?i.snapFloor(e,t):"ceil"===n?i.snapCeiling(e,t):i.snapTo(e,t);var o=parseFloat((t*r).toPrecision(12));return Math.abs(r)<1&&o.toString().length>12&&(o=t/parseInt(1/r)*(r>0?1:-1)),o},snapMultiple:function(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e},snapTo:function(t,e){var i=n(t,e),a=r(t,e);if(isNaN(i)||isNaN(a)){if(t[0]>=e)return t[0];var o=t[t.length-1];if(o<=e)return o}return Math.abs(e-i)<Math.abs(a-e)?i:a},snapFloor:function(t,e){return n(t,e)},snapCeiling:function(t,e){return r(t,e)},fixedBase:function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}};t.exports=i},function(t,e,n){var r=n(17),i=n(78),a=n(2),o=n(9),s=n(10),u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},n.init=function(){var t=this.values,e=this.tickCount;if(a(t,function(e,n){t[n]=e.toString()}),!this.ticks){var n=t;e&&(n=i({maxCount:e,data:t,isRounding:this.isRounding}).ticks),this.ticks=n}},n.getText=function(e){return-1===this.values.indexOf(e)&&o(e)&&(e=this.values[Math.round(e)]),t.prototype.getText.call(this,e)},n.translate=function(t){var e=this.values.indexOf(t);return-1===e&&o(t)?e=t:-1===e&&(e=NaN),e},n.scale=function(t){var e=this.rangeMin(),n=this.rangeMax();return(s(t)||-1!==this.values.indexOf(t))&&(t=this.translate(t)),e+(this.values.length>1?t/(this.values.length-1):t)*(n-e)},n.invert=function(t){if(s(t))return t;var e=this.rangeMin(),n=this.rangeMax();t<e&&(t=e),t>n&&(t=n);var r=Math.round((t-e)/(n-e)*(this.values.length-1))%this.values.length;return this.values[r=r||0]},e}(r);r.Cat=u,t.exports=u},function(t,e,n){var r=n(2);t.exports=function(t){var e,n={},i=[],a=t.isRounding,o=function(t){var e=[];return r(t,function(t){e=e.concat(t)}),e}(t.data),s=o.length,u=t.maxCount||8;if(a?2===(e=function(t,e){var n;for(n=e;n>0&&t%n!=0;n--);if(1===n)for(n=e;n>0&&(t-1)%n!=0;n--);return n}(s-1,u-1)+1)?e=u:e<u-4&&(e=u-4):e=u,!a&&s<=e+e/2)i=[].concat(o);else{for(var l=parseInt(s/(e-1),10),c=o.map(function(t,e){return e%l==0?o.slice(e,e+l):null}).filter(function(t){return t}),h=1,f=c.length;h<f&&(a?h*l<s-l:h<e-1);h++)i.push(c[h][0]);if(o.length){i.unshift(o[0]);var d=o[s-1];-1===i.indexOf(d)&&i.push(d)}}return n.categories=o,n.ticks=i,n}},function(t,e,n){var r;!function(i){"use strict";function a(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function o(t){return function(e,n,r){var i=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(e.month=i)}}function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var u={},l=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,c=/\d\d?/,h=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,f=/\[([^]*?)\]/gm,d=function(){},p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],v=a(g,3),m=a(p,3);u.i18n={dayNamesShort:m,dayNames:p,monthNamesShort:v,monthNames:g,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var y={D:function(t){return t.getDate()},DD:function(t){return s(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return s(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return s(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return s(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return s(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return s(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return s(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return s(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return s(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return s(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+s(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},x={D:[c,function(t,e){t.day=e}],Do:[new RegExp(c.source+h.source),function(t,e){t.day=parseInt(e,10)}],M:[c,function(t,e){t.month=e-1}],YY:[c,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[c,function(t,e){t.hour=e}],m:[c,function(t,e){t.minute=e}],s:[c,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[c,d],ddd:[h,d],MMM:[h,o("monthNamesShort")],MMMM:[h,o("monthNames")],a:[h,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,r=(e+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),t.timezoneOffset="+"===r[0]?n:-n)}]};x.dd=x.d,x.dddd=x.ddd,x.DD=x.D,x.mm=x.m,x.hh=x.H=x.HH=x.h,x.MM=x.M,x.ss=x.s,x.A=x.a,u.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},u.format=function(t,e,n){var r=n||u.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var i=[];return(e=(e=(e=u.masks[e]||e||u.masks.default).replace(f,function(t,e){return i.push(e),"??"})).replace(l,function(e){return e in y?y[e](t,r):e.slice(1,e.length-1)})).replace(/\?\?/g,function(){return i.shift()})},u.parse=function(t,e,n){var r=n||u.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(t.length>1e3)return!1;var i=!0,a={};if((e=u.masks[e]||e).replace(l,function(e){if(x[e]){var n=x[e],o=t.search(n[0]);~o?t.replace(n[0],function(e){return n[1](a,e,r),t=t.substr(o+e.length),e}):i=!1}return x[e]?"":e.slice(1,e.length-1)}),!i)return!1;var o,s=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,o=new Date(Date.UTC(a.year||s.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):o=new Date(a.year||s.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),o},void 0!==t&&t.exports?t.exports=u:void 0!==(r=(function(){return u}).call(e,n,e,t))&&(t.exports=r)}()},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Date")}},function(t,e,n){t.exports={isFunction:n(11),isObject:n(24),isBoolean:n(82),isNil:n(5),isString:n(10),isArray:n(4),isNumber:n(9),isEmpty:n(83),uniqueId:n(86),clone:n(46),deepMix:n(47),assign:n(8),merge:n(47),upperFirst:n(87),each:n(2),isEqual:n(49),toArray:n(34),extend:n(88),augment:n(89),remove:n(90),isNumberEqual:n(35),toRadian:n(91),toDegree:n(92),mod:n(93),clamp:n(50),createDom:n(94),modifyCSS:n(95),requestAnimationFrame:n(96),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(51),vec2:n(97),vec3:n(98),transform:n(99)}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Boolean")}},function(t,e,n){var r=n(5),i=n(13),a=n(84),o=n(85),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(r(t))return!0;if(i(t))return!t.length;var e=a(t);if("Map"===e||"Set"===e)return!t.size;if(o(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){var n=function(){var t={};return function(e){return t[e=e||"g"]?t[e]+=1:t[e]=1,e+t[e]}}();t.exports=n},function(t,e,n){var r=n(23);t.exports=function(t){var e=r(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){var r=n(11),i=n(8);t.exports=function(t,e,n,a){r(e)||(n=e,e=t,t=function(){});var o=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},s=o(e.prototype,t);return t.prototype=i(s,t.prototype),t.superclass=o(e.prototype,e),i(s,n),i(t,a),t}},function(t,e,n){var r=n(11),i=n(34),a=n(8);t.exports=function(t){for(var e=i(arguments),n=1;n<e.length;n++){var o=e[n];r(o)&&(o=o.prototype),a(t.prototype,o)}}},function(t,e){var n=Array.prototype,r=n.splice,i=n.indexOf,a=n.slice;t.exports=function(t){for(var e=a.call(arguments,1),n=0;n<e.length;n++)for(var o=e[n],s=-1;(s=i.call(t,o))>-1;)r.call(t,s,1);return t}},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var n=document.createElement("table"),r=document.createElement("tr"),i=/^\s*<(\w+|!)[^>]*>/,a={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:r,th:r,"*":document.createElement("div")};t.exports=function(t){var e=i.test(t)&&RegExp.$1;e in a||(e="*");var n=a[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}},function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){var r=n(183),i=n(50);r.angle=function(t,e){var n=r.dot(t,e)/(r.length(t)*r.length(e));return Math.acos(i(n,-1,1))},r.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},r.angleTo=function(t,e,n){var i=r.angle(t,e),a=r.direction(t,e)>=0;return n?a?2*Math.PI-i:i:a?i:2*Math.PI-i},r.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=r},function(t,e,n){var r=n(184);t.exports=r},function(t,e,n){var r=n(46),i=n(2),a=n(51);t.exports=function(t,e){return t=r(t),i(e,function(e){switch(e[0]){case"t":a.translate(t,t,[e[1],e[2]]);break;case"s":a.scale(t,t,[e[1],e[2]]);break;case"r":a.rotate(t,t,e[1]);break;case"m":a.multiply(t,t,e[1]);break;default:return!1}}),t}},function(t,e,n){var r=n(1),i=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(i,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=i},function(t,e,n){function r(t,e,n){for(var r,i=t.length-1;i>=0;i--){var a=t[i];if(a._cfg.visible&&a._cfg.capture&&(a.isGroup?r=a.getShape(e,n):a.isHit(e,n)&&(r=a)),r)break}return r}var i=n(1),a=n(102),o=n(188),s={},u="_INDEX",l=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};i.extend(l,a),i.augment(l,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e._cfg&&e!==l){var n=e.superclass.constructor;n&&!n._cfg&&t(n),e._cfg={},i.merge(e._cfg,n._cfg),i.merge(e._cfg,e.CFG)}}(this.constructor),i.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var r=s[t];if(r||(r=i.upperFirst(t),s[t]=r),e.attrs&&n){var a=e.attrs;if("text"===t){var u=n.get("fontFamily");u&&(a.fontFamily=a.fontFamily?a.fontFamily:u)}}e.canvas=n,e.type=t;var l=new o[r](e);return this.add(l),l},addGroup:function(t,e){var n,r=this.get("canvas");if(e=i.merge({},e),i.isFunction(t))e?(e.canvas=r,e.parent=this,n=new t(e)):n=new t({canvas:r,parent:this}),this.add(n);else if(i.isObject(t))t.canvas=r,n=new l(t),this.add(n);else{if(void 0!==t)return!1;n=new l,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),r=this.getBBox();return i.merge(e,{x:r.minX-t[3],y:r.minY-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!i.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),l.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(i.isArray(t))i.each(t,function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e._setCfgProperty(t)}),e._cfg.children=n.concat(t);else{var r=t,a=r.get("parent");a&&a.removeChild(r,!1),e._setCfgProperty(r),n.push(r)}return e},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,a=this.get("children");a.length>0?i.each(a,function(i){if(i.get("visible")){if(i.isGroup&&0===i.get("children").length)return;var a=i.getBBox();if(!a)return!0;var o=[a.minX,a.minY,1],s=[a.minX,a.maxY,1],u=[a.maxX,a.minY,1],l=[a.maxX,a.maxY,1];i.apply(o),i.apply(s),i.apply(u),i.apply(l);var c=Math.min(o[0],s[0],u[0],l[0]),h=Math.max(o[0],s[0],u[0],l[0]),f=Math.min(o[1],s[1],u[1],l[1]),d=Math.max(o[1],s[1],u[1],l[1]);c<t&&(t=c),h>e&&(e=h),f<n&&(n=f),d>r&&(r=d)}}):(t=0,e=0,n=0,r=0);var o={minX:t,minY:n,maxX:e,maxY:r};return o.x=o.minX,o.y=o.minY,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY,o},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return i.each(t,function(t,e){return t[u]=e,t}),t.sort(function(t,e){var n=function(t,e){return t.get("zIndex")-e.get("zIndex")}(t,e);return 0===n?t[u]-e[u]:n}),this},findById:function(t){return this.find(function(e){return e.get("id")===t})},find:function(t){if(i.isString(t))return this.findById(t);var e=this.get("children"),n=null;return i.each(e,function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1}),n},findAll:function(t){var e=this.get("children"),n=[],r=[];return i.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(r=e.findAllBy(t),n=n.concat(r))}),n},findBy:function(t){var e=this.get("children"),n=null;return i.each(e,function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1}),n},findAllBy:function(t){var e=this.get("children"),n=[],r=[];return i.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(r=e.findAllBy(t),n=n.concat(r))}),n},getShape:function(t,e){var n,i=this._attrs.clip,a=this._cfg.children;if(i){var o=[t,e,1];i.invert(o,this.get("canvas")),i.isPointInPath(o[0],o[1])&&(n=r(a,t,e))}else n=r(a,t,e);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++)t[e].clearTotalMatrix()}},clear:function(t){for(var e=this._cfg.children,n=e.length-1;n>=0;n--)e[n].remove(!0,t);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),l.superclass.destroy.call(this))},clone:function(){var t=this._cfg.children,e=new l;return i.each(t,function(t){e.add(t.clone())}),e}}),t.exports=l},function(t,e,n){var r=n(1),i=n(185),a=n(186),o=n(187),s=n(53),u=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(u,i,a,s,o,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,i=n.parent,a=n.el;return i&&r.remove(i.get("children"),this),a&&(e?i&&i._cfg.tobeRemoved.push(a):a.parentNode.removeChild(a)),(t||void 0===t)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);n.splice(i,1),n.push(this),r&&(r.parentNode.removeChild(r),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);if(n.splice(i,1),n.unshift(this),r){var a=r.parentNode;a.removeChild(r),a.insertBefore(r,a.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,r.isNil(e)||e.sort();var n=this._cfg.el;if(n){var i=e._cfg.children,a=i.indexOf(this),o=n.parentNode;o.removeChild(n),a===i.length-1?o.appendChild(n):o.insertBefore(n,o.childNodes[a])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return r.clone(this)},getBBox:function(){}}),t.exports=u},function(t,e,n){function r(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function i(t,e,n,i,a,s,u,l,c){var h,f,d,p,g,v,m,y=.005,x=1/0,b=[u,l];for(g=0;g<1;g+=.05)d=[r(t,n,a,g),r(e,i,s,g)],(f=o.squaredDistance(b,d))<x&&(h=g,x=f);for(x=1/0,m=0;m<32&&!(y<1e-4);m++){var _=h-y,w=h+y;d=[r(t,n,a,_),r(e,i,s,_)],f=o.squaredDistance(b,d),_>=0&&f<x?(h=_,x=f):(p=[r(t,n,a,w),r(e,i,s,w)],v=o.squaredDistance(b,p),w<=1&&v<x?(h=w,x=v):y*=.5)}return c&&(c.x=r(t,n,a,h),c.y=r(e,i,s,h)),Math.sqrt(x)}var a=n(1),o=a.vec2;t.exports={at:r,projectPoint:function(t,e,n,r,a,o,s,u){var l={};return i(t,e,n,r,a,o,s,u,l),l},pointDistance:i,extrema:function(t,e,n){var r=t+n-2*e;if(a.isNumberEqual(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}}},function(t,e){t.exports={xAt:function(t,e,n,r,i){return e*Math.cos(t)*Math.cos(i)-n*Math.sin(t)*Math.sin(i)+r},yAt:function(t,e,n,r,i){return e*Math.sin(t)*Math.cos(i)+n*Math.cos(t)*Math.sin(i)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){function r(t,e,n){return t+e*Math.cos(n)}function i(t,e,n){return t+e*Math.sin(n)}var a=n(1),o=n(6),s=n(37),u=n(38),l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},a.extend(l,o),a.augment(l,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=t.startAngle,a=t.endAngle,o=t.clockwise,u=this.getHitLineWidth()/2,l=s.box(e,n,r,i,a,o);return l.minX-=u,l.minY-=u,l.maxX+=u,l.maxY+=u,l},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,a=t.startAngle,o=t.r,s=Math.PI/180;t.clockwise&&(s*=-1);var u=[],l=r(e,o,a+s),c=i(n,o,a+s),h=r(e,o,a),f=i(n,o,a);return u.push([l,c]),u.push([h,f]),u},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,a=t.endAngle,o=t.r,s=Math.PI/180,u=[];t.clockwise&&(s*=-1);var l=r(e,o,a+s),c=i(n,o,a+s),h=r(e,o,a),f=i(n,o,a);return u.push([h,f]),u.push([l,c]),u},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r,a=e.startAngle,o=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,r,i,a,o,s)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();u.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var r=this.getEndTangent();u.addEndArrow(t,e,r[0][0],r[0][1],r[1][0],r[1][1])}}}),t.exports=l},function(t,e,n){var r=n(1),i=n(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()}}),t.exports=a},function(t,e,n){var r=n(1),i=n(6),a=function t(e){t.superclass.constructor.call(this,e)};r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,a=this.getHitLineWidth()/2;return{minX:e-a,minY:n-a,maxX:e+r+a,maxY:n+i+a}}}),t.exports=a},function(t,e,n){var r=n(1),i=n(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rx,i=t.ry,a=this.getHitLineWidth(),o=r+a/2,s=i+a/2;return{minX:e-o,minY:n-s,maxX:e+o,maxY:n+s}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,a=e.rx,o=e.ry;t=t||self.get("context");var s=a>o?a:o,u=[1,0,0,0,1,0,0,0,1];r.mat3.scale(u,u,[a>o?1:a/o,a>o?o/a:1]),r.mat3.translate(u,u,[n,i]),t.beginPath(),t.save(),t.transform(u[0],u[1],u[3],u[4],u[6],u[7]),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=a},function(t,e,n){var r=n(1),i=n(6),a=n(37),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rs,i=t.re,o=t.startAngle,s=t.endAngle,u=t.clockwise,l=this.getHitLineWidth(),c=a.box(e,n,r,o,s,u),h=a.box(e,n,i,o,s,u),f=l/2;return{minX:Math.min(c.minX,h.minX)-f,minY:Math.min(c.minY,h.minY)-f,maxX:Math.max(c.maxX,h.maxX)+f,maxY:Math.max(c.maxY,h.maxY)+f}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.rs,a=e.re,o=e.startAngle,s=e.endAngle,u=e.clockwise,l={x:Math.cos(o)*i+n,y:Math.sin(o)*i+r},c={x:Math.cos(o)*a+n,y:Math.sin(o)*a+r},h={x:Math.cos(s)*i+n,y:Math.sin(s)*i+r};(t=t||self.get("context")).beginPath(),t.moveTo(l.x,l.y),t.lineTo(c.x,c.y),t.arc(n,r,a,o,s,u),t.lineTo(h.x,h.y),t.arc(n,r,i,s,o,!u),t.closePath()}}),t.exports=o},function(t,e,n){var r=n(1),i=n(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(a,i),r.augment(a,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var t=this,e=t._attrs,n=e.img;if(!r.isString(n))return n instanceof Image?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):n instanceof HTMLElement&&r.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(e.width||t.attr("width",Number(n.getAttribute("width"))),e.height||t.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):null;var i=new Image;i.onload=function(){if(t.get("destroyed"))return!1;t.attr("imgSrc",n),t.attr("img",i);var e=t.get("callback");e&&e.call(t),t.set("loading",!1)},i.src=n,i.crossOrigin="Anonymous",t.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,i=e.y,a=e.img,o=e.width,s=e.height,u=e.sx,l=e.sy,c=e.swidth,h=e.sheight;this.set("toDraw",!1);var f=a;if(f instanceof ImageData&&((f=new Image).src=a),f instanceof Image||f instanceof HTMLElement&&r.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(r.isNil(u)||r.isNil(l)||r.isNil(c)||r.isNil(h))return void t.drawImage(f,n,i,o,s);if(!(r.isNil(u)||r.isNil(l)||r.isNil(c)||r.isNil(h)))return void t.drawImage(f,u,l,c,h,n,i,o,s)}}}),t.exports=a},function(t,e,n){var r=n(1),i=n(6),a=n(38),o=n(36),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(s,i),r.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,r=t.x2,i=t.y2,a=this.getHitLineWidth();return o.box(e,n,r,i,a)},createPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,a=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(n,r),t.lineTo(i,a)},afterPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,i,o,n,r),e.endArrow&&a.addEndArrow(t,e,n,r,i,o)},getPoint:function(t){var e=this._attrs;return{x:o.at(e.x1,e.x2,t),y:o.at(e.y1,e.y2,t)}}}),t.exports=s},function(t,e,n){var r=n(1),i=n(6),a=n(39),o=n(27),s=n(38),u=n(57),l=n(55),c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(c,i),r.augment(c,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(r.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,n=o.parsePath(t),i=[];if(r.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var s=n.length,u=0;u<n.length;u++)e=new a(n[u],e,u===s-1),i.push(e);this.setSilent("segments",i),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),n=1/0,i=-1/0,a=1/0,o=-1/0;return r.each(t,function(t){t.getBBox(e);var r=t.box;r&&(r.minX<n&&(n=r.minX),r.maxX>i&&(i=r.maxX),r.minY<a&&(a=r.minY),r.maxY>o&&(o=r.maxY))}),n===1/0||a===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:a,maxX:i,maxY:o}},_setTcache:function(){var t,e,n,i,a=0,o=0,s=[],u=this._cfg.curve;u&&(r.each(u,function(t,e){i=t.length,(n=u[e+1])&&(a+=l.len(t[i-2],t[i-1],n[1],n[2],n[3],n[4],n[5],n[6]))}),r.each(u,function(r,c){i=r.length,(n=u[c+1])&&((t=[])[0]=o/a,e=l.len(r[i-2],r[i-1],n[1],n[2],n[3],n[4],n[5],n[6]),t[1]=(o+=e)/a,s.push(t))}),this._cfg.tCache=s)},_calculateCurve:function(){this._cfg.curve=u.pathTocurve(this._attrs.path)},getStartTangent:function(){var t,e,n,i,a=this.get("segments");if(a.length>1)if(t=a[0].endPoint,e=a[1].endPoint,i=[],r.isFunction(n=a[1].startTangent)){var o=n();i.push([t.x-o[0],t.y-o[1]]),i.push([t.x,t.y])}else i.push([e.x,e.y]),i.push([t.x,t.y]);return i},getEndTangent:function(){var t,e,n,i,a=this.get("segments"),o=a.length;if(o>1)if(t=a[o-2].endPoint,e=a[o-1].endPoint,i=[],r.isFunction(n=a[o-1].endTangent)){var s=n();i.push([e.x-s[0],e.y-s[1]]),i.push([e.x,e.y])}else i.push([t.x,t.y]),i.push([e.x,e.y]);return i},getPoint:function(t){var e,n,i=this._cfg.tCache;i||(this._calculateCurve(),this._setTcache(),i=this._cfg.tCache);var a=this._cfg.curve;if(!i)return a?{x:a[0][1],y:a[0][2]}:null;r.each(i,function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)});var o=a[n];if(r.isNil(o)||r.isNil(n))return null;var s=o.length,u=a[n+1];return{x:l.at(o[s-2],u[1],u[3],u[5],1-e),y:l.at(o[s-1],u[2],u[4],u[6],1-e)}},createPath:function(t){var e=this.get("segments");if(r.isArray(e)){(t=t||this.get("context")).beginPath();for(var n=e.length,i=0;i<n;i++)e[i].draw(t)}},afterPath:function(t){var e=this._attrs,n=this.get("segments"),i=e.path;if(t=t||this.get("context"),r.isArray(n)&&1!==n.length&&(e.startArrow||e.endArrow)&&"z"!==i[i.length-1]&&"Z"!==i[i.length-1]&&!e.fill){var a=this.getStartTangent();s.addStartArrow(t,e,a[0][0],a[0][1],a[1][0],a[1][1]);var o=this.getEndTangent();s.addEndArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1])}}}),t.exports=c},function(t,e,n){var r=n(1),i=n(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={points:null,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,i=1/0,a=-1/0,o=-1/0;r.each(t,function(t){var e=t[0],r=t[1];e<n&&(n=e),e>a&&(a=e),r<i&&(i=r),r>o&&(o=r)});var s=e/2;return{minX:n-s,minY:i-s,maxX:a+s,maxY:o+s}},createPath:function(t){var e=this._attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),r.each(e,function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}),t.closePath())}}),t.exports=a},function(t,e,n){var r=n(1),i=n(6),a=n(38),o=n(36),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},r.extend(s,i),r.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var i=1/0,a=1/0,o=-1/0,s=-1/0;r.each(n,function(t){var e=t[0],n=t[1];e<i&&(i=e),e>o&&(o=e),n<a&&(a=n),n>s&&(s=n)});var u=e/2;return{minX:i-u,minY:a-u,maxX:o+u,maxY:s+u}},_setTcache:function(){var t,e,n=this._attrs.points,i=0,a=0,s=[];n&&0!==n.length&&(r.each(n,function(t,e){n[e+1]&&(i+=o.len(t[0],t[1],n[e+1][0],n[e+1][1]))}),i<=0||(r.each(n,function(r,u){n[u+1]&&((t=[])[0]=a/i,e=o.len(r[0],r[1],n[u+1][0],n[u+1][1]),t[1]=(a+=e)/i,s.push(t))}),this.tCache=s))},createPath:function(t){var e,n,r=this._attrs.points;if(!(r.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(r[0][0],r[0][1]),n=1,e=r.length-1;n<e;n++)t.lineTo(r[n][0],r[n][1]);t.lineTo(r[e][0],r[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,r=n.length-1;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&a.addEndArrow(t,e,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(t){var e,n,i=this._attrs.points,a=this.tCache;return a||(this._setTcache(),a=this.tCache),r.each(a,function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}),{x:o.at(i[n][0],i[n+1][0],e),y:o.at(i[n][1],i[n+1][1],e)}}}),t.exports=s},function(t,e,n){var r=n(1),i=n(27).parseRadius,a=n(6),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(o,a),r.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,a=this.getHitLineWidth()/2;return{minX:e-a,minY:n-a,maxX:e+r+a,maxY:n+i+a}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,a=e.width,o=e.height,s=e.radius;if((t=t||this.get("context")).beginPath(),0===s)t.rect(n,r,a,o);else{var u=i(s);t.moveTo(n+u.r1,r),t.lineTo(n+a-u.r2,r),0!==u.r2&&t.arc(n+a-u.r2,r+u.r2,u.r2,-Math.PI/2,0),t.lineTo(n+a,r+o-u.r3),0!==u.r3&&t.arc(n+a-u.r3,r+o-u.r3,u.r3,0,Math.PI/2),t.lineTo(n+u.r4,r+o),0!==u.r4&&t.arc(n+u.r4,r+o-u.r4,u.r4,Math.PI/2,Math.PI),t.lineTo(n,r+u.r1),0!==u.r1&&t.arc(n+u.r1,r+u.r1,u.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=o},function(t,e,n){var r=n(1),i=n(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs;t.font=[t.fontStyle,t.fontVariant,t.fontWeight,t.fontSize+"px",t.fontFamily].join(" ")},_setAttrText:function(){var t=this._attrs,e=t.text,n=null;if(r.isString(e)&&-1!==e.indexOf("\n")){var i=(n=e.split("\n")).length;t.lineCount=i}t.textArr=n},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,r=t.y,i=this.measureText();if(!i)return{minX:n,minY:r,maxX:n,maxY:r};var a=this._getTextHeight(),o=t.textAlign,s=t.textBaseline,u=this.getHitLineWidth(),l={x:n,y:r-a};o&&("end"===o||"right"===o?l.x-=i:"center"===o&&(l.x-=i/2)),s&&("top"===s?l.y+=a:"middle"===s&&(l.y+=a/2)),this.set("startPoint",l);var c=u/2;return{minX:l.x-c,minY:l.y-c,maxX:l.x+i+c,maxY:l.y+a+c}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var i=e.text;if(i){var a=e.textArr,o=e.x,s=e.y;if(t.beginPath(),this.hasStroke()){var u=e.strokeOpacity;r.isNil(u)||1===u||(t.globalAlpha=u),a?this._drawTextArr(t,!1):t.strokeText(i,o,s),t.globalAlpha=1}if(this.hasFill()){var l=e.fillOpacity;r.isNil(l)||1===l||(t.globalAlpha=l),a?this._drawTextArr(t,!0):t.fillText(i,o,s)}n.hasUpdate=!1}},_drawTextArr:function(t,e){var n,i=this._attrs.textArr,a=this._attrs.textBaseline,o=1*this._attrs.fontSize,s=this._getSpaceingY(),u=this._attrs.x,l=this._attrs.y,c=this.getBBox(),h=c.maxY-c.minY;r.each(i,function(r,i){n=l+i*(s+o)-h+o,"middle"===a&&(n+=h-o-(h-o)/2),"top"===a&&(n+=h-o),e?t.fillText(r,u,n):t.strokeText(r,u,n)})},measureText:function(){var t,e=this._attrs,n=e.text,i=e.font,a=e.textArr,o=0;if(!r.isNil(n)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=i,a?r.each(a,function(e){t=s.measureText(e).width,o<t&&(o=t),s.restore()}):(o=s.measureText(n).width,s.restore()),o}}}),t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(59);n.d(e,"interpolate",function(){return r.a});var i=n(122);n.d(e,"interpolateArray",function(){return i.a});var a=n(62);n.d(e,"interpolateBasis",function(){return a.b});var o=n(120);n.d(e,"interpolateBasisClosed",function(){return o.a});var s=n(123);n.d(e,"interpolateDate",function(){return s.a});var u=n(40);n.d(e,"interpolateNumber",function(){return u.a});var l=n(124);n.d(e,"interpolateObject",function(){return l.a});var c=n(205);n.d(e,"interpolateRound",function(){return c.a});var h=n(125);n.d(e,"interpolateString",function(){return h.a});var f=n(206);n.d(e,"interpolateTransformCss",function(){return f.a}),n.d(e,"interpolateTransformSvg",function(){return f.b});var d=n(209);n.d(e,"interpolateZoom",function(){return d.a});var p=n(119);n.d(e,"interpolateRgb",function(){return p.a}),n.d(e,"interpolateRgbBasis",function(){return p.b}),n.d(e,"interpolateRgbBasisClosed",function(){return p.c});var g=n(210);n.d(e,"interpolateHsl",function(){return g.a}),n.d(e,"interpolateHslLong",function(){return g.b});var v=n(211);n.d(e,"interpolateLab",function(){return v.a});var m=n(212);n.d(e,"interpolateHcl",function(){return m.a}),n.d(e,"interpolateHclLong",function(){return m.b});var y=n(213);n.d(e,"interpolateCubehelix",function(){return y.b}),n.d(e,"interpolateCubehelixLong",function(){return y.a});var x=n(214);n.d(e,"quantize",function(){return x.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";function r(t){return function(e){var n,r,a=e.length,o=new Array(a),s=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=Object(i.f)(e[n]),o[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return o=t(o),s=t(s),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=u(t),r+""}}}n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l});var i=n(19),a=n(62),o=n(120),s=n(28);e.a=function t(e){function n(t,e){var n=r((t=Object(i.f)(t)).r,(e=Object(i.f)(e)).r),a=r(t.g,e.g),o=r(t.b,e.b),u=Object(s.a)(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=a(e),t.b=o(e),t.opacity=u(e),t+""}}var r=Object(s.b)(e);return n.gamma=t,n}(1);var u=r(a.b),l=r(o.a)},function(t,e,n){"use strict";var r=n(62);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),a=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,a,o,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(59);e.a=function(t,e){var n,i=e?e.length:0,a=t?Math.min(i,t.length):0,o=new Array(a),s=new Array(i);for(n=0;n<a;++n)o[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<a;++n)s[n]=o[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(59);e.a=function(t,e){var n,i={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):a[n]=e[n];return function(t){for(n in i)a[n]=i[n](t);return a}}},function(t,e,n){"use strict";var r=n(40),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");e.a=function(t,e){var n,o,s,u=i.lastIndex=a.lastIndex=0,l=-1,c=[],h=[];for(t+="",e+="";(n=i.exec(t))&&(o=a.exec(e));)(s=o.index)>u&&(s=e.slice(u,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,h.push({i:l,x:Object(r.a)(n,o)})),u=a.lastIndex;return u<e.length&&(s=e.slice(u),c[l]?c[l]+=s:c[++l]=s),c.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,r=0;r<e;++r)c[(n=h[r]).i]=n.x(t);return c.join("")})}},function(t,e,n){var r=n(0),i=n(290),a={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},o={line:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},path:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},area:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.fadeIn},leave:function(){return i.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return i.appear.zoomIn},enter:function(){return i.enter.zoomIn},leave:function(){return i.leave.zoomOut}},edge:{appear:function(){return i.appear.pathIn},enter:function(){return i.enter.pathIn},leave:function(){return i.leave.pathOut}},interval:{appear:function(t){var e;return t.isPolar?(e=i.appear.zoomIn,(t.isTransposed||"theta"===t.type)&&(e=i.appear.fanIn)):e=t.isRect?t.isTransposed?i.appear.scaleInX:i.appear.scaleInY:i.appear.zoomIn,e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?i.enter.fadeIn:i.enter.zoomIn},leave:function(){return i.leave.fadeOut},update:function(t){if("theta"===t.type)return i.update.fanIn}},point:{appear:function(){return i.appear.zoomIn},enter:function(){return i.enter.zoomIn},leave:function(){return i.leave.zoomOut}},schema:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return i.appear.fadeIn},enter:function(){return i.enter.fadeIn},leave:function(){return i.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-ticks":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-grid":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-grid-rect":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(){return i.leave.fadeIn}},labelLine:{appear:function(){return i.appear.pathIn},enter:function(){return i.enter.pathIn},leave:function(){return i.leave.pathOut}}};o.Action=i,o.defaultCfg=a,o.getAnimation=function(t,e,n){var i=this[t];if(i){var a=i[n];if(r.isFunction(a))return a(e)}return!1},o.getAnimateCfg=function(t,e){var n=a[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?r.deepMix({},n,this[t].cfg[e]):n},o.registerAnimation=function(t,e,n){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=n},t.exports=o},function(t,e,n){var r=n(2),i=n(8),a=n(228),o=n(237),s=n(248),u=n(251),l=n(255),c=n(43),h=n(264),f=n(268),d=n(274),p=n(278),g={DOMUtil:a,DomUtil:a,MatrixUtil:c,PathUtil:f,arrayUtil:o,domUtil:a,eventUtil:s,formatUtil:u,mathUtil:l,matrixUtil:c,objectUtil:h,stringUtil:d,pathUtil:f,typeUtil:p,augment:n(89),clone:n(46),debounce:n(284),deepMix:n(47),each:r,extend:n(88),filter:n(63),group:n(144),groupBy:n(146),groupToMap:n(145),indexOf:n(285),isEmpty:n(83),isEqual:n(49),isEqualWith:n(286),map:n(287),mix:i,pick:n(288),throttle:n(289),toArray:n(34),toString:n(23),uniqueId:n(86)};r([a,o,s,u,l,c,h,f,d,p],function(t){i(g,t)}),t.exports=g},function(t,e,n){var r=n(129),i=n(5);t.exports=function(t,e){var n=r(e),a=n.length;if(i(t))return!a;for(var o=0;o<a;o+=1){var s=n[o];if(e[s]!==t[s]||!(s in t))return!1}return!0}},function(t,e,n){var r=n(2),i=n(11),a=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return r(t,function(n,r){i(t)&&"prototype"===r||e.push(r)}),e};t.exports=a},function(t,e,n){var r=n(13),i=Array.prototype.splice;t.exports=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,a=n-1;n--;){var o=void 0,s=e[n];n!==a&&s===o||(o=s,i.call(t,s,1))}return t}},function(t,e,n){var r=n(2),i=n(41);t.exports=function(t){var e=[];return r(t,function(t){i(e,t)||e.push(t)}),e}},function(t,e,n){var r=n(4),i=n(11),a=n(2);t.exports=function(t,e){if(r(t)){var n=t[0],o=void 0;o=i(e)?e(t[0]):t[0][e];var s=void 0;return a(t,function(t){(s=i(e)?e(t):t[e])>o&&(n=t,o=s)}),n}}},function(t,e){t.exports=parseInt},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){var r=n(2),i=n(11),a=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return r(t,function(n,r){i(t)&&"prototype"===r||e.push(n)}),e};t.exports=a},function(t,e,n){var r=n(137);t.exports=function(t,e,n,i,a){if(a)return[["M",+t+ +a,e],["l",n-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-n,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.parsePathArray=r,o}},function(t,e){var n=/,?([a-z]),?/gi;t.exports=function(t){return t.join(",").replace(n,"$1")}},function(t,e,n){var r=n(139),i=function(t,e,n,r){return[t,e,n,r,n,r]},a=function(t,e,n,r,i,a){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*a+2/3*r,i,a]};t.exports=function(t,e){var n=r(t),o=e&&r(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],c=[],h="",f="",d=void 0,p=function(t,e,n){var r=void 0,o=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat((function t(e,n,r,i,a,o,s,u,l,c){r===i&&(r+=1);var h=120*Math.PI/180,f=Math.PI/180*(+a||0),d=[],p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)g=c[0],v=c[1],m=c[2],y=c[3];else{e=(p=x(e,n,-f)).x,n=p.y,u=(p=x(u,l,-f)).x,l=p.y,e===u&&n===l&&(u+=1,l+=1);var b=(e-u)/2,_=(n-l)/2,w=b*b/(r*r)+_*_/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,M=i*i,O=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*_*_-M*b*b)/(S*_*_+M*b*b)));m=O*r*_/i+(e+u)/2,y=O*-i*b/r+(n+l)/2,g=Math.asin(((n-y)/i).toFixed(9)),v=Math.asin(((l-y)/i).toFixed(9)),g=e<m?Math.PI-g:g,v=u<m?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),s&&g>v&&(g-=2*Math.PI),!s&&v>g&&(v-=2*Math.PI)}var C=v-g;if(Math.abs(C)>h){var A=v,I=u,T=l;v=g+h*(s&&v>g?1:-1),d=t(u=m+r*Math.cos(v),l=y+i*Math.sin(v),r,i,a,0,s,I,T,[v,A,m,y])}C=v-g;var E=Math.cos(g),j=Math.sin(g),P=Math.cos(v),k=Math.sin(v),D=Math.tan(C/4),L=4/3*r*D,R=4/3*i*D,N=[e,n],z=[e+L*j,n-R*E],B=[u+L*k,l-R*P],F=[u,l];if(z[0]=2*N[0]-z[0],z[1]=2*N[1]-z[1],c)return[z,B,F].concat(d);for(var V=[],G=0,H=(d=[z,B,F].concat(d).join().split(",")).length;G<H;G++)V[G]=G%2?x(d[G-1],d[G],f).y:x(d[G],d[G+1],f).x;return V}).apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,o=2*e.y-e.by):(r=e.x,o=e.y),t=["C",r,o].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(a(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(a(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(i(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(i(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(i(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(i(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)l[e]="A",o&&(c[e]="A"),t.splice(e++,0,["C"].concat(r.splice(0,6)));t.splice(e,1),d=Math.max(n.length,o&&o.length||0)}},v=function(t,e,r,i,a){t&&e&&"M"===t[a][0]&&"M"!==e[a][0]&&(e.splice(a,0,["M",i.x,i.y]),r.bx=0,r.by=0,r.x=t[a][1],r.y=t[a][2],d=Math.max(n.length,o&&o.length||0))};d=Math.max(n.length,o&&o.length||0);for(var m=0;m<d;m++){n[m]&&(h=n[m][0]),"C"!==h&&(l[m]=h,m&&(f=l[m-1])),n[m]=p(n[m],s,f),"A"!==l[m]&&"C"===h&&(l[m]="C"),g(n,m),o&&(o[m]&&(h=o[m][0]),"C"!==h&&(c[m]=h,m&&(f=c[m-1])),o[m]=p(o[m],u,f),"A"!==c[m]&&"C"===h&&(c[m]="C"),g(o,m)),v(n,o,s,u,m),v(o,n,u,s,m);var y=n[m],x=o&&o[m],b=y.length,_=o&&x.length;s.x=y[b-2],s.y=y[b-1],s.bx=parseFloat(y[b-4])||s.x,s.by=parseFloat(y[b-3])||s.y,u.bx=o&&(parseFloat(x[_-4])||u.x),u.by=o&&(parseFloat(x[_-3])||u.y),u.x=o&&x[_-2],u.y=o&&x[_-1]}return o?[n,o]:n}},function(t,e,n){function r(t,e,n,r,i){var a=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var o=Math.PI/180,s=t+n*Math.cos(-r*o),u=t+n*Math.cos(-i*o);a=[["M",s,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*o)]]}else a=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return a}var i=n(140),a=n(141);t.exports=function(t){if(!(t=i(t))||!t.length)return[["M",0,0]];var e=[],n=0,o=0,s=0,u=0,l=0,c=void 0,h=void 0;"M"===t[0][0]&&(s=n=+t[0][1],u=o=+t[0][2],l++,e[0]=["M",n,o]);for(var f,d,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=l,v=t.length;g<v;g++){if(e.push(f=[]),(c=(d=t[g])[0])!==c.toUpperCase())switch(f[0]=c.toUpperCase(),f[0]){case"A":f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=+d[6]+n,f[7]=+d[7]+o;break;case"V":f[1]=+d[1]+o;break;case"H":f[1]=+d[1]+n;break;case"R":for(var m=2,y=(h=[n,o].concat(d.slice(1))).length;m<y;m++)h[m]=+h[m]+n,h[++m]=+h[m]+o;e.pop(),e=e.concat(a(h,p));break;case"O":e.pop(),(h=r(n,o,d[1],d[2])).push(h[0]),e=e.concat(h);break;case"U":e.pop(),e=e.concat(r(n,o,d[1],d[2],d[3])),f=["U"].concat(e[e.length-1].slice(-2));break;case"M":s=+d[1]+n,u=+d[2]+o;break;default:for(var x=1,b=d.length;x<b;x++)f[x]=+d[x]+(x%2?n:o)}else if("R"===c)h=[n,o].concat(d.slice(1)),e.pop(),e=e.concat(a(h,p)),f=["R"].concat(d.slice(-2));else if("O"===c)e.pop(),(h=r(n,o,d[1],d[2])).push(h[0]),e=e.concat(h);else if("U"===c)e.pop(),e=e.concat(r(n,o,d[1],d[2],d[3])),f=["U"].concat(e[e.length-1].slice(-2));else for(var _=0,w=d.length;_<w;_++)f[_]=d[_];if("O"!==(c=c.toUpperCase()))switch(f[0]){case"Z":n=+s,o=+u;break;case"H":n=f[1];break;case"V":o=f[1];break;case"M":s=f[f.length-2],u=f[f.length-1];break;default:n=f[f.length-2],o=f[f.length-1]}}return e}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",i=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");t.exports=function(t){if(!t)return null;if((void 0===t?"undefined":n(t))===n([]))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(i,function(t,n,i){var o=[],s=n.toLowerCase();if(i.replace(a,function(t,e){e&&o.push(+e)}),"m"===s&&o.length>2&&(r.push([n].concat(o.splice(0,2))),s="l",n="m"===n?"l":"L"),"o"===s&&1===o.length&&r.push([n,o[0]]),"r"===s)r.push([n].concat(o));else for(;o.length>=e[s]&&(r.push([n].concat(o.splice(0,e[s]))),e[s]););}),r}},function(t,e){t.exports=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?a[3]={x:+t[0],y:+t[1]}:i-2===r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(6*a[1].x-a[0].x+a[2].x)/6,(6*a[1].y-a[0].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}},function(t,e,n){var r=n(23);t.exports=function(t){return r(t).toLowerCase()}},function(t,e,n){var r=n(23);t.exports=function(t){return r(t).toUpperCase()}},function(t,e,n){var r=n(145);t.exports=function(t,e){if(!e)return[t];var n=r(t,e),i=[];for(var a in n)i.push(n[a]);return i}},function(t,e,n){var r=n(11),i=n(4),a=n(146);t.exports=function(t,e){if(!e)return{0:t};if(!r(e)){var n=i(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return a(t,e)}},function(t,e,n){var r=n(2),i=n(4),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!i(t))return t;var n={},o=null;return r(t,function(t){o=e(t),a.call(n,o)?n[o].push(t):n[o]=[t]}),n}},function(t,e,n){function r(t,e){return i.isEqualWith(t,e,function(t,e){return t===e})}var i=n(0),a=n(291),o=n(16).Canvas,s=i.DomUtil,u=n(7),l=n(356),c=n(165),h=n(167),f=n(166),d=n(168),p=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix(e,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:u.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:u.renderer,views:[]})},n.init=function(){var e=this.get("viewTheme");this._initCanvas(),this._initPlot(),this._initEvents(),t.prototype.init.call(this);var n=new c.Tooltip({chart:this,viewTheme:e,options:{}});this.set("tooltipController",n);var r=new c.Legend({chart:this,viewTheme:e});this.set("legendController",r),this.set("_id","chart"),this.emit("afterinit")},n._isAutoPadding=function(){var t=this.get("padding");return i.isArray(t)?-1!==t.indexOf("auto"):"auto"===t},n._getAutoPadding=function(){for(var t=this.get("padding"),e=this.get("frontPlot").getBBox(),n=this.get("backPlot"),r=f(n,d(this.get("plotRange"))),a=h(e,r),o=[0-a.minY,a.maxX-this.get("width"),a.maxY-this.get("height"),0-a.minX],s=i.toAllPadding(t),u=0;u<s.length;u++)if("auto"===s[u]){var l=Math.max(0,o[u]);s[u]=l+this.get("autoPaddingAppend")}return s},n._initCanvas=function(){var t=this.get("container"),e=this.get("id");!t&&e&&(t=e,this.set("container",e));var n=this.get("width"),r=this.get("height");if(i.isString(t)){if(!(t=document.getElementById(t)))throw new Error("Please specify the container for the chart!");this.set("container",t)}var a=s.createDom('<div style="position:relative;"></div>');t.appendChild(a),this.set("wrapperEl",a),this.get("forceFit")&&(n=s.getWidth(t,n),this.set("width",n));var u=this.get("renderer"),l=new o({containerDOM:a,width:n,height:r,pixelRatio:"svg"===u?1:this.get("pixelRatio"),renderer:u});this.set("canvas",l)},n._initPlot=function(){this._initPlotBack();var t=this.get("canvas"),e=t.addGroup({zIndex:1}),n=t.addGroup({zIndex:0}),r=t.addGroup({zIndex:3});this.set("backPlot",e),this.set("middlePlot",n),this.set("frontPlot",r)},n._initPlotBack=function(){var t=this.get("canvas"),e=this.get("viewTheme"),n=t.addGroup(l,{padding:this.get("padding"),plotBackground:i.mix({},e.plotBackground,this.get("plotBackground")),background:i.mix({},e.background,this.get("background"))});this.set("plot",n),this.set("plotRange",n.get("plotRange"))},n._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",i.wrapBehavior(this,"_initForceFitEvent"))},n._initForceFitEvent=function(){var t=setTimeout(i.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},n._renderLegends=function(){var t=this.get("options").legends;if(i.isNil(t)||!1!==t){var e=this.get("legendController");if(e.options=t||{},e.plotRange=this.get("plotRange"),t&&t.custom)e.addCustomLegend();else{var n=this.getAllGeoms(),r=[];i.each(n,function(t){var n=t.get("view"),a=t.getAttrsForLegend();i.each(a,function(a){var o=a.getScale(a.type);if(o.field&&"identity"!==o.type&&!function(t,e){var n=!1;return i.each(r,function(t){var r=[].concat(t.values),i=[].concat(e.values);t.type!==e.type||t.field!==e.field||r.sort().toString()!==i.sort().toString()||(n=!0)}),n}(0,o)){r.push(o);var s=n.getFilteredOutValues(o.field);e.addLegend(o,a,t,s)}})});var a=this.getYScales();0===r.length&&a.length>1&&e.addMixedLegend(a,n)}e.alignLegends()}},n._renderTooltips=function(){var t=this.get("options");if(i.isNil(t.tooltip)||!1!==t.tooltip){var e=this.get("tooltipController");e.options=t.tooltip||{},e.renderTooltip()}},n.getAllGeoms=function(){var t=[];t=t.concat(this.get("geoms"));var e=this.get("views");return i.each(e,function(e){t=t.concat(e.get("geoms"))}),t},n.forceFit=function(){if(this&&!this.destroyed){var t=this.get("container"),e=this.get("width"),n=s.getWidth(t,e);if(0!==n&&n!==e){var r=this.get("height");this.changeSize(n,r)}return this}},n.resetPlot=function(){var t=this.get("plot"),e=this.get("padding");r(e,t.get("padding"))||(t.set("padding",e),t.repaint())},n.changeSize=function(t,e){this.get("canvas").changeSize(t,e);var n=this.get("plot");return this.set("width",t),this.set("height",e),n.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},n.changeWidth=function(t){return this.changeSize(t,this.get("height"))},n.changeHeight=function(t){return this.changeSize(this.get("width"),t)},n.view=function(t){(t=t||{}).theme=this.get("theme"),t.parent=this,t.backPlot=this.get("backPlot"),t.middlePlot=this.get("middlePlot"),t.frontPlot=this.get("frontPlot"),t.canvas=this.get("canvas"),i.isNil(t.animate)&&(t.animate=this.get("animate")),t.options=i.mix({},this._getSharedOptions(),t.options);var e=new a(t);return e.set("_id","view"+this.get("views").length),this.get("views").push(e),this.emit("addview",{view:e}),e},n.removeView=function(t){var e=this.get("views");i.Array.remove(e,t),t.destroy()},n._getSharedOptions=function(){var t=this.get("options"),e={};return i.each(["scales","coord","axes"],function(n){e[n]=i.cloneDeep(t[n])}),e},n.getViewRegion=function(){var t=this.get("plotRange");return{start:t.bl,end:t.tr}},n.legend=function(t,e){var n=this.get("options");n.legends||(n.legends={});var r={};return!1===t?n.legends=!1:i.isObject(t)?r=t:i.isString(t)?r[t]=e:r=e,i.mix(n.legends,r),this},n.tooltip=function(t,e){var n=this.get("options");return n.tooltip||(n.tooltip={}),!1===t?n.tooltip=!1:i.isObject(t)?i.mix(n.tooltip,t):i.mix(n.tooltip,e),this},n.clear=function(){this.emit("beforeclear");for(var e=this.get("views");e.length>0;)e.shift().destroy();t.prototype.clear.call(this);var n=this.get("canvas");return this.resetPlot(),n.draw(),this.emit("afterclear"),this},n.clearInner=function(){var e=this.get("views");i.each(e,function(t){t.clearInner()});var n=this.get("tooltipController");if(n&&n.clear(),!this.get("keepLegend")){var r=this.get("legendController");r&&r.clear()}t.prototype.clearInner.call(this)},n.drawComponents=function(){t.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},n.render=function(){if(!this.get("keepPadding")&&this._isAutoPadding()){this.beforeRender(),this.drawComponents();var e=this._getAutoPadding(),n=this.get("plot");r(n.get("padding"),e)||(n.set("padding",e),n.repaint())}var a=this.get("middlePlot");if(this.get("limitInPlot")&&!a.attr("clip")){var o=i.getClipByRange(this.get("plotRange"));a.attr("clip",o)}t.prototype.render.call(this),this._renderTooltips()},n.repaint=function(){this.get("keepPadding")||this.resetPlot(),t.prototype.repaint.call(this)},n.changeVisible=function(t){this.get("wrapperEl").style.display=t?"":"none"},n.toDataURL=function(){var t=this.get("canvas"),e=this.get("renderer"),n=t.get("el"),r="";if("svg"===e){var i=n.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),o=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a);o.replaceChild(i,o.documentElement);var s=(new XMLSerializer).serializeToString(o);r="data:image/svg+xml;charset=utf8,"+encodeURIComponent(s)}else"canvas"===e&&(r=n.toDataURL("image/png"));return r},n.downloadImage=function(t){var e=this,n=document.createElement("a"),r=e.get("renderer"),i=(t||"chart")+("svg"===r?".svg":".png");e.get("canvas").get("timeline").stopAllAnimations(),setTimeout(function(){var t=e.toDataURL();if(window.Blob&&window.URL&&"svg"!==r){for(var a=t.split(","),o=a[0].match(/:(.*?);/)[1],s=atob(a[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,i):n.addEventListener("click",function(){n.download=i,n.href=window.URL.createObjectURL(c)})}else n.addEventListener("click",function(){n.download=i,n.href=t});var h=document.createEvent("MouseEvents");h.initEvent("click",!1,!1),n.dispatchEvent(h)},16)},n.showTooltip=function(t){var e=this.getViewsByPoint(t);return e.length&&this.get("tooltipController").showTooltip(t,e),this},n.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},n.getTooltipItems=function(t){var e=this.getViewsByPoint(t),n=[];return i.each(e,function(e){var r=e.get("geoms");i.each(r,function(e){var r=e.get("dataArray"),a=[];i.each(r,function(n){var r=e.findPoint(t,n);if(r){var i=e.getTipItems(r);a=a.concat(i)}}),n=n.concat(a)})}),n},n.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var e=this.get("canvas"),n=this.get("wrapperEl");n.parentNode.removeChild(n),t.prototype.destroy.call(this),e.destroy(),window.removeEventListener("resize",i.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},e}(a);t.exports=p},function(t,e,n){var r=n(53),i=n(0),a=function(t){function e(e){var n,r={visible:!0},a=(n=t.call(this)||this).getDefaultCfg();return n._attrs=r,i.assign(r,a,e),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{}},n.get=function(t){return this._attrs[t]},n.set=function(t,e){this._attrs[t]=e},n.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},n.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},n.changeVisible=function(){},n.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},e}(r);t.exports=a},function(t,e,n){function r(t,e,n,r){return t[r]+(e[r]-t[r])*n}function i(t){return"#"+a(t[0])+a(t[1])+a(t[2])}function a(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t}function o(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var s=n(9),u=n(10),l=n(2),c=/rgba?\(([\s.,0-9]+)\)/,h={},f=null,d={toRGB:function(t){return"#"===t[0]&&7===t.length?t:(f||(f=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),h[t]?e=h[t]:(f.style.color=t,e=document.defaultView.getComputedStyle(f,"").getPropertyValue("color"),e=i(c.exec(e)[1].split(/\s*,\s*/)),h[t]=e),e);var e},rgb2arr:o,gradient:function(t){var e=[];return u(t)&&(t=t.split("-")),l(t,function(t){-1===t.indexOf("#")&&(t=d.toRGB(t)),e.push(o(t))}),function(t){return function(t,e){(isNaN(e)||!s(e)||e<0)&&(e=0),e>1&&(e=1);var n=t.length-1,a=Math.floor(n*e),o=n*e-a,u=t[a],l=a===n?u:t[a+1];return i([r(u,l,o,0),r(u,l,o,1),r(u,l,o,2)])}(e,t)}}};t.exports=d},function(t,e,n){var r=n(2),i={values:n(64)};t.exports={isAdjust:function(t){return this.adjustNames.indexOf(t)>=0},_getDimValues:function(t){var e={},n=[];return this.xField&&this.isAdjust("x")&&n.push(this.xField),this.yField&&this.isAdjust("y")&&n.push(this.yField),r(n,function(n){var r=i.values(t,n);r.sort(function(t,e){return t-e}),e[n]=r}),!this.yField&&this.isAdjust("y")&&(e.y=[0,1]),e},adjustData:function(t,e){var n=this,i=n._getDimValues(e);r(t,function(e,a){r(i,function(r,i){n.adjustDim(i,r,e,t.length,a)})})},getAdjustRange:function(t,e,n){var r,i,a=n.indexOf(e),o=n.length;return!this.yField&&this.isAdjust("y")?(r=0,i=1):o>1?(r=0===a?n[0]:n[a-1],i=a===o-1?n[o-1]:n[a+1],0!==a?r+=(e-r)/2:r-=(i-e)/2,a!==o-1?i-=(i-e)/2:i+=(e-n[o-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},groupData:function(t,e){var n={};return r(t,function(t){var r=t[e];void 0===r&&(r=t[e]=0),n[r]||(n[r]=[]),n[r].push(t)}),n}}},function(t,e,n){var r={default:n(152),dark:n(304)};t.exports=r},function(t,e){var n,r,i='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',a={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:i,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:i}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:i}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:i}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:i}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:i}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:i}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:i},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:i},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:i},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:i},unCheckColor:"#bfbfbf"},html:(n={},n["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:i,lineHeight:"20px",color:"#8C8C8C"},n["g2-legend-title"]={marginBottom:"4px"},n["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},n["g2-legend-list-item"]={cursor:"pointer",marginBottom:"5px",marginRight:"24px"},n["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},n),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:i},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(r={useHtml:!0,crosshairs:!1,offset:15},r["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:i,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={marginBottom:"4px"},r["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r),tooltipMarker:{symbol:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:i,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:i}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};t.exports=a},function(t,e,n){var r=n(25).Group,i=n(3),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},n._renderUI=function(){t.prototype._renderUI.call(this),this._drawLines()},n._drawLines=function(){var t=this.get("lineStyle"),e=this.get("items");e&&e.length&&(this._precessItems(e),this._drawGridLines(e,t))},n._precessItems=function(t){var e,n=this;i.each(t,function(t,r){e&&n.get("alternateColor")&&n._drawAlternativeBg(t,e,r),e=t})},n._drawGridLines=function(t,e){var n,r,a,o,s=this,u=this.get("type"),l=t.length;i.each(t,"line"===u||"polygon"===u?function(t,c){s.get("hideFirstLine")&&0===c||s.get("hideLastLine")&&c===l-1||(o=t.points,r=[],"line"===u?(r.push(["M",o[0].x,o[0].y]),r.push(["L",o[o.length-1].x,o[o.length-1].y])):i.each(o,function(t,e){r.push(0===e?["M",t.x,t.y]:["L",t.x,t.y])}),a=s._drawZeroLine(u,c)?i.mix({},s.get("zeroLineStyle"),{path:r}):i.mix({},e,{path:r}),(n=s.addShape("path",{attrs:a})).name="axis-grid",n._id=t._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))}:function(t,u){s.get("hideFirstLine")&&0===u||s.get("hideLastLine")&&u===l-1||(r=[],i.each(o=t.points,function(t,e){var n=t.radius;r.push(0===e?["M",t.x,t.y]:["A",n,n,0,0,t.flag,t.x,t.y])}),a=i.mix({},e,{path:r}),(n=s.addShape("path",{attrs:a})).name="axis-grid",n._id=t._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))})},n._drawZeroLine=function(t,e){var n=this.get("tickValues");return!("line"!==t||!n||0!==n[e]||!this.get("hightLightZero"))},n._drawAlternativeBg=function(t,e,n){var r,a,o,s=this.get("alternateColor");i.isString(s)?a=s:i.isArray(s)&&(a=s[0],o=s[1]),n%2==0?o&&(r=this._getBackItem(e.points,t.points,o)):a&&(r=this._getBackItem(e.points,t.points,a));var u=this.addShape("Path",{attrs:r});u.name="axis-grid-rect",u._id=t._id&&t._id.replace("grid","grid-rect"),u.set("coord",this.get("coord")),this.get("appendInfo")&&u.setSilent("appendInfo",this.get("appendInfo"))},n._getBackItem=function(t,e,n){var r=[],a=this.get("type");if("line"===a)r.push(["M",t[0].x,t[0].y]),r.push(["L",t[t.length-1].x,t[t.length-1].y]),r.push(["L",e[e.length-1].x,e[e.length-1].y]),r.push(["L",e[0].x,e[0].y]),r.push(["Z"]);else if("polygon"===a){i.each(t,function(t,e){r.push(0===e?["M",t.x,t.y]:["L",t.x,t.y])});for(var o=e.length-1;o>=0;o--)r.push(["L",e[o].x,e[o].y]);r.push(["Z"])}else{var s=t[0].flag;i.each(t,function(t,e){var n=t.radius;r.push(0===e?["M",t.x,t.y]:["A",n,n,0,0,t.flag,t.x,t.y])});for(var u=e.length-1;u>=0;u--){var l=e[u],c=l.radius;r.push(u===e.length-1?["M",l.x,l.y]:["A",c,c,0,0,1===s?0:1,l.x,l.y])}}return{fill:n,path:r}},e}(r);t.exports=a},function(t,e,n){var r=n(3),i=r.DomUtil,a=n(32),o={scatter:n(307),map:n(308),treemap:n(309)},s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},n.clear=function(){var e=this.get("group"),n=this.get("container");e&&!e.get("destroyed")&&e.clear(),n&&(n.innerHTML=""),t.prototype.clear.call(this)},n.destroy=function(){var t=this.get("group"),e=this.get("container");t.destroy||t.destroy(),e&&(e.innerHTML="")},n.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},n._dryDraw=function(){var t=this,e=t.get("items"),n=t.getLabels(),i=n.length;r.each(e,function(e,r){if(r<i)t.changeLabel(n[r],e);else{var a=t._addLabel(e,r);a&&(a._id=e._id,a.set("coord",e.coord))}});for(var a=i-1;a>=e.length;a--)n[a].remove();t._adjustLabels(),!t.get("labelLine")&&t.get("config")||t.drawLines()},n.draw=function(){this._dryDraw(),this.get("canvas").draw()},n.changeLabel=function(t,e){if(t)if(t.tagName){var n=this._createDom(e);t.innerHTML=n.innerHTML,this._setCustomPosition(e,t)}else t._id=e._id,t.attr("text",e.text),t.attr("x")===e.x&&t.attr("y")===e.y||(t.resetMatrix(),e.textStyle.rotate&&(t.rotateAtStart(e.textStyle.rotate),delete e.textStyle.rotate),t.attr(e))},n.show=function(){var t=this.get("group"),e=this.get("container");t&&t.show(),e&&(e.style.opacity=1)},n.hide=function(){var t=this.get("group"),e=this.get("container");t&&t.hide(),e&&(e.style.opacity=0)},n.drawLines=function(){var t=this;"boolean"==typeof t.get("labelLine")&&t.set("labelLine",{});var e=t.get("lineGroup");!e||e.get("destroyed")?(e=t.get("group").addGroup({elCls:"x-line-group"}),t.set("lineGroup",e)):e.clear(),r.each(t.get("items"),function(n){t.lineToLabel(n,e)})},n.lineToLabel=function(t,e){if(this.get("config")||t.labelLine){var n=t.labelLine||this.get("labelLine"),i=void 0===t.capture?this.get("capture"):t.capture,a=n.path;if(a&&r.isFunction(n.path)&&(a=n.path(t)),!a){var o=t.start||{x:t.x-t._offset.x,y:t.y-t._offset.y};a=[["M",o.x,o.y],["L",t.x,t.y]]}var s=t.color;s||(s=t.textStyle&&t.textStyle.fill?t.textStyle.fill:"#000");var u=e.addShape("path",{attrs:r.mix({path:a,fill:null,stroke:s},n),capture:i});u.name=this.get("name"),u._id=t._id&&t._id.replace("glabel","glabelline"),u.set("coord",this.get("coord"))}},n._adjustLabels=function(){var t=this.get("type"),e=this.getLabels(),n=this.get("shapes"),r=o[t];"default"!==t&&r&&r(e,n)},n.getLabels=function(){var t=this.get("container");return t?r.toArray(t.childNodes):this.get("group").get("children")},n._addLabel=function(t,e){var n=t;return this.get("config")&&(n=this._getLabelCfg(t,e)),this._createText(n)},n._getLabelCfg=function(t,e){var n=this.get("textStyle")||{},i=this.get("formatter"),a=this.get("htmlTemplate");if(!r.isObject(t)){var o=t;(t={}).text=o}return r.isFunction(n)&&(n=n(t.text,t,e)),i&&(t.text=i(t.text,t,e)),a&&(t.useHtml=!0,r.isFunction(a)&&(t.text=a(t.text,t,e))),r.isNil(t.text)&&(t.text=""),t.text=t.text+"",r.mix({},t,{textStyle:n},{x:t.x||0,y:t.y||0})},n._init=function(){if(!this.get("group")){var t=this.get("canvas").addGroup({id:"label-group"});this.set("group",t)}},n.initHtmlContainer=function(){var t=this.get("container");if(t)r.isString(t)&&(t=document.getElementById(t))&&this.set("container",t);else{var e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;t=i.createDom(e),n.style.position="relative",n.appendChild(t),this.set("container",t)}return t},n._createText=function(t){var e,n=r.deepMix({},t),i=this.get("container"),a=void 0===n.capture?this.get("capture"):n.capture;if(!n.useHtml&&!n.htmlTemplate){var o=this.get("name"),s=n.point,u=this.get("group");delete n.point;var l=n.rotate;return n.textStyle&&(n.textStyle.rotate&&(l=n.textStyle.rotate,delete n.textStyle.rotate),n=r.mix({x:n.x,y:n.y,textAlign:n.textAlign,text:n.text},n.textStyle)),e=u.addShape("text",{attrs:n,capture:a}),l&&(Math.abs(l)>2*Math.PI&&(l=l/180*Math.PI),e.transform([["t",-n.x,-n.y],["r",l],["t",n.x,n.y]])),e.setSilent("origin",s||n),e.name=o,this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),e}i||(i=this.initHtmlContainer());var c=this._createDom(n);i.appendChild(c),this._setCustomPosition(n,c)},n._createDom=function(t){var e=this.get("itemTpl"),n=r.substitute(e,{text:t.text});return i.createDom(n)},n._setCustomPosition=function(t,e){var n=t.textAlign||"left",r=t.y,a=t.x,o=i.getOuterWidth(e);r-=i.getOuterHeight(e)/2,"center"===n?a-=o/2:"right"===n&&(a-=o),e.style.top=parseInt(r,10)+"px",e.style.left=parseInt(a,10)+"px"},e}(a);t.exports=s},function(t,e){var n=function(){function t(){this.bitmap=[]}var e=t.prototype;return e.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.floor(t.minX),i=Math.ceil(t.maxX),a=Math.floor(t.minY),o=Math.ceil(t.maxY)-1,s=r;s<i;s++)if(n[s]){if(s===r||s===i-1){for(var u=a;u<=o;u++)if(n[s][u]){e=!1;break}}else if(n[s][a]||n[s][o]){e=!1;break}}else n[s]=[];return e},e.fillGap=function(t){for(var e=this.bitmap,n=Math.floor(t.minX),r=Math.ceil(t.maxX)-1,i=Math.floor(t.minY),a=Math.ceil(t.maxY)-1,o=n;o<=r;o++){for(var s=i;s<a;s+=8)e[o]||(e[o]=[]),e[o][s]=!0;e[o][a]=!0}for(var u=i;u<=a;u++)e[n][u]=!0,e[r][u]=!0},t}();t.exports=n},function(t,e,n){var r=n(3);t.exports={getFirstScale:function(t){var e;return r.each(t,function(t){if(t)return e=t,!1}),e}}},function(t,e,n){function r(t,e){var n=null,r=e instanceof l||"legendGroup"===e.name?e.get("value"):e;return a.each(t,function(t){if(t.value===r)return n=t,!1}),n}function i(t,e){return t.findBy(function(t){return t.name===e})}var a=n(3),o=n(158),s=n(14).FONT_FAMILY,u=a.Event,l=a.Group,c=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return a.mix({},e,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:s},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},n.render=function(){t.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},n._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",a.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",a.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",a.wrapBehavior(this,"_onClick"))},n._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},n.activate=function(t){var e=this,n=this,r=void 0;n.get("itemsGroup").get("children").forEach(function(a){if(r=i(a,"legend-marker")){var o=a.get("checked");e.get("highlight")?a.get("value")===t&&o?r.attr("stroke","#333"):r.attr("stroke",null):a.get("value")===t&&r.attr("fillOpacity",n.get("activeOpacity"))}}),this.get("canvas").draw()},n.deactivate=function(){var t=this,e=this,n=e.get("itemsGroup").get("children"),r=void 0,a=this.get("unCheckColor");n.forEach(function(n){if(r=i(n,"legend-marker"))if(t.get("highlight")){var o=r.get("oriStroke"),s=n.get("checked");r.attr("stroke",o=o&&!s?a:"")}else r.attr("fillOpacity",e.get("inactiveOpacity"))}),this.get("canvas").draw()},n._onMousemove=function(t){var e=this._getLegendItem(t.currentTarget);if(e&&e.get("checked")){var n=this.get("items"),i=new u("itemhover",t,!0,!0);i.item=r(n,e),i.checked=e.get("checked"),i.currentTarget=t.currentTarget,this.deactivate(),this.activate(e.get("value")),this.emit("itemhover",i)}else this.deactivate(),this.emit("itemunhover",t);this.get("canvas").draw()},n._onMouseleave=function(t){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",t)},n._onClick=function(t){var e=this._getLegendItem(t.currentTarget),n=this.get("items");if(e&&!e.get("destroyed")){var o=e.get("checked"),s=this.get("selectedMode"),l=r(n,e),c=new u("itemclick",t,!0,!0);if(c.item=l,c.currentTarget=e,c.appendInfo=t.currentTarget.get("appendInfo"),c.checked="single"===s||!o,!this.get("allowAllCanceled")&&o&&1===this.getCheckedCount())return void this.emit("clicklastitem",c);var h=this.get("unCheckColor"),f=this.get("textStyle").fill,d=void 0,p=void 0,g=void 0;if("single"===s){var v=this.get("itemsGroup").get("children");a.each(v,function(t){d=i(t,"legend-marker"),p=i(t,"legend-text"),g=i(t,"legend-item"),t!==e?(d.attr("fill")&&d.attr("fill",h),d.attr("stroke")&&d.attr("stroke",h),p.attr("fill",h),d.setSilent("checked",!1),p.setSilent("checked",!1),g.setSilent("checked",!1),t.setSilent("checked",!1)):(d.attr("fill")&&l&&l.marker&&d.attr("fill",l.marker.fill),d.attr("stroke")&&l&&l.marker&&d.attr("stroke",l.marker.stroke),p.attr("fill",f),d.setSilent("checked",!0),p.setSilent("checked",!0),g.setSilent("checked",!0),t.setSilent("checked",!0))})}else d=i(e,"legend-marker"),p=i(e,"legend-text"),g=i(e,"legend-item"),d.attr("fill")&&l&&l.marker&&d.attr("fill",o?h:l.marker.fill),d.attr("stroke")&&l&&l.marker&&d.attr("stroke",o?h:l.marker.stroke),p.attr("fill",o?h:f),e.setSilent("checked",!o),d.setSilent("checked",!o),p.setSilent("checked",!o),g.setSilent("checked",!o);this.emit("itemclick",c)}this.get("canvas").draw()},n._renderItems=function(){var t=this,e=this.get("items");if(this.get("reversed")&&e.reverse(),a.each(e,function(e,n){t._addItem(e,n)}),this.get("highlight")){var n=void 0;this.get("itemsGroup").get("children").forEach(function(t){(n=i(t,"legend-marker")).get("oriStroke")||(n.attr("stroke")?n.set("oriStroke",n.attr("stroke")):n.set("oriStroke",""))})}},n._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},n._getNextX=function(){var t=this.get("layout"),e=this.get("itemGap"),n=this.get("itemsGroup"),r=this.get("itemWidth"),i=n.get("children"),o=0;return"horizontal"===t&&a.each(i,function(t){o+=(r||t.getBBox().width)+e}),o},n._getNextY=function(){var t=this.get("itemMarginBottom"),e=this.get("titleShape")?this.get("titleGap"):0,n=this.get("layout"),r=this.get("itemsGroup"),i=this.get("titleShape"),o=r.get("children"),s=e;return i&&(s+=i.getBBox().height),"vertical"===n&&a.each(o,function(e){s+=e.getBBox().height+t}),s},n._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),r=this._getNextY(),i=this.get("unCheckColor"),o=e.addGroup({x:n,y:r,value:t.value,checked:t.checked});o.set("viewId",this.get("viewId"));var u=this.get("textStyle"),l=this.get("_wordSpaceing"),c=0;if(t.marker){var h=a.mix({},t.marker,{x:t.marker.radius+n,y:r});t.checked||(h.fill&&(h.fill=i),h.stroke&&(h.stroke=i));var f=o.addShape("marker",{type:"marker",attrs:h});f.attr("cursor","pointer"),f.name="legend-marker",c+=f.getBBox().width+l}var d=a.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:s},u,{x:c+n,y:r,text:this._formatItemValue(t.value)});t.checked||a.mix(d,{fill:i});var p=o.addShape("text",{attrs:d});p.attr("cursor","pointer"),p.name="legend-text",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo"));var g=o.getBBox(),v=this.get("itemWidth"),m=o.addShape("rect",{attrs:{x:n,y:r-g.height/2,fill:"#fff",fillOpacity:0,width:v||g.width,height:g.height}});return m.attr("cursor","pointer"),m.setSilent("origin",t),m.name="legend-item",this.get("appendInfo")&&m.setSilent("appendInfo",this.get("appendInfo")),o.name="legendGroup",o},n._adjustHorizontal=function(){var t=this.get("itemsGroup"),e=t.get("children"),n=this.get("maxLength"),r=this.get("itemGap"),i=this.get("itemMarginBottom"),o=this.get("titleShape")?this.get("titleGap"):0,s=0,u=0,l=void 0,c=void 0,h=this.get("itemWidth");t.getBBox().width>n&&a.each(e,function(t){c=t.getBBox(),n-u<(l=h||c.width)&&(s++,u=0),t.move(u,s*(c.height+i)+o),u+=l+r})},n._adjustVertical=function(){var t=this.get("itemsGroup"),e=this.get("titleShape"),n=t.get("children"),r=this.get("maxLength"),i=this.get("itemGap"),o=this.get("itemMarginBottom"),s=this.get("titleGap"),u=e?e.getBBox().height+s:0,l=this.get("itemWidth"),c=u,h=void 0,f=void 0,d=void 0,p=0,g=0;t.getBBox().height>r&&a.each(n,function(t){d=t.getBBox(),h=d.width,l?p=l+i:h>p&&(p=h+i),r-c<(f=d.height)?(c=u,t.move(g+=p,u)):t.move(g,c),c+=f+o})},n._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},n.getWidth=function(){return t.prototype.getWidth.call(this)},n.getHeight=function(){return t.prototype.getHeight.call(this)},n.move=function(e,n){t.prototype.move.call(this,e,n)},e}(o);t.exports=c},function(t,e,n){var r=n(3),i=n(32),a=n(14).FONT_FAMILY,o=function(t){function e(e){var n;return(n=t.call(this,e)||this)._init(),n.beforeRender(),n.render(),n._adjustPositionOffset(),n._bindEvents(),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},n._init=function(){var t=this.get("group"),e=this.get("container");this.set("canvas",e.get("canvas"));var n=this.get("position");t||(t=e.addGroup({x:0-n[0],y:0-n[1]})),this.set("group",t)},n._adjustPositionOffset=function(){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),i=this.get("offsetY");r.isArray(e)||(e="vertical"===this.get("layout")?[e,0]:[0,e]),n&&(e[0]=n),i&&(e[1]=i);var a=this.get("group").getBBox();this.move(-a.minX+t[0]+e[0],-a.minY+t[1]+e[1])},n.beforeRender=function(){var t=this.get("group").addGroup();this.set("itemsGroup",t)},n.render=function(){this._renderTitle()},n._renderTitle=function(){var t=this.get("title"),e=this.get("titleGap");if(e=e||0,t&&t.text){var n=this.get("group").addShape("text",{attrs:r.mix({x:0,y:0-e,fill:"#333",textBaseline:"middle",fontFamily:a},t)});n.name="legend-title",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",n)}},n.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return r.filter(t,function(t){return t.get("checked")}).length},n.setItems=function(t){this.set("items",t),this.clear(),this.render()},n.addItem=function(t){this.get("items").push(t),this.clear(),this.render()},n.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},n.destroy=function(){this.get("group").destroy(),this._attrs={},this.removeAllListeners(),this.destroyed=!0},n.getWidth=function(){return this.get("group").getBBox().width},n.getHeight=function(){return this.get("group").getBBox().height},n.move=function(t,e){this.get("group").move(t,e)},n.draw=function(){this.get("canvas").draw()},e}(i);t.exports=o},function(t,e,n){function r(t,e){return t.getElementsByClassName(e)[0]}function i(t,e){var n=t.className;return o.isNil(n)?t:(n=n.split(" ")).indexOf(e)>-1?t:t.parentNode?t.parentNode.className===h?t.parentNode:i(t.parentNode,e):null}function a(t,e){var n=null,r=e instanceof c?e.get("value"):e;return o.each(t,function(t){if(t.value===r)return n=t,!1}),n}var o=n(3),s=n(157),u=n(14).FONT_FAMILY,l=o.DomUtil,c=o.Group,h="g2-legend",f="g2-legend-list",d="g2-legend-list-item",p="g2-legend-marker",g=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{type:"category-legend",container:null,containerTpl:'<div class="'+h+'"><h4 class="g2-legend-title"></h4><ul class="'+f+'"></ul></div>',itemTpl:'<li class="'+d+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+p+'" style="background-color:{color};"></i><span class="g2-legend-text">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:u},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},n._init=function(){},n.beforeRender=function(){},n.render=function(){this._renderHTML()},n._bindEvents=function(){var t=this,e=r(this.get("legendWrapper"),f);this.get("hoverable")&&(e.onmousemove=function(e){return t._onMousemove(e)},e.onmouseout=function(e){return t._onMouseleave(e)}),this.get("clickable")&&(e.onclick=function(e){return t._onClick(e)})},n._onMousemove=function(t){var e=this.get("items"),n=t.target,r=n.className;if(!((r=r.split(" ")).indexOf(h)>-1||r.indexOf(f)>-1)){var o=i(n,d),s=a(e,o.getAttribute("data-value"));s?(this.deactivate(),this.activate(o.getAttribute("data-value")),this.emit("itemhover",{item:s,currentTarget:o,checked:s.checked})):s||(this.deactivate(),this.emit("itemunhover",t))}},n._onMouseleave=function(t){this.deactivate(),this.emit("itemunhover",t)},n._onClick=function(t){var e=this,n=r(this.get("legendWrapper"),f),s=this.get("unCheckColor"),u=this.get("items"),l=this.get("selectedMode"),c=n.childNodes,g=t.target,v=g.className;if(!((v=v.split(" ")).indexOf(h)>-1||v.indexOf(f)>-1)){var m=i(g,d),y=r(m,"g2-legend-text"),x=r(m,p),b=a(u,m.getAttribute("data-value"));if(b){var _=m.className,w=m.getAttribute("data-color");if("single"===l)b.checked=!0,o.each(c,function(t){t!==m?(r(t,p).style.backgroundColor=s,t.className=t.className.replace("checked","unChecked"),t.style.color=s,a(u,t.getAttribute("data-value")).checked=!1):(y&&(y.style.color=e.get("textStyle").fill),x&&(x.style.backgroundColor=w),m.className=_.replace("unChecked","checked"))});else{var S=-1!==_.indexOf("checked"),M=0;if(o.each(c,function(t){-1!==t.className.indexOf("checked")&&M++}),!this.get("allowAllCanceled")&&S&&1===M)return void this.emit("clicklastitem",{item:b,currentTarget:m,checked:"single"===l||b.checked});b.checked=!b.checked,S?(x&&(x.style.backgroundColor=s),m.className=_.replace("checked","unChecked"),m.style.color=s):(x&&(x.style.backgroundColor=w),m.className=_.replace("unChecked","checked"),m.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:b,currentTarget:m,checked:"single"===l||b.checked})}}},n.activate=function(t){var e=this,n=this,i=n.get("items"),o=a(i,t);r(n.get("legendWrapper"),f).childNodes.forEach(function(t){var s=r(t,p),u=a(i,t.getAttribute("data-value"));if(e.get("highlight")){if(u===o&&u.checked)return void(s.style.border="1px solid #333")}else u===o?s.style.opacity=n.get("activeOpacity"):u.checked&&(s.style.opacity=n.get("inactiveOpacity"))})},n.deactivate=function(){var t=this,e=this;r(e.get("legendWrapper"),f).childNodes.forEach(function(n){var i=r(n,p);t.get("highlight")?i.style.border="1px solid #fff":i.style.opacity=e.get("inactiveOpacity")})},n._renderHTML=function(){var t=this,e=this.get("container"),n=this.get("title"),i=this.get("containerTpl"),a=l.createDom(i),s=r(a,"g2-legend-title"),c=r(a,f),g=this.get("unCheckColor"),v=o.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:u,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:u},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(e)||"string"==typeof e&&e.constructor===String){var m=e.replace("#","");(e=document.getElementById(m)).appendChild(a)}else{var y,x=this.get("position");y="left"===x||"right"===x?{maxHeight:(this.get("maxLength")||e.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||e.offsetWidth)+"px"},l.modifyCSS(a,o.mix({},v.CONTAINER_CLASS,y,this.get(h))),e.appendChild(a)}l.modifyCSS(c,o.mix({},v.LIST_CLASS,this.get(f))),s&&(n&&n.text?(s.innerHTML=n.text,l.modifyCSS(s,o.mix({},v.TITLE_CLASS,this.get("g2-legend-title"),n))):a.removeChild(s));var b=this.get("items"),_=this.get("itemTpl"),w=this.get("position"),S=this.get("layout"),M=o.mix({},v.LIST_ITEM_CLASS,{display:"right"===w||"left"===w||"vertical"===S?"block":"inline-block"},this.get(d)),O=o.mix({},v.MARKER_CLASS,this.get(p));if(o.each(b,function(e,n){var i,s=e.checked,u=t._formatItemValue(e.value),h=e.marker.fill||e.marker.stroke,f=s?h:g;i=o.isFunction(_)?_(u,f,s,n):_;var d=o.substitute(i,o.mix({},e,{index:n,checked:s?"checked":"unChecked",value:u,color:f,originColor:h,originValue:e.value.replace(/\"/g,"&quot;")})),v=l.createDom(d);v.style.color=t.get("textStyle").fill;var m=r(v,p),y=r(v,"g2-legend-text");if(l.modifyCSS(v,M),m&&l.modifyCSS(m,O),s||(v.style.color=g,m&&(m.style.backgroundColor=g)),c.appendChild(v),t.get("abridgeText")){var x=u,b=v.offsetWidth,w=t.get("textStyle").fontSize;isNaN(w)&&(-1!==w.indexOf("pt")?w=1*parseFloat(w.substr(0,w.length-2))/72*96:-1!==w.indexOf("px")&&(w=parseFloat(w.substr(0,w.length-2))));var S=w*x.length,C=Math.floor(b/w);b<2*w?x="":b<S&&C>1&&(x=x.substr(0,C-1)+"..."),y.innerText=x,v.addEventListener("mouseover",function(){var t=r(a.parentNode,"textTip");t.style.display="block",t.style.left=v.offsetLeft+v.offsetWidth+"px",t.style.top=v.offsetTop+15+"px",t.innerText=u}),v.addEventListener("mouseout",function(){r(a.parentNode,"textTip").style.display="none"})}}),this.get("abridgeText")){var C=this.get("tipTpl"),A=l.createDom(C),I=this.get("tipStyle");l.modifyCSS(A,I),a.parentNode.appendChild(A),A.addEventListener("mouseover",function(){A.style.display="none"})}this.set("legendWrapper",a)},n._adjustPositionOffset=function(){if(!1!==this.get("autoPosition")){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),r=this.get("offsetY");n&&(e[0]=n),r&&(e[1]=r);var i=this.get("legendWrapper");i.style.left=t[0]+"px",i.style.top=t[1]+"px",i.style.marginLeft=e[0]+"px",i.style.marginTop=e[1]+"px"}},n.getWidth=function(){return l.getOuterWidth(this.get("legendWrapper"))},n.getHeight=function(){return l.getOuterHeight(this.get("legendWrapper"))},n.move=function(e,n){/^\#/.test(this.get("container"))?t.prototype.move.call(this,e,n):(l.modifyCSS(this.get("legendWrapper"),{left:e+"px",top:n+"px"}),this.set("x",e),this.set("y",n))},n.destroy=function(){var t=this.get("legendWrapper");t&&t.parentNode&&t.parentNode.removeChild(t)},e}(s);t.exports=g},function(t,e,n){var r=n(32),i=n(3),a=function(t){function e(e){var n;return(n=t.call(this,e)||this)._init_(),n.render(),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},n._init_=function(){var t,e=this.get("plot");t="rect"===this.type?e.addGroup({zIndex:0}):e.addGroup(),this.set("container",t)},n._addLineShape=function(t,e){var n=this.get("container").addShape("line",{capture:!1,attrs:t});return this.set("crossLineShape"+e,n),n},n._renderHorizontalLine=function(t,e){var n=i.mix(this.get("lineStyle"),this.get("style")),r=i.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},n);this._addLineShape(r,"X")},n._renderVerticalLine=function(t,e){var n=i.mix(this.get("lineStyle"),this.get("style")),r=i.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},n);this._addLineShape(r,"Y")},n._renderBackground=function(t,e){var n=i.mix(this.get("rectStyle"),this.get("style")),r=this.get("container"),a=i.mix({x:e?e.tl.x:0,y:e?e.tl.y:t.get("height"),width:e?e.br.x-e.bl.x:t.get("width"),height:e?Math.abs(e.tl.y-e.bl.y):t.get("height")},n),o=r.addShape("rect",{attrs:a,capture:!1});return this.set("crosshairsRectShape",o),o},n._updateRectShape=function(t){var e,n=this.get("crosshairsRectShape"),r=this.get("isTransposed"),a=t[0],o=t[t.length-1],s=r?"y":"x",u=r?"height":"width",l=a[s];if(t.length>1&&a[s]>o[s]&&(l=o[s]),this.get("width"))n.attr(s,l-this.get("crosshairs").width/2),n.attr(u,this.get("width"));else if(i.isArray(a.point[s])&&!a.size){var c=a.point[s][1]-a.point[s][0];n.attr(s,a.point[s][0]),n.attr(u,c)}else n.attr(s,l-(e=3*a.size/4)),n.attr(u,1===t.length?3*a.size/2:Math.abs(o[s]-a[s])+2*e)},n.render=function(){var t=this.get("canvas"),e=this.get("plotRange"),n=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(t,e);break;case"y":this._renderVerticalLine(t,e);break;case"cross":this._renderHorizontalLine(t,e),this._renderVerticalLine(t,e);break;case"rect":this._renderBackground(t,e);break;default:n?this._renderHorizontalLine(t,e):this._renderVerticalLine(t,e)}},n.show=function(){var e=this.get("container");t.prototype.show.call(this),e.show()},n.hide=function(){var e=this.get("container");t.prototype.hide.call(this),e.hide()},n.clear=function(){var e=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.prototype.clear.call(this),e.clear()},n.destroy=function(){var e=this.get("container");t.prototype.destroy.call(this),e.remove()},n.setPosition=function(t,e,n){var r=this.get("crossLineShapeX"),i=this.get("crossLineShapeY"),a=this.get("crosshairsRectShape");i&&!i.get("destroyed")&&i.move(t,0),r&&!r.get("destroyed")&&r.move(0,e),a&&!a.get("destroyed")&&this._updateRectShape(n)},e}(r);t.exports=a},function(t,e){t.exports={_calcTooltipPosition:function(t,e,n,r,i,a){var o=0,s=0,u=20;if(a){var l=a.getBBox();o=l.width,s=l.height,t=l.x,e=l.y,u=5}switch(n){case"inside":t=t+o/2-r/2,e=e+s/2-i/2;break;case"top":t=t+o/2-r/2,e=e-i-u;break;case"left":t=t-r-u,e=e+s/2-i/2;break;case"right":t=t+o+u,e=e+s/2-i/2;break;case"bottom":default:t=t+o/2-r/2,e=e+s+u}return[t,e]},_constraintPositionInBoundary:function(t,e,n,r,i,a){return t+n+20>i?t=(t-=n+20)<0?0:t:t+20<0?t=20:t+=20,e+r+20>a?e=(e-=r+20)<0?0:e:e+20<0?e=20:e+=20,[t,e]},_constraintPositionInPlot:function(t,e,n,r,i,a){return t+n>i.tr.x&&(t-=n+40),t<i.tl.x&&(t=i.tl.x),a||(e+r>i.bl.y&&(e-=r+40),e<i.tl.y&&(e=i.tl.y)),[t,e]}}},function(t,e,n){var r=n(3),i={setMarkers:function(t,e){var n=this.get("markerGroup"),i=this.get("frontPlot");n?n.clear():(n=i.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",n)),r.each(t,function(t){n.addShape("marker",{color:t.color,attrs:r.mix({fill:t.color,symbol:"circle",shadowColor:t.color},e,{x:t.x,y:t.y})})}),this.set("markerItems",t)},clearMarkers:function(){var t=this.get("markerGroup");t&&t.clear()}};t.exports=i},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(25),a=n(160),o=n(162),s=n(161),u=n(68),l=n(3),c=n(14).FONT_FAMILY,h=l.DomUtil,f=l.MatrixUtil,d=function(t){function e(e){var n;n=t.call(this,e)||this,l.assign(r(r(n)),s),l.assign(r(r(n)),o);var i=n.get("crosshairs");if(i){var u=n.get("rect"===i.type?"backPlot":"frontPlot"),c=new a(l.mix({plot:u,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));c.hide(),n.set("crosshairGroup",c)}return n._init_(),n.get("items")&&n.render(),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return l.mix({},e,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:c,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},n._init_=function(){var t=this.get("padding"),e=this.get("frontPlot"),n=e.addGroup({capture:!1});this.set("markerGroup",n);var r=e.addGroup();r.hide(),this.set("container",r);var i=r.addShape("rect",{attrs:l.mix({},this.get("boardStyle"))});this.set("board",i);var a=this.get("titleStyle");if(this.get("showTitle")){var o=r.addShape("text",{attrs:l.mix({x:t.left,y:t.top},a)});this.set("titleShape",o),o.name="tooltip-title"}var s=r.addGroup();s.move(t.left,t.top+a.lineHeight+a.padding),this.set("itemsGroup",s)},n.render=function(){var t=this;t.clear();var e=t.get("container"),n=t.get("board"),r=t.get("showTitle"),i=t.get("titleContent"),a=this.get("titleShape"),o=this.get("itemsGroup"),s=t.get("items"),u=t.get("padding");if(a&&r&&a.attr("text",i),o){var c=t.get("itemGap"),h=0;l.each(s,function(e){var n=t._addItem(e);n.move(0,h),o.add(n);var r=n.getBBox().height;h+=r+c})}var f=e.getBBox(),d=f.width+u.right,p=f.height+u.bottom;n.attr("width",d),n.attr("height",p),t._alignToRight(d)},n.clear=function(){var t=this.get("titleShape"),e=this.get("itemsGroup"),n=this.get("board");t.text="",e.clear(),n.attr("width",0),n.attr("height",0)},n.show=function(){this.get("container").show();var e=this.get("crosshairGroup");e&&e.show();var n=this.get("markerGroup");n&&n.show(),t.prototype.show.call(this),this.get("canvas").draw()},n.hide=function(){this.get("container").hide();var e=this.get("crosshairGroup");e&&e.hide();var n=this.get("markerGroup");n&&n.hide(),t.prototype.hide.call(this),this.get("canvas").draw()},n.destroy=function(){var e=this.get("container"),n=this.get("crosshairGroup");n&&n.destroy();var r=this.get("markerGroup");r&&r.remove(),t.prototype.destroy.call(this),e.remove()},n.setPosition=function(e,n,r){var i,a=this.get("container"),o=this.get("canvas").get("el"),s=h.getWidth(o),u=h.getHeight(o),c=a.getBBox(),d=c.width,p=c.height,g=e,v=n;if(this.get("position")){var m=c.width,y=c.height;e=(i=this._calcTooltipPosition(e,n,this.get("position"),m,y,r))[0],n=i[1]}else e=(i=this._constraintPositionInBoundary(e,n,d,p,s,u))[0],n=i[1];if(this.get("inPlot")){var x=this.get("plotRange");e=(i=this._constraintPositionInPlot(e,n,d,p,x,this.get("enterable")))[0],n=i[1]}var b=this.get("markerItems");l.isEmpty(b)||(g=b[0].x,v=b[0].y);var _=f.transform([1,0,0,0,1,0,0,0,1],[["t",e,n]]);a.stopAnimate(),a.animate({matrix:_},this.get("animationDuration"));var w=this.get("crosshairGroup");if(w){var S=this.get("items");w.setPosition(g,v,S)}t.prototype.setPosition.call(this,e,n)},n._addItem=function(t){var e=new i.Group,n=this.get("markerStyle").radius;if(t.marker){var r=l.mix({},t.marker,{x:t.marker.radius/2,y:0});e.addShape("marker",{attrs:r}),n=t.marker.radius}var a=this.get("nameStyle");e.addShape("text",{attrs:l.mix({x:n+a.padding,y:0,text:t.name},a)});var o=this.get("valueStyle");return e.addShape("text",{attrs:l.mix({x:e.getBBox().width+o.padding,y:0,text:t.value},o)}),e},n._alignToRight=function(t){var e=this,n=this.get("itemsGroup").get("children");l.each(n,function(n){var r=n.get("children")[2],i=r.getBBox().width,a=t-i-2*e.get("padding").right;r.attr("x",a)})},e}(u);t.exports=d},function(t,e,n){var r=n(65),i=n(22),a=n(0),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getPointRauis=function(t,e){return i.getPointRadius(t,e)},n.getCirclePoint=function(t,e,n){var r=this.get("coord"),i=r.getCenter(),a=this._isEmitLabels(),o=this.getPointRauis(r,n);return 0===o?null:(r.isTransposed&&o>e&&!a?t+=2*Math.asin(e/(2*o)):o+=e,{x:i.x+o*Math.cos(t),y:i.y+o*Math.sin(t),angle:t,r:o})},n.getArcPoint=function(t,e){var n;return e=e||0,n=a.isArray(t.x)||a.isArray(t.y)?{x:a.isArray(t.x)?t.x[e]:t.x,y:a.isArray(t.y)?t.y[e]:t.y}:t,this.transLabelPoint(n),n},n.getPointAngle=function(t){var e=this.get("coord");return i.getPointAngle(e,t)},n.getMiddlePoint=function(t){var e=this.get("coord"),n=t.length,r={x:0,y:0};return a.each(t,function(t){r.x+=t.x,r.y+=t.y}),r.x/=n,r.y/=n,r=e.convert(r)},n._isToMiddle=function(t){return t.x.length>2},n.getLabelPoint=function(t,e,n){var r,i=t.text[n],a=1;this._isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.text.length&&0===n?n=1:0===n&&(a=-1),r=this.getArcPoint(e,n));var o=this.getDefaultOffset(t);o*=a;var s=this.getPointAngle(r),u=this.getCirclePoint(s,o,r);if(u?(u.text=i,u.angle=s,u.color=e.color):u={text:""},t.autoRotate||void 0===t.autoRotate){var l=u.textStyle?u.textStyle.rotate:null;l||(l=u.rotate||this.getLabelRotate(s,o,e)),u.rotate=l}return u.start={x:r.x,y:r.y},u},n._isEmitLabels=function(){return this.get("label").labelEmit},n.getLabelRotate=function(t){var e;return e=180*t/Math.PI,e+=90,this._isEmitLabels()&&(e-=90),e&&(e>90?e-=180:e<-90&&(e+=180)),e/180*Math.PI},n.getLabelAlign=function(t){var e,n=this.get("coord");if(this._isEmitLabels())e=t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),i=this.getDefaultOffset(t);e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?i>0?"left":"right":i>0?"right":"left"}else e="center";return e},e}(r);t.exports=o},function(t,e,n){t.exports={Scale:n(341),Coord:n(342),Axis:n(347),Guide:n(348),Legend:n(351),Tooltip:n(353),Event:n(354)}},function(t,e,n){function r(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return a.vec3.transformMat3(r,r,e),{x:r[0],y:r[1]}}var i=n(16),a=n(0),o=n(167);t.exports=function(t,e){var n=e;return a.each(t.get("children"),function(t){if(t instanceof i.Group&&t.get("children").length||t instanceof i.Path)n=o(n,t.getBBox());else if(t instanceof i.Text){var e=function(t){var e=t.getBBox(),n={x:e.minX,y:e.minY},i={x:e.maxX,y:e.maxY},a=t.attr("matrix");return n=r(n,a),i=r(i,a),{minX:n.x,minY:n.y,maxX:i.x,maxY:i.y}}(t),s=Math.abs(e.maxX-e.minX),u=Math.abs(e.maxY-e.minY);n=o(n,a.mix(n,s<u?{minX:Math.min(n.minX,e.minX),maxX:Math.max(n.maxX,e.maxX)}:{minY:Math.min(n.minY,e.minY),maxY:Math.max(n.maxY,e.maxY)}))}}),n}},function(t,e){t.exports=function(t,e){return{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}}},function(t,e){t.exports=function(t){return{minX:t.tl.x,minY:t.tl.y,maxX:t.br.x,maxY:t.br.y}}},function(t,e,n){"use strict";function r(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function i(t){return Object(a.selection)().transition(t)}e.a=r,e.b=i,e.c=function(){return++S};var a=n(72),o=n(441),s=n(442),u=n(443),l=n(444),c=n(445),h=n(446),f=n(447),d=n(448),p=n(449),g=n(450),v=n(451),m=n(452),y=n(453),x=n(454),b=n(455),_=n(456),w=n(362),S=0,M=a.selection.prototype;r.prototype=i.prototype={constructor:r,select:g.a,selectAll:v.a,filter:h.a,merge:f.a,selection:m.a,transition:_.a,call:M.call,nodes:M.nodes,node:M.node,size:M.size,empty:M.empty,each:M.each,on:d.a,attr:o.a,attrTween:s.a,style:y.a,styleTween:x.a,text:b.a,remove:p.a,tween:w.a,delay:u.a,duration:l.a,ease:c.a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(58);n.d(e,"now",function(){return r.b}),n.d(e,"timer",function(){return r.c}),n.d(e,"timerFlush",function(){return r.d});var i=n(191);n.d(e,"timeout",function(){return i.a});var a=n(192);n.d(e,"interval",function(){return a.a})},function(t,e,n){var r=n(0),i=r.DomUtil,a=["start","process","end","reset"],o=function(){function t(t,e){var n=this,i=n.getDefaultCfg();r.assign(n,i,t),n.view=n.chart=e,n.canvas=e.get("canvas"),n._bindEvents()}var e=t.prototype;return e.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},e._start=function(t){var e=this;e.preStart&&e.preStart(t),e.start(t),e.onStart&&e.onStart(t)},e._process=function(t){var e=this;e.preProcess&&e.preProcess(t),e.process(t),e.onProcess&&e.onProcess(t)},e._end=function(t){var e=this;e.preEnd&&e.preEnd(t),e.end(t),e.onEnd&&e.onEnd(t)},e._reset=function(t){var e=this;e.preReset&&e.preReset(t),e.reset(t),e.onReset&&e.onReset(t)},e.start=function(){},e.process=function(){},e.end=function(){},e.reset=function(){},e._bindEvents=function(){var t=this,e=t.canvas.get("canvasDOM");t._clearEvents(),r.each(a,function(n){var a=r.upperFirst(n);t["_on"+a+"Listener"]=i.addEventListener(e,t[n+"Event"],r.wrapBehavior(t,"_"+n))})},e._clearEvents=function(){var t=this;r.each(a,function(e){var n="_on"+r.upperFirst(e)+"Listener";t[n]&&t[n].remove()})},e.destroy=function(){this._clearEvents()},t}();t.exports=o},function(t,e,n){var r=n(74),i=n(16),a=n(126),o=n(147),s=n(7),u=n(18),l=n(0),c={version:s.version,Animate:a,Chart:o,Global:s,Scale:r,Shape:u,Util:l,G:i,DomUtil:l.DomUtil,MatrixUtil:l.MatrixUtil,PathUtil:l.PathUtil,track:function(){console.warn("G2 tracks nothing ;-)")}};"undefined"!=typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+c.version+"'s reference is 'window.G2_3'"):window.G2=c),t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(193);n.d(e,"easeLinear",function(){return r.a});var i=n(194);n.d(e,"easeQuad",function(){return i.b}),n.d(e,"easeQuadIn",function(){return i.a}),n.d(e,"easeQuadOut",function(){return i.c}),n.d(e,"easeQuadInOut",function(){return i.b});var a=n(195);n.d(e,"easeCubic",function(){return a.b}),n.d(e,"easeCubicIn",function(){return a.a}),n.d(e,"easeCubicOut",function(){return a.c}),n.d(e,"easeCubicInOut",function(){return a.b});var o=n(196);n.d(e,"easePoly",function(){return o.b}),n.d(e,"easePolyIn",function(){return o.a}),n.d(e,"easePolyOut",function(){return o.c}),n.d(e,"easePolyInOut",function(){return o.b});var s=n(197);n.d(e,"easeSin",function(){return s.b}),n.d(e,"easeSinIn",function(){return s.a}),n.d(e,"easeSinOut",function(){return s.c}),n.d(e,"easeSinInOut",function(){return s.b});var u=n(198);n.d(e,"easeExp",function(){return u.b}),n.d(e,"easeExpIn",function(){return u.a}),n.d(e,"easeExpOut",function(){return u.c}),n.d(e,"easeExpInOut",function(){return u.b});var l=n(199);n.d(e,"easeCircle",function(){return l.b}),n.d(e,"easeCircleIn",function(){return l.a}),n.d(e,"easeCircleOut",function(){return l.c}),n.d(e,"easeCircleInOut",function(){return l.b});var c=n(200);n.d(e,"easeBounce",function(){return c.c}),n.d(e,"easeBounceIn",function(){return c.a}),n.d(e,"easeBounceOut",function(){return c.c}),n.d(e,"easeBounceInOut",function(){return c.b});var h=n(201);n.d(e,"easeBack",function(){return h.b}),n.d(e,"easeBackIn",function(){return h.a}),n.d(e,"easeBackOut",function(){return h.c}),n.d(e,"easeBackInOut",function(){return h.b});var f=n(202);n.d(e,"easeElastic",function(){return f.c}),n.d(e,"easeElasticIn",function(){return f.a}),n.d(e,"easeElasticOut",function(){return f.c}),n.d(e,"easeElasticInOut",function(){return f.b})},function(t,e,n){var r=n(5),i=n(9),a=n(76),o=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],s=[0,1,2,4,5,10];t.exports=function(t){var e=t.min,n=t.max,u=t.interval,l=t.minTickInterval,c=[],h=t.minCount||5,f=t.maxCount||7,d=h===f,p=r(t.minLimit)?-1/0:t.minLimit,g=r(t.maxLimit)?1/0:t.maxLimit,v=(h+f)/2,m=v,y=t.snapArray?t.snapArray:d?o:s;if(e===p&&n===g&&d&&(u=(n-e)/(m-1)),r(e)&&(e=0),r(n)&&(n=0),n===e&&(0===e?n=1:e>0?e=0:n=0,n-e<5&&!u&&n-e>=1&&(u=1)),r(u)&&(u=a.snapFactorTo((n-e)/(v-1),y,"ceil"),f!==h&&((m=parseInt((n-e)/u,10))>f&&(m=f),m<h&&(m=h),u=a.snapFactorTo((n-e)/(m-1),y,"floor"))),i(l)&&u<l&&(u=l),t.interval||f!==h)n=Math.min(a.snapMultiple(n,u,"ceil"),g),e=Math.max(a.snapMultiple(e,u,"floor"),p),m=Math.round((n-e)/u),e=a.fixedBase(e,u),n=a.fixedBase(n,u);else{v=parseInt(v,10);var x,b=a.snapMultiple((n+e)/2,u,"ceil"),_=Math.floor((v-2)/2),w=b+_*u;for(x=v%2==0?b-_*u:b-(_+1)*u;w<n;)w=a.fixedBase(w+u,u);for(;x>e;)x=a.fixedBase(x-u,u);n=w,e=x}n=Math.min(n,g),e=Math.max(e,p),c.push(e);for(var S=1;S<m;S++){var M=a.fixedBase(u*S+e,u);M<n&&c.push(M)}return c[c.length-1]<n&&c.push(n),{min:e,max:n,interval:u,count:m,ticks:c}}},function(t,e,n){var r=n(17),i=n(9),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},n.getText=function(){return this.value.toString()},n.scale=function(t){return this.value!==t&&i(t)?t:this.range[0]},n.invert=function(){return this.value},e}(r);r.Identity=a,t.exports=a},function(t,e,n){var r=n(79),i=n(2),a=n(5),o=n(10),s=n(17),u=n(33),l=n(177),c=n(71),h=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},n.init=function(){var e=this,n=e.values;if(n&&n.length){var r=[],o=1/0,s=o,u=0;i(n,function(t){var n=e._toTimeStamp(t);if(isNaN(n))throw new TypeError("Invalid Time: "+t);o>n?(s=o,o=n):s>n&&(s=n),u<n&&(u=n),r.push(n)}),n.length>1&&(e.minTickInterval=s-o),(a(e.min)||e._toTimeStamp(e.min)>o)&&(e.min=o),(a(e.max)||e._toTimeStamp(e.max)<u)&&(e.max=u)}t.prototype.init.call(this)},n.calculateTicks=function(){var t=this.tickCount;return l({min:this.min,max:this.max,minCount:t,maxCount:t,interval:this.tickInterval,minInterval:this.minTickInterval}).ticks},n.getText=function(t){var e=this.formatter;return t=this.translate(t),e?e(t):r.format(t,this.mask)},n.scale=function(e){return o(e)&&(e=this.translate(e)),t.prototype.scale.call(this,e)},n.translate=function(t){return this._toTimeStamp(t)},n._toTimeStamp=function(t){return c.toTimeStamp(t)},e}(u);s.Time=h,t.exports=h},function(t,e,n){function r(t){return new Date(t).getFullYear()}function i(t){return new Date(t,0,1).getTime()}function a(t){return new Date(t).getMonth()}function o(t,e){return new Date(t,e,1).getTime()}var s=n(76),u=n(5),l=[1,2,4,6,8,12],c=36e5,h=864e5;t.exports=function(t){var e,n=t.minInterval,f=[],d=t.min,p=t.max,g=t.interval;if(p===d&&(p=d+h),u(g)){var v=h;g=parseInt((p-d)/(t.maxCount||6),10),n&&n>g&&(g=n);var m=g/31536e6,y=r(d);if(m>.51){for(var x=Math.ceil(m),b=r(p),_=y;_<=b+x;_+=x)f.push(i(_));g=null}else if(m>.0834){for(var w=Math.ceil(m/.0834),S=a(d),M=function(t,e){var n=r(t),i=r(e),o=a(t);return 12*(i-n)+(a(e)-o)%12}(d,p),O=0;O<=M+w;O+=w)f.push(o(y,O+S));g=null}else if(g>.5*v){var C=new Date(d),A=C.getFullYear(),I=C.getMonth(d),T=C.getDate(),E=Math.ceil(g/v),j=Math.ceil((p-d)/h);g=E*v;for(var P=0;P<j+E;P+=E)f.push(new Date(A,I,T+P).getTime())}else if(g>c){var k=new Date(d),D=k.getFullYear(),L=k.getMonth(d),R=k.getDate(),N=k.getHours(),z=s.snapTo(l,Math.ceil(g/c)),B=Math.ceil((p-d)/c);g=z*c;for(var F=0;F<=B+z;F+=z)f.push(new Date(D,L,R,N+F).getTime())}else if(g>6e4){var V=Math.ceil((p-d)/6e4),G=Math.ceil(g/6e4);g=6e4*G;for(var H=0;H<=V+G;H+=G)f.push(d+6e4*H)}else{g<1e3&&(g=1e3),d=1e3*Math.floor(d/1e3);var W=Math.ceil((p-d)/1e3),q=Math.ceil(g/1e3);g=1e3*q;for(var U=0;U<W+q;U+=q)f.push(d+1e3*U)}}if(!f.length){d=1e3*Math.floor(d/1e3),e=((p=1e3*Math.ceil(p/1e3))-d)/g;for(var Y=0;Y<=e;Y++)f.push(s.fixedBase(g*Y+d,g))}return{max:p,min:d,interval:g,ticks:f,count:f.length}}},function(t,e,n){var r=n(17),i=n(77),a=n(79),o=n(78),s=n(71),u=n(2),l=n(9),c=n(24),h=n(10),f=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},n.init=function(){var t=this,e=this.values;u(e,function(n,r){e[r]=t._toTimeStamp(n)}),this.sortable&&e.sort(function(t,e){return t-e}),t.ticks||(t.ticks=this.calculateTicks())},n.calculateTicks=function(){var t=this.tickCount;return t?o({maxCount:t,data:this.values,isRounding:this.isRounding}).ticks:this.values},n.translate=function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=l(t)&&t<this.values.length?t:NaN),e},n.scale=function(t){var e=this.rangeMin(),n=this.rangeMax(),r=this.translate(t);return e+(1===this.values.length||isNaN(r)?r:r>-1?r/(this.values.length-1):0)*(n-e)},n.getText=function(t){var e="",n=this.translate(t);e=n>-1?this.values[n]:t;var r=this.formatter;return e=parseInt(e,10),r?r(e):a.format(e,this.mask)},n.getTicks=function(){var t=this,e=[];return u(this.ticks,function(n){var r;r=c(n)?n:{text:h(n)?n:t.getText(n),value:t.scale(n),tickValue:n},e.push(r)}),e},n._toTimeStamp=function(t){return s.toTimeStamp(t)},e}(i);r.TimeCat=f,t.exports=f},function(t,e,n){function r(t,e){return 1===t?1:Math.log(e)/Math.log(t)}var i=n(2),a=n(17),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},n.calculateTicks=function(){var t,e=this.base;if(this.min<0)throw new Error("The minimum value must be greater than zero!");var n=r(e,this.max);if(this.min>0)t=Math.floor(r(e,this.min));else{var a=this.max;i(this.values,function(t){t>0&&t<a&&(a=t)}),a===this.max&&(a=this.max/e),a>1&&(a=1),t=Math.floor(r(e,a)),this._minTick=t,this.positiveMin=a}for(var o=Math.ceil((n-t)/this.tickCount),s=[],u=t;u<n+o;u+=o)s.push(Math.pow(e,u));return 0===this.min&&s.unshift(0),s},n._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var i=this.base,a=this.positiveMin;return a&&(n=1*a/i),t<a?t/a/(r(i,e)-r(i,n)):(r(i,t)-r(i,n))/(r(i,e)-r(i,n))},n.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},n.invert=function(t){var e,n=this.base,i=r(n,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s=this.positiveMin;if(s){if(0===t)return 0;var u=1/(i-(e=r(n,s/n)))*o;if(t<u)return t/u*s}else e=r(n,this.min);return Math.pow(n,(t-a)/o*(i-e)+e)},e}(n(33));a.Log=o,t.exports=o},function(t,e,n){function r(t,e){var n=Math.E;return Math.pow(n,Math.log(e)/t)}var i=n(17),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},n.calculateTicks=function(){var t,e=this.exponent,n=Math.ceil(r(e,this.max));if((t=this.min>=0?Math.floor(r(e,this.min)):0)>n){var i=n;n=t,t=i}for(var a=Math.ceil((n-t)/this.tickCount),o=[],s=t;s<n+a;s+=a)o.push(Math.pow(s,e));return o},n._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var i=this.exponent;return(r(i,t)-r(i,n))/(r(i,e)-r(i,n))},n.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},n.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin()),n=this.exponent,i=r(n,this.max),a=r(n,this.min);return Math.pow(e*(i-a)+a,n)},e}(n(33));i.Pow=a,t.exports=a},function(t,e,n){var r=n(1),i=n(100),a=n(101),o=n(190),s=n(215),u=function t(e){t.superclass.constructor.call(this,e)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},r.extend(u,a),r.augment(u,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!r.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var a=new i(t,e,!0,!0);return a.x=n.x,a.y=n.y,a.clientX=e.clientX,a.clientY=e.clientY,a.currentTarget=r,a.target=r,a},_triggerEvent:function(t,e){var n,r=this.getPointByClient(e.clientX,e.clientY),i=this.getShape(r.x,r.y,e),a=this.get("el");if("mousemove"===t){var o=this.get("preShape");if(o&&o!==i){var s=this._getEventObj("mouseleave",e,r,o);(n=this.getEmitter(o,e))&&n.emit("mouseleave",s),a.style.cursor="default"}if(i){var u=this._getEventObj("mousemove",e,r,i);if((n=this.getEmitter(i,e))&&n.emit("mousemove",u),o!==i){var l=this._getEventObj("mouseenter",e,r,i);n&&n.emit("mouseenter",l,e)}}else{var c=this._getEventObj("mousemove",e,r,this);this.emit("mousemove",c)}this.set("preShape",i)}else{var h=this._getEventObj(t,e,r,i||this);(n=this.getEmitter(i,e))&&n!==this&&n.emit(t,h),this.emit(t,h)}i&&!i.get("destroyed")&&(a.style.cursor=i.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(n){e.addEventListener(n,function(e){t._triggerEvent(n,e)},!1)}),e.addEventListener("touchstart",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])},!1),e.addEventListener("touchmove",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])},!1),e.addEventListener("touchend",function(e){r.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])},!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",r.getRatio());var t=s[this.get("renderer")||"canvas"];this._cfg.renderer=t,this._cfg.canvas=this;var e=new o(this);this._cfg.timeline=e},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=e*n;this.set("widthCanvas",t*n),this.set("heightCanvas",r),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),r=this.get("pixelRatio")||1,i=n.getBoundingClientRect();return{x:(t-i.left)*r,y:(e-i.top)*r}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),r=this.get("pixelRatio")||1;return{clientX:t/r+n.left,clientY:e/r+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):u.superclass.getShape.call(this,t,e)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){"use strict";function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],x=n[7],b=n[8];return t[0]=f*r+d*o+p*l,t[1]=f*i+d*s+p*c,t[2]=f*a+d*u+p*h,t[3]=g*r+v*o+m*l,t[4]=g*i+v*s+m*c,t[5]=g*a+v*u+m*h,t[6]=y*r+x*o+b*l,t[7]=y*i+x*s+b*c,t[8]=y*a+x*u+b*h,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new a.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,i,o,s,u,l){var c=new a.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=s,c[7]=u,c[8]=l,c},e.set=function(t,e,n,r,i,a,o,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=l,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*o-s*l,f=-c*a+s*u,d=l*a-o*u,p=n*h+r*f+i*d;return p?(t[0]=h*(p=1/p),t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*o)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-l*n+r*u)*p,t[8]=(o*n-r*a)*p,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=o*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*o,t[3]=s*u-a*c,t[4]=n*c-i*u,t[5]=i*a-n*s,t[6]=a*l-o*u,t[7]=r*u-n*l,t[8]=n*o-r*a,t},e.determinant=function(t){var e=t[3],n=t[4],r=t[5],i=t[6],a=t[7],o=t[8];return t[0]*(o*n-r*a)+t[1]*(-o*e+r*i)+t[2]*(a*e-n*i)},e.multiply=r,e.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+d*o+l,t[7]=f*i+d*s+c,t[8]=f*a+d*u+h,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*u,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*u-f*a,t[6]=l,t[7]=c,t[8]=h,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,h=r*s,f=i*o,d=i*s,p=i*u,g=a*o,v=a*s,m=a*u;return t[0]=1-h-p,t[3]=c-m,t[6]=f+v,t[1]=c+m,t[4]=1-l-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-l-h,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=n*s-r*o,x=n*u-i*o,b=n*l-a*o,_=r*u-i*s,w=r*l-a*s,S=i*l-a*u,M=c*g-h*p,O=c*v-f*p,C=c*m-d*p,A=h*v-f*g,I=h*m-d*g,T=f*m-d*v,E=y*T-x*I+b*A+_*C-w*O+S*M;return E?(t[0]=(s*T-u*I+l*A)*(E=1/E),t[1]=(u*C-o*T-l*O)*E,t[2]=(o*I-s*C+l*M)*E,t[3]=(i*I-r*T-a*A)*E,t[4]=(n*T-i*C+a*O)*E,t[5]=(r*C-n*I-a*M)*E,t[6]=(g*S-v*w+m*_)*E,t[7]=(v*b-p*S-m*x)*E,t[8]=(p*w-g*b+m*y)*E,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],m=e[5],y=e[6],x=e[7],b=e[8];return Math.abs(n-f)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-g)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-v)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-y)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-x)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-b)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))};var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(52));e.mul=r,e.sub=i},function(t,e,n){"use strict";function r(){var t=new h.ARRAY_TYPE(2);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function o(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function l(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function c(t){var e=t[0],n=t[1];return e*e+n*n}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=function(t){var e=new h.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new h.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=i,e.multiply=a,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=s,e.squaredDistance=u,e.length=l,e.squaredLength=c,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},e.random=function(t,e){e=e||1;var n=2*h.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),s=Math.cos(r);return t[0]=i*s-a*o+n[0],t[1]=i*o+a*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var u=(n*i+r*a)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))};var h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(52));e.len=l,e.sub=i,e.mul=a,e.div=o,e.dist=s,e.sqrDist=u,e.sqrLen=c,e.forEach=function(){var t=r();return function(e,n,r,i,a,o){var s,u=void 0;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],a(t,t,o),e[u]=t[0],e[u+1]=t[1];return e}}()},function(t,e,n){"use strict";function r(){var t=new p.ARRAY_TYPE(3);return p.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function a(t,e,n){var r=new p.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function h(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function f(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new p.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=o,e.multiply=s,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=l,e.squaredDistance=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=f,e.dot=d,e.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t},e.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},e.hermite=function(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},e.bezier=function(t,e,n,r,i,a){var o=1-a,s=o*o,u=a*a,l=s*o,c=3*a*s,h=3*u*o,f=u*a;return t[0]=e[0]*l+n[0]*c+r[0]*h+i[0]*f,t[1]=e[1]*l+n[1]*c+r[1]*h+i[1]*f,t[2]=e[2]*l+n[2]*c+r[2]*h+i[2]*f,t},e.random=function(t,e){e=e||1;var n=2*p.RANDOM()*Math.PI,r=2*p.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/(o=o||1),t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],a=n[2],o=e[0],s=e[1],u=e[2],l=i*u-a*s,c=a*o-r*u,h=r*s-i*o,f=i*h-a*c,d=a*l-r*h,p=r*c-i*l,g=2*n[3];return c*=g,h*=g,d*=2,p*=2,t[0]=o+(l*=g)+(f*=2),t[1]=s+c+d,t[2]=u+h+p,t},e.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.angle=function(t,e){var n=a(t[0],t[1],t[2]),r=a(e[0],e[1],e[2]);f(n,n),f(r,r);var i=d(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=p.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(52));e.sub=o,e.mul=s,e.div=u,e.dist=l,e.sqrDist=c,e.len=i,e.sqrLen=h,e.forEach=function(){var t=r();return function(e,n,r,i,a,o){var s,u=void 0;for(n||(n=3),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],a(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}()},function(t,e,n){var r=n(1);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this._attrs;if(r.isObject(t)){for(var n in t)this._setAttr(n,t[n]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(t,e),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){function r(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function i(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function a(t,e){r(e)||(i(e)?(t[0]*=e[0],t[4]*=e[4]):o.mat3.multiply(t,t,e))}var o=n(1);t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return o.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return o.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return o.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;return this.translate(t-n,e-r),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return o.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",o.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}}),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),o.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var r=[1,0,0,0,1,0,0,0,1];return o.each(n,function(t){o.mat3.multiply(r,t.attr("matrix"),r)}),r},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;e&&a(t,e.getTotalMatrix()),a(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(i(e))t[0]/=e[0],t[1]/=e[4];else{var n=o.mat3.invert([],e);n&&o.vec3.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");r(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var r=n(1),i={delay:"delay",rotate:"rotate"},a={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};t.exports={animate:function(t,e,n,o,s){void 0===s&&(s=0),this.set("animating",!0);var u=this.get("timeline");u||(u=this.get("canvas").get("timeline"),this.setSilent("timeline",u));var l=this.get("animators")||[];u._timer||u.initTimer(),r.isNumber(o)&&(s=o,o=null),r.isFunction(n)?(o=n,n="easeLinear"):n=n||"easeLinear";var c=function(t,e){var n={matrix:null,attrs:{}},o=e._attrs;for(var s in t)if("transform"===s)n.matrix=r.transform(e.getMatrix(),t[s]);else if("rotate"===s)n.matrix=r.transform(e.getMatrix(),[["r",t[s]]]);else if("matrix"===s)n.matrix=t[s];else{if(a[s]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[s]))continue;i[s]||o[s]===t[s]||(n.attrs[s]=t[s])}return n}(t,this),h={fromAttrs:function(t,e){var n={},r=e._attrs;for(var i in t.attrs)n[i]=r[i];return n}(c,this),toAttrs:c.attrs,fromMatrix:r.clone(this.getMatrix()),toMatrix:c.matrix,duration:e,easing:n,callback:o,delay:s,startTime:u.getTime(),id:r.uniqueId()};l.length>0?l=function(t,e){var n=e.delay,i=Object.prototype.hasOwnProperty;return r.each(e.toAttrs,function(e,a){r.each(t,function(t){n<t.startTime+t.duration&&i.call(t.toAttrs,a)&&(delete t.toAttrs[a],delete t.fromAttrs[a])})}),e.toMatrix&&r.each(t,function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix}),t}(l,h):u.addAnimator(this),l.push(h),this.setSilent("animators",l),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");r.each(e,function(e){t.attr(e.toAttrs),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),n=this.get("pause").pauseTime;return r.each(e,function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,n){var r=n(6);r.Arc=n(105),r.Circle=n(106),r.Dom=n(107),r.Ellipse=n(108),r.Fan=n(109),r.Image=n(110),r.Line=n(111),r.Marker=n(56),r.Path=n(112),r.Polygon=n(113),r.Polyline=n(114),r.Rect=n(115),r.Text=n(116),t.exports=r},function(t,e,n){function r(t,e,n){return n.createPath(s),s.isPointInPath(t,e)}var i=n(1),a=n(54),o={arc:n(37),ellipse:n(104),line:n(36)},s=i.createDom('<canvas width="500" height="500"></canvas>').getContext("2d"),u={arc:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.r,s=n.startAngle,u=n.endAngle,l=n.clockwise,c=this.getHitLineWidth();return!!this.hasStroke()&&a.arcline(r,i,o,s,u,l,c,t,e)},circle:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.r,s=this.getHitLineWidth(),u=this.hasFill(),l=this.hasStroke();return u&&l?a.circle(r,i,o,t,e)||a.arcline(r,i,o,0,2*Math.PI,!1,s,t,e):u?a.circle(r,i,o,t,e):!!l&&a.arcline(r,i,o,0,2*Math.PI,!1,s,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return a.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,r=this.hasFill(),o=this.hasStroke(),s=n.x,u=n.y,l=n.rx,c=n.ry,h=this.getHitLineWidth(),f=l>c?l:c,d=[t,e,1],p=[1,0,0,0,1,0,0,0,1];i.mat3.scale(p,p,[l>c?1:l/c,l>c?c/l:1]),i.mat3.translate(p,p,[s,u]);var g=i.mat3.invert([],p);return i.vec3.transformMat3(d,d,g),r&&o?a.circle(0,0,f,d[0],d[1])||a.arcline(0,0,f,0,2*Math.PI,!1,h,d[0],d[1]):r?a.circle(0,0,f,d[0],d[1]):!!o&&a.arcline(0,0,f,0,2*Math.PI,!1,h,d[0],d[1])},fan:function(t,e){function n(){var t=o.arc.nearAngle(x,g,v,m);if(i.isNumberEqual(x,t)){var e=i.vec2.squaredLength(y);if(d*d<=e&&e<=p*p)return!0}return!1}function r(){var n=s.getHitLineWidth(),r={x:Math.cos(g)*d+h,y:Math.sin(g)*d+f},i={x:Math.cos(g)*p+h,y:Math.sin(g)*p+f},o={x:Math.cos(v)*d+h,y:Math.sin(v)*d+f},u={x:Math.cos(v)*p+h,y:Math.sin(v)*p+f};return!!(a.line(r.x,r.y,i.x,i.y,n,t,e)||a.line(o.x,o.y,u.x,u.y,n,t,e)||a.arcline(h,f,d,g,v,m,n,t,e)||a.arcline(h,f,p,g,v,m,n,t,e))}var s=this,u=s.hasFill(),l=s.hasStroke(),c=s._attrs,h=c.x,f=c.y,d=c.rs,p=c.re,g=c.startAngle,v=c.endAngle,m=c.clockwise,y=[t-h,e-f],x=i.vec2.angleTo([1,0],y);return u&&l?n()||r():u?n():!!l&&r()},image:function(t,e){var n=this._attrs;return!(this.get("toDraw")||!n.img)&&(this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg(),a.rect(n.x,n.y,n.width,n.height,t,e))},line:function(t,e){var n=this._attrs,r=n.x1,i=n.y1,o=n.x2,s=n.y2,u=this.getHitLineWidth();return!!this.hasStroke()&&a.line(r,i,o,s,u,t,e)},path:function(t,e){function n(){if(!i.isEmpty(o)){for(var n=a.getHitLineWidth(),r=0,s=o.length;r<s;r++)if(o[r].isInside(t,e,n))return!0;return!1}}var a=this,o=a.get("segments"),s=a.hasFill(),u=a.hasStroke();return s&&u?r(t,e,a)||n():s?r(t,e,a):!!u&&n()},marker:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.radius||n.r,s=this.getHitLineWidth();return a.circle(r,i,o+s/2,t,e)},polygon:function(t,e){function n(){var n=i._attrs.points;if(n.length<2)return!1;var r=i.getHitLineWidth(),o=n.slice(0);return n.length>=3&&o.push(n[0]),a.polyline(o,r,t,e)}var i=this,o=i.hasFill(),s=i.hasStroke();return o&&s?r(t,e,i)||n():o?r(t,e,i):!!s&&n()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var r=n.points;return!(r.length<2)&&a.polyline(r,n.lineWidth,t,e)}return!1},rect:function(t,e){function n(){var n=i._attrs,r=n.x,o=n.y,s=n.width,u=n.height,l=n.radius,c=i.getHitLineWidth();if(0===l){var h=c/2;return a.line(r-h,o,r+s+h,o,c,t,e)||a.line(r+s,o-h,r+s,o+u+h,c,t,e)||a.line(r+s+h,o+u,r-h,o+u,c,t,e)||a.line(r,o+u+h,r,o-h,c,t,e)}return a.line(r+l,o,r+s-l,o,c,t,e)||a.line(r+s,o+l,r+s,o+u-l,c,t,e)||a.line(r+s-l,o+u,r+l,o+u,c,t,e)||a.line(r,o+u-l,r,o+l,c,t,e)||a.arcline(r+s-l,o+l,l,1.5*Math.PI,2*Math.PI,!1,c,t,e)||a.arcline(r+s-l,o+u-l,l,0,.5*Math.PI,!1,c,t,e)||a.arcline(r+l,o+u-l,l,.5*Math.PI,Math.PI,!1,c,t,e)||a.arcline(r+l,o+l,l,Math.PI,1.5*Math.PI,!1,c,t,e)}var i=this,o=i.hasFill(),s=i.hasStroke();return o&&s?r(t,e,i)||n():o?r(t,e,i):!!s&&n()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return a.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=u[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){function r(t,e,n){var r=e.startTime;if(n<r+e.delay||e.isPaused)return!1;var o,u=e.duration,h=e.easing;if(n=n-r-e.delay,e.toAttrs.repeat)o=s[h](o=n%u/u);else{if(!((o=n/u)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;o=s[h](o)}return function(t,e,n){var r={},o=e.toAttrs,s=e.fromAttrs,u=e.toMatrix;if(!t.get("destroyed")){var h;for(var f in o)if(!i.isEqual(s[f],o[f]))if("path"===f){var d=o[f],p=s[f];d.length>p.length?(d=a.parsePathString(o[f]),p=a.parsePathString(s[f]),p=a.fillPathByDiff(p,d),p=a.formatPath(p,d),e.fromAttrs.path=p,e.toAttrs.path=d):e.pathFormatted||(d=a.parsePathString(o[f]),p=a.parsePathString(s[f]),p=a.formatPath(p,d),e.fromAttrs.path=p,e.toAttrs.path=d,e.pathFormatted=!0),r[f]=[];for(var g=0;g<d.length;g++){for(var v=d[g],m=p[g],y=[],x=0;x<v.length;x++)i.isNumber(v[x])&&m&&i.isNumber(m[x])?(h=l(m[x],v[x]),y.push(h(n))):y.push(v[x]);r[f].push(y)}}else h=l(s[f],o[f]),r[f]=h(n);if(u){var b=c(e.fromMatrix,u)(n);t.setMatrix(b)}t.attr(r)}}(t,e,o),!1}var i=n(1),a=n(57),o=n(170),s=n(173),u=n(117),l=u.interpolate,c=u.interpolateArray,h=function(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t};i.augment(h,{initTimer:function(){var t,e,n,i=this,a=this;a._timer=o.timer(function(o){if(a._current=o,i._animators.length>0){for(var s=i._animators.length-1;s>=0;s--)if((t=i._animators[s]).get("destroyed"))a.removeAnimator(s);else{if(!t.get("pause").isPaused)for(var u=(e=t.get("animators")).length-1;u>=0;u--)r(t,n=e[u],o)&&(e.splice(u,1),n.callback&&n.callback());0===e.length&&a.removeAnimator(s)}i.canvas.draw()}})},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(t){t.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=h},function(t,e,n){"use strict";var r=n(58);e.a=function(t,e,n){var i=new r.a;return i.restart(function(n){i.stop(),t(n+e)},e=null==e?0:+e,n),i}},function(t,e,n){"use strict";var r=n(58);e.a=function(t,e,n){var i=new r.a,a=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Object(r.b)():+n,i.restart(function r(o){o+=a,i.restart(r,a+=e,n),t(o)},e,n),i)}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a});var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),a=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.a=function(t){return 1-Math.cos(t*i)},e.c=function(t){return Math.sin(t*i)},e.b=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,i=r/2},function(t,e,n){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";function r(t){return(t=+t)<i?d*t*t:t<o?d*(t-=a)*t+s:t<l?d*(t-=u)*t+c:d*(t-=h)*t+f}e.a=function(t){return 1-r(1-t)},e.c=r,e.b=function(t){return((t*=2)<=1?1-r(1-t):r(t-1)+1)/2};var i=4/11,a=6/11,o=8/11,s=.75,u=9/11,l=10/11,c=.9375,h=21/22,f=63/64,d=1/i/i},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a});var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),a=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return o});var r=2*Math.PI,i=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((a-t)/n)}var a=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3),a=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+a)/n)}var a=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3),o=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((a-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((a+t)/n))/2}var a=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3)},function(t,e,n){"use strict";function r(t){if(t instanceof a)return new a(t.l,t.a,t.b,t.opacity);if(t instanceof h){var e=t.h*p.a;return new a(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof d.b||(t=Object(d.h)(t));var n=l(t.r),r=l(t.g),i=l(t.b),s=o((.4124564*n+.3575761*r+.1804375*i)/g),u=o((.2126729*n+.7151522*r+.072175*i)/v);return new a(116*u-16,500*(s-u),200*(u-o((.0193339*n+.119192*r+.9503041*i)/m)),t.opacity)}function i(t,e,n,i){return 1===arguments.length?r(t):new a(t,e,n,null==i?1:i)}function a(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function o(t){return t>_?Math.pow(t,1/3):t/b+y}function s(t){return t>x?t*t*t:b*(t-y)}function u(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function l(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function c(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof h)return new h(t.h,t.c,t.l,t.opacity);t instanceof a||(t=r(t));var e=Math.atan2(t.b,t.a)*p.b;return new h(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new h(t,e,n,null==i?1:i)}function h(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}e.a=i,e.b=c;var f=n(61),d=n(60),p=n(118),g=.95047,v=1,m=1.08883,y=4/29,x=6/29,b=3*x*x,_=x*x*x;Object(f.a)(a,i,Object(f.b)(d.a,{brighter:function(t){return new a(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new a(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=v*s(t),e=g*s(e),n=m*s(n),new d.b(u(3.2404542*e-1.5371385*t-.4985314*n),u(-.969266*e+1.8760108*t+.041556*n),u(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Object(f.a)(h,c,Object(f.b)(d.a,{brighter:function(t){return new h(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new h(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(t,e,n){"use strict";function r(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof i)return new i(t.h,t.s,t.l,t.opacity);t instanceof o.b||(t=Object(o.h)(t));var e=t.g/255,n=t.b/255,r=(g*n+d*(t.r/255)-p*e)/(g+d-p),a=n-r,u=(f*(e-r)-c*a)/h,l=Math.sqrt(u*u+a*a)/(f*r*(1-r)),v=l?Math.atan2(u,a)*s.b-120:NaN;return new i(v<0?v+360:v,l,r,t.opacity)}(t):new i(t,e,n,null==r?1:r)}function i(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e.a=r;var a=n(61),o=n(60),s=n(118),u=-.14861,l=1.78277,c=-.29227,h=-.90649,f=1.97294,d=f*h,p=f*l,g=l*c-h*u;Object(a.a)(i,r,Object(a.b)(o.a,{brighter:function(t){return t=null==t?o.c:Math.pow(o.c,t),new i(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o.d:Math.pow(o.d,t),new i(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*s.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new o.b(255*(e+n*(u*r+l*i)),255*(e+n*(c*r+h*i)),255*(e+n*(f*r)),this.opacity)}}))},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";function r(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(o,s){var u=[],l=[];return o=t(o),s=t(s),function(t,r,a,o,s,u){if(t!==a||r!==o){var l=s.push("translate(",null,e,null,n);u.push({i:l-4,x:Object(i.a)(t,a)},{i:l-2,x:Object(i.a)(r,o)})}else(a||o)&&s.push("translate("+a+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,u,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),l.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Object(i.a)(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(o.rotate,s.rotate,u),function(t,e,n,o){t!==e?l.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Object(i.a)(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(o.skewX,s.skewX,u),function(t,e,n,r,o,s){if(t!==n||e!==r){var u=o.push(a(o)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(i.a)(t,n)},{i:u-2,x:Object(i.a)(e,r)})}else 1===n&&1===r||o.push(a(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,u,l),o=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var i=n(40),a=n(207),o=r(a.a,"px, ","px)","deg)"),s=r(a.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?s.b:(r||(r=document.createElement("DIV"),i=document.documentElement,a=document.defaultView),r.style.transform=t,t=a.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?s.b:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",t),(t=o.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b)};var r,i,a,o,s=n(208)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,a,o){var s,u,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(e,t)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";function r(t){return((t=Math.exp(t))+1/t)/2}var i=Math.SQRT2;e.a=function(t,e){var n,a,o=t[0],s=t[1],u=t[2],l=e[2],c=e[0]-o,h=e[1]-s,f=c*c+h*h;if(f<1e-12)a=Math.log(l/u)/i,n=function(t){return[o+t*c,s+t*h,u*Math.exp(i*t*a)]};else{var d=Math.sqrt(f),p=(l*l-u*u+4*f)/(2*u*2*d),g=(l*l-u*u-4*f)/(2*l*2*d),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);a=(m-v)/i,n=function(t){var e=t*a,n=r(v),l=u/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(i*e+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[o+l*c,s+l*h,u*n/r(i*e+v)]}}return n.duration=1e3*a,n}},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.d)(e)).h,(n=Object(i.d)(n)).h),o=Object(a.a)(e.s,n.s),s=Object(a.a)(e.l,n.l),u=Object(a.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(t),e.opacity=u(t),e+""}}}n.d(e,"b",function(){return o});var i=n(19),a=n(28);e.a=r(a.c);var o=r(a.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(i.a)((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),a=Object(i.a)(t.a,e.a),o=Object(i.a)(t.b,e.b),s=Object(i.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=a(e),t.b=o(e),t.opacity=s(e),t+""}};var r=n(19),i=n(28)},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.c)(e)).h,(n=Object(i.c)(n)).h),o=Object(a.a)(e.c,n.c),s=Object(a.a)(e.l,n.l),u=Object(a.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=o(t),e.l=s(t),e.opacity=u(t),e+""}}}n.d(e,"b",function(){return o});var i=n(19),a=n(28);e.a=r(a.c);var o=r(a.a)},function(t,e,n){"use strict";function r(t){return function e(n){function r(e,r){var o=t((e=Object(i.b)(e)).h,(r=Object(i.b)(r)).h),s=Object(a.a)(e.s,r.s),u=Object(a.a)(e.l,r.l),l=Object(a.a)(e.opacity,r.opacity);return function(t){return e.h=o(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}n.d(e,"a",function(){return o});var i=n(19),a=n(28);e.b=r(a.c);var o=r(a.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){t.exports={canvas:n(216),svg:n(219)}},function(t,e,n){t.exports={painter:n(217)}},function(t,e,n){var r=n(1),i=n(218),a=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],o=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame(function(){e.animateHandler=void 0,e.toDraw&&n()}),e.beforeDraw();try{e._drawGroup(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,n=null;this.setContext(t);for(var r=0;r<e.length;r++)n=e[r],e[r].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,n=t._attrs;if(!t.isGroup)for(var o in n)if(a.indexOf(o)>-1){var s=n[o];"fillStyle"===o&&(s=i.parseStyle(s,t,e)),"strokeStyle"===o&&(s=i.parseStyle(s,t,e)),"lineDash"===o&&e.setLineDash?r.isArray(s)?e.setLineDash(s):r.isString(s)&&e.setLineDash(s.split(" ")):e[o]=s}},t}();t.exports=o},function(t,e,n){function r(t,e){var n=t.match(c);i.each(n,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}var i=n(1),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,u=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,l=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,h={};t.exports={parsePath:function(t){return i.isArray(t=t||[])?t:i.isString(t)?(t=t.match(a),i.each(t,function(e,n){if((e=e.match(o))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}i.each(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0},parseStyle:function(t,e,n){if(i.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var a,o,u=s.exec(t),l=i.mod(i.toRadian(parseFloat(u[1])),2*Math.PI),c=u[2],h=e.getBBox();l>=0&&l<.5*Math.PI?(a={x:h.minX,y:h.minY},o={x:h.maxX,y:h.maxY}):.5*Math.PI<=l&&l<Math.PI?(a={x:h.maxX,y:h.minY},o={x:h.minX,y:h.maxY}):Math.PI<=l&&l<1.5*Math.PI?(a={x:h.maxX,y:h.maxY},o={x:h.minX,y:h.minY}):(a={x:h.minX,y:h.maxY},o={x:h.maxX,y:h.minY});var f=Math.tan(l),d=f*f,p=n.createLinearGradient(a.x,a.y,(o.x-a.x+f*(o.y-a.y))/(d+1)+a.x,f*(o.x-a.x+f*(o.y-a.y))/(d+1)+a.y);return r(c,p),p}(t,e,n);if("r"===t[0])return function(t,e,n){var i=u.exec(t),a=parseFloat(i[1]),o=parseFloat(i[2]),s=parseFloat(i[3]),l=i[4];if(0===s){var h=l.match(c);return h[h.length-1].split(":")[1]}var f=e.getBBox(),d=f.maxX-f.minX,p=f.maxY-f.minY,g=Math.sqrt(d*d+p*p)/2,v=n.createRadialGradient(f.minX+d*a,f.minY+p*o,s*g,f.minX+d/2,f.minY+p/2,g);return r(l,v),v}(t,e,n);if("p"===t[0])return function(t,e,n){function r(){i=n.createPattern(a,s),e.setSilent("pattern",i),e.setSilent("patternSource",t)}if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var i,a,o=l.exec(t),s=o[1],u=o[2];switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}return a=new Image,u.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=u,a.complete?r():(a.onload=r,a.src=a.src),i}(t,e,n)}return t}},numberToColor:function(t){var e=h[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;h[t]=e="#"+n}return e}}},function(t,e,n){t.exports={painter:n(220),getShape:n(227)}},function(t,e,n){var r=n(1),i=n(27).parseRadius,a=n(56),o=n(221),s={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},l={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},c={left:"left",start:"left",center:"middle",right:"end",end:"end"},h=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new o(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame(function(){e.animateHandler=void 0,e.toDraw&&n()});try{t.resetMatrix(),e._drawGroup(t,!1)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this._drawChildren(t,!1)},e._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(!n.el&&n.attrs&&(e=!0),n.tobeRemoved&&(r.each(n.tobeRemoved,function(t){t.parentNode&&t.parentNode.removeChild(t)}),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&n.children.length>0&&this._drawChildren(t,e))},e._drawChildren=function(t,e){var n,r=t._cfg.children;if(r){if(t._cfg.el&&!e){var i=t._cfg.el.childNodes.length+1;0!==i&&i!==r.length&&(e=!0)}for(var a=0;a<r.length;a++)(n=r[a]).isGroup?this._drawGroup(n,e):this._drawShape(n,e)}},e._drawShape=function(t,e){var n=t._attrs,r=t._cfg,i=r.el;r.removed||r.destroyed?i&&i.parentNode.removeChild(r.el):(e&&i&&(i.parentNode&&i.parentNode.removeChild(i),i=null),!i&&r.parent&&(this._createDom(t),this._updateShape(t)),i=r.el,!1!==r.visible?(r.visible&&i.hasAttribute("visibility")&&i.removeAttribute("visibility"),r.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):i.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var i in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[i]!==n[i]&&this._setAttribute(t,i,e[i]);t._cfg.attrs=r.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,n){var i=t.type,a=t._attrs,o=t._cfg.el,s=this.context;if("marker"!==i&&"rect"!==i||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(i)&&~["x","y"].indexOf(e))o.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===i&&"points"===e)return n&&0!==n.length||(n=""),r.isArray(n)&&(n=(n=n.map(function(t){return t[0]+","+t[1]})).join(" ")),void o.setAttribute("points",n);if("path"===e&&r.isArray(n))o.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void o.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void o.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=u[e],n){var l;l="boolean"==typeof n?s.getDefaultArrow(a,e):s.addArrow(a,e),o.setAttribute(e,"url(#"+l+")"),t._cfg[e]=l}else t._cfg[e]=null,o.removeAttribute(e);else"html"===e&&("string"==typeof n?o.innerHTML=n:(o.innerHTML="",o.appendChild(n))),u[e]&&o.setAttribute(u[e],n)}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},e._createDom=function(t){var e=s[t.type],n=t._attrs;if(!e)throw new Error("the type"+t.type+"is not supported by svg");var r=document.createElementNS("http://www.w3.org/2000/svg",e);return t._cfg.el=r,t._cfg.parent&&t._cfg.parent.get("el").appendChild(r),t._cfg.attrs={},"text"===t.type?(r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(n.stroke||n.strokeStyle||r.setAttribute("stroke","none"),n.fill||n.fillStyle||r.setAttribute("fill","none")),r},e._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="";return n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):a.Symbols[t.symbol||"circle"](t.x,t.y,e),r.isArray(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),n},e._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=i(s);return r.isArray(s)?1===s.length?u.r1=u.r2=u.r3=u.r4=s[0]:2===s.length?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):3===s.length?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s,[["M "+(e+u.r1)+","+n],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map(function(t){return t.join(" ")}).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,e){var n=t._attrs,i=t._cfg.el;if(r.isString(e))i.setAttribute("href",e);else if(e instanceof Image)n.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",e.src);else if(e instanceof HTMLElement&&r.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())i.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",e.width),a.setAttribute("height",e.height),a.getContext("2d").putImageData(e,0,0),n.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",a.toDataURL())}},e._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,i=t._cfg,a={x:n.x,y:n.y},o=[],s=n.startAngle,u=n.endAngle;r.isNumberEqual(u-s,2*Math.PI)&&(u-=1e-5);var l=e(s,n.re,a),c=e(u,n.re,a),h=u>s?1:0,f=Math.abs(u-s)>Math.PI?1:0,d=n.rs,p=n.re,g=e(s,n.rs,a),v=e(u,n.rs,a);n.rs>0?(o.push("M "+c.x+","+c.y),o.push("L "+v.x+","+v.y),o.push("A "+d+","+d+",0,"+f+","+(1===h?0:1)+","+g.x+","+g.y),o.push("L "+l.x+" "+l.y)):(o.push("M "+a.x+","+a.y),o.push("L "+l.x+","+l.y)),o.push("A "+p+","+p+",0,"+f+","+h+","+c.x+","+c.y),o.push(n.rs>0?"L "+v.x+","+v.y:"Z"),i.el.setAttribute("d",o.join(" "))},e._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,r=t._cfg.el;for(var i in this._setFont(t),e)if(e[i]!==n[i]){if("text"===i){this._setText(t,""+e[i]);continue}if("fillStyle"===i||"strokeStyle"===i){this._setColor(t,i,e[i]);continue}if("matrix"===i){this._setTransform(t);continue}u[i]&&r.setAttribute(u[i],e[i])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),n=t._attrs,r=n.fontSize;e.setAttribute("alignment-baseline",l[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",c[n.textAlign]||"left"),r&&+r<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",+r/12,+r/12],["t",n.x,n.y]]))},e._setText=function(t,e){var n=t._cfg.el,i=t._attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var a=t._attrs.x,o=e.split("\n"),s=o.length-1,u="";r.each(o,function(t,e){0===e?"alphabetic"===i?u+='<tspan x="'+a+'" dy="'+-s+'em">'+t+"</tspan>":"top"===i?u+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===i?u+='<tspan x="'+a+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===i?u+='<tspan x="'+a+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===i&&(u+='<tspan x="'+a+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):u+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"}),n.innerHTML=u}else n.innerHTML=e;else n.innerHTML=""},e._setClip=function(t,e){var n=t._cfg.el;if(e)if(n.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var r=this.context.addClip(e);n.setAttribute("clip-path","url(#"+r+")")}else n.removeAttribute("clip-path")},e._setColor=function(t,e,n){var r=t._cfg.el,i=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var a=i.find("gradient",n);a||(a=i.addGradient(n)),r.setAttribute(u[e],"url(#"+a+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=i.find("pattern",n);o||(o=i.addPattern(n)),r.setAttribute(u[e],"url(#"+o+")")}else r.setAttribute(u[e],n);else r.setAttribute(u[e],"none")},e._setShadow=function(t){var e=t._cfg.el,n=t._attrs,r={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(r.dx||r.dy||r.blur||r.color){var i=this.context.find("filter",r);i||(i=this.context.addShadow(r,this)),e.setAttribute("filter","url(#"+i+")")}else e.removeAttribute("filter")},t}();t.exports=h},function(t,e,n){var r=n(1),i=n(222),a=n(223),o=n(224),s=n(225),u=n(226),l=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=r.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},e.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new o(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),r.id},e.addGradient=function(t){var e=new i(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var n=new o(t,e);return this.el.appendChild(n.el),n.id},e.addShadow=function(t){var e=new a(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addPattern=function(t){var e=new u(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addClip=function(t){var e=new s(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=l},function(t,e,n){function r(t){var e=t.match(s);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),i.each(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}var i=n(1),a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,u=function(){function t(t){var e=null,n=i.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,o,s=a.exec(t),u=i.mod(i.toRadian(parseFloat(s[1])),2*Math.PI),l=s[2];u>=0&&u<.5*Math.PI?(n={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=u&&u<Math.PI?(n={x:1,y:0},o={x:0,y:1}):Math.PI<=u&&u<1.5*Math.PI?(n={x:1,y:1},o={x:0,y:0}):(n={x:0,y:1},o={x:1,y:0});var c=Math.tan(u),h=c*c,f=(o.x-n.x+c*(o.y-n.y))/(h+1)+n.x,d=c*(o.x-n.x+c*(o.y-n.y))/(h+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",f),e.setAttribute("y2",d),e.innerHTML=r(l)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var n=o.exec(t),i=parseFloat(n[1]),a=parseFloat(n[2]),s=parseFloat(n[3]),u=n[4];e.setAttribute("cx",i),e.setAttribute("cy",a),e.setAttribute("r",s),e.innerHTML=r(u)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=u},function(t,e,n){var r=n(1),i={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},a={x:"-40%",y:"-40%",width:"200%",height:"200%"},o=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return r.each(a,function(t,n){e.setAttribute(n,t)}),this.el=e,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return r.each(Object.keys(i),function(t){if(i[t]!==e[t])return n=!1,!1}),n},e.update=function(t,e){var n=this.cfg;return n[i[t]]=e,this._parseShadow(n,this.el),this},e._parseShadow=function(t,e){e.innerHTML='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />'},t}();t.exports=o},function(t,e,n){var r=n(1),i=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=r.uniqueId("marker_");n.setAttribute("id",i);var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("stroke","none"),a.setAttribute("fill",t.stroke||"#000"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=i,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,a):this._setMarker(t.lineWidth,a),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},e._setMarker=function(t,e){var n=this.el,i=this.cfg.path,a=this.cfg.d;r.isArray(i)&&(i=i.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",i),n.appendChild(e),a&&n.setAttribute("refX",a/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=i},function(t,e,n){var r=n(1),i=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");return this.el=e,this.id=r.uniqueId("clip_"),e.id=this.id,e.appendChild(t._cfg.el.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=i},function(t,e,n){var r=n(1),i=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a=function(){function t(t){function e(){console.log(u.width,u.height),n.setAttribute("width",u.width),n.setAttribute("height",u.height)}var n=document.createElementNS("http://www.w3.org/2000/svg","pattern");n.setAttribute("patternUnits","userSpaceOnUse");var a=document.createElementNS("http://www.w3.org/2000/svg","image");n.appendChild(a);var o=r.uniqueId("pattern_");n.id=o,this.el=n,this.id=o,this.cfg=t;var s=i.exec(t)[2];a.setAttribute("href",s);var u=new Image;return s.match(/^data:/i)||(u.crossOrigin="Anonymous"),u.src=s,u.complete?e():(u.onload=e,u.src=u.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=a},function(t,e){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,r){var i=r.target||r.srcElement;if(!n[i.tagName]){for(var a=i.parentNode;a&&!n[a.tagName];)a=a.parentNode;i=a}return this._cfg.el===i?this:this.find(function(t){return t._cfg&&t._cfg.el===i})}},function(t,e,n){t.exports={addEventListener:n(229),createDom:n(94),getBoundingClientRect:n(230),getHeight:n(231),getOuterHeight:n(232),getOuterWidth:n(233),getRatio:n(234),getStyle:n(235),getWidth:n(236),modifyCSS:n(95),requestAnimationFrame:n(96)}},function(t,e){t.exports=function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-i,right:n.right-i}}return e||null}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}},function(t,e){t.exports=function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,i=parseFloat(this.getStyle(t,"paddingTop"))||0,a=parseFloat(this.getStyle(t,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+i+a}},function(t,e){t.exports=function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,i=parseFloat(this.getStyle(t,"paddingLeft"))||0,a=parseFloat(this.getStyle(t,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+i+a}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,n){var r=n(5);t.exports=function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return r(n)?null:n}}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}},function(t,e,n){t.exports={contains:n(41),difference:n(238),find:n(239),firstValue:n(240),flatten:n(241),flattenDeep:n(242),getRange:n(243),merge:n(42),pull:n(90),pullAt:n(130),reduce:n(244),remove:n(245),sortBy:n(246),union:n(247),uniq:n(131),valuesOfKey:n(64)}},function(t,e,n){var r=n(63),i=n(41);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(t,function(t){return!i(e,t)})}},function(t,e,n){var r=n(11),i=n(26),a=n(128);t.exports=function(t,e){var n=void 0;if(r(e)&&(n=e),i(e)&&(n=function(t){return a(t,e)}),n)for(var o=0;o<t.length;o+=1)if(n(t[o]))return t[o];return null}},function(t,e,n){var r=n(5),i=n(4);t.exports=function(t,e){for(var n=null,a=0;a<t.length;a++){var o=t[a][e];if(!r(o)){n=i(o)?o[0]:o;break}}return n}},function(t,e,n){var r=n(4),i=n(2);t.exports=function(t){if(!r(t))return t;var e=[];return i(t,function(t){r(t)?i(t,function(t){e.push(t)}):e.push(t)}),e}},function(t,e,n){var r=n(4);t.exports=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(e))for(var i=0;i<e.length;i+=1)t(e[i],n);else n.push(e);return n}},function(t,e,n){var r=n(63),i=n(4);t.exports=function(t){if(!(t=r(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(i(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);t=e}var a=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:a}}},function(t,e,n){var r=n(4),i=n(26),a=n(2);t.exports=function(t,e,n){if(!r(t)&&!i(t))return t;var o=n;return a(t,function(t,n){o=e(o,t,n)}),o}},function(t,e,n){var r=n(13),i=n(130);t.exports=function(t,e){var n=[];if(!r(t))return n;for(var a=-1,o=[],s=t.length;++a<s;){var u=t[a];e(u,a,t)&&(n.push(u),o.push(a))}return i(t,o),n}},function(t,e,n){var r=n(10),i=n(11),a=n(4);t.exports=function(t,e){var n=void 0;if(i(e))n=function(t,n){return e(t)-e(n)};else{var o=[];r(e)?o.push(e):a(e)&&(o=e),n=function(t,e){for(var n=0;n<o.length;n+=1){var r=o[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t}},function(t,e,n){var r=n(2),i=n(34),a=n(131);t.exports=function(){var t=[],e=i(arguments);return r(e,function(e){t=t.concat(e)}),a(t)}},function(t,e,n){t.exports={getWrapBehavior:n(249),wrapBehavior:n(250)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e){t.exports=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){var r=n(252);t.exports={number2color:r,numberToColor:r,parsePath:n(253),parseRadius:n(254)}},function(t,e){var n={};t.exports=function(t){var e=n[t];if(!e){for(var r=t.toString(16),i=r.length;i<6;i++)r="0"+r;n[t]=e="#"+r}return e}},function(t,e,n){var r=n(4),i=n(10),a=n(2),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,s=/[^\s\,]+/gi;t.exports=function(t){return r(t=t||[])?t:i(t)?(t=t.match(o),a(t,function(e,n){if((e=e.match(s))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}a(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0}},function(t,e,n){var r=n(4);t.exports=function(t){var e=0,n=0,i=0,a=0;return r(t)?1===t.length?e=n=i=a=t[0]:2===t.length?(e=i=t[0],n=a=t[1]):3===t.length?(e=t[0],n=a=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],a=t[3]):e=n=i=a=t,{r1:e,r2:n,r3:i,r4:a}}},function(t,e,n){var r=n(35);t.exports={clamp:n(50),fixedBase:n(256),isDecimal:n(257),isEven:n(258),isInteger:n(259),isNegative:n(260),isNumberEqual:r,isOdd:n(261),isPositive:n(262),maxBy:n(132),minBy:n(263),mod:n(93),snapEqual:r,toDegree:n(92),toInt:n(133),toInteger:n(133),toRadian:n(91)}},function(t,e){t.exports=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t%1!=0}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t%2==0}},function(t,e,n){var r=n(9),i=Number.isInteger?Number.isInteger:function(t){return r(t)&&t%1==0};t.exports=i},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t<0}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t%2!=0}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t)&&t>0}},function(t,e,n){var r=n(4),i=n(11),a=n(2);t.exports=function(t,e){if(r(t)){var n=t[0],o=void 0;o=i(e)?e(t[0]):t[0][e];var s=void 0;return a(t,function(t){(s=i(e)?e(t):t[e])<o&&(n=t,o=s)}),n}}},function(t,e,n){t.exports={forIn:n(265),has:n(134),hasKey:n(266),hasValue:n(267),keys:n(129),isMatch:n(128),values:n(135)}},function(t,e,n){t.exports=n(2)},function(t,e,n){t.exports=n(134)},function(t,e,n){var r=n(41),i=n(135);t.exports=function(t,e){return r(i(t),e)}},function(t,e,n){var r=n(269),i=n(139),a=n(138),o=n(141);t.exports={catmullRom2Bezier:o,catmullRomToBezier:o,fillPath:n(270),fillPathByDiff:n(271),formatPath:n(273),intersection:r,pathIntersection:r,parsePathArray:n(137),parsePathString:n(140),pathToAbsolute:i,path2absolute:i,pathTocurve:a,path2curve:a,rectPath:n(136)}},function(t,e,n){var r=n(4),i=n(136),a=n(138),o=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},s=function(t,e,n,r,i,a,s,u,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var g=c*h[p]+c,v=o(g,t,n,i,s),m=o(g,e,r,a,u);d+=f[p]*Math.sqrt(v*v+m*m)}return c*d},u=function(t,e,n,r,i,a,o,s){if(!(Math.max(t,n)<Math.min(i,o)||Math.min(t,n)>Math.max(i,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(t-n)*(a-s)-(e-r)*(i-o);if(u){var l=((t*r-e*n)*(i-o)-(t-n)*(i*s-a*o))/u,c=((t*r-e*n)*(a-s)-(e-r)*(i*s-a*o))/u,h=+l.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,o).toFixed(2)||h>+Math.max(i,o).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:l,y:c}}}},l=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},c=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:i(t,e,n,r),vb:[t,e,n,r].join(" ")}},h=function(t,e,n,i,a,o,s,u){r(t)||(t=[t,e,n,i,a,o,s,u]);var l=(function(t,e,n,r,i,a,o,s){for(var u=[],l=[[],[]],c=void 0,h=void 0,f=void 0,d=void 0,p=0;p<2;++p)if(0===p?(h=6*t-12*n+6*i,c=-3*t+9*n-9*i+3*o,f=3*n-3*t):(h=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*s,f=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(h)<1e-12)continue;(d=-f/h)>0&&d<1&&u.push(d)}else{var g=h*h-4*f*c,v=Math.sqrt(g);if(!(g<0)){var m=(-h+v)/(2*c);m>0&&m<1&&u.push(m);var y=(-h-v)/(2*c);y>0&&y<1&&u.push(y)}}for(var x=u.length,b=x,_=void 0;x--;)_=1-(d=u[x]),l[0][x]=_*_*_*t+3*_*_*d*n+3*_*d*d*i+d*d*d*o,l[1][x]=_*_*_*e+3*_*_*d*r+3*_*d*d*a+d*d*d*s;return l[0][b]=t,l[1][b]=e,l[0][b+1]=o,l[1][b+1]=s,l[0].length=l[1].length=b+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}}).apply(null,t);return c(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},f=function(t,e,n,r,i,a,o,s,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),f=u*u,d=f*u,p=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(a-2*r+e),v=n+2*u*(i-n)+f*(o-2*i+n),m=r+2*u*(a-r)+f*(s-2*a+r);return{x:c*t+3*h*u*n+3*l*u*u*i+d*o,y:c*e+3*h*u*r+3*l*u*u*a+d*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*o,y:l*a+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},d=function(t,e,n){if(!function(t,e){return t=c(t),e=c(e),l(e,t.x,t.y)||l(e,t.x2,t.y)||l(e,t.x,t.y2)||l(e,t.x2,t.y2)||l(t,e.x,e.y)||l(t,e.x2,e.y)||l(t,e.x,e.y2)||l(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(h(t),h(e)))return n?0:[];for(var r=~~(s.apply(0,t)/8),i=~~(s.apply(0,e)/8),a=[],o=[],d={},p=n?0:[],g=0;g<r+1;g++){var v=f.apply(0,t.concat(g/r));a.push({x:v.x,y:v.y,t:g/r})}for(var m=0;m<i+1;m++){var y=f.apply(0,e.concat(m/i));o.push({x:y.x,y:y.y,t:m/i})}for(var x=0;x<r;x++)for(var b=0;b<i;b++){var _=a[x],w=a[x+1],S=o[b],M=o[b+1],O=Math.abs(w.x-_.x)<.001?"y":"x",C=Math.abs(M.x-S.x)<.001?"y":"x",A=u(_.x,_.y,w.x,w.y,S.x,S.y,M.x,M.y);if(A){if(d[A.x.toFixed(4)]===A.y.toFixed(4))continue;d[A.x.toFixed(4)]=A.y.toFixed(4);var I=_.t+Math.abs((A[O]-_[O])/(w[O]-_[O]))*(w.t-_.t),T=S.t+Math.abs((A[C]-S[C])/(M[C]-S[C]))*(M.t-S.t);I>=0&&I<=1&&T>=0&&T<=1&&(n?p++:p.push({x:A.x,y:A.y,t1:I,t2:T}))}}return p};t.exports=function(t,e){return function(t,e,n){t=a(t),e=a(e);for(var r=void 0,i=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,p=void 0,g=[],v=0,m=t.length;v<m;v++){var y=t[v];if("M"===y[0])r=u=y[1],i=l=y[2];else{"C"===y[0]?(r=(f=[r,i].concat(y.slice(1)))[6],i=f[7]):(f=[r,i,r,i,u,l,u,l],r=u,i=l);for(var x=0,b=e.length;x<b;x++){var _=e[x];if("M"===_[0])o=c=_[1],s=h=_[2];else{"C"===_[0]?(o=(p=[o,s].concat(_.slice(1)))[6],s=p[7]):(p=[o,s,o,s,c,h,c,h],o=c,s=h);for(var w=d(f,p,void 0),S=0,M=w.length;S<M;S++)w[S].segment1=v,w[S].segment2=x,w[S].bez1=f,w[S].bez2=p;g=g.concat(w)}}}}return g}(t,e)}},function(t,e){function n(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=[],o=0;o<e.length-1;o++)0===o&&n.push(e[0]),o===e.length-2&&r.push(e[o+1]),a[o]=[(1-i)*e[o][0]+i*e[o+1][0],(1-i)*e[o][1]+i*e[o+1][1]];t(a,i)}}(t,e),{left:n,right:r.reverse()}}function r(t,e,r){if(1===r)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,r){var i=[[t[1],t[2]]];r=r||2;var a=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,s=1/r,u=0;u<r-1;u++){var l=n(o,s/(1-s*u));a.push(l.left),o=l.right}return a.push(o),a.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e,r));else{var a=[].concat(t);"M"===a[0]&&(a[0]="L");for(var o=0;o<=r-1;o++)i.push(a)}return i}t.exports=function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,a=n/i,o=[];if(1===t.length&&"M"===t[0][0]){for(var s=0;s<i-n;s++)t.push(t[0]);return t}for(var u=0;u<i;u++){var l=Math.floor(a*u);o[l]=(o[l]||0)+1}var c=o.reduce(function(e,i,a){return e.concat(a===n?t[n]:r(t[a],t[a+1],i))},[]);return c.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||c.push("Z"),c}},function(t,e,n){function r(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var i=n(272);t.exports=function(t,e){var n=function(t,e){var n=t.length,a=e.length,o=void 0,s=0;if(0===n||0===a)return null;for(var u=[],l=0;l<=n;l++)u[l]=[],u[l][0]={min:l};for(var c=0;c<=a;c++)u[0][c]={min:c};for(var h=1;h<=n;h++){o=t[h-1];for(var f=1;f<=a;f++)s=i(o,e[f-1])?0:1,u[h][f]=r(u[h-1][f].min+1,u[h][f-1].min+1,u[h-1][f-1].min+s)}return u}(t,e),a=t.length,o=e.length,s=[],u=1,l=1;if(n[a][o]!==a){for(var c=1;c<=a;c++){var h=n[c][c].min;l=c;for(var f=u;f<=o;f++)n[c][f].min<h&&(h=n[c][f].min,l=f);n[c][u=l].type&&s.push({index:c-1,type:n[c][u].type})}for(var d=s.length-1;d>=0;d--)u=s[d].index,"add"===s[d].type?t.splice(u,0,[].concat(t[u])):t.splice(u,1)}if((a=t.length)<o)for(var p=0;p<o-a;p++)"z"===t[a-1][0]||"Z"===t[a-1][0]?t.splice(a-2,0,t[a-2]):t.push(t[a-1]);return t}},function(t,e,n){var r=n(2);t.exports=function(t,e){if(t.length!==e.length)return!1;var n=!0;return r(t,function(t,r){if(t!==e[r])return n=!1,!1}),n}},function(t,e){function n(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function r(t,e,r){for(var i=[].concat(t),a=void 0,o=1/(r+1),s=n(e)[0],u=1;u<=r;u++)o*=u,0===(a=Math.floor(t.length*o))?i.unshift([s[0]*o+t[a][0]*(1-o),s[1]*o+t[a][1]*(1-o)]):i.splice(a,0,[s[0]*o+t[a][0]*(1-o),s[1]*o+t[a][1]*(1-o)]);return i}t.exports=function(t,e){if(t.length<=1)return t;for(var i=void 0,a=0;a<e.length;a++)if(t[a][0]!==e[a][0])switch(i=n(t[a]),e[a][0]){case"M":t[a]=["M"].concat(i[0]);break;case"L":t[a]=["L"].concat(i[0]);break;case"A":t[a]=[].concat(e[a]),t[a][6]=i[0][0],t[a][7]=i[0][1];break;case"Q":if(i.length<2){if(!(a>0)){t[a]=e[a];break}i=r(i,t[a-1],1)}t[a]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[a]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(a>0)){t[a]=e[a];break}i=r(i,t[a-1],2)}t[a]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(a>0)){t[a]=e[a];break}i=r(i,t[a-1],1)}t[a]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[a]=e[a]}return t}},function(t,e,n){var r={lc:n(275),lowerCase:n(142),lowerFirst:n(75),substitute:n(276),uc:n(277),upperCase:n(143),upperFirst:n(87)};t.exports=r},function(t,e,n){t.exports=n(142)},function(t,e){t.exports=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t}},function(t,e,n){t.exports=n(143)},function(t,e,n){var r=n(12),i={getType:n(84),isArray:n(4),isArrayLike:n(13),isBoolean:n(82),isFunction:n(11),isNil:n(5),isNull:n(279),isNumber:n(9),isObject:n(24),isObjectLike:n(48),isPlainObject:n(26),isPrototype:n(85),isType:r,isUndefined:n(280),isString:n(10),isRegExp:n(281),isDate:n(80),isArguments:n(282),isError:n(283)};t.exports=i},function(t,e){t.exports=function(t){return null===t}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"RegExp")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Arguments")}},function(t,e,n){var r=n(12);t.exports=function(t){return r(t,"Error")}},function(t,e){t.exports=function(t,e,n){var r=void 0;return function(){var i=this,a=arguments,o=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,a)},e),o&&t.apply(i,a)}}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,a=0;a<t.length;a++)if(t[a]===e){i=a;break}return i}},function(t,e,n){var r=n(11),i=n(49);t.exports=function(t,e,n){return r(n)?!!n(t,e):i(t,e)}},function(t,e,n){var r=n(2),i=n(13);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,function(t,r){n.push(e(t,r))}),n}},function(t,e,n){var r=n(2),i=n(26),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(null===t||!i(t))return{};var n={};return r(e,function(e){a.call(t,e)&&(n[e]=t[e])}),n}},function(t,e){t.exports=function(t,e,n){var r=void 0,i=void 0,a=void 0,o=void 0,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,a=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,o=t.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(u,c)),o};return l.cancel=function(){clearTimeout(r),s=0,r=i=a=null},l}},function(t,e,n){function r(t,e,n){var r={};return t.delay&&(r.delay=h.isFunction(t.delay)?t.delay(e,n):t.delay),r.easing=h.isFunction(t.easing)?t.easing(e,n):t.easing,r.duration=h.isFunction(t.duration)?t.duration(e,n):t.duration,r.callback=t.callback,r}function i(t,e){var n,i=t._id,a=t.get("index"),o=t.getBBox(),s=t.get("origin").points,u=(o.minX+o.maxX)/2,l=[u,n=s[0].y-s[1].y<=0?o.maxY:o.minY,1];t.apply(l),t.attr("transform",[["t",-u,-n],["s",1,.01],["t",u,n]]);var c={transform:[["t",-u,-n],["s",1,100],["t",u,n]]},h=r(e,a,i);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function a(t,e){var n,i=t._id,a=t.get("index"),o=t.getBBox(),s=t.get("origin").points,u=(o.minY+o.maxY)/2,l=[n=s[0].y-s[1].y>0?o.maxX:o.minX,u,1];t.apply(l),t.attr({transform:[["t",-n,-u],["s",.01,1],["t",n,u]]});var c={transform:[["t",-n,-u],["s",100,1],["t",n,u]]},h=r(e,a,i);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function o(t,e,n){var i,a,o=t._id,s=t.get("index");if(n.isPolar&&"point"!==t.name)i=n.getCenter().x,a=n.getCenter().y;else{var u=t.getBBox();i=(u.minX+u.maxX)/2,a=(u.minY+u.maxY)/2}t.apply([i,a,1]),t.attr({transform:[["t",-i,-a],["s",.01,.01],["t",i,a]]});var l={transform:[["t",-i,-a],["s",100,100],["t",i,a]]},c=r(e,s,o);t.animate(l,c.duration,c.easing,c.callback,c.delay)}function s(t,e){if("path"===t.get("type")){var n=t._id,i=t.get("index"),a=d.pathToAbsolute(t.attr("path"));t.attr("path",[a[0]]);var o={path:a},s=r(e,i,n);t.animate(o,s.duration,s.easing,s.callback,s.delay)}}function u(t,e,n,i,a){var o,s=function(t){var e,n,r,i,a,o=t.start,s=t.end,u=t.getWidth(),l=t.getHeight();return t.isPolar?(i=t.getRadius(),r=t.getCenter(),n=t.endAngle,(a=new f.Fan({attrs:{x:r.x,y:r.y,rs:0,re:i+200,startAngle:e=t.startAngle,endAngle:e}})).endState={endAngle:n}):(a=new f.Rect({attrs:{x:o.x-200,y:s.y-200,width:t.isTransposed?u+400:0,height:t.isTransposed?0:l+400}})).endState=t.isTransposed?{height:l+400}:{width:u+400},a.isClip=!0,a}(n),u=t.get("canvas"),l=t._id,c=t.get("index");i?(s.attr("startAngle",i),s.attr("endAngle",i),o={endAngle:a}):o=s.endState,s.set("canvas",u),t.attr("clip",s),t.setSilent("animating",!0);var h=r(e,c,l);s.animate(o,h.duration,h.easing,function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),s.remove())},h.delay)}function l(t,e){var n=t._id,i=t.get("index"),a=h.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),o=h.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var s={fillOpacity:a,strokeOpacity:o},u=r(e,i,n);t.animate(s,u.duration,u.easing,u.callback,u.delay)}function c(t,e,n){var r=function(t,e){var n,r,i=function(t){if(h.isEmpty(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return h.each(t,function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,i=i<t.y?t.y:i}),{minX:e,maxX:n,minY:r,maxY:i,centerX:(e+n)/2,centerY:(r+i)/2}}(t.points||t.get("origin").points),a=e.startAngle,o=e.endAngle-a;return e.isTransposed?(n=i.maxY*o,r=i.minY*o):(n=i.maxX*o,r=i.minX*o),{startAngle:r+=a,endAngle:n+=a}}(t,n);u(t,e,n,r.startAngle,r.endAngle)}var h=n(0),f=n(16),d=h.PathUtil;t.exports={enter:{clipIn:u,zoomIn:o,pathIn:s,scaleInY:i,scaleInX:a,fanIn:c,fadeIn:l},leave:{lineWidthOut:function(t,e){var n=t._id,i=r(e,t.get("index"),n);t.animate({lineWidth:0,opacity:0},i.duration,i.easing,function(){t.remove()},i.delay)},zoomOut:function(t,e,n){var i,a,o=t._id,s=t.get("index");if(n.isPolar&&"point"!==t.name)i=n.getCenter().x,a=n.getCenter().y;else{var u=t.getBBox();i=(u.minX+u.maxX)/2,a=(u.minY+u.maxY)/2}t.apply([i,a,1]);var l={transform:[["t",-i,-a],["s",.01,.01],["t",i,a]]},c=r(e,s,o);t.animate(l,c.duration,c.easing,function(){t.remove()},c.delay)},pathOut:function(t,e){if("path"===t.get("type")){var n=t._id,i=t.get("index"),a={path:[d.pathToAbsolute(t.attr("path"))[0]]},o=r(e,i,n);t.animate(a,o.duration,o.easing,function(){t.remove()},o.delay)}},fadeOut:function(t,e){var n=t._id,i=r(e,t.get("index"),n);t.animate({fillOpacity:0,strokeOpacity:0},i.duration,i.easing,function(){t.remove()},i.delay)}},appear:{clipIn:u,zoomIn:o,pathIn:s,scaleInY:i,scaleInX:a,fanIn:c,fadeIn:l},update:{fadeIn:l,fanIn:c}}},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e,n){var r=(t-e)/(n-e);return r>=0&&r<=1}function a(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,a=t.end;n=i(e.x,r.x,a.x)&&i(e.y,r.y,a.y)}else{var o=t.invert(e);n=o.x>=0&&o.y>=0&&o.x<=1&&o.y<=1}return n}var o=n(148),s=n(20),u=n(0),l=n(165),c=n(7),h=n(151),f=n(355),d={};u.each(s,function(t,e){var n=u.lowerFirst(e);d[n]=function(e){var n=new t(e);return this.addGeom(n),n}});var p=function(t){function e(e){var n,i=r(r(n=t.call(this,e)||this));return i._setTheme(),u.each(s,function(t,e){var n=u.lowerFirst(e);i[n]=function(e){void 0===e&&(e={}),e.viewTheme=i.get("viewTheme");var n=new t(e);return i.addGeom(n),n}}),i.init(),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:c.animate,visible:!0}},n._setTheme=function(){var t=this.get("theme"),e={},n={};u.isObject(t)?n=t:-1!==u.indexOf(Object.keys(h),t)&&(n=h[t]),u.deepMix(e,c,n),this.set("viewTheme",e)},n.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},n._initOptions=function(){var t=this,e=u.mix({},t.get("options"));e.scales||(e.scales={}),e.coord||(e.coord={}),!1===e.animate&&this.set("animate",!1),(!1===e.tooltip||u.isNull(e.tooltip))&&this.set("tooltipEnable",!1),e.geoms&&e.geoms.length&&u.each(e.geoms,function(e){t._createGeom(e)});var n=t.get("scaleController");n&&(n.defs=e.scales);var r=t.get("coordController");r&&r.reset(e.coord),this.set("options",e)},n._createGeom=function(t){var e,n=t.type;this[n]&&(e=this[n](),u.each(t,function(t,n){if(e[n])if(u.isObject(t)&&t.field)if("label"===t)e[n](t.field,t.callback,t.cfg);else{var r;u.each(t,function(t,e){"field"!==e&&(r=t)}),e[n](t.field,r)}else e[n](t)}))},n._initControllers=function(){var t=this.get("options"),e=this.get("viewTheme"),n=this.get("canvas"),r=new l.Scale({viewTheme:e,defs:t.scales}),i=new l.Coord(t.coord);this.set("scaleController",r),this.set("coordController",i);var a=new l.Axis({canvas:n,viewTheme:e});this.set("axisController",a);var o=new l.Guide({viewTheme:e,options:t.guides||[]});this.set("guideController",o)},n._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},n._initGeoms=function(){for(var t=this.get("geoms"),e=this.get("filteredData"),n=this.get("coord"),r=this.get("_id"),i=0;i<t.length;i++){var a=t[i];a.set("data",e),a.set("coord",n),a.set("_id",r+"-geom"+i),a.set("keyFields",this.get("keyFields")),a.init()}},n._clearGeoms=function(){for(var t=this.get("geoms"),e=0;e<t.length;e++)t[e].clear()},n._removeGeoms=function(){for(var t=this.get("geoms");t.length>0;)t.shift().destroy()},n._drawGeoms=function(){this.emit("beforedrawgeoms");for(var t=this.get("geoms"),e=this.get("coord"),n=0;n<t.length;n++){var r=t[n];r.setCoord(e),r.paint()}this.emit("afterdrawgeoms")},n.isShapeInView=function(t){var e=this.get("_id"),n=t._id;if(n)return n.split("-")[0]===e;for(var r=t;r;){if(r.get("viewId")===e)return!0;r=r.get("parent")}return!1},n.getViewRegion=function(){var t,e,n=this.get("parent");if(n){var r=n.getViewRegion(),i=this._getViewRegion(r.start,r.end);t=i.start,e=i.end}else t=this.get("start"),e=this.get("end");return{start:t,end:e}},n._getViewRegion=function(t,e){var n=this.get("start"),r=this.get("end"),i=n.x,a=1-r.y,o=r.x,s=1-n.y,l=this.get("padding"),c=u.toAllPadding(l);return{start:{x:i*(e.x-t.x)+t.x+c[3],y:a*(e.y-t.y)+t.y-c[2]},end:{x:o*(e.x-t.x)+t.x-c[1],y:s*(e.y-t.y)+t.y+c[0]}}},n._createCoord=function(){var t=this.get("coordController"),e=this.getViewRegion(),n=t.createCoord(e.start,e.end);this.set("coord",n)},n._renderAxes=function(){var t=this.get("options").axes;if(!1!==t){var e=this.get("axisController");e.container=this.get("backPlot"),e.coord=this.get("coord"),e.options=t||{};var n=this.getXScale(),r=this.getYScales(),i=this.get("_id");e.createAxis(n,r,i)}},n._renderGuides=function(){var t=this.get("guideController");if(!u.isEmpty(t.options)){var e=this.get("coord");t.view=this,t.backContainer=this.get("backPlot"),t.frontContainer=this.get("frontPlot"),t.xScales=this._getScales("x"),t.yScales=this._getScales("y"),t.render(e)}},n._bindEvents=function(){var t=new l.Event({view:this,canvas:this.get("canvas")});t.bindEvents(),this.set("eventController",t)},n._clearEvents=function(){var t=this.get("eventController");t&&t.clearEvents()},n._getScales=function(t){for(var e=this.get("geoms"),n={},r=0;r<e.length;r++){var i=e[r],a="x"===t?i.getXScale():i.getYScale();a&&!n[a.field]&&(n[a.field]=a)}return n},n._adjustScale=function(){this._setCatScalesRange();for(var t=this.get("geoms"),e=this.get("scaleController").defs,n=0;n<t.length;n++){var r=t[n];if("interval"===r.get("type")){var i=r.getYScale(),a=i.field,o=i.max;e[a]&&e[a].min||"time"===i.type||(i.min>0?i.change({min:0}):o<=0&&i.change({max:0}))}}},n._setCatScalesRange=function(){var t=this.get("coord"),e=this.get("viewTheme"),n=this.getXScale(),r=this.getYScales(),i=[];n&&i.push(n),i=i.concat(r);var a=t.isPolar&&function(t){var e=t.startAngle,n=t.endAngle;return!(!u.isNil(e)&&!u.isNil(n)&&n-e<2*Math.PI)}(t),o=this.get("scaleController").defs;u.each(i,function(n){if((n.isCategory||n.isIdentity)&&n.values&&(!o[n.field]||!o[n.field].range)){var r,i=n.values.length;if(1===i)r=[.5,1];else{var s=0;r=a?t.isTransposed?[(s=1/i*e.widthRatio.multiplePie)/2,1-s/2]:[0,1-1/i]:[s=1/i*1/2,1-s]}n.range=r}})},n.getXScale=function(){var t=this.get("geoms"),e=null;return u.isEmpty(t)||(e=t[0].getXScale()),e},n.getYScales=function(){for(var t=this.get("geoms"),e=[],n=0;n<t.length;n++){var r=t[n].getYScale();r&&-1===u.indexOf(e,r)&&e.push(r)}return e},n.getXY=function(t){var e,n,r=this.get("coord"),i=this._getScales("x"),a=this._getScales("y");for(var o in t)i[o]&&(e=i[o].scale(t[o])),a[o]&&(n=a[o].scale(t[o]));return u.isNil(e)||u.isNil(n)?null:r.convert({x:e,y:n})},n.getSnapRecords=function(t){var e=this.get("geoms"),n=[];return u.each(e,function(e){var r,i=e.get("dataArray");u.each(i,function(i){(r=e.findPoint(t,i))&&n.push(r)})}),n},n.addGeom=function(t){this.get("geoms").push(t),t.set("view",this);var e=this.get("viewContainer");t.set("container",e),t.set("animate",this.get("animate")),t.bindEvents()},n.removeGeom=function(t){var e=this.get("geoms");u.Array.remove(e,t),t.destroy()},n.createScale=function(t,e){var n=this.get("scales"),r=this.get("parent"),i=n[t];if(!e){var a=this.get("filteredData"),o=this._getFieldsForLegend();e=a.length&&-1===o.indexOf(t)?a:this.get("data")}var s=this.get("scaleController");if(i){if(i.sync){var u=s.createScale(t,e);this._syncScale(i,u)}}else{if((i=s.createScale(t,e)).sync&&r){var l=r.createScale(t,e);i=this._getSyncScale(l,i)}n[t]=i}return i},n._getFieldsForLegend=function(){var t=[],e=this.get("geoms");return u.each(e,function(e){var n=e.getFieldsForLegend();t=t.concat(n)}),u.uniq(t)},n._getSyncScale=function(t,e){return t.type!==e.type?e:(this._syncScale(t,e),t)},n._syncScale=function(t,e){var n=u.union(t.values,e.values);if(e.isLinear){var r=Math.max(t.max,e.max),i=Math.min(t.min,e.min);t.max===r&&t.min===i||t.change({min:i,max:r,values:n})}n.length!==t.values.length&&t.change({values:n})},n.getFilteredValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter(n[t]):e.slice(0)},n.getFilteredOutValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter(function(e){return!n[t](e)}):[]},n.filter=function(t,e){var n=this.get("options");n.filters||(n.filters={}),n.filters[t]=e,this.get("scaleController").filters=n.filters},n._getFilters=function(){return this.get("options").filters},n.execFilter=function(t){var e=this._getFilters();return e&&(t=t.filter(function(t){var n=!0;return u.each(e,function(e,r){if(e&&!(n=e(t[r],t)))return!1}),n})),t},n.axis=function(t,e){var n=this.get("options");return!1===t?n.axes=!1:(n.axes||(n.axes={}),n.axes[t]=e),this},n.guide=function(){return this.get("guideController")},n._getKeyFields=function(t){var e=[];u.each(t,function(t,n){t.key&&e.push(n)}),this.set("keyFields",e)},n.scale=function(t,e){var n=this.get("options").scales;return u.isObject(t)?u.mix(n,t):n[t]=e,this._getKeyFields(n),this},n.tooltip=function(t){return this.set("tooltipEnable",t),this},n.animate=function(t){return this.get("options").animate=t,this.set("animate",t),this},n.changeOptions=function(t){return this.set("options",t),this._initOptions(t),this},n.getViewsByPoint=function(t){var e=[],n=this.get("views");return a(this.get("coord"),t)&&e.push(this),u.each(n,function(n){n.get("visible")&&a(n.get("coord"),t)&&e.push(n)}),e},n.eachShape=function(t){var e=this,n=e.get("views"),r=e.get("canvas");u.each(n,function(e){e.eachShape(t)});var i=this.get("geoms");return u.each(i,function(n){var r=n.getShapes();u.each(r,function(r){var i=r.get("origin");if(u.isArray(i)){var a=i.map(function(t){return t._origin});t(a,r,n,e)}else t(i._origin,r,n,e)})}),r.draw(),this},n.filterShape=function(t){return this.eachShape(function(e,n,r,i){t(e,n,r,i)?n.show():n.hide()}),this},n.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},n.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},n.coord=function(t,e){var n=this.get("coordController");return n.reset({type:t,cfg:e}),n},n.resetCoord=function(){this._createCoord()},n.source=function(t,e){return this._initData(t),e&&this.scale(e),this.emit("setdata"),this},n.changeData=function(t){return this.emit("beforechangedata"),this._initData(t),this.emit("afterchangedata"),this.repaint(),this},n._initData=function(t){var e=this.get("dataView");e&&(e.off("change",u.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),t&&t.isDataView&&(t.on("change",u.wrapBehavior(this,"_onViewChange")),this.set("dataView",t),t=t.rows),this.set("data",t)},n._onViewChange=function(){this.emit("beforechangedata");var t=this.get("dataView").rows;this.set("data",t),this.emit("afterchangedata"),this.repaint()},n.beforeRender=function(){var t=this.get("views");u.each(t,function(t){t.beforeRender()}),this.initView()},n.drawComponents=function(){var t=this.get("views");u.each(t,function(t){t.drawComponents()}),this._renderAxes(),this._renderGuides()},n.drawCanvas=function(t){if(!t){var e=this.get("views");this.get("backPlot").sort();var n=this.get("canvas");if(this.get("animate")){var r=this.get("isUpdate");u.each(e,function(t){f.execAnimation(t,r)}),f.execAnimation(this,r)}else n.draw()}},n.render=function(t){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(t),this.emit("afterrender"),this.set("rendered",!0),this},n.initView=function(){var t=this.get("data")||[],e=this.execFilter(t);this.set("filteredData",e),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},n.paint=function(){var t=this.get("views");u.each(t,function(t){t.paint()});var e=this.get("data");u.isEmpty(e)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},n.changeVisible=function(t,e){var n=this.get("geoms");u.each(n,function(e){e.changeVisible(t,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(t),this.get("guideController")&&this.get("guideController").changeVisible(t),e||this.get("canvas").draw()},n.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},n.destroy=function(){this._clearEvents();var e=this.get("dataView");e&&e.off("change",u.getWrapBehavior(this,"_onViewChange")),this.clear(),t.prototype.destroy.call(this)},e}(o);t.exports=p},function(t,e,n){var r=n(5),i=n(4),a=n(2),o=function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["x","y"],n.type="position",n}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.mapping=function(t,e){var n,o,s,u=this.scales,l=this.coord,c=u[0],h=u[1];if(r(t)||r(e))return[];if(i(e)&&i(t)){n=[],o=[];for(var f=0,d=0,p=t.length,g=e.length;f<p&&d<g;f++,d++)s=l.convertPoint({x:c.scale(t[f]),y:h.scale(e[d])}),n.push(s.x),o.push(s.y)}else if(i(e))t=c.scale(t),o=[],a(e,function(e){e=h.scale(e),s=l.convertPoint({x:t,y:e}),n&&n!==s.x?(i(n)||(n=[n]),n.push(s.x)):n=s.x,o.push(s.y)});else if(i(t))e=h.scale(e),n=[],a(t,function(t){t=c.scale(t),s=l.convertPoint({x:t,y:e}),o&&o!==s.y?(i(o)||(o=[o]),o.push(s.y)):o=s.y,n.push(s.x)});else{t=c.scale(t),e=h.scale(e);var v=l.convertPoint({x:t,y:e});n=v.x,o=v.y}return[n,o]},e}(n(29));t.exports=o},function(t,e,n){var r=n(10),i=n(149),a=function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["color"],n.type="color",n.gradient=null,r(n.values)&&(n.linear=!0),n}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.getLinearValue=function(t){var e=this.gradient;return e||(e=i.gradient(this.values),this.gradient=e),e(t)},e}(n(29));t.exports=a},function(t,e,n){var r=function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["shape"],n.type="shape",n.gradient=null,n}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},e}(n(29));t.exports=r},function(t,e,n){var r=function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["size"],n.type="size",n.gradient=null,n}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e}(n(29));t.exports=r},function(t,e,n){var r=function(t){function e(e){var n;return(n=t.call(this,e)||this).names=["opacity"],n.type="opacity",n.gradient=null,n}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e}(n(29));t.exports=r},function(t,e,n){var r=n(8),i=n(30),a=n(298),o=n(299),s=n(150),u=n(300),l=n(301);r(i.prototype,s),r(a.prototype,s,u),r(o.prototype,l),i.Jitter=n(302),i.Symmetric=n(303),i.Dodge=a,i.Stack=o,t.exports=i},function(t,e,n){var r=n(30),i=n(2),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},n.getDodgeOffset=function(t,e,n){var r=t.pre,i=t.next,a=i-r,o=a*this.dodgeRatio/n,s=this.marginRatio*o;return(r+i)/2+(.5*(a-n*o-(n-1)*s)+((e+1)*o+e*s)-.5*o-.5*a)},n.processAdjust=function(t){var e=this,n=t.length,r=e.xField;i(t,function(t,i){for(var a=0,o=t.length;a<o;a++){var s=t[a],u=s[r],l=e.getDodgeOffset({pre:u-.5,next:u+.5},i,n);s[r]=l}})},e}(r);r.Dodge=a,t.exports=a},function(t,e,n){var r=n(4),i=n(5),a=n(30),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){this.xField=null,this.yField=null},n.processAdjust=function(t){this.processStack(t)},n.processStack=function(t){var e=this.xField,n=this.yField,a=t.length,o={positive:{},negative:{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var s=0;s<a;s++)for(var u=t[s],l=0,c=u.length;l<c;l++){var h=u[l],f=h[n],d=(h[e]||0).toString();if(f=r(f)?f[1]:f,!i(f)){var p=f>=0?"positive":"negative";o[p][d]||(o[p][d]=0),h[n]=[o[p][d],f+o[p][d]],o[p][d]+=f}}},e}(a);a.Stack=o,t.exports=o},function(t,e,n){var r={merge:n(42),values:n(64)},i=n(144),a=n(2);t.exports={processAdjust:function(t){var e=r.merge(t),n=this.dodgeBy,a=t;n&&(a=i(e,n)),this.cacheMap={},this.adjDataArray=a,this.mergeData=e,this.adjustData(a,e),this.adjDataArray=null,this.mergeData=null},getDistribution:function(t){var e=this.cacheMap,n=e[t];return n||(n={},a(this.adjDataArray,function(e,i){var o=r.values(e,t);o.length||o.push(0),a(o,function(t){n[t]||(n[t]=[]),n[t].push(i)})}),e[t]=n),n},adjustDim:function(t,e,n,r,i){var o=this,s=o.getDistribution(t),u=o.groupData(n,t);a(u,function(n,r){var u;r=parseFloat(r),u=1===e.length?{pre:e[0]-1,next:e[0]+1}:o.getAdjustRange(t,r,e),a(n,function(e){var n=s[e[t]],r=n.indexOf(i);e[t]=o.getDodgeOffset(u,r,n.length)})})}}},function(t,e){t.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var e=this.xField,n=this.yField||"y",r=this.height,i={};this.reverseOrder&&(t=t.slice(0).reverse());for(var a=0,o=t.length;a<o;a++)for(var s=t[a],u=0,l=s.length;u<l;u++){var c=s[u],h=2*(c.size||this.size)/r,f=c[e];i[f]||(i[f]=h/2),c[n]=i[f],i[f]+=h}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(t,e,n){var r=n(2),i=n(8),a={merge:n(42)},o=n(30),s=n(150),u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},n.processAdjust=function(t){var e=a.merge(t);this.adjDataArray=t,this.mergeData=e,this.adjustData(t,e),this.adjFrames=null,this.mergeData=null},n.getAdjustOffset=function(t,e){var n=e-t;return t+.05*n+.9*n*Math.random()},n._adjustGroup=function(t,e,n,i){var a=this,o=a.getAdjustRange(e,n,i);r(t,function(t){t[e]=a.getAdjustOffset(o.pre,o.next)})},n.adjustDim=function(t,e,n){var i=this,a=i.groupData(n,t);r(a,function(n,r){r=parseFloat(r),i._adjustGroup(n,t,r,e)})},e}(o);i(u.prototype,s),o.Jitter=u,t.exports=u},function(t,e,n){var r=n(2),i=n(132),a=n(4),o={merge:n(42)},s=n(30),u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},n._getMax=function(t){var e=i(this.mergeData,function(e){var n=e[t];return a(n)?Math.max.apply(null,n):n})[t];return a(e)?Math.max.apply(null,e):e},n._getXValuesMax=function(){var t=this.yField,e=this.xField,n={};return r(this.mergeData,function(r){var i=r[e],o=r[t],s=a(o)?Math.max.apply(null,o):o;n[i]=n[i]||0,n[i]<s&&(n[i]=s)}),n},n.processAdjust=function(t){var e=o.merge(t);this.mergeData=e,this._processSymmetric(t),this.mergeData=null},n._processSymmetric=function(t){var e,n=this.xField,i=this.yField,o=this._getMax(i),s=t[0][0];s&&a(s[i])&&(e=this._getXValuesMax()),r(t,function(t){r(t,function(t){var s,u=t[i];if(a(u)){s=(o-e[t[n]])/2;var l=[];r(u,function(t){l.push(s+t)}),t[i]=l}else t[i]=[s=(o-u)/2,u+s]})})},e}(s);s.Symmetric=u,t.exports=u},function(t,e,n){var r,i,a=n(0),o=n(152),s=a.deepMix({},o,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(r={},r["g2-legend"]={color:"#D9D9D9"},r),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(i={},i["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},i),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});t.exports=s},function(t,e,n){var r=n(65),i=n(164),a=n(335),o=n(336);t.exports={getLabelsClass:function(t,e){var n=r;return"polar"===t?n=i:"theta"===t?n=a:"interval"!==e&&"polygon"!==e||(n=o),n}}},function(t,e,n){var r=n(31);r.Base=r,r.Circle=n(310),r.Grid=n(153),r.Helix=n(311),r.Line=n(312),r.Polyline=n(313),t.exports=r},function(t,e,n){function r(t,e,n,r){var i=t.getBBox(),a=i.width,o=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=o/2,s.textAlign="left";break;case 1:s.y-=o/2,s.textAlign="right";break;case 2:s.y+=o/2,s.textAlign="right";break;case 3:s.y+=o/2,s.textAlign="left";break;case 5:s.y-=o/2;break;case 6:s.y+=o/2;break;case 7:s.x+=a/2,s.textAlign="left";break;case 8:s.x-=a/2,s.textAlign="right"}return t.attr(s),t.getBBox()}var i=n(155);t.exports=function(t){for(var e,n,a,o,s,u=new i,l=[],c=0;c<t.length;c++){a=(n=t[c]).attr("x"),o=n.attr("y"),s=!1;for(var h=0;h<8;h++)if(e=r(n,a,o,h),u.hasGap(e)){u.fillGap(e),s=!0;break}s||l.push(n)}for(var f=0;f<l.length;f++)l[f].remove();return s}},function(t,e,n){function r(t,e){var n,r=t.attr("x"),i=t.attr("y"),o=t.getBBox(),s=Math.sqrt(o.width*o.width+o.height*o.height),u=1,l=0,c=0,h=function(t){return[(t*=.1)*Math.cos(t),t*Math.sin(t)]};if(e.hasGap(o))return e.fillGap(o),!0;for(var f=!1,d=0;Math.min(Math.abs(l),Math.abs(c))<s&&d<a;)if(n=h(u+=-1),t.attr({x:r+(l=~~n[0]),y:i+(c=~~n[1])}),d++,e.hasGap(t.getBBox())){e.fillGap(o),f=!0;break}return f}var i=n(155),a=20;t.exports=function(t){for(var e,n=new i,a=[],o=0;o<t.length;o++)r(e=t[o],n)||a.push(e);for(var s=0;s<a.length;s++)a[s].remove()}},function(t,e){t.exports=function(t,e){for(var n,r,i=[],a=0;a<t.length;a++)n=t[a].getBBox(),r=e[a].getBBox(),n.width>r.width||n.height>r.height?i.push(t[a]):n.width*n.height>r.width*r.height&&i.push(t[a]);for(var o=0;o<i.length;o++)i[o].remove()}},function(t,e,n){var r=n(3),i=n(31),a=r.MatrixUtil.vec2,o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},n.parseTick=function(t,e,n){return{text:t,value:e/n}},n._getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},n.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getCirclePoint(n)},n.getSideVector=function(t,e){var n=this.get("center"),i=[e.x-n.x,e.y-n.y];if(!r.isNil(t)){var o=a.length(i);a.scale(i,i,t/o)}return i},n.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},n.getTickEnd=function(t,e){var n=this.get("tickLine");return this.getSidePoint(t,e=e||n.length)},n.getTextAnchor=function(t){var e;return r.snapEqual(t[0],0)?e="center":t[0]>0?e="left":t[0]<0&&(e="right"),e},n.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),i=r,a=this.get("startAngle"),o=this.get("endAngle"),s=this.get("inner"),u=[];if(Math.abs(o-a)===2*Math.PI)u=[["M",e,n],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]];else{var l=this._getCirclePoint(a),c=this._getCirclePoint(o),h=Math.abs(o-a)>Math.PI?1:0,f=a>o?0:1;if(s){var d=this.getSideVector(s*r,l),p=this.getSideVector(s*r,c),g={x:d[0]+e,y:d[1]+n},v={x:p[0]+e,y:p[1]+n};u=[["M",g.x,g.y],["L",l.x,l.y],["A",r,i,0,h,f,c.x,c.y],["L",v.x,v.y],["A",r*s,i*s,0,h,Math.abs(f-1),g.x,g.y]]}else u=[["M",e,n],["L",l.x,l.y],["A",r,i,0,h,f,c.x,c.y],["L",e,n]]}return u},n.addLabel=function(e,n,r){var i=this.get("label").offset||this.get("_labelOffset")||.001;n=this.getSidePoint(n,i),t.prototype.addLabel.call(this,e,n,r)},n.autoRotateLabels=function(){var t=this.get("ticks"),e=this.get("labelRenderer");if(e&&t.length>12){var n=this.get("radius"),i=this.get("startAngle"),a=this.get("endAngle")-i,o=Math.sin(a/(t.length-1)/2)*n*2,s=this.getMaxLabelWidth(e);r.each(e.get("group").get("children"),function(e,n){var r=t[n].value*a+i,u=r%(2*Math.PI);s<o?(u<=0&&(r+=Math.PI),u>Math.PI&&(r-=Math.PI),r-=Math.PI/2,e.attr("textAlign","center")):u>Math.PI/2?r-=Math.PI:u<Math.PI/2*-1&&(r+=Math.PI),e.rotateAtStart(r)})}},e}(i);t.exports=o},function(t,e,n){var r=n(3),i=n(31),a=r.PathUtil,o=r.MatrixUtil.vec2,s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},n.getLinePath=function(){var t=this.get("crp"),e=this.get("axisStart"),n=a.catmullRomToBezier(t);return n.unshift(["M",e.x,e.y]),n},n.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getHelixPoint(n)},n._getHelixPoint=function(t){var e=this.get("center"),n=this.get("a")*t+this.get("inner");return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},n.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y];if(t){var i=o.length(r);o.scale(r,r,t/i)}return r},n.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},n.getTickEnd=function(t,e){var n=this.get("tickLine");return this.getSidePoint(t,e=e||n.length)},e}(i);t.exports=s},function(t,e,n){var r=n(31),i=n(3),a=i.MatrixUtil.vec2,o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},n._getAvgLabelLength=function(t){var e=t.get("group").get("children");return e[1].attr("x")-e[0].attr("x")},n._getAvgLabelHeightSpace=function(t){var e=t.get("group").get("children");return e[1].attr("y")-e[0].attr("y")},n.getSideVector=function(t){var e=this.get("isVertical"),n=this.get("factor");if(!i.isNumber(t))return[0,0];var r=this.get("start"),o=this.get("end"),s=this.getAxisVector(),u=a.normalize([],s),l=!1;(e&&r.y<o.y||!e&&r.x>o.x)&&(l=!0);var c=a.vertical([],u,l);return a.scale([],c,t*n)},n.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},n.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},n.getTickEnd=function(t,e){var n=this.getSideVector(e);return{x:t.x+n[0],y:t.y+n[1]}},n.getTickPoint=function(t){var e=this.get("start"),n=this.get("end");return{x:e.x+(n.x-e.x)*t,y:e.y+(n.y-e.y)*t}},n.renderTitle=function(){var t=this.get("title"),e=this.getTickPoint(.5),n=t.offset;if(i.isNil(n)){n=20;var r=this.get("labelsGroup");r&&(n+=this.getMaxLabelWidth(r)+(this.get("label").offset||this.get("_labelOffset")))}var o=t.textStyle,s=i.mix({},o);if(t.text){var u=this.getAxisVector();if(t.autoRotate&&i.isNil(o.rotate)){var l=0;i.snapEqual(u[1],0)||(l=a.angleTo([u[0],u[1]],[1,0],!0)),s.rotate=l*(180/Math.PI)}else i.isNil(o.rotate)||(s.rotate=o.rotate/180*Math.PI);var c,h=this.getSideVector(n),f=t.position;c="start"===f?{x:this.get("start").x+h[0],y:this.get("start").y+h[1]}:"end"===f?{x:this.get("end").x+h[0],y:this.get("end").y+h[1]}:{x:e.x+h[0],y:e.y+h[1]},s.x=c.x,s.y=c.y,s.text=t.text;var d=this.get("group").addShape("Text",{zIndex:2,attrs:s});d.name="axis-title",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo"))}},n.autoRotateLabels=function(){var t=this.get("labelRenderer"),e=this.get("title");if(t){var n=t.get("group").get("children"),r=this.get("label").offset,a=e?e.offset:48;if(a<0)return;var o,s,u=this.getAxisVector();if(i.snapEqual(u[0],0)&&e&&e.text)(s=this.getMaxLabelWidth(t))>a-r-12&&(o=-1*Math.acos((a-r-12)/s));else if(i.snapEqual(u[1],0)&&n.length>1){var l=Math.abs(this._getAvgLabelLength(t));(s=this.getMaxLabelWidth(t))>l&&(o=Math.asin(1.25*(a-r-12)/s))}if(o){var c=this.get("factor");i.each(n,function(t){t.rotateAtStart(o),i.snapEqual(u[1],0)&&t.attr("textAlign",c>0?"left":"right")})}}},n.autoHideLabels=function(){var t,e,n=this.get("labelRenderer");if(n){var r=n.get("group").get("children"),a=this.getAxisVector();if(r.length<2)return;if(i.snapEqual(a[0],0)){var o=this.getMaxLabelHeight(n)+8,s=Math.abs(this._getAvgLabelHeightSpace(n));o>s&&(t=o,e=s)}else if(i.snapEqual(a[1],0)&&r.length>1){var u=this.getMaxLabelWidth(n)+8,l=Math.abs(this._getAvgLabelLength(n));u>l&&(t=u,e=l)}if(t&&e){var c=Math.ceil(t/e);i.each(r,function(t,e){e%c!=0&&t.attr("text","")})}}},e}(r);t.exports=o},function(t,e,n){var r=n(3),i=n(31),a=r.PathUtil,o=r.MatrixUtil.vec2,s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"polyline"})},n.getLinePath=function(){var t=this.get("tickPoints"),e=this.get("start"),n=this.get("end"),i=[];i.push(e.x),i.push(e.y),r.each(t,function(t){i.push(t.x),i.push(t.y)}),i.push(n.x),i.push(n.y);var o=a.catmullRomToBezier(i);return o.unshift(["M",e.x,e.y]),o},n.getTickPoint=function(t,e){return this.get("tickPoints")[e]},n.getTickEnd=function(t,e,n){var r=this.get("tickLine"),i=this.getSideVector(e||r.length,t,n);return{x:t.x+i[0],y:t.y+i[1]}},n.getSideVector=function(t,e,n){var r;if(0===n){if((r=this.get("start")).x===e.x&&r.y===e.y)return[0,0]}else r=this.get("tickPoints")[n-1];var i=o.normalize([],[e.x-r.x,e.y-r.y]),a=o.vertical([],i,!1);return o.scale([],a,t)},e}(i);t.exports=s},function(t,e,n){t.exports={Guide:n(15),Arc:n(315),DataMarker:n(316),DataRegion:n(317),Html:n(318),Image:n(319),Line:n(320),Region:n(321),Text:n(322)}},function(t,e,n){function r(t,e){var n,r=t.x-e.x,i=t.y-e.y;return 0===i?n=r<0?o/2:270*o/180:r>=0&&i>0?n=2*o-s(r/i):r<=0&&i<0?n=o-s(r/i):r>0&&i<0?n=o+s(-r/i):r<0&&i>0&&(n=s(r/-i)),n}var i=n(3),a=n(15),o=Math.PI,s=Math.atan,u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},n.render=function(t,e){var n,a=this.parsePoint(t,this.get("start")),s=this.parsePoint(t,this.get("end")),u=t.getCenter(),l=Math.sqrt((a.x-u.x)*(a.x-u.x)+(a.y-u.y)*(a.y-u.y)),c=r(a,u),h=r(s,u);h<c&&(h+=2*o),n=i.isNumberEqual(a.x,s.x)&&i.isNumberEqual(a.y,s.y)&&(this.get("start")[0]!==this.get("end")[0]||this.get("start")[1]!==this.get("end")[1])?[["M",a.x,a.y],["A",l,l,0,1,1,2*u.x-a.x,2*u.y-a.y],["A",l,l,0,1,1,a.x,a.y]]:[["M",a.x,a.y],["A",l,l,0,(h-c)%(2*o)>o?1:0,1,s.x,s.y]];var f=e.addShape("path",{zIndex:this.get("zIndex"),attrs:i.mix({path:n},this.get("style"))});f.name="guide-arc",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo")),this.set("el",f)},e}(a);t.exports=u},function(t,e,n){var r=n(3),i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},n.render=function(t,e){var n=this.parsePoint(t,this.get("position")),r=e.addGroup();r.name="guide-data-marker";var i,a,o=this._getElementPosition(n),s=this.get("display");if(s.line&&(i=this._drawLine(o.line,r)),s.text&&this.get("content")&&(a=this._drawText(o.text,r)),s.point&&this._drawPoint(o.point,r),this.get("autoAdjust")){var u=r.getBBox(),l=u.minY,c=u.maxX,h=u.maxY,f=t.start,d=t.end;if(a){u.minX<=f.x&&a.attr("textAlign","start"),c>=d.x&&a.attr("textAlign","end");var p=this.get("direction");if("upward"===p&&l<=d.y||"upward"!==p&&h>=f.y){var g,v;"upward"===p&&l<=d.y?(g="top",v=1):(g="bottom",v=-1),a.attr("textBaseline",g);var m=0;this.get("display").line&&(m=this.get("lineLength"),i.attr("path",[["M",n.x,n.y],["L",n.x,n.y+m*v]])),a.attr("y",n.y+(m+2)*v)}}}this.get("appendInfo")&&r.setSilent("appendInfo",this.get("appendInfo")),this.set("el",r)},n._getElementPosition=function(t){var e=t.x,n=t.y,r=this.get("display").line?this.get("lineLength"):0,i=this.get("direction");this.get("style").text.textBaseline="upward"===i?"bottom":"top";var a="upward"===i?-1:1;return{point:{x:e,y:n},line:[{x:e,y:n},{x:e,y:r*a+n}],text:{x:e,y:(r+2)*a+n}}},n._drawLine=function(t,e){var n=this.get("style").line;return e.addShape("path",{attrs:r.mix({path:[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y]]},n)})},n._drawText=function(t,e){var n=this.get("style").text;return e.addShape("text",{attrs:r.mix({text:this.get("content")},n,t)})},n._drawPoint=function(t,e){var n=this.get("style").point;return e.addShape("circle",{attrs:r.mix({},n,t)})},e}(n(15));t.exports=i},function(t,e,n){var r=n(3),i=n(156),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},n.render=function(t,e,n){var i=this.get("lineLength")||0,a=this._getRegionData(t,n);if(a.length){var o=this._getBBox(a),s=[];s.push(["M",a[0].x,o.yMin-i]);for(var u=0,l=a.length;u<l;u++)s.push(["L",a[u].x,a[u].y]);s.push(["L",a[a.length-1].x,o.yMin-i]);var c=this.get("style"),h=c.region,f=c.text,d=e.addGroup();d.name="guide-data-region",d.addShape("path",{attrs:r.mix({path:s},h)});var p=this.get("content");p&&d.addShape("Text",{attrs:r.mix({x:(o.xMin+o.xMax)/2,y:o.yMin-i,text:p},f)}),this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),this.set("el",d)}},n._getRegionData=function(t,e){for(var n,a=this.get("start"),o=this.get("end"),s=i.getFirstScale(this.get("xScales")).field,u=i.getFirstScale(this.get("yScales")).field,l=r.isArray(a)?a[0]:a[s],c=r.isArray(o)?o[0]:o[s],h=[],f=0,d=e.length;f<d;f++){var p=e[f];if(p[s]===l&&(n=f),f>=n&&h.push(this.parsePoint(t,[p[s],p[u]])),p[s]===c)break}return h},n._getBBox=function(t){for(var e=[],n=[],i=0;i<t.length;i++)e.push(t[i].x),n.push(t[i].y);var a=r.arrayUtil.getRange(e),o=r.arrayUtil.getRange(n);return{xMin:a.min,xMax:a.max,yMin:o.min,yMax:o.max}},e}(n(15));t.exports=a},function(t,e,n){var r=n(3),i=r.DomUtil,a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},n.render=function(t,e){var n=this.parsePoint(t,this.get("position")),a=e.get("canvas").get("el").parentNode,o=i.createDom('<div class="g-guide"></div>');a.appendChild(o);var s=this.get("htmlContent")||this.get("html");r.isFunction(s)&&(s=s(this.get("xScales"),this.get("yScales")));var u=i.createDom(s);o.appendChild(u),i.modifyCSS(o,{position:"absolute"}),this._setDomPosition(o,u,n),this.set("el",o)},n._setDomPosition=function(t,e,n){var r=this.get("alignX"),a=this.get("alignY"),o=i.getOuterWidth(e),s=i.getOuterHeight(e),u={x:n.x,y:n.y};"middle"===r&&"top"===a?u.x-=Math.round(o/2):"middle"===r&&"bottom"===a?(u.x-=Math.round(o/2),u.y-=Math.round(s)):"left"===r&&"bottom"===a?u.y-=Math.round(s):"left"===r&&"middle"===a?u.y-=Math.round(s/2):"left"===r&&"top"===a?(u.x=n.x,u.y=n.y):"right"===r&&"bottom"===a?(u.x-=Math.round(o),u.y-=Math.round(s)):"right"===r&&"middle"===a?(u.x-=Math.round(o),u.y-=Math.round(s/2)):"right"===r&&"top"===a?u.x-=Math.round(o):(u.x-=Math.round(o/2),u.y-=Math.round(s/2));var l=this.get("offsetX");l&&(u.x+=l);var c=this.get("offsetY");c&&(u.y+=c),i.modifyCSS(t,{top:Math.round(u.y)+"px",left:Math.round(u.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},n.clear=function(){var t=this.get("el");t&&t.parentNode&&t.parentNode.removeChild(t)},e}(n(15));t.exports=a},function(t,e,n){var r=n(3),i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},n.render=function(t,e){var n=this.parsePoint(t,this.get("start")),r={x:n.x,y:n.y};if(r.img=this.get("src"),this.get("end")){var i=this.parsePoint(t,this.get("end"));r.width=i.x-n.x,r.height=i.y-n.y}else r.width=this.get("width")||32,r.height=this.get("height")||32;this.get("offsetX")&&(r.x+=this.get("offsetX")),this.get("offsetY")&&(r.y+=this.get("offsetY"));var a=e.addShape("Image",{zIndex:1,attrs:r});a.name="guide-image",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),this.set("el",a)},e}(n(15));t.exports=i},function(t,e,n){var r=n(3),i=n(15),a=r.MatrixUtil.vec2,o=n(14).FONT_FAMILY,s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:o},content:null}})},n.render=function(t,e){var n=this.parsePoint(t,this.get("start")),r=this.parsePoint(t,this.get("end")),i=e.addGroup({viewId:e.get("viewId")});this._drawLines(n,r,i);var a=this.get("text");a&&a.content&&this._drawText(n,r,i),this.set("el",i)},n._drawLines=function(t,e,n){var i=n.addShape("Path",{attrs:r.mix({path:[["M",t.x,t.y],["L",e.x,e.y]]},this.get("lineStyle"))});i.name="guide-line",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo"))},n._drawText=function(t,e,n){var i,o=this.get("text"),s=o.position,u=o.style||{};((i="start"===s?0:"center"===s?.5:r.isString(s)&&-1!==s.indexOf("%")?parseInt(s,10)/100:r.isNumber(s)?s:1)>1||i<0)&&(i=1);var l={x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i};if(o.offsetX&&(l.x+=o.offsetX),o.offsetY&&(l.y+=o.offsetY),l.text=o.content,l=r.mix({},l,u),o.autoRotate&&r.isNil(u.rotate)){var c=a.angleTo([e.x-t.x,e.y-t.y],[1,0],1);l.rotate=c}else r.isNil(u.rotate)||(l.rotate=u.rotate*Math.PI/180);var h=n.addShape("Text",{attrs:l});h.name="guide-line-text",this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo"))},e}(i);t.exports=s},function(t,e,n){var r=n(3),i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},n.render=function(t,e){var n=this.get("style"),i=this._getPath(t),a=e.addShape("path",{zIndex:this.get("zIndex"),attrs:r.mix({path:i},n)});a.name="guide-region",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),this.set("el",a)},n._getPath=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end"));return[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]]},e}(n(15));t.exports=i},function(t,e,n){var r=n(3),i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},n.render=function(t,e){var n=this.parsePoint(t,this.get("position")),i=r.mix({},this.get("style")),a=this.get("offsetX"),o=this.get("offsetY");a&&(n.x+=a),o&&(n.y+=o),i.rotate&&(i.rotate=i.rotate*Math.PI/180);var s=e.addShape("Text",{zIndex:this.get("zIndex"),attrs:r.mix({text:this.get("content")},i,n)});s.name="guide-text",this.get("appendInfo")&&s.setSilent("appendInfo",this.get("appendInfo")),this.set("el",s)},e}(n(15));t.exports=i},function(t,e,n){var r=n(154);t.exports=r},function(t,e,n){t.exports={Category:n(157),CatHtml:n(159),CatPageHtml:n(325),Color:n(326),Size:n(328),CircleSize:n(329)}},function(t,e,n){function r(t,e){return t.getElementsByClassName(e)[0]}var i=n(3),a=n(159),o=n(14).FONT_FAMILY,s=i.DomUtil,u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:o,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;">1</p><p class="next-pagenum" style = "display:inline-block;">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},n.render=function(){t.prototype._renderHTML.call(this),this._renderFlipPage()},n._renderFlipPage=function(){var t=document.getElementsByClassName("g2-legend")[0],e=r(t,"g2-legend-list"),n=this.get("position"),a=this.get("layout"),o="right"===n||"left"===n||"vertical"===a?"block":"inline-block";if(t.scrollHeight>t.offsetHeight){var u=this.get("slipTpl"),l=s.createDom(u),c=r(l,"g2-caret-up"),h=r(l,"g2-caret-down");s.modifyCSS(c,this.get("caretStyle")),s.modifyCSS(c,{fill:"rgba(0,0,0,0.25)"}),s.modifyCSS(h,this.get("caretStyle"));var f=r(l,"cur-pagenum"),d=r(l,"next-pagenum"),p=this.get("pageNumStyle");s.modifyCSS(f,i.mix({},p,{paddingLeft:"10px"})),s.modifyCSS(d,i.mix({},p,{opacity:.3,paddingRight:"10px"})),s.modifyCSS(l,i.mix({},this.get("slipDomStyle"),{top:t.offsetHeight+"px"})),t.style.overflow=this.get("legendOverflow"),t.appendChild(l);for(var g=e.childNodes,v=0,m=1,y=[],x=0;x<g.length;x++)g[x].style.display=o,(v=g[x].offsetTop+g[x].offsetHeight)>=t.offsetHeight&&(m++,y.forEach(function(t){t.style.display="none"}),y=[]),y.push(g[x]);d.innerText="/"+m,g.forEach(function(e){e.style.display=o,(v=e.offsetTop+e.offsetHeight)>t.offsetHeight&&(e.style.display="none")}),c.addEventListener("click",function(){if(g[0].style.display!==o){var e=-1;g.forEach(function(t,n){t.style.display===o&&(e=-1===e?n:e,t.style.display="none")});for(var n=e-1;n>=0&&(g[n].style.display=o,v=g[e-1].offsetTop+g[e-1].offsetHeight,g[n].style.display="none",v<t.offsetHeight);n--)g[n].style.display=o;var r=Number.parseInt(f.innerText,10)-1;c.style.fill=1===r?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",h.style.fill="rgba(0,0,0,0.65)",f.innerText=r}}),h.addEventListener("click",function(){if(g[g.length-1].style.display!==o){var e=-1;g.forEach(function(t,n){t.style.display===o&&(e=n,t.style.display="none")});for(var n=e+1;n<g.length&&(g[n].style.display=o,v=g[n].offsetTop+g[n].offsetHeight,g[n].style.display="none",v<t.offsetHeight);n++)g[n].style.display=o;var r=Number.parseInt(f.innerText,10)+1;h.style.fill=r===o?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",c.style.fill="rgba(0,0,0,0.65)",f.innerText=r}}),this.set("slipDom",l)}},n.destroy=function(){t.prototype.destroy.call(this);var e=this.get("slipDom");e&&e.parentNode&&e.parentNode.removeChild(e)},e}(a);t.exports=u},function(t,e,n){var r=n(73).ColorUtil,i=n(3),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},n._setPercentage=function(){var t=this.get("items");if(!t[0].percentage){var e=t[0].value,n=t[t.length-1].value;i.each(t,function(t){t.percentage=(t.value-e)/(n-e)})}},n._renderSliderShape=function(){this._setPercentage();var t,e=this.get("slider").get("backgroundElement"),n=this.get("width"),a=this.get("height"),o=this.get("layout"),s=this.get("items"),u="";return"vertical"===o?(u+="l (90) ",i.each(s,function(e){t=r.toRGB(e.color),u+=1-e.percentage+":"+t+" "})):(u+="l (0) ",i.each(s,function(e){t=r.toRGB(e.color),u+=e.percentage+":"+t+" "})),this._addMiddleBar(e,"Rect",{x:0,y:0,width:n,height:a,fill:u,strokeOpacity:0})},n._renderUnslidable=function(){this._setPercentage();var t=this.get("titleShape"),e=this.get("titleGap");e=t?t.getBBox().height+e:e;var n,a=this.get("width"),o=this.get("height"),s=this.get("layout"),u=this.get("items"),l="",c=[],h=this.get("group").addGroup(),f=u.length;if("vertical"===s){l+="l (90) ";for(var d=0;d<f;d+=1){if(0!==d&&d!==f-1&&(c.push(["M",0,o-u[d].percentage*o]),c.push(["L",a,o-u[d].percentage*o])),n=r.toRGB(u[d].color),l+=1-u[d].percentage+":"+n+" ",this.get("isSegment")&&d>0){var p=r.toRGB(u[d-1].color);l+=1-u[d].percentage+":"+p+" "}h.addShape("text",{attrs:i.mix({},{x:a+this.get("textOffset")/2,y:o-u[d].percentage*o,text:this._formatItemValue(u[d].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{l+="l (0) ";for(var g=0;g<f;g+=1){if(0!==g&&g!==f-1&&(c.push(["M",u[g].percentage*a,0]),c.push(["L",u[g].percentage*a,o])),n=r.toRGB(u[g].color),this.get("isSegment")&&g>0){var v=r.toRGB(u[g-1].color);l+=u[g].percentage+":"+v+" "}l+=u[g].percentage+":"+n+" ",h.addShape("text",{attrs:i.mix({},{x:u[g].percentage*a,y:o+5+this.get("textOffset"),text:this._formatItemValue(u[g].value)+""},this.get("textStyle"))})}}h.addShape("rect",{attrs:{x:0,y:0,width:a,height:o,fill:l,strokeOpacity:0}}),h.addShape("path",{attrs:i.mix({path:c},this.get("lineStyle"))}),h.move(0,e)},e}(n(67));t.exports=a},function(t,e,n){var r=n(3),i=r.DomUtil,a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},n._beforeRenderUI=function(){var t=this.get("layout"),e=this.get("backgroundElement"),n=this.get("minHandleElement"),r=this.get("maxHandleElement"),i=this.addShape("rect",{attrs:this.get("middleAttr")}),a="vertical"===t?"ns-resize":"ew-resize";this.add([e,n,r]),this.set("middleHandleElement",i),e.set("zIndex",0),i.set("zIndex",1),n.set("zIndex",2),r.set("zIndex",2),i.attr("cursor","move"),n.attr("cursor",a),r.attr("cursor",a),this.sort()},n._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},n._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),a=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");o.resetMatrix(),s.resetMatrix(),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:a}),o.translate(n*i,a),s.translate(r*i,a)):(u.attr({x:0,y:a*(1-r),width:i,height:(r-n)*a}),o.translate(1,(1-n)*a),s.translate(1,(1-r)*a))},n._renderHorizontal=function(){this._transform("horizontal")},n._renderVertical=function(){this._transform("vertical")},n._bindUI=function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},n._isElement=function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&n.get("children").indexOf(t)>-1},n._getRange=function(t,e){var n=t+e;return(n=n>100?100:n)<0?0:n},n._updateStatus=function(t,e){var n=this.get("x"===t?"width":"height");t=r.upperFirst(t);var i,a=this.get("range"),o=this.get("page"+t),s=this.get("currentTarget"),u=this.get("rangeStash"),l="vertical"===this.get("layout")?-1:1,c=e["page"+t],h=(c-o)/n*100*l;a[1]<=a[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(a[0]=this._getRange(h,a[0]),a[1]=this._getRange(h,a[0])):(this._isElement(s,"minHandleElement")&&(a[0]=this._getRange(h,a[0])),this._isElement(s,"maxHandleElement")&&(a[1]=this._getRange(h,a[1]))),this._isElement(s,"middleHandleElement")&&(i=u[1]-u[0],a[0]=this._getRange(h,a[0]),a[1]=a[0]+i,a[1]>100&&(a[1]=100,a[0]=a[1]-i)),this.emit("sliderchange",{range:a}),this.set("page"+t,c),this._renderUI(),this.get("canvas").draw()},n._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},n._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=i.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=i.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=i.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},n._onCanvasMouseMove=function(t){this._mouseOutArea(t)||("horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t))},n._onCanvasMouseUp=function(){this._removeDocumentEvents()},n._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},n._mouseOutArea=function(t){var e=this.get("canvas").get("el").getBoundingClientRect(),n=this.get("parent"),r=n.getBBox(),i=n.attr("matrix")[6],a=n.attr("matrix")[7],o=t.clientX-e.x,s=t.clientY-e.y;return o<i||o>i+r.width||s<a||s>a+r.height},e}(r.Group);t.exports=a},function(t,e,n){var r=n(3),i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},n._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n=this.get("width"),i=this.get("height"),a=this.get("height")/2,o=this.get("frontMiddleBarStyle");return this._addMiddleBar(t,"Polygon",r.mix({points:"vertical"===e?[[0,0],[n,0],[n,i],[n-4,i]]:[[0,a+i/2],[0,a+i/2-4],[n,a-i/2],[n,a+i/2]]},o))},n._renderUnslidable=function(){var t=this.get("layout"),e=this.get("width"),n=this.get("height"),i=this.get("frontMiddleBarStyle"),a="vertical"===t?[[0,0],[e,0],[e,n],[e-4,n]]:[[0,n],[0,n-4],[e,0],[e,n]];this.get("group").addGroup().addShape("Polygon",{attrs:r.mix({points:a},i)});var o=this._formatItemValue(this.get("firstItem").value),s=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(e+10,n-3,o),this._addText(e+10,3,s)):(this._addText(0,n,o),this._addText(e,n,s))},n._addText=function(t,e,n){var i=this.get("group").addGroup(),a=this.get("textStyle"),o=this.get("titleShape"),s=this.get("titleGap");o&&(s+=o.getBBox().height),"vertical"===this.get("layout")?i.addShape("text",{attrs:r.mix({x:t+this.get("textOffset"),y:e,text:0===n?"0":n},a)}):(e+=s+this.get("textOffset")-20,o||(e+=10),i.addShape("text",{attrs:r.mix({x:t,y:e,text:0===n?"0":n},a)}))},e}(n(67));t.exports=i},function(t,e,n){var r=n(3),i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},n._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n="vertical"===e?2:this.get("width"),i="vertical"===e?this.get("height"):2,a=this.get("height")/2,o=this.get("frontMiddleBarStyle");return this._addMiddleBar(t,"Polygon",r.mix({points:"vertical"===e?[[0,0],[n,0],[n,i],[0,i]]:[[0,a+i],[0,a-i],[5+n-4,a-i],[5+n-4,a+i]]},o))},n._addHorizontalTrigger=function(t,e,n,i){var a=this.get("slider").get(t+"HandleElement"),o=-this.get("height")/2,s=a.addShape("circle",{attrs:r.mix({x:0,y:o,r:i},e)}),u=a.addShape("text",{attrs:r.mix(n,{x:0,y:o+i+10,textAlign:"center",textBaseline:"middle"})}),l="vertical"===this.get("layout")?"ns-resize":"ew-resize";s.attr("cursor",l),u.attr("cursor",l),this.set(t+"ButtonElement",s),this.set(t+"TextElement",u)},n._addVerticalTrigger=function(t,e,n,i){var a=this.get("slider").get(t+"HandleElement"),o=a.addShape("circle",{attrs:r.mix({x:0,y:0,r:i},e)}),s=a.addShape("text",{attrs:r.mix(n,{x:i+10,y:0,textAlign:"start",textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",u),s.attr("cursor",u),this.set(t+"ButtonElement",o),this.set(t+"TextElement",s)},n._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),i=this.get("textStyle"),a=this.get("triggerAttr"),o=r.mix({},a),s=r.mix({},a),u=r.mix({text:this._formatItemValue(t.value)+""},i),l=r.mix({text:this._formatItemValue(e.value)+""},i);"vertical"===n?(this._addVerticalTrigger("min",o,u,5),this._addVerticalTrigger("max",s,l,16)):(this._addHorizontalTrigger("min",o,u,5),this._addHorizontalTrigger("max",s,l,16))},n._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(e){var n=e.range,r=t.get("firstItem").value,i=t.get("lastItem").value,a=r+n[0]/100*(i-r),o=r+n[1]/100*(i-r);t._updateElement(a,o,5+n[0]/100*11,5+n[1]/100*11);var s=new Event("itemfilter",e,!0,!0);s.range=[a,o],t.emit("itemfilter",s)})},n._updateElement=function(e,n,r,i){t.prototype._updateElement.call(this,e,n);var a=this.get("minTextElement"),o=this.get("maxTextElement"),s=this.get("minButtonElement"),u=this.get("maxButtonElement");if(s.attr("r",r),u.attr("r",i),"vertical"===this.get("layout"))a.attr("x",r+10),o.attr("x",i+10);else{var l=-this.get("height")/2;a.attr("y",l+r+10),o.attr("y",l+i+10)}},n._addCircle=function(t,e,n,i,a){var o=this.get("group").addGroup(),s=this.get("_unslidableCircleStyle"),u=this.get("textStyle"),l=this.get("titleShape"),c=this.get("titleGap");l&&(c+=l.getBBox().height),o.addShape("circle",{attrs:r.mix({x:t,y:e+c,r:0===n?1:n},s)}),"vertical"===this.get("layout")?o.addShape("text",{attrs:r.mix({x:a+20+this.get("textOffset"),y:e+c,text:0===i?"0":i},u)}):o.addShape("text",{attrs:r.mix({x:t,y:e+c+a+13+this.get("textOffset"),text:0===i?"0":i},u)})},n._renderUnslidable=function(){var t=this.get("firstItem").value,e=this.get("lastItem").value;if(t>e){var n=e;e=t,t=n}var r=this._formatItemValue(t),i=this._formatItemValue(e),a=t<5?5:t,o=e>16?16:e;a>o&&(a=5,o=16),"vertical"===this.get("layout")?(this._addCircle(o,o,a,r,2*o),this._addCircle(o,2*o+16+a,o,i,2*o)):(this._addCircle(o,o,a,r,2*o),this._addCircle(2*o+16+a,o,o,i,2*o))},n.activate=function(e){this.get("slidable")&&t.prototype.activate.call(this,e)},e}(n(67));t.exports=i},function(t,e,n){var r=n(68);r.Html=n(331),r.Canvas=n(163),r.Mini=n(333),t.exports=r},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return t.getElementsByClassName(e)[0]}var a=n(68),o=n(3),s=o.DomUtil,u=n(332),l=n(160),c=n(161),h=n(162),f=function(t){function e(e){var n;n=t.call(this,e)||this,o.assign(r(r(n)),c),o.assign(r(r(n)),h),n.style=function(t,e){return Object.keys(t).forEach(function(n){e[n]&&(t[n]=o.mix(t[n],e[n]))}),t}(u,e),n._init_(),n.get("items")&&n.render();var i=n.get("crosshairs");if(i){var a=n.get("rect"===i.type?"backPlot":"frontPlot"),s=new l(o.mix({plot:a,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));s.hide(),n.set("crosshairGroup",s)}return n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{containerTpl:' <div class="g2-tooltip"> <div class="g2-tooltip-title"></div><ul class="g2-tooltip-list"></ul></div>',itemTpl:'<li data-index={index}><span style="background-color:{color};" class=g2-tooltip-marker></span>{name}<span class=g2-tooltip-value>{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},n._init_=function(){var t,e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(e)){var r=e.replace("#","");t=document.getElementById(r)}else t=s.createDom(e),s.modifyCSS(t,this.style["g2-tooltip"]),n.appendChild(t),n.style.position="relative";this.set("container",t)}},n.render=function(){if(this.clear(),this.get("htmlContent")){var t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent();t.appendChild(e),this.set("container",e)}else this._renderTpl()},n._renderTpl=function(){var t=this,e=t.get("showTitle"),n=t.get("titleContent"),r=t.get("container"),a=i(r,"g2-tooltip-title"),u=i(r,"g2-tooltip-list"),l=t.get("items");a&&e&&(s.modifyCSS(a,t.style["g2-tooltip-title"]),a.innerHTML=n),u&&(s.modifyCSS(u,t.style["g2-tooltip-list"]),o.each(l,function(e,n){u.appendChild(t._addItem(e,n))}))},n.clear=function(){var t=this.get("container");if(this.get("htmlContent"))t&&t.remove();else{var e=i(t,"g2-tooltip-title"),n=i(t,"g2-tooltip-list");e&&(e.innerHTML=""),n&&(n.innerHTML="")}},n.show=function(){var e=this.get("container");if(e){e.style.visibility="visible",e.style.display="block";var n=this.get("crosshairGroup");n&&n.show();var r=this.get("markerGroup");r&&r.show(),t.prototype.show.call(this),this.get("canvas").draw()}},n.hide=function(){var e=this.get("container");if(e){e.style.visibility="hidden",e.style.display="none";var n=this.get("crosshairGroup");n&&n.hide();var r=this.get("markerGroup");r&&r.hide(),t.prototype.hide.call(this),this.get("canvas").draw()}},n.destroy=function(){var e=this.get("container"),n=this.get("containerTpl");e&&!/^\#/.test(n)&&e.parentNode.removeChild(e);var r=this.get("crosshairGroup");r&&r.destroy();var i=this.get("markerGroup");i&&i.remove(),t.prototype.destroy.call(this)},n._addItem=function(t,e){var n=this.get("itemTpl"),r=o.substitute(n,o.mix({index:e},t)),a=s.createDom(r);s.modifyCSS(a,this.style["g2-tooltip-list-item"]);var u=i(a,"g2-tooltip-marker");u&&s.modifyCSS(u,this.style["g2-tooltip-marker"]);var l=i(a,"g2-tooltip-value");return l&&s.modifyCSS(l,this.style["g2-tooltip-value"]),a},n._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return s.createDom(t)},n.setPosition=function(e,n,r){var i,a=this.get("container"),u=this.get("canvas").get("el"),l=s.getWidth(u),c=s.getHeight(u),h=a.clientWidth,f=a.clientHeight,d=e,p=n,g=this.get("prePosition")||{x:0,y:0};if(this.get("enterable"))i=[e,n-=a.clientHeight/2],g&&e-g.x>0?e-=a.clientWidth+1:e+=1;else if(this.get("position")){var v=a.clientWidth,m=a.clientHeight;e=(i=this._calcTooltipPosition(e,n,this.get("position"),v,m,r))[0],n=i[1]}else e=(i=this._constraintPositionInBoundary(e,n,h,f,l,c))[0],n=i[1];if(this.get("inPlot")){var y=this.get("plotRange");e=(i=this._constraintPositionInPlot(e,n,h,f,y,this.get("enterable")))[0],n=i[1]}var x=this.get("markerItems");o.isEmpty(x)||(d=x[0].x,p=x[0].y),this.set("prePosition",i),this.get("follow")&&(a.style.left=e+"px",a.style.top=n+"px");var b=this.get("crosshairGroup");if(b){var _=this.get("items");b.setPosition(d,p,_)}t.prototype.setPosition.call(this,e,n)},e}(a);t.exports=f},function(t,e,n){var r,i=n(14).FONT_FAMILY,a=((r={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:i,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={marginBottom:"4px"},r["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r);t.exports=a},function(t,e,n){var r=n(3),i=n(163),a=n(14).FONT_FAMILY,o=r.DomUtil,s=r.MatrixUtil,u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:a,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},n._init_=function(){var t=this.get("padding"),e=this.get("frontPlot").addGroup();this.set("container",e);var n=e.addShape("rect",{attrs:r.mix({},this.get("boardStyle"))});this.set("board",n);var i=e.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",i);var a=e.addGroup();a.move(t.left,t.top);var o=a.addShape("text",{attrs:r.mix({},this.get("valueStyle"))});this.set("valueShape",o)},n.render=function(){this.clear();var t=this.get("board"),e=this.get("valueShape"),n=this.get("padding"),r=this.get("items")[0];e&&e.attr("text",r.value);var i=e?e.getBBox():{width:80,height:30},a=n.top+i.height+n.bottom;t.attr("width",n.left+i.width+n.right),t.attr("height",a),this._centerTriangleShape()},n.clear=function(){this.get("valueShape").attr("text","")},n.setPosition=function(t,e,n){var r=this.get("container"),i=this.get("plotRange"),a=r.getBBox(),u=a.width,l=a.height;if(t-=u/2,!n||"point"!==n.name&&"interval"!==n.name||(e=n.getBBox().y),e-=l,this.get("inPlot"))t<i.tl.x?(t=i.tl.x,this._leftTriangleShape()):t+u/2>i.tr.x?(t=i.tr.x-u,this._rightTriangleShape()):this._centerTriangleShape(),e<i.tl.y?e=i.tl.y:e+l>i.bl.y&&(e=i.bl.y-l);else{var c=this.get("canvas").get("el"),h=o.getWidth(c),f=o.getHeight(c);t<0?(t=0,this._leftTriangleShape()):t+u/2>h?(t=h-u,this._rightTriangleShape()):this._centerTriangleShape(),e<0?e=0:e+l>f&&(e=f-l)}var d=s.transform([1,0,0,0,1,0,0,0,1],[["t",t,e]]);r.stopAnimate(),r.animate({matrix:d},this.get("animationDuration"))},n._centerTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,a=r.height;t.attr("path",[["M",0,0],["L",e,0],["L",e/2,n],["L",0,0],["Z"]]),t.move(i/2-e/2,a-1)},n._leftTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox().height;t.attr("path",[["M",0,0],["L",e,0],["L",0,n+3],["L",0,0],["Z"]]),t.move(0,r-3)},n._rightTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,a=r.height;t.attr("path",[["M",0,0],["L",e,0],["L",e,n+4],["L",0,0],["Z"]]),t.move(i-e-1,a-4)},e}(i);t.exports=u},function(t,e,n){var r=n(0).MatrixUtil.vec2;t.exports={catmullRom2bezier:function(t,e,n){for(var i=!!e,a=[],o=0,s=t.length;o<s;o+=2)a.push([t[o],t[o+1]]);for(var u,l,c,h=function(t,e,n,i){var a,o,s,u,l=[],c=!!i;if(c){s=[1/0,1/0],u=[-1/0,-1/0];for(var h=0,f=t.length;h<f;h++){var d=t[h];s=r.min([],s,d),u=r.max([],u,d)}s=r.min([],s,i[0]),u=r.max([],u,i[1])}for(var p=0,g=t.length;p<g;p++){var v=t[p];if(n)a=t[p?p-1:g-1],o=t[(p+1)%g];else{if(0===p||p===g-1){l.push(v);continue}a=t[p-1],o=t[p+1]}var m=[];m=r.sub(m,o,a),m=r.scale(m,m,.4);var y=r.distance(v,a),x=r.distance(v,o),b=y+x;0!==b&&(y/=b,x/=b);var _=r.scale([],m,-y),w=r.scale([],m,x),S=r.add([],v,_),M=r.add([],v,w);c&&(S=r.max([],S,s),S=r.min([],S,u),M=r.max([],M,s),M=r.min([],M,u)),l.push(S),l.push(M)}return n&&l.push(l.shift()),l}(a,0,i,n),f=a.length,d=[],p=0;p<f-1;p++)d.push(["C",(u=h[2*p])[0],u[1],(l=h[2*p+1])[0],l[1],(c=a[p+1])[0],c[1]]);return i&&d.push(["C",(u=h[f])[0],u[1],(l=h[f+1])[0],l[1],(c=a[0])[0],c[1]]),d}}},function(t,e,n){function r(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}var i=n(0),a=n(164),o=n(22),s=n(7),u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{label:s.thetaLabels}},n.getDefaultOffset=function(t){return t.offset||0},n.adjustItems=function(e){var n=e[0]?e[0].offset:0;return n>0&&(e=this._distribute(e,n)),t.prototype.adjustItems.call(this,e)},n._distribute=function(t,e){var n=this.get("coord"),r=n.getRadius(),i=this.get("label").labelHeight,a=n.getCenter(),o=2*(r+e)+2*i,s={start:n.start,end:n.end},u=this.get("geom");if(u){var l=u.get("view");s=l.getViewRegion()}var c=[[],[]];return t.forEach(function(t){t&&("right"===t.textAlign?c[0].push(t):c[1].push(t))}),c.forEach(function(t,e){var n=parseInt(o/i,10);t.length>n&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(n,t.length-n)),t.sort(function(t,e){return t.y-e.y}),function(t,e,n,r,i){var a,o=!0,s=n.start,u=n.end,l=Math.min(s.y,u.y),c=Math.abs(s.y-u.y),h=0,f=Number.MIN_VALUE,d=t.map(function(t){return t.y>h&&(h=t.y),t.y<f&&(f=t.y),{size:e,targets:[t.y-l]}});for(f-=l,h-l>c&&(c=h-l);o;)for(d.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),c-t.size)}),o=!1,a=d.length;a--;)if(a>0){var p=d[a-1],g=d[a];p.pos+p.size>g.pos&&(p.size+=g.size,p.targets=p.targets.concat(g.targets),p.pos+p.size>c&&(p.pos=c-p.size),d.splice(a,1),o=!0)}a=0,d.forEach(function(n){var r=l+e/2;n.targets.forEach(function(){t[a].y=n.pos+r,r+=e,a++})}),t.forEach(function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var a=Math.sqrt(e-n);t.x=i?r.x+a:r.x-a}})}(t,i,s,a,e)}),c[0].concat(c[1])},n.lineToLabel=function(t){var e=this.get("coord"),n=e.getRadius(),i=t.offset,a=t.orignAngle||t.angle,o=e.getCenter(),s=r(o,a,n+2.5),u=r(o,a,n+i/2);t.labelLine||(t.labelLine=this.get("label").labelLine||{}),t.labelLine.path=["M"+s.x,s.y+" Q"+u.x,u.y+" "+t.x,t.y].join(",")},n.getLabelRotate=function(t,e){var n;return e<0&&((n=180*t/Math.PI)>90&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},n.getLabelAlign=function(t){var e,n=this.get("coord").getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",this.getDefaultOffset(t)<=0&&(e="right"===e?"left":"right"),e},n.getArcPoint=function(t){return t},n.getPointAngle=function(t){var e=this.get("coord"),n={x:i.isArray(t.x)?t.x[0]:t.x,y:t.y[0]};this.transLabelPoint(n);var r={x:i.isArray(t.x)?t.x[1]:t.x,y:t.y[1]};this.transLabelPoint(r);var a,s=o.getPointAngle(e,n);if(t.points&&t.points[0].y===t.points[1].y)a=s;else{var u=o.getPointAngle(e,r);s>=u&&(u+=2*Math.PI),a=s+(u-s)/2}return a},n.getCirclePoint=function(t,e){var n=this.get("coord"),i=n.getCenter(),a=n.getRadius()+e,o=r(i,t,a);return o.angle=t,o.r=a,o},e}(a);t.exports=u},function(t,e,n){var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.setLabelPosition=function(t,e,n,i){r.isFunction(i)&&(i=i(t.text,e._origin,n));var a=this.get("coord"),o=a.isTransposed,s=a.convertPoint(e.points[0]),u=a.convertPoint(e.points[2]),l=(s.x-u.x)/2*(o?-1:1),c=(s.y-u.y)/2*(o?-1:1);switch(i){case"right":o?(t.x-=l,t.y+=c,t.textAlign=t.textAlign||"center"):(t.x-=l,t.y+=c,t.textAlign=t.textAlign||"left");break;case"left":o?(t.x-=l,t.y-=c,t.textAlign=t.textAlign||"center"):(t.x+=l,t.y+=c,t.textAlign=t.textAlign||"right");break;case"bottom":o?(t.x-=2*l,t.textAlign=t.textAlign||"left"):(t.y+=2*c,t.textAlign=t.textAlign||"center");break;case"middle":o?t.x-=l:t.y+=c,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=o?t.textAlign||"left":t.textAlign||"center"}},e}(n(65));t.exports=i},function(t,e,n){function r(t){return t.alias||t.field}var i=n(0),a=n(7).defaultColor,o={_getIntervalSize:function(t){var e=null,n=this.get("type"),r=this.get("coord");if(r.isRect&&("interval"===n||"schema"===n)){e=this.getSize(t._origin);var a=r.isTransposed?"y":"x";i.isArray(t[a])&&(e=e<Math.abs(t[a][1]-t[a][0])?null:e)}return e},_snapEqual:function(t,e,n){return t=n.translate(t),e=n.translate(e),n.isCategory?t===e:i.snapEqual(t,e)},_getScaleValueByPoint:function(t){var e=0,n=this.get("coord"),r=this.getXScale(),i=n.invert(t).x;return this.isInCircle()&&i>(1+r.rangeMax())/2&&(i=r.rangeMin()),e=r.invert(i),r.isCategory&&(e=r.translate(e)),e},_getOriginByPoint:function(t){var e=this.getXScale(),n=this.getYScale(),r=e.field,i=n.field,a=this.get("coord").invert(t),o=e.invert(a.x),s=n.invert(a.y),u={};return u[r]=o,u[i]=s,u},_getScale:function(t){var e=this.get("scales"),n=null;return i.each(e,function(e){if(e.field===t)return n=e,!1}),n},_getTipValueScale:function(){var t,e=this.getAttrsForLegend();i.each(e,function(e){var n=e.getScale(e.type);if(n.isLinear)return t=n,!1});var n=this.getXScale(),r=this.getYScale();return!t&&r&&"..y"===r.field?n:t||r||n},_getTipTitleScale:function(t){if(t)return this._getScale(t);var e,n=this.getAttr("position").getFields();return i.each(n,function(t){if(-1===t.indexOf(".."))return e=t,!1}),this._getScale(e)},_filterValue:function(t,e){var n=this.get("coord"),r=this.getYScale(),a=r.field,o=n.invert(e).y;o=r.invert(o);var s=t[t.length-1];return i.each(t,function(t){var e=t._origin;if(e[a][0]<=o&&e[a][1]>=o)return s=t,!1}),s},getXDistance:function(){var t=this.get("xDistance");if(!t){var e=this.getXScale();if(e.isCategory)t=1;else{var n=e.values,r=e.translate(n[0]),a=r;i.each(n,function(t){(t=e.translate(t))<r&&(r=t),t>a&&(a=t)}),t=(a-r)/(n.length-1)}this.set("xDistance",t)}return t},findPoint:function(t,e){var n=this,r=n.get("type"),a=n.getXScale(),o=n.getYScale(),s=a.field,u=o.field,l=null;if(i.indexOf(["heatmap","point"],r)>-1){var c=n.get("coord").invert(t),h=a.invert(c.x),f=o.invert(c.y),d=1/0;return i.each(e,function(t){var e=Math.pow(t._origin[s]-h,2)+Math.pow(t._origin[u]-f,2);e<d&&(d=e,l=t)}),l}var p=e[0],g=e[e.length-1];if(!p)return l;var v=n._getScaleValueByPoint(t),m=p._origin[s],y=g._origin[s],x=o.isLinear&&i.isArray(p._origin[u]);if(i.isArray(m))i.each(e,function(t){var e=t._origin;if(a.translate(e[s][0])<=v&&a.translate(e[s][1])>=v){if(!x)return l=t,!1;i.isArray(l)||(l=[]),l.push(t)}}),i.isArray(l)&&(l=this._filterValue(l,t));else{var b;if(a.isLinear||"timeCat"===a.type){if((v>a.translate(y)||v<a.translate(m))&&(v>a.max||v<a.min))return null;for(var _,w=0,S=e.length-1;w<=S;){_=Math.floor((w+S)/2);var M=e[_]._origin[s];if(n._snapEqual(M,v,a))return e[_];a.translate(M)<=a.translate(v)?(w=_+1,g=e[_],b=e[_+1]):(0===S&&(g=e[0]),S=_-1)}}else i.each(e,function(t,r){var o=t._origin;if(n._snapEqual(o[s],v,a)){if(!x)return l=t,!1;i.isArray(l)||(l=[]),l.push(t)}else a.translate(o[s])<=v&&(g=t,b=e[r+1])}),i.isArray(l)&&(l=this._filterValue(l,t));g&&b&&Math.abs(a.translate(g._origin[s])-v)>Math.abs(a.translate(b._origin[s])-v)&&(g=b)}var O=n.getXDistance();return!l&&Math.abs(a.translate(g._origin[s])-v)<=O/2&&(l=g),l},getTipTitle:function(t,e){var n="",r=this._getTipTitleScale(e);if(r)n=r.getText(t[r.field]);else if("heatmap"===this.get("type")){var i=this.getXScale(),a=this.getYScale();n="( "+i.getText(t[i.field])+", "+a.getText(t[a.field])+" )"}return n},getTipValue:function(t,e){var n,r=t.key;if(i.isArray(n=t[e.field])){var a=[];i.each(n,function(t){a.push(e.getText(t))}),n=a.join("-")}else n=e.getText(n,r);return n},getTipName:function(t){var e,n=this._getGroupScales();return n.length&&i.each(n,function(t){return e=t,!1}),e?e.getText(t[e.field]):r(this._getTipValueScale())},getTipItems:function(t,e){function n(e,n,r){if(!i.isNil(n)&&""!==n){var o={title:c,point:t,name:e||c,value:n,color:t.color||a,marker:!0};o.size=u._getIntervalSize(t),f.push(i.mix({},o,r))}}var o,s,u=this,l=t._origin,c=u.getTipTitle(l,e),h=u.get("tooltipCfg"),f=[];if(h){var d=h.fields,p=h.cfg,g=[];if(i.each(d,function(t){g.push(l[t])}),p){i.isFunction(p)&&(p=p.apply(null,g));var v=i.mix({},{point:t,title:c,color:t.color||a,marker:!0},p);v.size=u._getIntervalSize(t),f.push(v)}else i.each(d,function(t){if(!i.isNil(l[t])){var e=u._getScale(t);o=r(e),s=e.getText(l[t]),n(o,s)}})}else{var m=u._getTipValueScale();i.isNil(l[m.field])||(s=u.getTipValue(l,m),n(o=u.getTipName(l),s))}return f},isShareTooltip:function(){var t,e=this.get("shareTooltip"),n=this.get("type"),r=this.get("view");if(t=r.get("parent")?r.get("parent").get("options"):r.get("options"),"interval"===n){var a=this.get("coord"),o=a.type;("theta"===o||"polar"===o&&a.isTransposed)&&(e=!1)}else this.getYScale()&&!i.inArray(["contour","point","polygon","edge"],n)||(e=!1);return t.tooltip&&i.isBoolean(t.tooltip.shared)&&(e=t.tooltip.shared),e}};t.exports=o},function(t,e,n){function r(t,e){if(!t)return!0;if(t.length!==e.length)return!0;var n=!1;return a.each(e,function(e,r){if(!function(t,e){if(a.isNil(t)||a.isNil(e))return!1;var n=t.get("origin"),r=e.get("origin");return a.isEqual(n,r)}(e,t[r]))return n=!0,!1}),n}function i(t,e){var n={};return a.each(t,function(t,r){var i=e.attr(r);a.isArray(i)&&(i=a.cloneDeep(i)),n[r]=i}),n}var a=n(0),o={_isAllowActive:function(){var t=this.get("allowActive");if(!a.isNil(t))return t;var e=this.get("view"),n=this.isShareTooltip();return!1===e.get("options").tooltip||!n},_onMouseenter:function(t){var e=t.shape,n=this.get("shapeContainer");e&&n.contain(e)&&this._isAllowActive()&&this.setShapesActived(e)},_onMouseleave:function(){var t=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),t.draw())},_bindActiveAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":mouseenter",a.wrapBehavior(this,"_onMouseenter")),t.on(e+":mouseleave",a.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":mouseenter",a.getWrapBehavior(this,"_onMouseenter")),t.off(e+":mouseleave",a.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(t){var e=this.get("activedOptions")||{},n=t.get("origin"),r=n.shape||this.getDefaultValue("shape");a.isArray(r)&&(r=r[0]);var o=this.get("shapeFactory"),s=a.mix({},t.attr(),{origin:n}),u=o.getActiveCfg(r,s);e.style&&a.mix(u,e.style);var l=i(u,t);t.setSilent("_originAttrs",l),e.animate?t.animate(u,300):t.attr(u),t.set("zIndex",1)},setShapesActived:function(t){var e=this;a.isArray(t)||(t=[t]);var n=e.get("activeShapes");if(r(n,t)){var i=e.get("view").get("canvas"),o=e.get("shapeContainer"),s=e.get("activedOptions");s&&s.highlight?(a.each(t,function(t){t.get("animating")&&t.stopAnimate()}),e.highlightShapes(t)):(n&&e.clearActivedShapes(),a.each(t,function(t){t.get("animating")&&t.stopAnimate(),t.get("visible")&&!t.get("selected")&&e._setActiveShape(t)})),e.set("activeShapes",t),o.sort(),i.draw()}},clearActivedShapes:function(){var t=this.get("shapeContainer"),e=this.get("activedOptions"),n=e&&e.animate;if(t&&!t.get("destroyed")){var r=this.get("activeShapes");if(a.each(r,function(t){if(!t.get("selected")){var e=t.get("_originAttrs");n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),t.setZIndex(0),t.set("_originAttrs",null)}}),this.get("preHighlightShapes")){var i=t.get("children");a.each(i,function(t){if(!t.get("selected")){var e=t.get("_originAttrs");e&&(n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),t.setZIndex(0),t.set("_originAttrs",null))}})}t.get("children").sort(function(t,e){return t._INDEX-e._INDEX}),this.set("activeShapes",null),this.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(t){var e=[];if(this.get("shapeContainer")){var n=this.getXScale().field,r=this.getShapes(),i=this._getOriginByPoint(t);a.each(r,function(t){var r=t.get("origin");t.get("visible")&&r&&r._origin[n]===i[n]&&e.push(t)})}return e},getSingleShapeByPoint:function(t){var e,n=this.get("shapeContainer"),r=n.get("canvas").get("pixelRatio");if(n&&(e=n.getShape(t.x*r,t.y*r)),e&&e.get("origin"))return e},highlightShapes:function(t,e){a.isArray(t)||(t=[t]);var n=this.get("activeShapes");if(r(n,t)){n&&this.clearActivedShapes();var o=this.getShapes(),s=this.get("activedOptions"),u=s&&s.animate,l=s&&s.style;a.each(o,function(n){var r={};n.stopAnimate(),-1!==a.indexOf(t,n)?(a.mix(r,l,e),n.setZIndex(1)):(a.mix(r,{fillOpacity:.3,opacity:.3}),n.setZIndex(0));var o=i(r,n);n.setSilent("_originAttrs",o),u?n.animate(r,300):n.attr(r)}),this.set("preHighlightShapes",t),this.set("activeShapes",t)}}};t.exports=o},function(t,e,n){function r(t,e){if(i.isNil(t)||i.isNil(e))return!1;var n=t.get("origin"),r=e.get("origin");return i.isEqual(n,r)}var i=n(0),a={_isAllowSelect:function(){var t=this.get("allowSelect");if(!i.isNil(t))return t;var e=this.get("type"),n=this.get("coord");return"interval"===e&&"theta"===(n&&n.type)},_onClick:function(t){if(this._isAllowSelect()){this.clearActivedShapes();var e=t.shape,n=this.get("shapeContainer");e&&!e.get("animating")&&n.contain(e)&&this.setShapeSelected(e)}},_bindSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":click",i.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":click",i.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(t,e){var n=this.get("view"),r=this.get("selectedOptions")||{},a=!1!==r.animate,o=n.get("canvas");t.set("selected",e);var s=t.get("origin");if(e){var u=s.shape||this.getDefaultValue("shape");i.isArray(u)&&(u=u[0]);var l=this.get("shapeFactory"),c=i.mix({geom:this,point:s},r),h=l.getSelectedCfg(u,c);i.mix(h,c.style),t.get("_originAttrs")||(t.get("animating")&&t.stopAnimate(),t.set("_originAttrs",function(t,e){var n={};return i.each(h,function(t,r){"transform"===r&&(r="matrix");var a=e.attr(r);i.isArray(a)&&(a=i.cloneDeep(a)),n[r]=a}),n}(0,t))),a?t.animate(h,300):(t.attr(h),o.draw())}else{var f=t.get("_originAttrs");t.set("_originAttrs",null),a?t.animate(f,300):(t.attr(f),o.draw())}},setShapeSelected:function(t){var e=this._getSelectedShapes(),n=this.get("selectedOptions")||{},a=!1!==n.cancelable;if("multiple"===n.mode)-1===i.indexOf(e,t)?(e.push(t),this._setShapeStatus(t,!0)):a&&(i.Array.remove(e,t),this._setShapeStatus(t,!1));else{var o=e[0];a&&(t=r(o,t)?null:t),r(o,t)||(o&&this._setShapeStatus(o,!1),t&&this._setShapeStatus(t,!0))}},clearSelected:function(){var t=this,e=t.get("shapeContainer");if(e&&!e.get("destroyed")){var n=t._getSelectedShapes();i.each(n,function(e){t._setShapeStatus(e,!1),e.set("_originAttrs",null)})}},setSelected:function(t){var e=this,n=e.getShapes();return i.each(n,function(n){var r=n.get("origin");r&&r._origin===t&&e.setShapeSelected(n)}),this},_getSelectedShapes:function(){var t=this.getShapes(),e=[];return i.each(t,function(t){t.get("selected")&&e.push(t)}),this.set("selectedShapes",e),e}};t.exports=a},function(t,e,n){var r=n(0);t.exports=function(t){return r.isArray(t)?t:r.isString(t)?t.split("*"):[t]}},function(t,e,n){var r=n(74),i=n(0),a=/^(?:(?!0000)[0-9]{4}([-\/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-\/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,o=function(){function t(t){this.defs={},this.viewTheme={scales:{}},this.filters={},i.assign(this,t)}var e=t.prototype;return e._getDef=function(t){var e=this.defs,n=this.viewTheme,r=null;return(n.scales[t]||e[t])&&(r=i.mix({},n.scales[t]),i.each(e[t],function(t,e){i.isNil(t)?delete r[e]:r[e]=t}),this.filters[t]&&(delete r.min,delete r.max)),r},e._getDefaultType=function(t,e){var n="linear",r=i.Array.firstValue(e,t);return i.isArray(r)&&(r=r[0]),a.test(r)?n="time":i.isString(r)&&(n="cat"),n},e._getScaleCfg=function(t,e,n){var a={field:e},o=i.Array.values(n,e);if(a.values=o,!r.isCategory(t)&&"time"!==t){var s=i.Array.getRange(o);a.min=s.min,a.max=s.max,a.nice=!0}return"time"===t&&(a.nice=!1),a},e.createScale=function(t,e){var n,a=this._getDef(t),o=e||[],s=i.Array.firstValue(o,t);if(i.isNumber(t)||i.isNil(s)&&!a)n=r.identity({value:t,field:t.toString(),values:[t]});else{var u;a&&(u=a.type),u=u||this._getDefaultType(t,o);var l=this._getScaleCfg(u,t,o);a&&i.mix(l,a),n=r[u](l)}return n},t}();t.exports=o},function(t,e,n){var r=n(0),i=n(343),a=function(){function t(t){this.type="rect",this.actions=[],this.cfg={},r.mix(this,t),this.option=t||{}}var e=t.prototype;return e.reset=function(t){return this.actions=t.actions||[],this.type=t.type,this.cfg=t.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},e._execActions=function(t){r.each(this.actions,function(e){t[e[0]](e[1],e[2])})},e.hasAction=function(t){var e=!1;return r.each(this.actions,function(n){if(t===n[0])return e=!0,!1}),e},e.createCoord=function(t,e){var n,a,o=this.type,s=r.mix({start:t,end:e},this.cfg);return"theta"===o?(n=i.Polar,this.hasAction("transpose")||this.transpose(),(a=new n(s)).type=o):a=new(n=i[r.upperFirst(o||"")]||i.Rect)(s),this._execActions(a),a},e.rotate=function(t){return t=t*Math.PI/180,this.actions.push(["rotate",t]),this},e.reflect=function(t){return this.actions.push(["reflect",t]),this},e.scale=function(t,e){return this.actions.push(["scale",t,e]),this},e.transpose=function(){return this.actions.push(["transpose"]),this},t}();t.exports=a},function(t,e,n){"use strict";var r=n(44);r.Cartesian=n(344),r.Rect=r.Cartesian,r.Polar=n(345),r.Helix=n(346),t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(8),c=n(44),h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,c),a(e,[{key:"getDefaultCfg",value:function(){var t=s(u(e.prototype),"getDefaultCfg",this).call(this);return l({},t,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),a(e,[{key:"_init",value:function(){var t=this.start,e=this.end,n={start:t.y,end:e.y};this.x={start:t.x,end:e.x},this.y=n}},{key:"convertPoint",value:function(t){var e,n;return this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y),{x:this.convertDim(e,"x"),y:this.convertDim(n,"y")}}},{key:"invertPoint",value:function(t){var e=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed?{x:n,y:e}:{x:e,y:n}}}]),e}();t.exports=h},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(43),c=n(35),h=n(8),f=n(44),d=l.mat3,p=l.vec2,g=l.vec3,v=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,f),a(e,[{key:"getDefaultCfg",value:function(){var t=s(u(e.prototype),"getDefaultCfg",this).call(this);return h({},t,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),a(e,[{key:"_init",value:function(){for(var t=this.radius,e=this.innerRadius,n=this.center,r=this.startAngle,i=this.endAngle;i<r;)i+=2*Math.PI;this.endAngle=i;var a,o,s=this.getOneBox(),u=s.maxX-s.minX,l=s.maxY-s.minY,c=Math.abs(s.minX)/u,h=Math.abs(s.minY)/l,f=this.width,d=this.height;o=d/l>f/u?{x:n.x-(.5-c)*f,y:n.y-(.5-h)*(a=f/u)*l}:{x:n.x-(.5-c)*(a=d/l)*u,y:n.y-(.5-h)*d},t?t>0&&t<=1?t*=a:(t<=0||t>a)&&(t=a):t=a;var p={start:e*t,end:t};this.x={start:r,end:i},this.y=p,this.radius=t,this.circleCentre=o,this.center=o}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(t){var e=this.getCenter(),n=this.isTransposed?t.y:t.x,r=this.isTransposed?t.x:t.y;return n=this.convertDim(n,"x"),r=this.convertDim(r,"y"),{x:e.x+Math.cos(n)*r,y:e.y+Math.sin(n)*r}}},{key:"invertPoint",value:function(t){var e=this.getCenter(),n=[t.x-e.x,t.y-e.y],r=this.x,i=[1,0,0,0,1,0,0,0,1];d.rotate(i,i,r.start);var a=[1,0,0];g.transformMat3(a,a,i);var o=p.angleTo(a=[a[0],a[1]],n,r.end<r.start);c(o,2*Math.PI)&&(o=0);var s=p.length(n),u=o/(r.end-r.start);u=r.end-r.start>0?u:-u;var l=this.invertDim(s,"y"),h={};return h.x=this.isTransposed?l:u,h.y=this.isTransposed?u:l,h}}]),e}();t.exports=v},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(43),c=n(35),h=n(8),f=n(44),d=l.vec2,p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,f),a(e,[{key:"getDefaultCfg",value:function(){var t=s(u(e.prototype),"getDefaultCfg",this).call(this);return h({},t,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),a(e,[{key:"_init",value:function(){var t=this.radius,e=this.innerRadius,n=this.startAngle,r=this.endAngle,i=(r-n)/(2*Math.PI)+1,a=Math.min(this.width,this.height)/2;t&&t>=0&&t<=1&&(a*=t);var o=Math.floor(a*(1-e)/i),s=o/(2*Math.PI),u={start:n,end:r},l={start:e*a,end:e*a+.99*o};this.a=s,this.d=o,this.x=u,this.y=l}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(t){var e,n,r=this.a,i=this.center;this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y);var a=this.convertDim(e,"x"),o=r*a,s=this.convertDim(n,"y");return{x:i.x+Math.cos(a)*(o+s),y:i.y+Math.sin(a)*(o+s)}}},{key:"invertPoint",value:function(t){var e=this.center,n=this.a,r=this.d+this.y.start,i=d.subtract([],[t.x,t.y],[e.x,e.y]),a=d.angleTo(i,[1,0],!0),o=a*n;d.length(i)<o&&(o=d.length(i));var s=n*(a=2*Math.floor((d.length(i)-o)/r)*Math.PI+a),u=d.length(i)-s;u=c(u,0)?0:u;var l=this.invertDim(a,"x"),h=this.invertDim(u,"y");l=c(l,0)?0:l,h=c(h,0)?0:h;var f={};return f.x=this.isTransposed?h:l,f.y=this.isTransposed?l:h,f}}]),e}();t.exports=p},function(t,e,n){function r(t,e){return void 0===e&&(e=0),"middle"===t&&(e=.5),-1!==t.indexOf("%")&&(e=parseInt(t,10)/100),e}var i=n(0),a=n(21).Axis,o=i.MatrixUtil.vec2,s=function(){function t(t){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],i.mix(this,t)}var e=t.prototype;return e._isHide=function(t){var e=this.options;return!(!e||!1!==e[t])},e._getMiddleValue=function(t,e,n,r){if(0===t&&!r)return 0;if(1===t)return 1;var i=e[n+1].value;return r||1!==i?(t+i)/2:1},e._getLineRange=function(t,e,n,i){var a,o,s,u=e.field,l=this.options,c="";if(l[u]&&l[u].position&&(c=l[u].position),"x"===n){var h="top"===c?1:0;a={x:0,y:h=r(c,h)},o={x:1,y:h},s=!1}else{if(i){var f="left"===c?0:1;a={x:f=r(c,f),y:0},o={x:f,y:1}}else{var d="right"===c?1:0;a={x:d=r(c,d),y:0},o={x:d,y:1}}s=!0}return{start:a=t.convert(a),end:o=t.convert(o),isVertical:s}},e._getLineCfg=function(t,e,n,r){var i=this._getLineRange(t,e,n,r),a=i.isVertical,o=i.start,s=t.center;return t.isTransposed&&(a=!a),{isVertical:a,factor:a&&o.x>s.x||!a&&o.y>s.y?1:-1,start:o,end:i.end}},e._getCircleCfg=function(t){var e,n={},r=t.x,i=t.y,a=i.start>i.end;e=t.convert(e=t.isTransposed?{x:a?0:1,y:0}:{x:0,y:a?0:1});var s,u=t.circleCentre,l=[e.x-u.x,e.y-u.y],c=[1,0],h=(s=e.y>u.y?o.angle(l,c):-1*o.angle(l,c))+(r.end-r.start);return n.startAngle=s,n.endAngle=h,n.center=u,n.radius=Math.sqrt(Math.pow(e.x-u.x,2)+Math.pow(e.y-u.y,2)),n.inner=t.innerRadius||0,n},e._getRadiusCfg=function(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{factor:t.x.start<0?-1:1,start:t.convert(e),end:t.convert(n)}},e._getAxisPosition=function(t,e,n,r){var i="",a=this.options;return a[r]&&a[r].position?i=a[r].position:t.isRect?"x"===e?i="bottom":"y"===e&&(i=n?"right":"left"):i="helix"===t.type?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius",i},e._getAxisDefaultCfg=function(t,e,n,r){var a=this.viewTheme,o={},s=this.options,u=e.field;if((o=i.deepMix({},a.axis[r],o,s[u])).viewTheme=a,o.title){var l=i.isPlainObject(o.title)?o.title:{};l.text=l.text||e.alias||u,i.deepMix(o,{title:l})}return o.ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===n&&Math.abs(t.endAngle-t.startAngle)===2*Math.PI&&o.ticks.pop(),o.coord=t,o.label&&i.isNil(o.label.autoRotate)&&(o.label.autoRotate=!0),s.hasOwnProperty("xField")&&s.xField.hasOwnProperty("grid")&&"left"===o.position&&i.deepMix(o,s.xField),o},e._getAxisCfg=function(t,e,n,r,a,o){void 0===a&&(a="");var s=this,u=s._getAxisPosition(t,r,a,e.field),l=s._getAxisDefaultCfg(t,e,r,u);if(!i.isEmpty(l.grid)&&n){var c=[],h=[],f=function(t){var e=[];if(t.length>0){var n=(e=t.slice(0))[0],r=e[e.length-1];0!==n.value&&e.unshift({value:0}),1!==r.value&&e.push({value:1})}return e}(n.getTicks());if(f.length){var d=function(t,e,n){var r=[];return t.length<1?r:(t.length>=2&&e&&"center"===l.grid.align&&r.push({text:"",tickValue:"",value:0}),0!==t[0].value&&r.push({text:"",tickValue:"",value:0}),1!==(r=r.concat(t))[r.length-1].value&&r.push({text:"",tickValue:"",value:1}),r)}(l.ticks,e.isLinear);i.each(d,function(n,u){h.push(n.tickValue);var p=[],g=n.value;if("center"===l.grid.align&&(g=s._getMiddleValue(g,d,u,e.isLinear)),!i.isNil(g)){var v=t.x,m=t.y;i.each(f,function(e){var n="x"===r?e.value:g,i=t.convert({x:"x"===r?g:e.value,y:n});if(t.isPolar){var a=t.circleCentre;m.start>m.end&&(n=1-n),i.flag=v.start>v.end?0:1,i.radius=Math.sqrt(Math.pow(i.x-a.x,2)+Math.pow(i.y-a.y,2))}p.push(i)}),c.push({_id:o+"-"+r+a+"-grid-"+n.tickValue,points:p})}})}l.grid.items=c,l.grid.tickValues=h}return l.type=e.type,l},e._getHelixCfg=function(t){for(var e={},n=t.a,r=t.startAngle,i=t.endAngle,a=[],o=0;o<=100;o++){var s=t.convert({x:o/100,y:0});a.push(s.x),a.push(s.y)}var u=t.convert({x:0,y:0});return e.a=n,e.startAngle=r,e.endAngle=i,e.crp=a,e.axisStart=u,e.center=t.center,e.inner=t.y.start,e},e._drawAxis=function(t,e,n,r,o,s,u){var l,c,h=this.container,f=this.canvas;"cartesian"===t.type?(l=a.Line,c=this._getLineCfg(t,e,r,u)):"helix"===t.type&&"x"===r?(l=a.Helix,c=this._getHelixCfg(t)):"x"===r?(l=a.Circle,c=this._getCircleCfg(t)):(l=a.Line,c=this._getRadiusCfg(t));var d=this._getAxisCfg(t,e,n,r,u,o);d=i.mix({},d,c),"y"===r&&s&&"circle"===s.get("type")&&(d.circle=s),d._id=o+"-"+r,i.isNil(u)||(d._id=o+"-"+r+u),i.mix(d,{canvas:f,group:h});var p=new l(d);return p.render(),this.axes.push(p),p},e.createAxis=function(t,e,n){var r,a=this,o=this.coord,s=o.type;"theta"===s||"polar"===s&&o.isTransposed||(t&&!a._isHide(t.field)&&(r=a._drawAxis(o,t,e[0],"x",n)),i.isEmpty(e)||"helix"===s||i.each(e,function(e,i){a._isHide(e.field)||a._drawAxis(o,e,t,"y",n,r,i)}))},e.changeVisible=function(t){i.each(this.axes,function(e){e.set("visible",t)})},e.clear=function(){i.each(this.axes,function(t){t.clear()}),this.axes=[]},t}();t.exports=s},function(t,e,n){var r=n(0),i=n(349),a=function(){function t(t){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,r.mix(this,t)}var e=t.prototype;return e._creatGuides=function(){var t=this,e=this.options,n=this.xScales,a=this.yScales,o=this.view,s=this.viewTheme;return this.backContainer&&o&&(this.backGroup=this.backContainer.addGroup({viewId:o.get("_id")})),this.frontContainer&&o&&(this.frontGroup=this.frontContainer.addGroup({viewId:o.get("_id")})),e.forEach(function(e){var o=e.type,u=r.deepMix({xScales:n,yScales:a,viewTheme:s},s?s.guide[o]:{},e);o=r.upperFirst(o);var l=new i[o](u);t.guides.push(l)}),t.guides},e.line=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"line"},t)),this},e.arc=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"arc"},t)),this},e.text=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"text"},t)),this},e.image=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"image"},t)),this},e.region=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"region"},t)),this},e.regionFilter=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"regionFilter"},t)),this},e.dataMarker=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataMarker"},t)),this},e.dataRegion=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataRegion"},t)),this},e.html=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"html"},t)),this},e.render=function(t){var e=this,n=e.view,i=n&&n.get("data"),a=e._creatGuides();r.each(a,function(r){var a;a=r.get("top")?e.frontGroup||e.frontContainer:e.backGroup||e.backContainer,r.render(t,a,i,n)})},e.clear=function(){this.options=[],this.reset()},e.changeVisible=function(t){r.each(this.guides,function(e){e.changeVisible(t)})},e.reset=function(){r.each(this.guides,function(t){t.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},t}();t.exports=a},function(t,e,n){var r=n(21).Guide,i=n(350);r.RegionFilter=i,t.exports=r},function(t,e,n){var r=n(0),i=n(15),a=n(25).Path,o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},n.render=function(t,e,n,r){var i=this,a=e.addGroup();a.name="guide-region-filter",r.once("afterpaint",function(){if(!a.get("destroyed")){i._drawShapes(r,a);var e=i._drawClip(t);a.attr({clip:e}),i.set("clip",e),i.get("appendInfo")&&a.setSilent("appendInfo",i.get("appendInfo")),i.set("el",a)}})},n._drawShapes=function(t,e){var n=this,i=[];return t.getAllGeoms().map(function(t){var a=t.getShapes(),o=t.get("type");return n._geomFilter(o)&&a.map(function(t){var a=t.type,o=r.cloneDeep(t.attr());n._adjustDisplay(o);var s=e.addShape(a,{attrs:o});return i.push(s),t}),t}),i},n._drawClip=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end"));return new a({attrs:{path:[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]],opacity:1}})},n._adjustDisplay=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},n._geomFilter=function(t){var e=this.get("apply");return!e||r.contains(e,t)},n.clear=function(){t.prototype.clear.call(this);var e=this.get("clip");e&&e.remove()},e}(i);t.exports=o},function(t,e,n){var r=n(0),i=n(21).Legend,a=n(352),o=n(18),s=n(166),u=n(168),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,c=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"],h=function(){function t(t){this.options={},r.mix(this,t),this.clear();var e=this.chart;this.container=e.get("frontPlot"),this.plotRange=e.get("plotRange")}var e=t.prototype;return e.clear=function(){var t=this.legends;this.backRange=null,r.each(t,function(t){r.each(t,function(t){t.destroy()})}),this.legends={}},e.getBackRange=function(){var t=this.backRange;if(!t){var e=this.chart.get("backPlot");t=s(e,u(this.chart.get("plotRange")));var n=this.plotRange;t.maxX-t.minX<n.br.x-n.tl.x&&t.maxY-t.minY<n.br.y-n.tl.y&&(t={minX:n.tl.x,minY:n.tl.y,maxX:n.br.x,maxY:n.br.y}),this.backRange=t}return t},e._isFieldInView=function(t,e,n){var i=!1,a=n.get("scales")[t];return a&&a.values&&(i=r.inArray(a.values,e)),i},e._bindClickEvent=function(t,e,n){var i=this,a=i.chart,o=a.get("views"),s=e.field,u=i.options;t.on("itemclick",function(e){if(u.onClick&&!0!==u.defaultClickHandlerEnabled)u.onClick(e);else{var l=e.item,c=e.checked,h="single"===t.get("selectedMode"),f=l.dataValue;c?(r.Array.remove(n,f),i._isFieldInView(s,f,a)&&a.filter(s,function(t){return h?t===f:!r.inArray(n,t)}),r.each(o,function(t){i._isFieldInView(s,f,t)&&t.filter(s,function(t){return h?t===f:!r.inArray(n,t)})})):h||(n.push(f),i._isFieldInView(s,f,a)&&a.filter(s,function(t){return!r.inArray(n,t)}),r.each(o,function(t){i._isFieldInView(s,f,t)&&t.filter(s,function(t){return!r.inArray(n,t)})})),u.onClick&&u.onClick(e),a.set("keepLegend",!0),a.set("keepPadding",!0),a.repaint(),a.set("keepPadding",!1),a.set("keepLegend",!1)}})},e._bindClickEventForMix=function(t){var e=this.chart.getAllGeoms();t.on("itemclick",function(t){var n=t.item.field;r.each(e,t.checked?function(t){t.getYScale().field===n&&t.show()}:function(t){t.getYScale().field===n&&t.hide()})})},e._filterLabels=function(t,e,n){if(t.get("gLabel"))t.get("gLabel").set("visible",n);else{var i=e.get("labelCfg");if(i&&i.fields&&i.fields.length>0){var a=e.getXScale(),o=e.getYScale(),s=a.field,u=o.field,l=t.get("origin")._origin,c=e.get("labelContainer").get("labelsGroup").get("children");r.each(c,function(e){var r=e.get("origin")||[];r[s]===l[s]&&r[u]===l[u]&&(e.set("visible",n),t.set("gLabel",e))})}}},e._bindFilterEvent=function(t,e){var n=this,i=this.chart,a=e.field;t.on("itemfilter",function(t){var e=t.range;i.filterShape(function(t,i,o){if(!r.isNil(t[a])){var s=t[a]>=e[0]&&t[a]<=e[1];return n._filterLabels(i,o,s),s}return!0});for(var o=i.getAllGeoms()||[],s=function(t){var n=o[t];"heatmap"===n.get("type")&&l(function(){n.drawWithRange(e)})},u=0;u<o.length;u++)s(u)})},e._getShapeData=function(t){var e=t.get("origin");return r.isArray(e)&&(e=e[0]),e._origin},e._bindHoverEvent=function(t,e){var n=this,i=n.chart,a=i.getAllGeoms(),o=n.options,s=i.get("canvas");t.on("itemhover",function(t){var i=t.item.value,u=n.pre;if(u){if(u===i)return}else r.each(a,function(a){var u=a.get("shapeContainer"),l=a.getShapes(),c=[];if(e){var h=a.get("scales")[e];r.each(l,function(t){var a=n._getShapeData(t);a&&function(t,e,n){return!r.isNil(n)&&(t=n.translate(t),e=n.translate(e),n.isCategory?t===e:Math.abs(t-e)<=1)}(a[e],i,h)&&c.push(t)})}else a.getYScale().field===i&&(c=l);r.isEmpty(c)||(t.shapes=c,t.geom=a,o.onHover?(o.onHover(t),u.sort(),s.draw()):a.setShapesActived(c))}),n.pre=i}),t.on("itemunhover",function(t){n.pre=null,o.onUnhover&&o.onUnhover(t),r.each(a,function(t){t.get("activeShapes")&&(t.clearActivedShapes(),s.draw())})})},e._isFiltered=function(t,e,n){if(!t.isCategory)return!0;var i=!0;return n=t.invert(n),r.each(e,function(e){if(t.getText(e)===t.getText(n))return i=!1,!1}),i},e._alignLegend=function(t,e,n,r){var i=this.viewTheme,a=this.container.get("canvas"),o=a.get("width"),s=a.get("height"),u=this.totalRegion,l=this.plotRange,c=this.getBackRange(),h=t.get("offset")[0]||0,f=t.get("offset")[1]||0,d=t.getHeight(),p=t.getWidth(),g=i.legend.margin,v=i.legend.legendMargin,m=this.legends[r].length,y=r.split("-"),x=0,b=0,_=m>1?u:n;if("left"===y[0]||"right"===y[0])s=l.br.y,x=this._getXAlign(y[0],o,n,c,p,g),b=e?(e.get("y")||e.get("group").get("y"))+e.getHeight()+v:this._getYAlignVertical(y[1],s,_,c,0,g,a.get("height"));else if("top"===y[0]||"bottom"===y[0])if(b=this._getYAlignHorizontal(y[0],s,n,c,d,g),e){var w=e.getWidth();x=(e.get("x")||e.get("group").get("x"))+w+v}else x=this._getXAlign(y[1],o,_,c,0,g),"right"===y[1]&&(x=l.br.x-_.totalWidth);t.move(x+h,b+f)},e._getXAlign=function(t,e,n,r,i,a){var o="left"===t?r.minX-i-a[3]:r.maxX+a[1];return"center"===t&&(o=(e-n.totalWidth)/2),o},e._getYAlignHorizontal=function(t,e,n,r,i,a){return"top"===t?r.minY-i-a[0]:r.maxY+a[2]},e._getYAlignVertical=function(t,e,n,r,i,a,o){var s="top"===t?r.minY-i-a[0]:e-n.totalHeight;return"center"===t&&(s=(o-n.totalHeight)/2),s},e._getSubRegion=function(t){var e=0,n=0,i=0,a=0;return r.each(t,function(t){var r=t.getWidth(),o=t.getHeight();e<r&&(e=r),i+=r,n<o&&(n=o),a+=o}),{maxWidth:e,totalWidth:i,maxHeight:n,totalHeight:a}},e._getRegion=function(){var t=this,e=t.viewTheme.legend.legendMargin,n=[],i=0,a=0;return r.each(t.legends,function(r){var o=t._getSubRegion(r);n.push(o),i+=o.totalWidth+e,a+=o.totalHeight+e}),{totalWidth:i,totalHeight:a,subs:n}},e._addCategoryLegend=function(t,e,n,s,u){var l=this,c=t.field,h=l.options,f=h[c];f&&(h=f);var d=l.legends;d[u]=d[u]||[];var p=l.container,g=[],v=t.getTicks(),m=!0,y=n.get("shapeType")||"point",x=n.getDefaultValue("shape")||"circle";h[c]&&h[c].marker?(x=h[c].marker,y="point",m=!1):h.marker&&(x=h.marker,y="point",m=!1);var b=l.chart,_=l.viewTheme,w=b.get("canvas"),S=l.plotRange,M=u.split("-"),O="right"===M[0]||"left"===M[0]?S.bl.y-S.tr.y:w.get("width");r.each(v,function(e){var i=e.text,a=e.value,u=t.invert(a),c={isInCircle:n.isInCircle()},h=!s||l._isFiltered(t,s,a),f=n.getAttr("color"),d=n.getAttr("shape");if(f)if(f.callback&&f.callback.length>1){var p=Array(f.callback.length-1).fill("");c.color=f.mapping.apply(f,[u].concat(p)).join("")||_.defaultColor}else c.color=f.mapping(u).join("")||_.defaultColor;if(m&&d)if(d.callback&&d.callback.length>1){var v=Array(d.callback.length-1).fill("");x=d.mapping.apply(d,[u].concat(v)).join("")}else x=d.mapping(u).join("");var b=o.getShapeFactory(y).getMarkerCfg(x,c);r.isFunction(x)&&(b.symbol=x),g.push({value:i,dataValue:u,checked:h,marker:b})});var C,A=r.deepMix({},_.legend[M[0]],h[c]||h,{viewId:b.get("_id"),maxLength:O,items:g,container:p,position:[0,0]});if(A.title&&r.deepMix(A,{title:{text:t.alias||t.field}}),l._isTailLegend(h,n))A.chart=l.chart,A.geom=n,C=new a(A);else if(h.useHtml){var I=p.get("canvas").get("el");if(r.isString(p=h.container)&&/^\#/.test(p)){var T=p.replace("#","");p=document.getElementById(T)}p||(p=I.parentNode),A.container=p,void 0===A.legendStyle&&(A.legendStyle={}),A.legendStyle.CONTAINER_CLASS={position:"absolute",overflow:"auto","z-index":""===I.style.zIndex?1:parseInt(I.style.zIndex,10)+1},h.flipPage?(A.legendStyle.CONTAINER_CLASS.height="right"===M[0]||"left"===M[0]?O+"px":"auto",A.legendStyle.CONTAINER_CLASS.width="right"!==M[0]&&"left"!==M[0]?O+"px":"auto",C=new i.CatPageHtml(A)):C=new i.CatHtml(A)}else C=new i.Category(A);return l._bindClickEvent(C,t,s),d[u].push(C),C},e._bindChartMove=function(t){var e=this.legends;this.chart.on("plotmove",function(n){var i=!1;if(n.target){var a=n.target.get("origin");if(a){var o=a._origin||a[0]._origin;if(o){var s=o[t.field];r.each(e,function(t){r.each(t,function(t){i=!0,!t.destroyed&&t.activate(s)})})}}}i||r.each(e,function(t){r.each(t,function(t){!t.destroyed&&t.deactivate()})})})},e._addContinuousLegend=function(t,e,n){var a=this.legends;a[n]=a[n]||[];var o,s,u,l=this.container,c=t.field,h=t.getTicks(),f=[],d=this.viewTheme;r.each(h,function(n){var r=n.value,i=t.invert(r),a=e.mapping(i).join("");f.push({value:n.tickValue,attrValue:a,color:a,scaleValue:r}),0===r&&(s=!0),1===r&&(u=!0)}),s||f.push({value:t.min,attrValue:e.mapping(0).join(""),color:e.mapping(0).join(""),scaleValue:0}),u||f.push({value:t.max,attrValue:e.mapping(1).join(""),color:e.mapping(1).join(""),scaleValue:1});var p=this.options,g=n.split("-"),v=d.legend[g[0]];(p&&!1===p.slidable||p[c]&&!1===p[c].slidable)&&(v=r.mix({},v,d.legend.gradient));var m=r.deepMix({},v,p[c]||p,{items:f,attr:e,formatter:t.formatter,container:l,position:[0,0]});if(m.title&&r.deepMix(m,{title:{text:t.alias||t.field}}),"color"===e.type)o=new i.Color(m);else{if("size"!==e.type)return;o=p&&"circle"===p.sizeType?new i.CircleSize(m):new i.Size(m)}return this._bindFilterEvent(o,t),a[n].push(o),o},e._isTailLegend=function(t,e){if(t.hasOwnProperty("attachLast")&&t.attachLast){var n=e.get("type");if("line"===n||"lineStack"===n||"area"===n||"areaStack"===n)return!0}return!1},e._adjustPosition=function(t,e){var n;if(e)n="right-top";else if(r.isArray(t))n=String(t[0])+"-"+String(t[1]);else{var i=t.split("-");1===i.length?("left"===i[0]&&(n="left-bottom"),"right"===i[0]&&(n="right-bottom"),"top"===i[0]&&(n="top-center"),"bottom"===i[0]&&(n="bottom-center")):n=t}return n},e.addLegend=function(t,e,n,r){var i=this.options,a=t.field,o=i[a],s=this.viewTheme;if(!1===o)return null;if(o&&o.custom)this.addCustomLegend(a);else{var u,l=i.position||s.defaultLegendPosition;l=this._adjustPosition(l,this._isTailLegend(i,n)),o&&o.position&&(l=this._adjustPosition(o.position,this._isTailLegend(o,n))),(u=t.isLinear?this._addContinuousLegend(t,e,l):this._addCategoryLegend(t,e,n,r,l))&&(this._bindHoverEvent(u,a),i.reactive&&this._bindChartMove(t))}},e.addCustomLegend=function(t){var e=this.chart,n=this.viewTheme,a=this.container,o=this.options;t&&(o=o[t]);var s=o.position||n.defaultLegendPosition;s=this._adjustPosition(s);var u=this.legends;u[s]=u[s]||[];var l=o.items;if(l){var h=e.getAllGeoms();r.each(l,function(t){var e=function(t,e){var n;return r.each(h,function(t){t.get("visible")&&t.getYScale().field===e&&(n=t)}),n}(0,t.value);r.isPlainObject(t.marker)?t.marker.radius=t.marker.radius||4.5:(t.marker={symbol:t.marker||"circle",radius:4.5},-1!==r.indexOf(c,t.marker.symbol)?t.marker.stroke=t.fill:t.marker.fill=t.fill);var n=t.marker.symbol;r.isString(n)&&-1!==n.indexOf("hollow")&&(t.marker.symbol=r.lowerFirst(n.substr(6))),t.checked=!!r.isNil(t.checked)||t.checked,t.geom=e});var f,d=e.get("canvas"),p=this.plotRange,g=s.split("-"),v="right"===g[0]||"left"===g[0]?p.bl.y-p.tr.y:d.get("width"),m=r.deepMix({},n.legend[g[0]],o,{maxLength:v,items:l,container:a,position:[0,0]});if(o.useHtml){var y=o.container;if(/^\#/.test(a)){var x=y.replace("#","");y=document.getElementById(x)}else y||(y=a.get("canvas").get("el").parentNode);m.container=y,void 0===m.legendStyle&&(m.legendStyle={}),m.legendStyle.CONTAINER_CLASS||(m.legendStyle.CONTAINER_CLASS={height:"right"===g[0]||"left"===g[0]?v+"px":"auto",width:"right"!==g[0]&&"left"!==g[0]?v+"px":"auto",position:"absolute",overflow:"auto"}),f=o.flipPage?new i.CatPageHtml(m):new i.CatHtml(m)}else f=new i.Category(m);return u[s].push(f),f.on("itemclick",function(t){o.onClick&&o.onClick(t)}),this._bindHoverEvent(f),f}},e.addMixedLegend=function(t,e){var n=[];r.each(t,function(t){var i=t.alias||t.field;r.each(e,function(e){if(e.getYScale()===t&&t.values&&t.values.length>0){var r=e.get("shapeType")||"point",a=e.getDefaultValue("shape")||"circle",s=o.getShapeFactory(r),u={color:e.getDefaultValue("color")},l=s.getMarkerCfg(a,u);n.push({value:i,marker:l,field:t.field})}})}),this.options=r.deepMix({},{custom:!0,items:n},this.options);var i=this.addCustomLegend();this._bindClickEventForMix(i)},e.alignLegends=function(){var t=this,e=t.legends,n=t._getRegion(e);t.totalRegion=n;var i=0;return r.each(e,function(e,a){var o=n.subs[i];r.each(e,function(n,r){var i=e[r-1];n.get("useHtml")&&!n.get("autoPosition")||t._alignLegend(n,i,o,a)}),i++}),this},t}();t.exports=h},function(t,e,n){var r=n(0),i=n(21),a=n(7),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"tail-legend",layout:"vertical",autoLayout:!0})},n._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),i=this.get("unCheckColor"),a=e.addGroup({x:0,y:0,value:t.value,scaleValue:t.scaleValue,checked:t.checked});a.translate(n,0),a.set("viewId",e.get("viewId"));var o=this.get("textStyle"),s=this.get("_wordSpaceing"),u=0;if(t.marker){var l=r.mix({},t.marker,{x:t.marker.radius,y:0});t.checked||(l.fill&&(l.fill=i),l.stroke&&(l.stroke=i));var c=a.addShape("marker",{type:"marker",attrs:l});c.attr("cursor","pointer"),c.name="legend-marker",u+=c.getBBox().width+s}var h=r.mix({},o,{x:u,y:0,text:this._formatItemValue(t.value)});t.checked||r.mix(h,{fill:i});var f=a.addShape("text",{attrs:h});f.attr("cursor","pointer"),f.name="legend-text",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"));var d=a.getBBox(),p=this.get("itemWidth"),g=a.addShape("rect",{attrs:{x:n,y:0-d.height/2,fill:"#fff",fillOpacity:0,width:p||d.width,height:d.height}});return g.attr("cursor","pointer"),g.setSilent("origin",t),g.name="legend-item",this.get("appendInfo")&&g.setSilent("appendInfo",this.get("appendInfo")),a.name="legendGroup",a},n._adjust=function(){if(this.get("geom")){this.get("group").attr("matrix")[7]=0;var t=this.get("geom").get("dataArray"),e=this.get("itemsGroup").get("children"),n=0;r.each(e,function(e){var i=t[n],a=i[i.length-1].y;r.isArray(a)&&(a=a[1]);var o=e.getBBox().height,s=e.get("x");e.translate(s,a-o/2),n++}),this.get("autoLayout")&&this._antiCollision(e)}},n.render=function(){var e=this;t.prototype.render.call(this),this.get("chart").once("afterpaint",function(){e._adjust()})},n._getPreviousY=function(t){return t.attr("matrix")[7]+t.getBBox().height},n._adjustDenote=function(t,e,n){t.addShape("path",{attrs:{path:"M-2,"+e+"L"+2*-a.legend.legendMargin+","+(n+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},n._antiCollision=function(t){var e=this;t.sort(function(t,e){return t.attr("matrix")[7]-e.attr("matrix")[7]});var n=!0,r=e.get("chart").get("plotRange"),i=r.tl.y,a=Math.abs(i-r.bl.y),o=t[0].getBBox().height,s=Number.MIN_VALUE,u=0,l=t.map(function(t){var e=t.attr("matrix")[7];return e>u&&(u=e),e<s&&(s=e),{size:t.getBBox().height,targets:[e-i]}});s-=i;for(var c=0;n;){for(var h=0;h<l.length;h++){var f=l[h],d=(Math.min.apply(s,f.targets)+Math.max.apply(s,f.targets))/2;f.pos=Math.min(Math.max(s,d-f.size/2),a-f.size)}for(n=!1,c=l.length;c--;)if(c>0){var p=l[c-1],g=l[c];p.pos+p.size>g.pos&&(p.size+=g.size,p.targets=p.targets.concat(g.targets),l.splice(c,1),n=!0)}}c=0;var v=this.get("itemsGroup").addGroup();l.forEach(function(n){var r=i+o;n.targets.forEach(function(){var i=t[c].attr("matrix")[7],a=n.pos+r-o/2;Math.abs(i-a)>o/2&&e._adjustDenote(v,a,i-e.get("group").attr("matrix")[7]/2),t[c].translate(0,-i),t[c].translate(0,a),r+=o,c++})})},e}(i.Legend.Category);t.exports=o},function(t,e,n){function r(t,e){return!!t&&!!t.className&&-1!==(a.isNil(t.className.baseVal)?t.className:t.className.baseVal).indexOf(e)}function i(t){var e=[];return a.each(t,function(t){var n=function(t,e){var n=-1;return a.each(t,function(t,r){var i=!0;for(var o in e)if(e.hasOwnProperty(o)&&-1===h.indexOf(o)&&!a.isObject(e[o])&&e[o]!==t[o]){i=!1;break}if(i)return n=r,!1}),n}(e,t);-1===n?e.push(t):e[n]=t}),e}var a=n(0),o=n(18),s=n(21).Tooltip,u=a.MatrixUtil.vec2,l=["line","area","path","areaStack"],c=["line","area"],h=["marker","showMarker"],f=function(){function t(t){a.assign(this,t),this.timeStamp=0}var e=t.prototype;return e._normalizeEvent=function(t){var e=this.chart,n=this._getCanvas(),r=n.getPointByClient(t.clientX,t.clientY),i=n.get("pixelRatio");r.x=r.x/i,r.y=r.y/i;var a=e.getViewsByPoint(r);return r.views=a,r},e._getCanvas=function(){return this.chart.get("canvas")},e._getTriggerEvent=function(){var t,e=this.options.triggerOn;return e&&"mousemove"!==e?"click"===e?t="plotclick":"none"===e&&(t=null):t="plotmove",t},e._getDefaultTooltipCfg=function(){var t=this.chart,e=this.viewTheme,n=this.options,r=a.mix({},e.tooltip),i=t.getAllGeoms().filter(function(t){return t.get("visible")}),o=[];a.each(i,function(t){var e=t.get("type"),n=t.get("adjusts"),r=!1;n&&a.each(n,function(t){if("symmetric"===t.type||"Symmetric"===t.type)return r=!0,!1}),-1!==a.indexOf(o,e)||r||o.push(e)});var s,u=!(!i.length||!i[0].get("coord"))&&i[0].get("coord").isTransposed;if(i.length&&i[0].get("coord")&&"cartesian"===i[0].get("coord").type)if("interval"===o[0]&&!1!==n.shared){var l=a.mix({},e.tooltipCrosshairsRect);l.isTransposed=u,s={zIndex:0,crosshairs:l}}else if(a.indexOf(c,o[0])>-1){var h=a.mix({},e.tooltipCrosshairsLine);h.isTransposed=u,s={crosshairs:h}}return a.mix(r,s,{})},e._bindEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.on(e,a.wrapBehavior(this,"onMouseMove")),t.on("plotleave",a.wrapBehavior(this,"onMouseOut")))},e._offEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.off(e,a.getWrapBehavior(this,"onMouseMove")),t.off("plotleave",a.getWrapBehavior(this,"onMouseOut")))},e._setTooltip=function(t,e,n,r){var o=this.tooltip,s=this.prePoint;if(!s||s.x!==t.x||s.y!==t.y){e=i(e),this.prePoint=t;var u=this.chart,l=this.viewTheme,c=a.isArray(t.x)?t.x[t.x.length-1]:t.x,h=a.isArray(t.y)?t.y[t.y.length-1]:t.y;o.get("visible")||u.emit("tooltip:show",{x:c,y:h,tooltip:o});var f=e[0],d=f.title||f.name;o.isContentChange(d,e)&&(u.emit("tooltip:change",{tooltip:o,x:c,y:h,items:e}),o.setContent(d=e[0].title||e[0].name,e),a.isEmpty(n)?(o.clearMarkers(),o.set("markerItems",[])):!0===this.options.hideMarkers?o.set("markerItems",n):o.setMarkers(n,l.tooltipMarker)),r===this._getCanvas()&&"mini"===o.get("type")?o.hide():(o.setPosition(c,h,r),o.show())}},e.hideTooltip=function(){var t=this.tooltip,e=this.chart,n=this._getCanvas();this.prePoint=null,t.hide(),e.emit("tooltip:hide",{tooltip:t}),n.draw()},e.onMouseMove=function(t){if(!a.isEmpty(t.views)){var e=this.timeStamp,n=+new Date,r={x:t.x,y:t.y};n-e>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(r,t.views,t.shape),this.timeStamp=n)}},e.onMouseOut=function(t){var e=this.tooltip;e.get("visible")&&e.get("follow")&&(t&&t.toElement&&(r(t.toElement,"g2-tooltip")||function(t,e){for(var n=t.parentNode,i=!1;n&&n!==document.body;){if(r(n,"g2-tooltip")){i=!0;break}n=n.parentNode}return i}(t.toElement))||this.hideTooltip())},e.renderTooltip=function(){var t=this;if(!t.tooltip){var e,n=t.chart,r=t.viewTheme,i=t._getCanvas(),o=t._getDefaultTooltipCfg(),u=t.options;(u=a.deepMix({plotRange:n.get("plotRange"),capture:!1,canvas:i,frontPlot:n.get("frontPlot"),viewTheme:r.tooltip,backPlot:n.get("backPlot")},o,u)).crosshairs&&"rect"===u.crosshairs.type&&(u.zIndex=0),u.visible=!1,"mini"===u.type?(u.crosshairs=!1,u.position="top",e=new s.Mini(u)):e=u.useHtml?new s.Html(u):new s.Canvas(u),t.tooltip=e;var l=t._getTriggerEvent();if(!e.get("enterable")&&"plotmove"===l){var c=e.get("container");c&&(c.onmousemove=function(e){var r=t._normalizeEvent(e);n.emit(l,r)})}t._bindEvent()}},e.showTooltip=function(t,e,n){var r=this;if(!a.isEmpty(e)&&t){this.tooltip||this.renderTooltip();var i=r.options,o=[],s=[];if(a.each(e,function(e){if(!e.get("tooltipEnable"))return!0;var n=e.get("geoms"),u=e.get("coord");a.each(n,function(e){var n=e.get("type");if(e.get("visible")&&!1!==e.get("tooltipCfg")){var c=e.get("dataArray");if(e.isShareTooltip()||!1===i.shared&&a.inArray(["area","line","path","polygon"],n))a.each(c,function(c){var h=e.findPoint(t,c);if(h){var f=e.getTipItems(h,i.title);a.each(f,function(t){var i=t.point;if(i&&i.x&&i.y){var s=a.isArray(i.x)?i.x[i.x.length-1]:i.x,c=a.isArray(i.y)?i.y[i.y.length-1]:i.y;i=u.applyMatrix(s,c,1),t.x=i[0],t.y=i[1],t.showMarker=!0;var h=r._getItemMarker(e,t.color);t.marker=h,-1!==a.indexOf(l,n)&&o.push(t)}}),s=s.concat(f)}});else{var h=e.get("shapeContainer"),f=h.get("canvas").get("pixelRatio"),d=h.getShape(t.x*f,t.y*f);d&&d.get("visible")&&d.get("origin")&&(s=e.getTipItems(d.get("origin"),i.title))}}}),a.each(s,function(t){var e=t.point,n=a.isArray(e.x)?e.x[e.x.length-1]:e.x,r=a.isArray(e.y)?e.y[e.y.length-1]:e.y;e=u.applyMatrix(n,r,1),t.x=e[0],t.y=e[1]})}),s.length){var c=s[0];if(!s.every(function(t){return t.title===c.title})){var h=c,f=1/0;s.forEach(function(e){var n=u.distance([t.x,t.y],[e.x,e.y]);n<f&&(f=n,h=e)}),s=s.filter(function(t){return t.title===h.title}),o=o.filter(function(t){return t.title===h.title})}if(!1===i.shared&&s.length>1){var d=s[0],p=Math.abs(t.y-d.y);a.each(s,function(e){Math.abs(t.y-e.y)<=p&&(d=e,p=Math.abs(t.y-e.y))}),d&&d.x&&d.y&&(o=[d]),s=[d]}r._setTooltip(t,s,o,n)}else r.hideTooltip()}},e.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},e._getItemMarker=function(t,e){var n=t.get("shapeType")||"point",r=t.getDefaultValue("shape")||"circle",i={color:e};return o.getShapeFactory(n).getMarkerCfg(r,i)},t}();t.exports=f},function(t,e,n){function r(t,e){if(a.isNil(t)||a.isNil(e))return!1;var n=t.get("origin"),r=e.get("origin");return a.isNil(n)&&a.isNil(r)?a.isEqual(t,e):a.isEqual(n,r)}function i(t){t.shape&&t.shape.get("origin")&&(t.data=t.shape.get("origin"))}var a=n(0),o=function(){function t(t){this.view=null,this.canvas=null,a.assign(this,t),this._init()}var e=t.prototype;return e._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},e._getShapeEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,toElement:t.event.toElement||t.event.relatedTarget}},e._getShape=function(t,e){return this.view.get("canvas").getShape(t,e)},e._getPointInfo=function(t){var e={x:t.x/this.pixelRatio,y:t.y/this.pixelRatio},n=this.view.getViewsByPoint(e);return e.views=n,e},e._getEventObj=function(t,e,n){return{x:e.x,y:e.y,target:t.target,toElement:t.event.toElement||t.event.relatedTarget,views:n}},e.bindEvents=function(){var t=this.canvas;t.on("mousedown",a.wrapBehavior(this,"onDown")),t.on("mousemove",a.wrapBehavior(this,"onMove")),t.on("mouseleave",a.wrapBehavior(this,"onOut")),t.on("mouseup",a.wrapBehavior(this,"onUp")),t.on("click",a.wrapBehavior(this,"onClick")),t.on("dblclick",a.wrapBehavior(this,"onClick")),t.on("touchstart",a.wrapBehavior(this,"onTouchstart")),t.on("touchmove",a.wrapBehavior(this,"onTouchmove")),t.on("touchend",a.wrapBehavior(this,"onTouchend"))},e._triggerShapeEvent=function(t,e,n){if(t&&t.name&&!t.get("destroyed")){var r=this.view;if(r.isShapeInView(t)){var i=t.name+":"+e;n.view=r,n.appendInfo=t.get("appendInfo"),r.emit(i,n);var a=r.get("parent");a&&a.emit(i,n)}}},e.onDown=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,i(n),e.emit("mousedown",n),this._triggerShapeEvent(this.currentShape,"mousedown",n)},e.onMove=function(t){var e=this.view,n=this.currentShape;n&&n.get("destroyed")&&(n=null,this.currentShape=null);var a=this._getShape(t.x,t.y)||t.currentTarget,o=this._getShapeEventObj(t);if(o.shape=a,i(o),e.emit("mousemove",o),this._triggerShapeEvent(a,"mousemove",o),n&&!r(n,a)){var s=this._getShapeEventObj(t);s.shape=n,s.toShape=a,i(s),this._triggerShapeEvent(n,"mouseleave",s)}if(a&&!r(n,a)){var u=this._getShapeEventObj(t);u.shape=a,u.fromShape=n,i(u),this._triggerShapeEvent(a,"mouseenter",u)}this.currentShape=a;var l=this._getPointInfo(t),c=this.curViews||[];0===c.length&&l.views.length&&e.emit("plotenter",this._getEventObj(t,l,l.views)),c.length&&0===l.views.length&&e.emit("plotleave",this._getEventObj(t,l,c)),l.views.length&&((o=this._getEventObj(t,l,l.views)).shape=a,i(o),e.emit("plotmove",o)),this.curViews=l.views},e.onOut=function(t){var e=this.view,n=this._getPointInfo(t),r=this._getEventObj(t,n,this.curViews||[]);!this.curViews||0===this.curViews.length||r.toElement&&"CANVAS"===r.toElement.tagName||(e.emit("plotleave",r),this.curViews=[])},e.onUp=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,e.emit("mouseup",n),this._triggerShapeEvent(this.currentShape,"mouseup",n)},e.onClick=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,i(r),e.emit("click",r),this._triggerShapeEvent(n,t.type,r),this.currentShape=n;var o=this._getPointInfo(t),s=o.views;if(!a.isEmpty(s)){var u=this._getEventObj(t,o,s);this.currentShape&&(u.shape=this.currentShape,i(u)),"dblclick"===t.type?(e.emit("plotdblclick",u),e.emit("dblclick",r)):e.emit("plotclick",u)}},e.onTouchstart=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,i(r),e.emit("touchstart",r),this._triggerShapeEvent(n,"touchstart",r),this.currentShape=n},e.onTouchmove=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,i(r),e.emit("touchmove",r),this._triggerShapeEvent(n,"touchmove",r),this.currentShape=n},e.onTouchend=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,i(n),e.emit("touchend",n),this._triggerShapeEvent(this.currentShape,"touchend",n)},e.clearEvents=function(){var t=this.canvas;t.off("mousemove",a.getWrapBehavior(this,"onMove")),t.off("mouseleave",a.getWrapBehavior(this,"onOut")),t.off("mousedown",a.getWrapBehavior(this,"onDown")),t.off("mouseup",a.getWrapBehavior(this,"onUp")),t.off("click",a.getWrapBehavior(this,"onClick")),t.off("dblclick",a.getWrapBehavior(this,"onClick")),t.off("touchstart",a.getWrapBehavior(this,"onTouchstart")),t.off("touchmove",a.getWrapBehavior(this,"onTouchmove")),t.off("touchend",a.getWrapBehavior(this,"onTouchend"))},t}();t.exports=o},function(t,e,n){function r(t,e){var n=[];if(!1===t.get("animate"))return[];var i=t.get("children");return s.each(i,function(t){if(t.isGroup)n=n.concat(r(t,e));else if(t.isShape&&t._id){var i=t._id;(i=i.split("-")[0])===e&&n.push(t)}}),n}function i(t,e,n,r){return r?u.Action[n][r]:u.getAnimation(t,e,n)}function a(t,e,n){var r=u.getAnimateCfg(t,e);return n&&n[e]?s.deepMix({},r,n[e]):r}function o(t,e,n,r){var o,u,c=!1;if(r){var h=[],f=[];s.each(e,function(e){var n=t[e._id];n?(e.setSilent("cacheShape",n),h.push(e),delete t[e._id]):f.push(e)}),s.each(t,function(t){var e=t.name,r=t.coord,h=t._id,f=t.attrs,d=t.index,p=t.type;if(u=a(e,"leave",t.animateCfg),o=i(e,r,"leave",u.animation),s.isFunction(o)){var g=n.addShape(p,{attrs:f,index:d});if(g._id=h,g.name=e,r&&"label"!==e){var v=g.getMatrix(),m=l.multiply([],v,r.matrix);g.setMatrix(m)}c=!0,o(g,u,r)}}),s.each(h,function(t){var e=t.name,n=t.get("coord"),r=t.get("cacheShape").attrs;if(!s.isEqual(r,t.attr())){if(u=a(e,"update",t.get("animateCfg")),o=i(e,n,"update",u.animation),s.isFunction(o))o(t,u,n);else{var l=s.cloneDeep(t.attr());t.attr(r),t.animate(l,u.duration,u.easing,function(){t.setSilent("cacheShape",null)})}c=!0}}),s.each(f,function(t){var e=t.name,n=t.get("coord");u=a(e,"enter",t.get("animateCfg")),o=i(e,n,"enter",u.animation),s.isFunction(o)&&(o(t,u,n),c=!0)})}else s.each(e,function(t){var e=t.name,n=t.get("coord");u=a(e,"appear",t.get("animateCfg")),o=i(e,n,"appear",u.animation),s.isFunction(o)&&(o(t,u,n),c=!0)});return c}var s=n(0),u=n(126),l=s.MatrixUtil.mat3;t.exports={execAnimation:function(t,e){var n=t.get("middlePlot"),i=t.get("backPlot"),a=t.get("_id"),u=t.get("canvas"),l=u.get(a+"caches")||[];0===l.length&&(e=!1);var c=r(n,a),h=r(i,a),f=c.concat(h);u.setSilent(a+"caches",function(t){var e={};return s.each(f,function(t){if(t._id&&!t.isClip){var n=t._id;e[n]={_id:n,type:t.get("type"),attrs:s.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")}}}),e}()),o(l,e?f:c,u,e)||u.draw()}}},function(t,e,n){var r=n(0),i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},n._beforeRenderUI=function(){this._calculateRange()},n._renderUI=function(){this._renderBackground(),this._renderPlotBackground()},n._renderBackground=function(){var t=this.get("background");if(t){var e=this.get("canvas"),n={x:0,y:0,width:this.get("width")||e.get("width"),height:this.get("height")||e.get("height")},i=this.get("backgroundShape");i?i.attr(n):(i=this.addShape("rect",{attrs:r.mix(n,t)}),this.set("backgroundShape",i))}},n._renderPlotBackground=function(){var t=this.get("plotBackground");if(t){var e=this.get("plotRange"),n=e.tl,i={x:n.x,y:n.y,width:e.br.x-e.bl.x,height:e.br.y-e.tr.y},a=this.get("plotBackShape");a?a.attr(i):(t.image?(i.img=t.image,a=this.addShape("image",{attrs:i})):(r.mix(i,t),a=this.addShape("rect",{attrs:i})),this.set("plotBackShape",a))}},n._convert=function(t,e){if(r.isString(t))if("auto"===t)t=0;else if(-1!==t.indexOf("%")){var n=this.get("canvas"),i=this.get("width")||n.get("width"),a=this.get("height")||n.get("height");t=parseInt(t,10)/100,t=e?t*i:t*a}return t},n._calculateRange=function(){var t=this.get("plotRange");r.isNil(t)&&(t={});var e=this.get("padding"),n=this.get("canvas"),i=this.get("width")||n.get("width"),a=this.get("height")||n.get("height"),o=r.toAllPadding(e),s=this._convert(o[0],!1),u=this._convert(o[1],!0),l=this._convert(o[2],!1),c=this._convert(o[3],!0),h=Math.min(c,i-u),f=Math.max(c,i-u),d=Math.min(a-l,s),p=Math.max(a-l,s);t.tl={x:h,y:d},t.tr={x:f,y:d},t.bl={x:h,y:p},t.br={x:f,y:p},t.cc={x:(f+h)/2,y:(p+d)/2},this.set("plotRange",t)},n.repaint=function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this},e}(n(16).Group);t.exports=i},function(t,e,n){var r=n(7),i=n(0),a={getDefaultSize:function(){var t=this.get("defaultSize"),e=this.get("viewTheme")||r;if(!t){var n,a=this.get("coord"),o=this.getXScale(),s=o.values,u=this.get("dataArray");if(o.isLinear&&s.length>1){s.sort();var l=function(t,e){var n=t.length;i.isString(t[0])&&(t=t.map(function(t){return e.translate(t)}));for(var r=t[1]-t[0],a=2;a<n;a++){var o=t[a]-t[a-1];r>o&&(r=o)}return r}(s,o);s.length>(n=(o.max-o.min)/l)&&(n=s.length)}else n=s.length;var c=o.range,h=1/n,f=1;this.isInCircle()?f=a.isTransposed&&n>1?e.widthRatio.multiplePie:e.widthRatio.rose:(o.isLinear&&(h*=c[1]-c[0]),f=e.widthRatio.column),h*=f,this.hasAdjust("dodge")&&(h/=this._getDodgeCount(u)),this.set("defaultSize",t=h)}return t},_getDodgeCount:function(t){var e,n=this.get("adjusts"),r=t.length;if(i.each(n,function(t){"dodge"===t.type&&(e=t.dodgeBy)}),e){var a=i.Array.merge(t);r=i.Array.values(a,e).length}return r},getDimWidth:function(t){var e=this.get("coord"),n=e.convertPoint({x:0,y:0}),r=e.convertPoint({x:"x"===t?1:0,y:"x"===t?0:1}),i=0;return n&&r&&(i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),i},_getWidth:function(){var t=this.get("coord");return this.isInCircle()&&!t.isTransposed?(t.endAngle-t.startAngle)*t.radius:this.getDimWidth("x")},_toNormalizedSize:function(t){return t/this._getWidth()},_toCoordSize:function(t){return this._getWidth()*t},getNormalizedSize:function(t){var e=this.getAttrValue("size",t);return i.isNil(e)?this.getDefaultSize():this._toNormalizedSize(e)},getSize:function(t){var e=this.getAttrValue("size",t);if(i.isNil(e)){var n=this.getDefaultSize();e=this._toCoordSize(n)}return e}};t.exports=a},function(t,e,n){var r=n(0),i=n(7);t.exports={splitData:function(t){var e=this.get("viewTheme")||i;if(!t.length)return[];var n,a=[],o=[],s=this.getYScale().field;return r.each(t,function(t){n=t._origin?t._origin[s]:t[s],e.connectNulls?r.isNil(n)||o.push(t):r.isArray(n)&&r.isNil(n[0])||r.isNil(n)?o.length&&(a.push(o),o=[]):o.push(t)}),o.length&&a.push(o),a}}},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(20),a=n(358),o=n(0),s=function(t){function e(e){var n;return n=t.call(this,e)||this,o.assign(r(r(n)),a),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="path",e.shapeType="line",e},n.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.isStack=this.hasStack(),n},n.draw=function(t,e,n,r){var i=this,a=this.splitData(t),s=this.getDrawCfg(t[0]);i._applyViewThemeShapeStyle(s,s.shape,n),s.origin=t,o.each(a,function(t,a){if(!o.isEmpty(t)){s.splitedIndex=a,s.points=t;var u=n.drawShape(s.shape,s,e);i.appendShapeInfo(u,r+a)}})},e}(i);i.Path=s,t.exports=s},function(t,e,n){"use strict";var r=n(370),i=n(371);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";e.b=function(t,e,n){var i=t._id;return t.each(function(){var t=Object(r.h)(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(r.f)(t,i).value[e]}};var r=n(70);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,a=Object(r.f)(this.node(),n).tween,o=0,s=a.length;o<s;++o)if((i=a[o]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var a=Object(r.h)(this,t),o=a.tween;if(o!==n)for(var s=0,u=(i=n=o).length;s<u;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}a.tween=i}}:function(t,e,n){var i,a;if("function"!=typeof n)throw new Error;return function(){var o=Object(r.h)(this,t),s=o.tween;if(s!==i){a=(i=s).slice();for(var u={name:e,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===e){a[l]=u;break}l===c&&a.push(u)}o.tween=a}})(n,t,e))}},function(t,e,n){var r=n(7),i=n(0),a=i.assign,o=i.isNil,s=i.isArray,u=i.cloneDeep,l=i.wrapBehavior,c=i.getWrapBehavior,h=function(){function t(t){var e=this.getDefaultCfg();a(this,e,t),this.init()}var e=t.prototype;return e.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:r.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:r.fontFamily}}}},e.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},e.initContainer=function(){var t=this.chart.get("frontPlot").addGroup();this.group=t},e.initViews=function(){for(var t=this.chart,e=t.get("data"),n=this.eachView,r=this.generateFacets(e),i=0;i<r.length;i++){var a=r[i],o=a.region,s=t.view({start:o.start,end:o.end,padding:this.padding});s.source(a.data),this.beforeProcessView(s,a),n&&n(s,a),this.afterProcessView(s,a),a.view=s}this.facets=r},e.beforeProcessView=function(){},e.afterProcessView=function(t,e){this.autoSetAxis&&this.processAxis(t,e)},e.processAxis=function(t,e){var n=t.get("options"),r=t.get("geoms");if((!n.coord.type||"rect"===n.coord.type)&&r.length){var i=r[0].get("attrOptions").position.field,a=s(i)?i:i.split("*").map(function(t){return t.trim()}),u=a[0],l=a[1];o(n.axes)&&(n.axes={});var c=n.axes;!1!==c&&(u&&!1!==c[u]&&(c[u]=c[u]||{},this.setXAxis(u,c,e)),l&&!1!==c[l]&&(c[l]=c[l]||{},this.setYAxis(l,c,e)))}},e.setXAxis=function(){},e.setYAxis=function(){},e.renderTitle=function(t,e){this.drawColTitle(t,e)},e.getScaleText=function(t,e,n){var r;if(t){var i=n.get("scales")[t];i||(i=n.createScale(t)),r=i.getText(e)}else r=e;return r},e.drawColTitle=function(t,e){var n=this.getScaleText(e.colField,e.colValue,t),r=a({position:["50%","0%"],content:n},this.colTitle);t.guide().text(r)},e.drawRowTitle=function(t,e){var n=this.getScaleText(e.rowField,e.rowValue,t),r=a({position:["100%","50%"],content:n},u(this.rowTitle));t.guide().text(r)},e.getFilter=function(t){return function(e){var n=!0;return t.forEach(function(t){var r=t.field,i=t.value,a=!0;!o(i)&&r&&(a=e[r]===i),n=n&&a}),n}},e.getFieldValues=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i][t];o(a)||r[a]||(n.push(a),r[a]=!0)}return n},e.getRegion=function(t,e,n,r){var i=1/e,a=1/t,o={x:i*n,y:a*r};return{start:o,end:{x:o.x+i,y:o.y+a}}},e.generateFacets=function(){return[]},e._bindEvent=function(){var t=this.chart;t.on("afterchangedata",l(this,"onDataChange")),t.on("beforeclear",l(this,"onClear")),t.on("beforedestroy",l(this,"destroy")),t.on("beforepaint",l(this,"onPaint")),t.on("setdata",l(this,"onDataChange"))},e._clearEvent=function(){var t=this.chart;t&&(t.off("afterchangedata",c(this,"onDataChange")),t.off("beforeclear",c(this,"onClear")),t.off("beforedestroy",c(this,"destroy")),t.off("beforepaint",c(this,"onPaint")),t.off("setdata",c(this,"onDataChange")))},e._clearFacets=function(){var t=this.facets,e=this.chart;if(t)for(var n=0;n<t.length;n++)e.removeView(t[n].view);this.facets=null},e.onClear=function(){this.onRemove()},e.onPaint=function(){if(this.showTitle)for(var t=this.facets,e=0;e<t.length;e++){var n=t[e];this.renderTitle(n.view,n)}},e.onDataChange=function(){this._clearFacets(),this.initViews()},e.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},e.destroy=function(){this.onRemove(),this.destroyed=!0},t}();t.exports=h},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(20),o=n(0),s=n(357);n(365);var u=function(t){function e(e){var n;return n=t.call(this,e)||this,o.assign(i(i(n)),s),n}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e},n.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},n.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},e}(a),l=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(u),c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(u),h=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"symmetric"}],e},e}(u);u.Stack=l,u.Dodge=c,u.Symmetric=h,a.Interval=u,a.IntervalStack=l,a.IntervalDodge=c,a.IntervalSymmetric=h,t.exports=u},function(t,e,n){function r(t,e){var n,r,i=t.x,a=t.y,o=t.size,s=t.y0,u=a;h.isArray(a)&&(u=a[1],s=a[0]),h.isArray(i)?(n=i[0],r=i[1]):(n=i-o/2,r=i+o/2);var l=[];return l.push({x:n,y:s},{x:n,y:u}),e?l.push({x:r,y:(u+s)/2}):l.push({x:r,y:u},{x:r,y:s}),l}function i(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r&&e.push([0===n?"M":"L",r.x,r.y])}var i=t[0];return e.push(["L",i.x,i.y]),e.push(["z"]),e}function a(t){var e=h.mix({},g.shape.interval,t.style);return p.addFillAttrs(e,t),t.color&&(e.stroke=e.stroke||t.color),e}function o(t){var e=h.mix({},g.shape.hollowInterval,t.style);return p.addStrokeAttrs(e,t),e}function s(t,e){var n=[],r=t.points,i=t.nextPoints;return h.isNil(i)?n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],e?["L",r[3].x,r[3].y]:["L",r[2].x,r[2].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]),n}function u(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function l(t,e,n,r,i,a,o){for(var s=2*Math.ceil(2*t/n*4),l=[];r<2*-Math.PI;)r+=2*Math.PI;for(;r>0;)r-=2*Math.PI;var c=a-t+(r=r/Math.PI/2*n)-2*t;l.push(["M",c,e]);for(var h=0,f=0;f<s;++f){var d=u(f*n/4,f%4,n,i);l.push(["C",d[0][0]+c,-d[0][1]+e,d[1][0]+c,-d[1][1]+e,d[2][0]+c,-d[2][1]+e]),f===s-1&&(h=d[2][0])}return l.push(["L",h+c,o+t]),l.push(["L",c,o+t]),l.push(["L",c,e]),l}function c(t,e,n,r,i,a,o,s){for(var u=o.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,f=0;f<r;f++){var d=a.addShape("path",{attrs:{path:l(s,u.minY+h*n,c/4,0,c/64,t,e),fill:i[f],clip:o}});"canvas"===g.renderer&&d.animate({transform:[["t",c/2,0]],repeat:!0},5e3-300*f)}}var h=n(0),f=n(18),d=n(22),p=n(45),g=n(7),v=n(16),m=h.PathUtil,y=f.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(t,e){return!t||h.inArray(["rect","funnel","pyramid"],t)?{fillOpacity:(e.fillOpacity||e.opacity||1)-.15}:{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return r(t)},getSelectedCfg:function(t,e){return function(t,e){var n,r=e.geom.get("coord");if(r&&"theta"===r.type){var i=function(t,e){var n,r,i,a=e.getRadius(),o=a*e.innerRadius;return!h.isArray(t.x)&&h.isArray(t.y)&&(t.x=[t.x,t.x]),h.isArray(t.x)?(i={x:t.x[1],y:t.y[1]},n=d.getPointAngle(e,{x:t.x[0],y:t.y[0]}),(r=d.getPointAngle(e,i))<=n&&(r+=2*Math.PI)):(n=e.startAngle,r=d.getPointAngle(e,i=t)),{r:a,ir:o,startAngle:n,endAngle:r}}(e.point,r),a=(i.endAngle-i.startAngle)/2+i.startAngle;n={transform:[["t",7.5*Math.cos(a),7.5*Math.sin(a)]]}}return h.mix({},n)}(0,e)}});f.registerShape("interval","rect",{draw:function(t,e){var n=a(t),r=i(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:h.mix(n,{path:r})})},getMarkerCfg:function(t){var e=a(t),n=t.isInCircle;return h.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),f.registerShape("interval","hollowRect",{draw:function(t,e){var n=o(t),r=i(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:h.mix(n,{path:r})})},getMarkerCfg:function(t){var e=o(t),n=t.isInCircle;return h.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),f.registerShape("interval","line",{getPoints:function(t){return function(t){var e=t.x,n=t.y,r=t.y0,i=[];return h.isArray(n)?h.each(n,function(t,n){i.push({x:h.isArray(e)?e[n]:e,y:t})}):i.push({x:e,y:n},{x:e,y:r}),i}(t)},draw:function(t,e){var n=o(t);n.lineWidth=t.size||1;var r=i(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:h.mix(n,{path:r})})},getMarkerCfg:function(t){var e=o(t);return h.mix({symbol:"line",radius:5},e)}}),f.registerShape("interval","tick",{getPoints:function(t){return function(t){var e=t.x,n=h.isArray(t.y)?t.y[1]:t.y,r=h.isArray(t.y)?t.y[0]:t.y0,i=t.size,a=[];return a.push({x:e-i/2,y:n},{x:e+i/2,y:n},{x:e,y:n},{x:e,y:r},{x:e-i/2,y:r},{x:e+i/2,y:r}),a}(t)},draw:function(t,e){var n=o(t);n.lineWidth||(n.lineWidth=2);var r=function(t){var e=[];return e.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]),e}(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:h.mix(n,{path:r})})},getMarkerCfg:function(t){var e=o(t);return h.mix({symbol:"tick",radius:5},e)}}),f.registerShape("interval","funnel",{getPoints:function(t){return t.size=2*t.size,r(t)},draw:function(t,e){var n=a(t),r=s(t,!0);return r=this.parsePath(r),e.addShape("path",{attrs:h.mix(n,{path:r})})},getMarkerCfg:function(t){var e=a(t);return h.mix({symbol:"square",radius:4},e)}}),f.registerShape("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,r(t,!0)},draw:function(t,e){var n=a(t),r=s(t,!1);return r=this.parsePath(r),e.addShape("path",{attrs:h.mix(n,{path:r})})},getMarkerCfg:function(t){var e=a(t);return h.mix({symbol:"square",radius:4},e)}}),f.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var n=0,r=1/0;h.each(t.points,function(t){t.x<r&&(r=t.x),n+=t.x});var i=this.parsePoint({x:n/t.points.length,y:.5}),s=this.parsePoint({x:r,y:.5}),u=Math.min(i.x-s.x,s.y),l=a(t),f=new v.Circle({attrs:{x:i.x,y:i.y,r:u}});return c(i.x,i.y,t.y/(2*i.y),1,[l.fill],e,f,4*u),e.addShape("circle",{attrs:h.mix(o(t),{x:i.x,y:i.y,r:u+u/8})})}});var x={};f.registerShape("interval","liquid-fill-path",{draw:function(t,e){var n=h.mix({},a(t)),r=t.shape[1],i=0,s=1/0;h.each(t.points,function(t){t.x<s&&(s=t.x),i+=t.x});var u,l=this.parsePoint({x:i/t.points.length,y:.5}),f=this.parsePoint({x:s,y:.5}),d=Math.min(l.x-f.x,f.y);if(x[r])u=x[r];else{var p=m.parsePathString(r);x[r]=u={segments:p}}var g=[];n.rotate&&(g.push(["r",n.rotate/180*Math.PI]),delete n.rotate);var v=e.addShape("path",{attrs:h.mix(n,{fillOpacity:0,path:u.segments})}),y=h.cloneDeep(v.getBBox()),b=y.maxX-y.minX,_=y.maxY-y.minY,w=2*d/Math.max(b,_);v.transform(g.concat([["s",w,w]]));var S=w*b/2,M=w*_/2;v.transform([["t",l.x-S,l.y-M]]),c(l.x,l.y,t.y/(2*l.y),1,[n.fill],e,v,4*f.y);var O=e.addShape("path",{attrs:h.mix(o(t),{path:u.segments})});return O.transform(g.concat([["s",w,w],["t",l.x-S,l.y-M]])),O}}),f.registerShape("interval","top-line",{draw:function(t,e){var n=a(t),r=t.style||{},o={stroke:r.stroke||"white",lineWidth:r.lineWidth||1,path:this.parsePath([["M",t.points[1].x,t.points[1].y],["L",t.points[2].x,t.points[2].y]])},s=i(t.points);s=this.parsePath(s),delete n.stroke;var u=e.addShape("path",{attrs:h.mix(n,{zIndex:0,path:s})});return e.addShape("path",{zIndex:1,attrs:o}),u},getMarkerCfg:function(t){var e=a(t),n=t.isInCircle;return h.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),t.exports=y},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(20),a=n(359);n(367);var o=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="line",e.sortable=!0,e},e}(a),s=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(o);o.Stack=s,i.Line=o,i.LineStack=s,t.exports=o},function(t,e,n){function r(t){var e=c.mix({},p.shape.line,t.style);return f.addStrokeAttrs(e,t),t.size&&(e.lineWidth=t.size),e}function i(t){var e=c.mix({lineWidth:2,radius:6},p.shape.line,t.style);return f.addStrokeAttrs(e,t),e}function a(t,e,n,r){var i;if(e){var a=r.constraint;n&&t.length&&t.push({x:t[0].x,y:t[0].y}),i=h.getSplinePath(t,!1,a)}else i=h.getLinePath(t,!1),n&&i.push(["Z"]);return i}function o(t,e){var n=t.points,r=t.isInCircle;return c.isArray(n[0].y)?function(t,e,n,r){for(var i=[],o=r.isStack,s=[],u=0;u<t.length;u++){var l=f.splitPoints(t[u]);s.push(l[0]),i.push(l[1])}var c=a(i,e,n,r),h=a(s,e,n,r);return o?c:c.concat(h)}(n,e,r,t):a(n,e,r,t)}function s(t,e){return function(t){var e=[];return c.each(t,function(t,n){e.push(0===n?["M",t.x,t.y]:["L",t.x,t.y])}),e}(function(t,e){var n=[];return c.each(t,function(r,i){var a=t[i+1];n.push(r),a&&(n=n.concat(e(r,a)))}),n}(t.points,e))}function u(t,e){return c.mix({symbol:e?function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]}:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]}},i(t))}function l(t,e){return c.mix({symbol:e},i(t))}var c=n(0),h=n(22),f=n(45),d=n(18),p=n(7),g=[1,1],v=[5.5,1],m=d.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return f.splitPoints(t)},drawShape:function(t,e,n){var r,i=this.getShape(t);return(r=1===e.points.length&&p.showSinglePoint?function(t,e,n){var r=e.points[0];return n.addShape("circle",{attrs:c.mix({x:r.x,y:r.y,r:2,fill:e.color},e.style)})}(0,e,n):i.draw(e,n))&&(r.set("origin",e.origin),r._id=e.splitedIndex?e._id+e.splitedIndex:e._id,r.name=this.name),r}});d.registerShape("line","line",{draw:function(t,e){var n=r(t),i=o(t,!1);return e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return u(t)}}),d.registerShape("line","dot",{draw:function(t,e){var n=r(t),i=o(t,!1);return e.addShape("path",{attrs:c.mix(n,{path:i,lineDash:g})})},getMarkerCfg:function(t){var e=u(t,!1);return e.lineDash=g,e}}),d.registerShape("line","dash",{draw:function(t,e){var n=r(t),i=o(t,!1);return e.addShape("path",{attrs:c.mix({path:i,lineDash:v},n)})},getMarkerCfg:function(t){var e=u(t,!1);return e.lineDash=e.lineDash||v,e}}),d.registerShape("line","smooth",{draw:function(t,e){var n=r(t),i=this._coord;t.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var a=o(t,!0);return e.addShape("path",{attrs:c.mix(n,{path:a})})},getMarkerCfg:function(t){return u(t,!0)}}),d.registerShape("line","hv",{draw:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[];return n.push({x:e.x,y:t.y}),n});return e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return l(t,function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]})}}),d.registerShape("line","vh",{draw:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[];return n.push({x:t.x,y:e.y}),n});return e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return l(t,function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]})}}),d.registerShape("line","hvh",{draw:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[],r=(e.x-t.x)/2+t.x;return n.push({x:r,y:t.y}),n.push({x:r,y:e.y}),n});return e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return l(t,function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]})}}),d.registerShape("line","vhv",{draw:function(t,e){var n=r(t),i=s(t,function(t,e){var n=[],r=(e.y-t.y)/2+t.y;return n.push({x:t.x,y:r}),n.push({x:e.x,y:r}),n});return e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:function(t){return l(t,function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]})}}),m.spline=m.smooth,t.exports=m},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(20),a=n(0);n(369);var o=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="point",e.shapeType="point",e.generatePoints=!0,e},n.drawPoint=function(t,e,n,r){var i,o=this,s=t.shape,u=o.getDrawCfg(t);if(o._applyViewThemeShapeStyle(u,s,n),a.isArray(t.y)){var l=o.hasStack();a.each(t.y,function(t,a){u.y=t,u.yIndex=a,l&&0===a||(i=n.drawShape(s,u,e),o.appendShapeInfo(i,r+a))})}else a.isNil(t.y)||(i=n.drawShape(s,u,e),o.appendShapeInfo(i,r))},e}(i),s=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"jitter"}],e},e}(o),u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(o);o.Jitter=s,o.Stack=u,i.Point=o,i.PointJitter=s,i.PointStack=u,t.exports=o},function(t,e,n){function r(t){var e=a.mix({},s.shape.point,t.style);return o.addFillAttrs(e,t),a.isNumber(t.size)&&(e.radius=t.size),e}function i(t){var e=a.mix({},s.shape.hollowPoint,t.style);return o.addStrokeAttrs(e,t),a.isNumber(t.size)&&(e.radius=t.size),e}var a=n(0),o=n(45),s=n(7),u=n(18),l=n(16).Marker,c=a.PathUtil,h=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],f=Math.sqrt(3);a.mix(l.Symbols,{hexagon:function(t,e,n){var r=n/2*f;return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}});var d=u.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(t,e){var n,r=e.radius;return{radius:r+1,shadowBlur:r,shadowColor:n=t&&(0===t.indexOf("hollow")||-1!==a.indexOf(h,t))||!t?e.stroke||e.strokeStyle:e.fill||e.fillStyle,stroke:n,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(t){return o.splitPoints(t)}});u.registerShape("point","rect",{draw:function(t,e){var n=r(t),i=function(t){var e=t.points[0].x,n=t.points[0].y,r=t.size[0],i=t.size[1];return[["M",e-.5*r,n-.5*i],["L",e+.5*r,n-.5*i],["L",e+.5*r,n+.5*i],["L",e-.5*r,n+.5*i],["z"]]}(t);return i=this.parsePath(i),e.addShape("path",{attrs:a.mix(n,{path:i})})},getMarkerCfg:function(t){var e=r(t);return e.symbol="rect",e.radius=4.5,e}}),a.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],function(t){u.registerShape("point",t,{draw:function(e,n){var i=r(e);return n.addShape("Marker",{attrs:a.mix(i,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=r(e);return n.symbol=t,n.radius=4.5,n}}),u.registerShape("point","hollow"+a.upperFirst(t),{draw:function(e,n){var r=i(e);return n.addShape("Marker",{attrs:a.mix(r,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=i(e);return n.symbol=t,n.radius=4.5,n}})}),a.each(h,function(t){u.registerShape("point",t,{draw:function(e,n){var r=i(e);return n.addShape("Marker",{attrs:a.mix(r,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=i(e);return n.symbol=t,n.radius=4.5,n}})}),u.registerShape("point","image",{draw:function(t,e){return t.points=this.parsePoints(t.points),e.addShape("image",{attrs:{x:t.points[0].x-t.size/2,y:t.points[0].y-t.size,width:t.size,height:t.size,img:t.shape[1]}})}});var p={};u.registerShape("point","path",{draw:function(t,e){var n,o=a.mix({},i(t),r(t)),s=t.shape[1],u=t.size||10;if(p[s])n=p[s];else{var l=c.parsePathString(s),h=a.flatten(l).filter(function(t){return a.isNumber(t)});p[s]=n={range:Math.max.apply(null,h)-Math.min.apply(null,h),segments:l}}var f=u/n.range,d=[];o.rotate&&(d.push(["r",o.rotate/180*Math.PI]),delete o.rotate);var g=e.addShape("path",{attrs:a.mix(o,{path:n.segments})});return d.push(["s",f,f],["t",t.x,t.y]),g.transform(d),g}}),t.exports=d},function(t,e,n){"use strict";var r=n(371);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";e.a=function(t){return null==t?function(){}:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";function r(t,e,n){return function(r){var i=o;o=r;try{t.call(this,this.__data__,e,n)}finally{o=i}}}function i(t,e,n){var i=a.hasOwnProperty(t.type)?function(t,e,n){return t=r(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}:r;return function(r,a,o){var s,u=this.__on,l=i(e,a,o);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}n.d(e,"c",function(){return o}),e.a=function(t,e,n,r){var i=o;t.sourceEvent=o,o=t;try{return e.apply(n,r)}finally{o=i}};var a={},o=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(a={mouseenter:"mouseover",mouseleave:"mouseout"})),e.b=function(t,e,n){var r,a,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),s=o.length;if(!(arguments.length<2)){for(u=e?i:function(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}},null==n&&(n=!1),r=0;r<s;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var l,c=0,h=u.length;c<h;++c)for(r=0,l=u[c];r<s;++r)if((a=o[r]).type===l.type&&a.name===l.name)return l.value}},function(t,e,n){"use strict";var r=n(374);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e){t.exports=function(t){return(t.get("scaleController")||{}).defs}},function(t,e,n){var r=n(376);t.exports=function(t,e){var n=r(t);if(n&&n[e])return n[e]}},function(t,e,n){var r=n(0),i=n(71);t.exports=function(t,e){var n,a=e.type,o=r.Array.values(t,e.field);return"linear"===a?(n=r.Array.getRange(o),e.min<n.min&&(n.min=e.min),e.max>n.max&&(n.max=e.max)):"timeCat"===a?(r.each(o,function(t,e){o[e]=i.toTimeStamp(t)}),o.sort(function(t,e){return t-e}),n=o):n=o,n}},function(t,e,n){"use strict";var r=n(69);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";e.a=function(t){return null==t?function(){return[]}:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var a=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return a.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";function r(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.a=r;var i=n(383),a=n(69);e.b=function(){return new a.a(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";function r(t,e){return t.style.getPropertyValue(e)||Object(i.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.b=r;var i=n(373);e.a=function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):r(this.node(),t)}},function(t,e,n){"use strict";var r=n(70);e.a=function(t,e){var n,i,a,o=t.__transition,s=!0;if(o){for(a in e=null==e?null:e+"",o)(n=o[a]).name===e?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[a]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(19),i=n(117);e.a=function(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof r.a?i.interpolateRgb:(n=Object(r.a)(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)}},function(t,e,n){var r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="rect",e},n.generateFacets=function(t){var e=this,n=e.fields,r=[],i=1,a=1,o=n[0],s=n[1],u=[""],l=[""];return o&&(u=e.getFieldValues(o,t),a=u.length),s&&(l=e.getFieldValues(s,t),i=l.length),u.forEach(function(n,c){l.forEach(function(h,f){var d=e.getFilter([{field:o,value:n,values:u},{field:s,value:h,values:l}]),p=t.filter(d),g={type:e.type,colValue:n,rowValue:h,colField:o,rowField:s,colIndex:c,rowIndex:f,cols:a,rows:i,data:p,region:e.getRegion(i,a,c,f)};r.push(g)})}),r},n.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1?(e[t].title=null,e[t].label=null):n.colIndex!==parseInt((n.cols-1)/2)&&(e[t].title=null)},n.setYAxis=function(t,e,n){0!==n.colIndex?(e[t].title=null,e[t].label=null):n.rowIndex!==parseInt((n.rows-1)/2)&&(e[t].title=null)},n.renderTitle=function(t,e){0===e.rowIndex&&this.drawColTitle(t,e),e.colIndex===e.cols-1&&this.drawRowTitle(t,e)},e}(n(363));t.exports=r},function(t,e,n){var r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="list",e.cols=null,e},n.generateFacets=function(t){var e=this,n=e.fields[0];if(!n)throw"Please specify for the field for facet!";var r=e.getFieldValues(n,t),i=r.length,a=e.cols||i,o=parseInt((i+a-1)/a),s=[];return r.forEach(function(u,l){var c=parseInt(l/a),h=l%a,f=e.getFilter([{field:n,value:u,values:r}]),d=t.filter(f),p={type:e.type,count:i,colValue:u,colField:n,rowField:null,rowValue:u,colIndex:h,rowIndex:c,cols:a,rows:o,data:d,region:e.getRegion(o,a,h,c)};s.push(p)}),s},n.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&n.cols*n.rowIndex+n.colIndex+1+n.cols<=n.count&&(e[t].label=null,e[t].title=null)},n.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},e}(n(363));t.exports=r},function(t,e,n){var r=n(172);n(390),n(392),n(394),n(364),n(366),n(359),n(368),n(395),n(397),n(399),n(459),n(461),n(466),t.exports=r},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(20),o=n(358),s=n(0);n(391);var u=function(t){function e(e){var n;return n=t.call(this,e)||this,s.assign(i(i(n)),o),n}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="area",e.shapeType="area",e.generatePoints=!0,e.sortable=!0,e},n.draw=function(t,e,n,r){var i=this,a=this.getDrawCfg(t[0]);i._applyViewThemeShapeStyle(a,a.shape,n);var o=this.splitData(t);a.origin=t,s.each(o,function(t,o){a.splitedIndex=o;var s=t.map(function(t){return t.points});a.points=s;var u=n.drawShape(a.shape,a,e);i.appendShapeInfo(u,r+o)})},e}(a),l=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(u);u.Stack=l,a.Area=u,a.AreaStack=l,t.exports=u},function(t,e,n){function r(t){var e=s.mix({},h.shape.hollowArea,t.style);return c.addStrokeAttrs(e,t),s.isNumber(t.size)&&(e.lineWidth=t.size),e}function i(t){var e=s.mix({},h.shape.area,t.style);return c.addFillAttrs(e,t),t.color&&(e.stroke=e.stroke||t.color),s.isNumber(t.size)&&(e.lineWidth=t.size),e}function a(t,e,n){var r=[],i=[],a=[],o=[],u=t.isInCircle;return s.each(t.points,function(t){a.push(t[1]),o.push(t[0])}),o=o.reverse(),i.push(a,o),s.each(i,function(i,a){var o=[],s=(i=n.parsePoints(i))[0];u&&i.push({x:s.x,y:s.y}),o=e?l.getSplinePath(i,!1,t.constraint):l.getLinePath(i,!1),a>0&&(o[0][0]="L"),r=r.concat(o)}),r.push(["Z"]),r}function o(t){return{symbol:function(t,e){return[["M",t-5.5,e-4],["L",t+5.5,e-4],["L",t+5.5,e+4],["L",t-5.5,e+4],["Z"]]},radius:5,fill:t.color,fillOpacity:.6}}var s=n(0),u=n(18),l=n(22),c=n(45),h=n(7),f=u.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=[],n=t.x,r=t.y,i=t.y0;return r=s.isArray(r)?r:[i,r],s.each(r,function(t){e.push({x:n,y:t})}),e},getActiveCfg:function(t,e){return function(t,e){if("line"===t||"smoothLine"===t)return{lineWidth:(e.lineWidth||0)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}}(t,e)},drawShape:function(t,e,n){var r,i=this.getShape(t);return(r=1===e.points.length&&h.showSinglePoint?function(t,e,n){var r=t._coord.convertPoint(e.points[0][1]);return n.addShape("circle",{attrs:s.mix({x:r.x,y:r.y,r:2,fill:e.color},e.style)})}(this,e,n):i.draw(e,n))&&(r.set("origin",e.origin),r._id=e.splitedIndex?e._id+e.splitedIndex:e._id,r.name=this.name),r},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});u.registerShape("area","area",{draw:function(t,e){var n=i(t),r=a(t,!1,this);return e.addShape("path",{attrs:s.mix(n,{path:r})})},getMarkerCfg:function(t){return o(t)}}),u.registerShape("area","smooth",{draw:function(t,e){var n=i(t),r=this._coord;t.constraint=[[r.start.x,r.end.y],[r.end.x,r.start.y]];var o=a(t,!0,this);return e.addShape("path",{attrs:s.mix(n,{path:o})})},getMarkerCfg:function(t){return o(t)}}),u.registerShape("area","line",{draw:function(t,e){var n=r(t),i=a(t,!1,this);return e.addShape("path",{attrs:s.mix(n,{path:i})})},getMarkerCfg:function(t){return o(t)}}),u.registerShape("area","smoothLine",{draw:function(t,e){var n=r(t),i=a(t,!0,this);return e.addShape("path",{attrs:s.mix(n,{path:i})})},getMarkerCfg:function(t){return o(t)}}),f.spline=f.smooth,t.exports=f},function(t,e,n){var r=n(20);n(393);var i=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e},e}(r);r.Edge=i,t.exports=i},function(t,e,n){function r(t){var e=o.mix({},l.shape.edge,t.style);return u.addStrokeAttrs(e,t),e}function i(t,e){var n=[];n.push({x:t.x,y:.5*t.y+1*e.y/2}),n.push({y:.5*t.y+1*e.y/2,x:e.x}),n.push(e);var r=["C"];return o.each(n,function(t){r.push(t.x,t.y)}),r}function a(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var r=["Q"];return o.each(n,function(t){r.push(t.x,t.y)}),r}var o=n(0),s=n(18),u=n(45),l=n(7),c=n(22),h=1/3,f=s.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return u.splitPoints(t)},getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}}});s.registerShape("edge","line",{draw:function(t,e){var n=this.parsePoints(t.points),i=r(t),a=c.getLinePath(n);return e.addShape("path",{attrs:o.mix(i,{path:a})})},getMarkerCfg:function(t){return o.mix({symbol:"circle",radius:4.5},r(t))}}),s.registerShape("edge","vhv",{draw:function(t,e){var n=t.points,i=r(t),a=function(t,e){var n=[];n.push({y:t.y*(1-h)+e.y*h,x:t.x}),n.push({y:t.y*(1-h)+e.y*h,x:e.x}),n.push(e);var r=[["M",t.x,t.y]];return o.each(n,function(t){r.push(["L",t.x,t.y])}),r}(n[0],n[1]);return a=this.parsePath(a),e.addShape("path",{attrs:o.mix(i,{path:a})})},getMarkerCfg:function(t){return o.mix({symbol:"circle",radius:4.5},r(t))}}),s.registerShape("edge","smooth",{draw:function(t,e){var n=t.points,a=r(t),s=function(t,e){var n=i(t,e),r=[["M",t.x,t.y]];return r.push(n),r}(n[0],n[1]);return s=this.parsePath(s),e.addShape("path",{attrs:o.mix(a,{path:s})})},getMarkerCfg:function(t){return o.mix({symbol:"circle",radius:4.5},r(t))}}),s.registerShape("edge","arc",{draw:function(t,e){var n,s,u=t.points,l=u.length>2?"weight":"normal",c=r(t);if(t.isInCircle){var h={x:0,y:1};"normal"===l?s=function(t,e,n){var r=a(u[1],h),i=[["M",t.x,t.y]];return i.push(r),i}(u[0]):(c.fill=c.stroke,s=function(t,e){var n=a(t[1],e),r=a(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(r),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(n),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}(u,h)),s=this.parsePath(s),n=e.addShape("path",{attrs:o.mix(c,{path:s})})}else if("normal"===l)u=this.parsePoints(u),n=e.addShape("arc",{attrs:o.mix(c,{x:(u[1].x+u[0].x)/2,y:u[0].y,r:Math.abs(u[1].x-u[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{s=[["M",u[0].x,u[0].y],["L",u[1].x,u[1].y]];var f=i(u[1],u[3]),d=i(u[2],u[0]);s.push(f),s.push(["L",u[3].x,u[3].y]),s.push(["L",u[2].x,u[2].y]),s.push(d),s.push(["Z"]),s=this.parsePath(s),c.fill=c.stroke,n=e.addShape("path",{attrs:o.mix(c,{path:s})})}return n},getMarkerCfg:function(t){return o.mix({symbol:"circle",radius:4.5},r(t))}}),t.exports=f},function(t,e,n){var r=n(73).ColorUtil,i=n(20),a=n(0),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="heatmap",e.paletteCache={},e},n._prepareRange=function(){var t=this.get("mappedData"),e=this.getAttr("color").field,n=1/0,r=-1/0;t.forEach(function(t){var i=t._origin[e];i>r&&(r=i),i<n&&(n=i)}),n===r&&(n=r-1),this.set("valueRange",[n,r])},n._prepareSize=function(){var t=this.getDefaultValue("size");a.isNumber(t)||(t=this._getDefaultSize());var e=this.get("styleOptions"),n=e&&a.isObject(e.style)?e.style.blur:null;a.isFinite(n)&&null!==n||(n=t/2),this.set("heatmapSize",{blur:n,radius:t})},n._getDefaultSize=function(){var t=this.getAttr("position"),e=this.get("coord");return Math.min(e.width/(4*t.scales[0].ticks.length),e.height/(4*t.scales[1].ticks.length))},n._colorize=function(t){for(var e=this.getAttr("color"),n=t.data,i=this.get("paletteCache"),a=3;a<n.length;a+=4){var o=n[a];if(o){var s=void 0;i[o]?s=i[o]:(s=r.rgb2arr(e.gradient(o/256)),i[o]=s),n[a-3]=s[0],n[a-2]=s[1],n[a-1]=s[2],n[a]=o}}},n._prepareGreyScaleBlurredCircle=function(t,e){var n=this.get("grayScaleBlurredCanvas");n||(n=document.createElement("canvas"),this.set("grayScaleBlurredCanvas",n));var r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},n._drawGrayScaleBlurredCircle=function(t,e,n,r,i){var a=this.get("grayScaleBlurredCanvas");i.globalAlpha=r,i.drawImage(a,t-n,e-n)},n._getShadowCanvasCtx=function(){var t=this.get("shadowCanvas");t||(t=document.createElement("canvas"),this.set("shadowCanvas",t));var e=this.get("coord");return e&&(t.width=e.width,t.height=e.height),t.getContext("2d")},n._clearShadowCanvasCtx=function(){var t=this._getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},n._getImageShape=function(){var t=this.get("imageShape");return t||(t=this.get("container").addShape("Image",{}),this.set("imageShape",t),t)},n.clear=function(){this._clearShadowCanvasCtx(),t.prototype.clear.call(this)},n.drawWithRange=function(t){var e=this.get("coord"),n=e.start,r=e.end,i=e.width,a=e.height,o=this.getAttr("color").field,s=this.get("heatmapSize");this._clearShadowCanvasCtx();var u=this._getShadowCanvasCtx(),l=this.get("mappedData");t&&(l=l.filter(function(e){return e._origin[o]<=t[1]&&e._origin[o]>=t[0]}));for(var c=this._getScale(o),h=0;h<l.length;h++){var f=l[h],d=this.getDrawCfg(f),p=c.scale(f._origin[o]);this._drawGrayScaleBlurredCircle(d.x-n.x,d.y-r.y,s.radius+s.blur,p,u)}var g=u.getImageData(0,0,i,a);this._clearShadowCanvasCtx(),this._colorize(g),u.putImageData(g,0,0);var v=this._getImageShape();v.attr("x",n.x),v.attr("y",r.y),v.attr("width",i),v.attr("height",a),v.attr("img",u.canvas)},n.draw=function(t){this.set("mappedData",t),this._prepareRange(),this._prepareSize();var e=this.get("heatmapSize");this._prepareGreyScaleBlurredCircle(e.radius,e.blur);var n=this.get("valueRange");this.drawWithRange(n)},e}(i);i.Heatmap=o,t.exports=o},function(t,e,n){var r=n(20),i=n(0);n(396);var a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e},n.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),a=r.x,o=r.y;if(!i.isArray(a)||!i.isArray(o)){var s=this.getXScale(),u=this.getYScale(),l=.5/(s.values?s.values.length:s.ticks.length),c=.5/(u.values?u.values.length:u.ticks.length);s.isCategory&&u.isCategory?(a=[a-l,a-l,a+l,a+l],o=[o-c,o+c,o+c,o-c]):i.isArray(a)?(a=[(n=a)[0],n[0],n[1],n[1]],o=[o-c/2,o+c/2,o+c/2,o-c/2]):i.isArray(o)&&(o=[(n=o)[0],n[1],n[1],n[0]],a=[a-l/2,a-l/2,a+l/2,a+l/2]),r.x=a,r.y=o}return r},e}(r);r.Polygon=a,t.exports=a},function(t,e,n){function r(t){var e=a.mix({},u.shape.polygon,t.style);return s.addFillAttrs(e,t),e}function i(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return a.isEqual(r[r.length-1],e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}var a=n(0),o=n(18),s=n(45),u=n(7),l=o.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return a.each(t.x,function(n,r){e.push({x:n,y:t.y[r]})}),e},getActiveCfg:function(t,e){return"hollow"===t?{lineWidth:(e.lineWidth||1)+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});o.registerShape("polygon","polygon",{draw:function(t,e){if(!a.isEmpty(t.points)){var n=r(t),o=i(t.points);return o=this.parsePath(o),e.addShape("path",{attrs:a.mix(n,{path:o})})}},getMarkerCfg:function(t){return a.mix({symbol:"square",radius:4},r(t))}}),o.registerShape("polygon","hollow",{draw:function(t,e){if(!a.isEmpty(t.points)){var n=function(t){var e=a.mix({},u.shape.hollowPolygon,t.style);return s.addStrokeAttrs(e,t),e}(t),r=i(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:a.mix(n,{path:r})})}},getMarkerCfg:function(t){return a.mix({symbol:"square",radius:4},r(t))}}),t.exports=l},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(20),o=n(0),s=n(357);n(398);var u=function(t){function e(e){var n;return n=t.call(this,e)||this,o.assign(i(i(n)),s),n}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e},n.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e}(a),l=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(u);u.Dodge=l,a.Schema=u,a.SchemaDodge=l,t.exports=u},function(t,e,n){function r(t){o.isArray(t)||(t=[t]);var e=t[0],n=t[t.length-1],r=t.length>1?t[1]:e;return{min:e,max:n,min1:r,max1:t.length>3?t[3]:n,median:t.length>2?t[2]:r}}function i(t,e,n){var i,a,s=[];return o.isArray(e)?i=[[t-n/2,(a=r(e)).max],[t+n/2,a.max],[t,a.max],[t,a.max1],[t-n/2,a.min1],[t-n/2,a.max1],[t+n/2,a.max1],[t+n/2,a.min1],[t,a.min1],[t,a.min],[t-n/2,a.min],[t+n/2,a.min],[t-n/2,a.median],[t+n/2,a.median]]:(e=e||.5,i=[[(a=r(t)).min,e-n/2],[a.min,e+n/2],[a.min,e],[a.min1,e],[a.min1,e-n/2],[a.min1,e+n/2],[a.max1,e+n/2],[a.max1,e-n/2],[a.max1,e],[a.max,e],[a.max,e-n/2],[a.max,e+n/2],[a.median,e-n/2],[a.median,e+n/2]]),function(t,e){o.each(i,function(t){e.push({x:t[0],y:t[1]})})}(0,s),s}function a(t,e,n){var r=function(t){o.isArray(t)||(t=[t]);var e=t.sort(function(t,e){return t<e?1:-1}),n=e.length;if(n<4)for(var r=e[n-1],i=0;i<4-n;i++)e.push(r);return e}(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}var o=n(0),s=n(18),u=n(45),l=n(7),c=s.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(t,e){if("box"===t)return{lineWidth:(e.lineWidth||1)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});s.registerShape("schema","box",{getPoints:function(t){return i(t.x,t.y,t.size)},draw:function(t,e){var n=function(t){var e=o.mix({},l.shape.schema,t.style);return u.addStrokeAttrs(e,t),e}(t),r=function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]}(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:o.mix(n,{path:r})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=i(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},radius:6,lineWidth:1,stroke:t.color}}}),s.registerShape("schema","candle",{getPoints:function(t){return a(t.x,t.y,t.size)},draw:function(t,e){var n=function(t){var e=o.mix({},l.shape.schema,t.style);return u.addFillAttrs(e,t),t.color&&(e.stroke=t.color||e.stroke),e}(t),r=function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]}(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:o.mix(n,{path:r})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=a(t,e=[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},lineWidth:1,stroke:t.color,fill:t.color,radius:6}}}),t.exports=c},function(t,e,n){var r=n(20),i=n(0),a=n(400),o=a.venn,s=a.scaleSolution,u=a.circlePath,l=a.intersectionAreaPath,c=a.computeTextCentres;n(458);var h=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="venn",e.shapeType="venn",e.generatePoints=!1,e},n._getAttrValues=function(e,n){return"position"===e.type?[n.x,n.y]:t.prototype._getAttrValues.call(this,e,n)},n.sets=function(t){return this.set("setsField",t),this},n._initAttrs=function(){t.prototype._initAttrs.call(this);var e=this.get("attrOptions"),n=this.get("setsField")||"sets",r=this.get("data"),a=e.size?e.size.field:"size";r.forEach(function(t){t.sets=t[n],t._sets=t[n].join("&"),t.size=t[a]});var h=o(r),f=this.get("coord"),d=[Math.min(f.x.end,f.x.start),Math.max(f.x.end,f.x.start)],p=[Math.min(f.y.end,f.y.start),Math.max(f.y.end,f.y.start)],g=d[1]-d[0],v=p[1]-p[0],m=this.get("styleOptions"),y=m&&i.isObject(m.style)?m.style.padding:0;i.isFinite(y)||(y=0);var x=s(h,g,v,y),b=c(x,r);r.forEach(function(t){var e=t.sets,n=e.join(",");if(t.id=n,1===e.length){var r=x[n];t.path=u(r.x,r.y,r.radius),i.assign(t,r)}else{var a=e.map(function(t){return x[t]}),o=l(a);/[zZ]$/.test(o)||(o+="Z"),t.path=o,i.assign(t,b[n]||{x:0,y:0})}})},e}(r);r.Venn=h,t.exports=h},function(t,e,n){!function(t,e,n){"use strict";function r(t,e){var n,r=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=s(t[n],t[r]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[n,r],e.push(o)}return e}(t),o=r.filter(function(e){return function(t,e){for(var n=0;n<e.length;++n)if(a(t,e[n])>e[n].radius+R)return!1;return!0}(e,t)}),l=0,c=0,h=[];if(o.length>1){var f=u(o);for(n=0;n<o.length;++n){var d=o[n];d.angle=Math.atan2(d.x-f.x,d.y-f.y)}o.sort(function(t,e){return e.angle-t.angle});var p=o[o.length-1];for(n=0;n<o.length;++n){var g=o[n];c+=(p.x+g.x)*(g.y-p.y);for(var v={x:(g.x+p.x)/2,y:(g.y+p.y)/2},m=null,y=0;y<g.parentIndex.length;++y)if(p.parentIndex.indexOf(g.parentIndex[y])>-1){var x=t[g.parentIndex[y]],b=Math.atan2(g.x-x.x,g.y-x.y),_=Math.atan2(p.x-x.x,p.y-x.y),w=_-b;w<0&&(w+=2*Math.PI);var S=_-w/2,M=a(v,{x:x.x+x.radius*Math.sin(S),y:x.y+x.radius*Math.cos(S)});M>2*x.radius&&(M=2*x.radius),(null===m||m.width>M)&&(m={circle:x,width:M,p1:g,p2:p})}null!==m&&(h.push(m),l+=i(m.circle.radius,m.width),p=g)}}else{var O=t[0];for(n=1;n<t.length;++n)t[n].radius<O.radius&&(O=t[n]);var C=!1;for(n=0;n<t.length;++n)if(a(t[n],O)>Math.abs(O.radius-t[n].radius)){C=!0;break}C?l=c=0:(l=O.radius*O.radius*Math.PI,h.push({circle:O,p1:{x:O.x,y:O.y+O.radius},p2:{x:O.x-R,y:O.y+O.radius},width:2*O.radius}))}return c/=2,e&&(e.area=l+c,e.arcArea=l,e.polygonArea=c,e.arcs=h,e.innerPoints=o,e.intersectionPoints=r),l+c}function i(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function a(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function o(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return i(t,t-(n*n-e*e+t*t)/(2*n))+i(e,r)}function s(t,e){var n=a(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var o=(r*r-i*i+n*n)/(2*n),s=Math.sqrt(r*r-o*o),u=t.x+o*(e.x-t.x)/n,l=t.y+o*(e.y-t.y)/n,c=s/n*-(e.y-t.y),h=s/n*-(e.x-t.x);return[{x:u+c,y:l-h},{x:u-c,y:l+h}]}function u(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function l(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function c(t,e){return l(t).map(function(){return l(e)})}function h(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function f(t){return Math.sqrt(h(t,t))}function d(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function p(t,e,n,r,i){for(var a=0;a<t.length;++a)t[a]=e*n[a]+r*i[a]}function g(t,e,n){function r(t){for(var e=0;e<t.length;e++)v[g][e]=t[e];v[g].fx=t.fx}var i,a=(n=n||{}).maxIterations||200*e.length,o=n.nonZeroDelta||1.05,s=n.zeroDelta||.001,u=n.minErrorDelta||1e-6,l=n.minErrorDelta||1e-5,c=void 0!==n.rho?n.rho:1,h=void 0!==n.chi?n.chi:2,f=void 0!==n.psi?n.psi:-.5,d=void 0!==n.sigma?n.sigma:.5,g=e.length,v=new Array(g+1);v[0]=e,v[0].fx=t(e),v[0].id=0;for(var m=0;m<g;++m){var y=e.slice();y[m]=y[m]?y[m]*o:s,v[m+1]=y,v[m+1].fx=t(y),v[m+1].id=m+1}for(var x=function(t,e){return t.fx-e.fx},b=e.slice(),_=e.slice(),w=e.slice(),S=e.slice(),M=0;M<a;++M){if(v.sort(x),n.history){var O=v.map(function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e});O.sort(function(t,e){return t.id-e.id}),n.history.push({x:v[0].slice(),fx:v[0].fx,simplex:O})}for(i=0,m=0;m<g;++m)i=Math.max(i,Math.abs(v[0][m]-v[1][m]));if(Math.abs(v[0].fx-v[g].fx)<u&&i<l)break;for(m=0;m<g;++m){b[m]=0;for(var C=0;C<g;++C)b[m]+=v[C][m];b[m]/=g}var A=v[g];if(p(_,1+c,b,-c,A),_.fx=t(_),_.fx<v[0].fx)p(S,1+h,b,-h,A),S.fx=t(S),r(S.fx<_.fx?S:_);else if(_.fx>=v[g-1].fx){var I=!1;if(_.fx>A.fx?(p(w,1+f,b,-f,A),w.fx=t(w),w.fx<A.fx?r(w):I=!0):(p(w,1-f*c,b,f*c,A),w.fx=t(w),w.fx<_.fx?r(w):I=!0),I){if(d>=1)break;for(m=1;m<v.length;++m)p(v[m],1-d,v[0],d,v[m]),v[m].fx=t(v[m])}}else r(_)}return v.sort(x),{fx:v[0].fx,x:v[0]}}function v(t,e,n,r,i,a,o){function s(s,f,g){for(var v=0;v<16;++v)if(p(r.x,1,n.x,i=(s+f)/2,e),c=r.fx=t(r.x,r.fxprime),d=h(r.fxprime,e),c>u+a*i*l||c>=g)f=i;else{if(Math.abs(d)<=-o*l)return i;d*(f-s)>=0&&(f=s),s=i,g=c}return 0}var u=n.fx,l=h(n.fxprime,e),c=u,f=u,d=l,g=0;i=i||1,a=a||1e-6,o=o||.1;for(var v=0;v<10;++v){if(p(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),d=h(r.fxprime,e),c>u+a*i*l||v&&c>=f)return s(g,i,f);if(Math.abs(d)<=-o*l)return i;if(d>=0)return s(i,g,c);f=c,g=i,i*=2}return i}function m(t,e,n){var r,i,a,o={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},u=e.slice(),l=1;a=(n=n||{}).maxIterations||20*e.length,o.fx=t(o.x,o.fxprime),d(r=o.fxprime.slice(),o.fxprime,-1);for(var c=0;c<a;++c){if(l=v(t,r,o,s,l),n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:l}),l){p(u,1,s.fxprime,-1,o.fxprime);var g=h(o.fxprime,o.fxprime);p(r,Math.max(0,h(u,s.fxprime)/g),r,-1,s.fxprime),i=o,o=s,s=i}else d(r,o.fxprime,-1);if(f(o.fxprime)<=1e-5)break}return n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:l}),o}function y(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n,r=e.lossFunction||w,i=(e.initialLayout||b)(t=function(t){t=t.slice();var e,n,r,i,a=[],o={};for(e=0;e<t.length;++e){var s=t[e];1==s.sets.length?a.push(s.sets[0]):2==s.sets.length&&(o[[r=s.sets[0],i=s.sets[1]]]=!0,o[[i,r]]=!0)}for(a.sort(function(t,e){return t>e}),e=0;e<a.length;++e)for(r=a[e],n=e+1;n<a.length;++n)[r,i=a[n]]in o||t.push({sets:[r,i],size:0});return t}(t),e),a=[],o=[];for(n in i)i.hasOwnProperty(n)&&(a.push(i[n].x),a.push(i[n].y),o.push(n));for(var s=g(function(e){for(var n={},a=0;a<o.length;++a){var s=o[a];n[s]={x:e[2*a],y:e[2*a+1],radius:i[s].radius}}return r(n,t)},a,e).x,u=0;u<o.length;++u)i[n=o[u]].x=s[2*u],i[n].y=s[2*u+1];return i}function x(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+N?Math.abs(t-e):function(t,e,n,r){var i=(r=r||{}).maxIterations||100,a=r.tolerance||1e-10,o=t(e),s=t(n),u=n-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(0===o)return e;if(0===s)return n;for(var l=0;l<i;++l){var c=e+(u/=2),h=t(c);if(h*o>=0&&(e=c),Math.abs(u)<a||0===h)return c}return e+u}(function(r){return o(t,e,r)-n},0,t+e)}function b(t,e){var n=_(t,e),r=e.lossFunction||w;if(t.length>=8){var i=function(t,e){var n,r=(e=e||{}).restarts||10,i=[],a={};for(n=0;n<t.length;++n){var o=t[n];1==o.sets.length&&(a[o.sets[0]]=i.length,i.push(o))}var s=function(t,e,n){var r=c(e.length,e.length),i=c(e.length,e.length);return t.filter(function(t){return 2==t.sets.length}).map(function(t){var a=n[t.sets[0]],o=n[t.sets[1]],s=x(Math.sqrt(e[a].size/Math.PI),Math.sqrt(e[o].size/Math.PI),t.size);r[a][o]=r[o][a]=s;var u=0;t.size+1e-10>=Math.min(e[a].size,e[o].size)?u=1:t.size<=1e-10&&(u=-1),i[a][o]=i[o][a]=u}),{distances:r,constraints:i}}(t,i,a),u=s.distances,h=s.constraints,p=f(u.map(f))/u.length;u=u.map(function(t){return t.map(function(t){return t/p})});var g,v,y=function(t,e){return function(t,e,n,r){var i,a=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var o=t[2*i],s=t[2*i+1],u=i+1;u<n.length;++u){var l=t[2*u],c=t[2*u+1],h=n[i][u],f=r[i][u],d=(l-o)*(l-o)+(c-s)*(c-s),p=Math.sqrt(d),g=d-h*h;f>0&&p<=h||f<0&&p>=h||(a+=2*g*g,e[2*i]+=4*g*(o-l),e[2*i+1]+=4*g*(s-c),e[2*u]+=4*g*(l-o),e[2*u+1]+=4*g*(c-s))}return a}(t,e,u,h)};for(n=0;n<r;++n)v=m(y,l(2*u.length).map(Math.random),e),(!g||v.fx<g.fx)&&(g=v);var b=g.x,_={};for(n=0;n<i.length;++n){var w=i[n];_[w.sets[0]]={x:b[2*n]*p,y:b[2*n+1]*p,radius:Math.sqrt(w.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)d(e.history[n].x,p);return _}(t,e);r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function _(t,e){function n(t,e){return e.size-t.size}function r(t){return t.set in y}function i(t,e){u[e].x=t.x,u[e].y=t.y,y[e]=!0}for(var a,o=e&&e.lossFunction?e.lossFunction:w,u={},l={},c=0;c<t.length;++c){var h=t[c];1==h.sets.length&&(u[a=h.sets[0]]={x:1e10,y:1e10,rowid:u.length,size:h.size,radius:Math.sqrt(h.size/Math.PI)},l[a]=[])}for(t=t.filter(function(t){return 2==t.sets.length}),c=0;c<t.length;++c){var f=t[c],d=f.hasOwnProperty("weight")?f.weight:1,p=f.sets[0],g=f.sets[1];f.size+N>=Math.min(u[p].size,u[g].size)&&(d=0),l[p].push({set:g,size:f.size,weight:d}),l[g].push({set:p,size:f.size,weight:d})}var v=[];for(a in l)if(l.hasOwnProperty(a)){var m=0;for(c=0;c<l[a].length;++c)m+=l[a][c].size*l[a][c].weight;v.push({set:a,size:m})}v.sort(n);var y={};for(i({x:0,y:0},v[0].set),c=1;c<v.length;++c){var b=v[c].set,_=l[b].filter(r);if(a=u[b],_.sort(n),0===_.length)throw"ERROR: missing pairwise overlap information";for(var S=[],M=0;M<_.length;++M){var O=u[_[M].set],C=x(a.radius,O.radius,_[M].size);S.push({x:O.x+C,y:O.y}),S.push({x:O.x-C,y:O.y}),S.push({y:O.y+C,x:O.x}),S.push({y:O.y-C,x:O.x});for(var A=M+1;A<_.length;++A)for(var I=u[_[A].set],T=x(a.radius,I.radius,_[A].size),E=s({x:O.x,y:O.y,radius:C},{x:I.x,y:I.y,radius:T}),j=0;j<E.length;++j)S.push(E[j])}var P=1e50,k=S[0];for(M=0;M<S.length;++M){u[b].x=S[M].x,u[b].y=S[M].y;var D=o(u,t);D<P&&(P=D,k=S[M])}i(k,b)}return u}function w(t,e){function n(e){return e.map(function(e){return t[e]})}for(var i=0,s=0;s<e.length;++s){var u,l=e[s];if(1!=l.sets.length){if(2==l.sets.length){var c=t[l.sets[0]],h=t[l.sets[1]];u=o(c.radius,h.radius,a(c,h))}else u=r(n(l.sets));i+=(l.hasOwnProperty("weight")?l.weight:1)*(u-l.size)*(u-l.size)}}return i}function S(t,e,n){var r;if(t.sort(null===n?function(t,e){return e.radius-t.radius}:n),t.length>0){var i=t[0].x,o=t[0].y;for(r=0;r<t.length;++r)t[r].x-=i,t[r].y-=o}if(2==t.length&&a(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y),t.length>1){var s,u,l=Math.atan2(t[1].x,t[1].y)-e,c=Math.cos(l),h=Math.sin(l);for(r=0;r<t.length;++r)t[r].x=c*(s=t[r].x)-h*(u=t[r].y),t[r].y=h*s+c*u}if(t.length>2){for(var f=Math.atan2(t[2].x,t[2].y)-e;f<0;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;if(f>Math.PI){var d=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){var p=(t[r].x+d*t[r].y)/(1+d*d);t[r].x=2*p-t[r].x,t[r].y=2*p*d-t[r].y}}}}function M(t){function e(t){return t.parent!==t&&(t.parent=e(t.parent)),t.parent}function n(t,n){var r=e(t),i=e(n);r.parent=i}t.map(function(t){t.parent=t});for(var r=0;r<t.length;++r)for(var i=r+1;i<t.length;++i){var o=t[r].radius+t[i].radius;a(t[r],t[i])+1e-10<o&&n(t[i],t[r])}var s,u={};for(r=0;r<t.length;++r)(s=e(t[r]).parent.setid)in u||(u[s]=[]),u[s].push(t[r]);t.map(function(t){delete t.parent});var l=[];for(s in u)u.hasOwnProperty(s)&&l.push(u[s]);return l}function O(t){var e=function(e){return{max:Math.max.apply(null,t.map(function(t){return t[e]+t.radius})),min:Math.min.apply(null,t.map(function(t){return t[e]-t.radius}))}};return{xRange:e("x"),yRange:e("y")}}function C(t,e,n){function r(t,e,n){if(t){var r,i,a,s=t.bounds;e?r=c.xRange.max-s.xRange.min+h:(r=c.xRange.max-s.xRange.max,(a=(s.xRange.max-s.xRange.min)/2-(c.xRange.max-c.xRange.min)/2)<0&&(r+=a)),n?i=c.yRange.max-s.yRange.min+h:(i=c.yRange.max-s.yRange.max,(a=(s.yRange.max-s.yRange.min)/2-(c.yRange.max-c.yRange.min)/2)<0&&(i+=a));for(var u=0;u<t.length;++u)t[u].x+=r,t[u].y+=i,o.push(t[u])}}null===e&&(e=Math.PI/2);var i,a,o=[];for(a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push({x:s.x,y:s.y,radius:s.radius,setid:a})}var u=M(o);for(i=0;i<u.length;++i){S(u[i],e,n);var l=O(u[i]);u[i].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),u[i].bounds=l}u.sort(function(t,e){return e.size-t.size});for(var c=(o=u[0]).bounds,h=(c.xRange.max-c.xRange.min)/50,f=1;f<u.length;)r(u[f],!0,!1),r(u[f+1],!1,!0),r(u[f+2],!0,!0),f+=3,c=O(o);var d={};for(i=0;i<o.length;++i)d[o[i].setid]=o[i];return d}function A(t,e,n,r){var i=[],a=[];for(var o in t)t.hasOwnProperty(o)&&(a.push(o),i.push(t[o]));e-=2*r,n-=2*r;var s=O(i),u=s.xRange,l=s.yRange;if(u.max==u.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;for(var c=Math.min(n/(l.max-l.min),e/(u.max-u.min)),h=(e-(u.max-u.min)*c)/2,f=(n-(l.max-l.min)*c)/2,d={},p=0;p<i.length;++p){var g=i[p];d[a[p]]={radius:c*g.radius,x:r+h+(g.x-u.min)*c,y:r+f+(g.y-l.min)*c}}return d}function I(t,n){return function(){for(var r,i=e.select(this),a=i.datum(),o=t[a.sets[0]].radius||50,s=n(a)||"",u=s.split(/\s+/).reverse(),l=(s.length+u.length)/3,c=u.pop(),h=[c],f=0,d=i.text(null).append("tspan").text(c);c=u.pop();)h.push(c),r=h.join(" "),d.text(r),r.length>l&&d.node().getComputedTextLength()>o&&(h.pop(),d.text(h.join(" ")),h=[c],d=i.append("tspan").text(c),f++);var p=.35-1.1*f/2,g=i.attr("x"),v=i.attr("y");i.selectAll("tspan").attr("x",g).attr("y",v).attr("dy",function(t,e){return p+1.1*e+"em"})}}function T(t,e,n){var r,i,o=e[0].radius-a(e[0],t);for(r=1;r<e.length;++r)(i=e[r].radius-a(e[r],t))<=o&&(o=i);for(r=0;r<n.length;++r)(i=a(n[r],t)-n[r].radius)<=o&&(o=i);return o}function E(t,e){var n,i=[];for(n=0;n<t.length;++n){var o=t[n];i.push({x:o.x,y:o.y}),i.push({x:o.x+o.radius/2,y:o.y}),i.push({x:o.x-o.radius/2,y:o.y}),i.push({x:o.x,y:o.y+o.radius/2}),i.push({x:o.x,y:o.y-o.radius/2})}var s=i[0],l=T(i[0],t,e);for(n=1;n<i.length;++n){var c=T(i[n],t,e);c>=l&&(s=i[n],l=c)}var h=g(function(n){return-1*T({x:n[0],y:n[1]},t,e)},[s.x,s.y],{maxIterations:500,minErrorDelta:1e-10}).x,f={x:h[0],y:h[1]},d=!0;for(n=0;n<t.length;++n)if(a(f,t[n])>t[n].radius){d=!1;break}for(n=0;n<e.length;++n)if(a(f,e[n])<e[n].radius){d=!1;break}if(!d)if(1==t.length)f={x:t[0].x,y:t[0].y};else{var p={};r(t,p),f=0===p.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==p.arcs.length?{x:p.arcs[0].circle.x,y:p.arcs[0].circle.y}:e.length?E(t,[]):u(p.arcs.map(function(t){return t.p1}))}return f}function j(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var o=t[n[i]],s=i+1;s<n.length;++s){var u=t[n[s]],l=a(o,u);l+u.radius<=o.radius+1e-10?e[n[s]].push(n[i]):l+o.radius<=u.radius+1e-10&&e[n[i]].push(n[s])}return e}function P(t,e){for(var n={},r=j(t),i=0;i<e.length;++i){for(var a=e[i].sets,o={},s={},u=0;u<a.length;++u){o[a[u]]=!0;for(var l=r[a[u]],c=0;c<l.length;++c)s[l[c]]=!0}var h=[],f=[];for(var d in t)d in o?h.push(t[d]):d in s||f.push(t[d]);var p=E(h,f);n[a]=p,p.disjoint&&e[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return n}function k(t,e,n){var r=[];return r.push("\nM",t,e),r.push("\nm",-n,0),r.push("\na",n,n,0,1,0,2*n,0),r.push("\na",n,n,0,1,0,2*-n,0),r.join(" ")}function D(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function L(t){var e={};r(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var i=n[0].circle;return k(i.x,i.y,i.radius)}for(var a=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var s=n[o],u=s.circle.radius;a.push("\nA",u,u,0,s.width>u?1:0,1,s.p1.x,s.p1.y)}return a.join(" ")}var R=1e-10,N=1e-10;t.intersectionArea=r,t.circleCircleIntersection=s,t.circleOverlap=o,t.circleArea=i,t.distance=a,t.venn=y,t.greedyLayout=_,t.scaleSolution=A,t.normalizeSolution=C,t.bestInitialLayout=b,t.lossFunction=w,t.disjointCluster=M,t.distanceFromIntersectArea=x,t.VennDiagram=function(){function t(t){function f(t){return t.sets in _?_[t.sets]:1==t.sets.length?""+t.sets[0]:void 0}var d=t.datum(),p={};d.forEach(function(t){0==t.size&&1==t.sets.length&&(p[t.sets[0]]=1)});var y={},x={};if((d=d.filter(function(t){return!t.sets.some(function(t){return t in p})})).length>0){var b=v(d,{lossFunction:m});s&&(b=C(b,o,h)),y=A(b,n,r,i),x=P(y,d)}var _={};d.forEach(function(t){t.label&&(_[t.sets]=t.label)}),t.selectAll("svg").data([y]).enter().append("svg");var w=t.select("svg").attr("width",n).attr("height",r),S={},M=!1;w.selectAll(".venn-area path").each(function(t){var n=e.select(this).attr("d");1==t.sets.length&&n&&(M=!0,S[t.sets[0]]=D(n))});var O=function(t){return function(e){return L(t.sets.map(function(t){var i=S[t],a=y[t];return i||(i={x:n/2,y:r/2,radius:1}),a||(a={x:n/2,y:r/2,radius:1}),{x:i.x*(1-e)+a.x*e,y:i.y*(1-e)+a.y*e,radius:i.radius*(1-e)+a.radius*e}}))}},T=w.selectAll(".venn-area").data(d,function(t){return t.sets}),E=T.enter().append("g").attr("class",function(t){return"venn-area venn-"+(1==t.sets.length?"circle":"intersection")}).attr("data-venn-sets",function(t){return t.sets.join("_")}),j=E.append("path"),k=E.append("text").attr("class","label").text(function(t){return f(t)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",n/2).attr("y",r/2);l&&(j.style("fill-opacity","0").filter(function(t){return 1==t.sets.length}).style("fill",function(t){return g(t.sets)}).style("fill-opacity",".25"),k.style("fill",function(t){return 1==t.sets.length?g(t.sets):"#444"}));var R=t;M?(R=t.transition("venn").duration(a)).selectAll("path").attrTween("d",O):R.selectAll("path").attr("d",function(t){return L(t.sets.map(function(t){return y[t]}))});var N=R.selectAll("text").filter(function(t){return t.sets in x}).text(function(t){return f(t)}).attr("x",function(t){return Math.floor(x[t.sets].x)}).attr("y",function(t){return Math.floor(x[t.sets].y)});u&&(M?"on"in N?N.on("end",I(y,f)):N.each("end",I(y,f)):N.each(I(y,f)));var z=T.exit().transition("venn").duration(a).remove();z.selectAll("path").attrTween("d",O);var B=z.selectAll("text").attr("x",n/2).attr("y",r/2);return null!==c&&(k.style("font-size","0px"),N.style("font-size",c),B.style("font-size","0px")),{circles:y,textCentres:x,nodes:T,enter:E,update:R,exit:z}}var n=600,r=350,i=15,a=1e3,o=Math.PI/2,s=!0,u=!0,l=!0,c=null,h=null,f={},d=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],p=0,g=function(t){if(t in f)return f[t];var e=f[t]=d[p];return(p+=1)>=d.length&&(p=0),e},v=y,m=w;return t.wrap=function(e){return arguments.length?(u=e,t):u},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(r=e,t):r},t.padding=function(e){return arguments.length?(i=e,t):i},t.colours=function(e){return arguments.length?(g=e,t):g},t.fontSize=function(e){return arguments.length?(c=e,t):c},t.duration=function(e){return arguments.length?(a=e,t):a},t.layoutFunction=function(e){return arguments.length?(v=e,t):v},t.normalize=function(e){return arguments.length?(s=e,t):s},t.styled=function(e){return arguments.length?(l=e,t):l},t.orientation=function(e){return arguments.length?(o=e,t):o},t.orientationOrder=function(e){return arguments.length?(h=e,t):h},t.lossFunction=function(e){return arguments.length?(m=e,t):m},t},t.wrapText=I,t.computeTextCentres=P,t.computeTextCentre=E,t.sortAreas=function(t,e){function n(t){for(var e=0;e<t.length;++e)if(!(t[e]in i))return!1;return!0}for(var r=j(t.selectAll("svg").datum()),i={},a=0;a<e.sets.length;++a){var o=e.sets[a];for(var s in r)for(var u=r[s],l=0;l<u.length;++l)if(u[l]==o){i[s]=!0;break}}t.selectAll("g").sort(function(t,r){return t.sets.length!=r.sets.length?t.sets.length-r.sets.length:t==e?n(r.sets)?-1:1:r==e?n(t.sets)?1:-1:r.size-t.size})},t.circlePath=k,t.circleFromPath=D,t.intersectionAreaPath=L,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(72),n(435))},function(t,e,n){"use strict";var r=n(360),i=n(379);e.a=function(t){return Object(i.a)(Object(r.a)(t).call(document.documentElement))}},function(t,e,n){"use strict";var r=n(69),i=n(372);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,a=new Array(n),o=0;o<n;++o)for(var s,u,l=e[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u);return new r.a(a,this._parents)}},function(t,e,n){"use strict";var r=n(69),i=n(380);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,a=[],o=[],s=0;s<n;++s)for(var u,l=e[s],c=l.length,h=0;h<c;++h)(u=l[h])&&(a.push(t.call(u,u.__data__,h,l)),o.push(u));return new r.a(a,o)}},function(t,e,n){"use strict";var r=n(69),i=n(381);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,a=new Array(n),o=0;o<n;++o)for(var s,u=e[o],l=u.length,c=a[o]=[],h=0;h<l;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&c.push(s);return new r.a(a,this._parents)}},function(t,e,n){"use strict";var r=n(69),i=n(382),a=n(406);e.a=function(t,e){if(!t)return v=new Array(this.size()),f=-1,this.each(function(t){v[++f]=t}),v;var n=e?function(t,e,n,r,a,o,s){var u,l,c,h={},f=e.length,d=o.length,p=new Array(f);for(u=0;u<f;++u)(l=e[u])&&(p[u]=c="$"+s.call(l,l.__data__,u,e),c in h?a[u]=l:h[c]=l);for(u=0;u<d;++u)(l=h[c="$"+s.call(t,o[u],u,o)])?(r[u]=l,l.__data__=o[u],h[c]=null):n[u]=new i.a(t,o[u]);for(u=0;u<f;++u)(l=e[u])&&h[p[u]]===l&&(a[u]=l)}:function(t,e,n,r,a,o){for(var s,u=0,l=e.length,c=o.length;u<c;++u)(s=e[u])?(s.__data__=o[u],r[u]=s):n[u]=new i.a(t,o[u]);for(;u<l;++u)(s=e[u])&&(a[u]=s)},o=this._parents,s=this._groups;"function"!=typeof t&&(t=Object(a.a)(t));for(var u=s.length,l=new Array(u),c=new Array(u),h=new Array(u),f=0;f<u;++f){var d=o[f],p=s[f],g=p.length,v=t.call(d,d&&d.__data__,f,o),m=v.length,y=c[f]=new Array(m),x=l[f]=new Array(m);n(d,p,y,x,h[f]=new Array(g),v,e);for(var b,_,w=0,S=0;w<m;++w)if(b=y[w]){for(w>=S&&(S=w+1);!(_=x[S])&&++S<m;);b._next=_||null}}return(l=new r.a(l,o))._enter=c,l._exit=h,l}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(383),i=n(69);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(69);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,a=Math.min(i,n.length),o=new Array(i),s=0;s<a;++s)for(var u,l=e[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)o[s]=e[s];return new r.a(o,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this}},function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var i=n(69);e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=r);for(var n=this._groups,a=n.length,o=new Array(a),s=0;s<a;++s){for(var u,l=n[s],c=l.length,h=o[s]=new Array(c),f=0;f<c;++f)(u=l[f])&&(h[f]=u);h.sort(e)}return new i.a(o,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this}},function(t,e,n){"use strict";var r=n(370);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new a(t)}function a(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function o(t,e){for(var n=i(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}a.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var a=i(this.node()),u=-1,l=n.length;++u<l;)if(!a.contains(n[u]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?o:s)(this,t)}}:e?function(t){return function(){o(this,t)}}:function(t){return function(){s(this,t)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.each(null==t?function(){this.textContent=""}:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.each(null==t?function(){this.innerHTML=""}:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(360);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";var r=n(360),i=n(372);e.a=function(t,e){var n="function"==typeof t?t:Object(r.a)(t),a=null==e?function(){return null}:"function"==typeof e?e:Object(i.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";e.a=function(t){return this.select(t?function(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}:function(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)})}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(i.a)(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}var i=n(373);e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return r(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return r(this,t,e)}})(t,e))}},function(t,e,n){"use strict";function r(){return new i}function i(){this._="@"+(++a).toString(36)}e.a=r;var a=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(375),i=n(361);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(69);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(375),i=n(361);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var a,o=0,s=e?e.length:0;o<s;++o)if((a=e[o]).identifier===n)return Object(i.a)(t,a);return null}},function(t,e,n){"use strict";var r=n(375),i=n(361);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var n=0,a=e?e.length:0,o=new Array(a);n<a;++n)o[n]=Object(i.a)(t,e[n]);return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(436);var r=n(169);n.d(e,"transition",function(){return r.b});var i=n(457);n.d(e,"active",function(){return i.a});var a=n(385);n.d(e,"interrupt",function(){return a.a})},function(t,e,n){"use strict";var r=n(72),i=n(437),a=n(440);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=a.a},function(t,e,n){"use strict";var r=n(385);e.a=function(t){return this.each(function(){Object(r.a)(this,t)})}},function(t,e,n){"use strict";var r=n(439);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function a(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var o={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=a(r[n],t.name,e);else if(null==e)for(n in r)r[n]=a(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}},e.a=r},function(t,e,n){"use strict";function r(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return u.time=Object(s.now)(),u;return n}var i=n(169),a=n(70),o=n(173),s=n(170),u={time:null,delay:0,duration:250,ease:o.easeCubicInOut};e.a=function(t){var e,n;t instanceof i.a?(e=t._id,t=t._name):(e=Object(i.c)(),(n=u).time=Object(s.now)(),t=null==t?null:t+"");for(var o=this._groups,l=o.length,c=0;c<l;++c)for(var h,f=o[c],d=f.length,p=0;p<d;++p)(h=f[p])&&Object(a.e)(h,t,e,p,f,n||r(h,e));return new i.a(o,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(117),i=n(72),a=n(362),o=n(386);e.a=function(t,e){var n=Object(i.namespace)(t),s="transform"===n?r.interpolateTransformSvg:o.a;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttribute(t))===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttribute(t)}})(n,s,Object(a.b)(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}})(n,s,e+""))}},function(t,e,n){"use strict";var r=n(72);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(r.namespace)(t);return this.tween(n,(i.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(i,e))}},function(t,e,n){"use strict";var r=n(70);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.g)(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.g)(this,t).delay=e}})(e,t)):Object(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(70);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.h)(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.h)(this,t).duration=e}})(e,t)):Object(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(70);e.a=function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(72),i=n(169);e.a=function(t){"function"!=typeof t&&(t=Object(r.matcher)(t));for(var e=this._groups,n=e.length,a=new Array(n),o=0;o<n;++o)for(var s,u=e[o],l=u.length,c=a[o]=[],h=0;h<l;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&c.push(s);return new i.a(a,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(169);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,a=Math.min(i,n.length),o=new Array(i),s=0;s<a;++s)for(var u,l=e[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)o[s]=e[s];return new r.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(70);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(r.f)(this.node(),n).on.on(t):this.each(function(t,e,n){var i,a,o=(e+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?r.g:r.h;return function(){var r=o(this,t),s=r.on;s!==i&&(a=(i=s).copy()).on(e,n),r.on=a}}(n,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(72),i=n(169),a=n(70);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selector)(t));for(var o=this._groups,s=o.length,u=new Array(s),l=0;l<s;++l)for(var c,h,f=o[l],d=f.length,p=u[l]=new Array(d),g=0;g<d;++g)(c=f[g])&&(h=t.call(c,c.__data__,g,f))&&("__data__"in c&&(h.__data__=c.__data__),p[g]=h,Object(a.e)(p[g],e,n,g,p,Object(a.f)(c,n)));return new i.a(u,this._parents,e,n)}},function(t,e,n){"use strict";var r=n(72),i=n(169),a=n(70);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selectorAll)(t));for(var o=this._groups,s=o.length,u=[],l=[],c=0;c<s;++c)for(var h,f=o[c],d=f.length,p=0;p<d;++p)if(h=f[p]){for(var g,v=t.call(h,h.__data__,p,f),m=Object(a.f)(h,n),y=0,x=v.length;y<x;++y)(g=v[y])&&Object(a.e)(g,e,n,y,v,m);u.push(v),l.push(h)}return new i.a(u,l,e,n)}},function(t,e,n){"use strict";var r=n(72).selection.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";var r=n(117),i=n(72),a=n(362),o=n(386);e.a=function(t,e,n){var s="transform"==(t+="")?r.interpolateTransformCss:o.a;return null==e?this.styleTween(t,function(t,e){var n,r,a;return function(){var o=Object(i.style)(this,t),s=(this.style.removeProperty(t),Object(i.style)(this,t));return o===s?null:o===n&&s===r?a:a=e(n=o,r=s)}}(t,s)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,a,o;return function(){var s=Object(i.style)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(i.style)(this,t)),s===u?null:s===r&&u===a?o:o=e(r=s,a=u)}}(t,s,Object(a.b)(this,"style."+t,e)):function(t,e,n){var r,a;return function(){var o=Object(i.style)(this,t);return o===n?null:o===r?a:a=e(r=o,n)}}(t,s,e+""),n)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(362);e.a=function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Object(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";var r=n(169),i=n(70);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.c)(),a=this._groups,o=a.length,s=0;s<o;++s)for(var u,l=a[s],c=l.length,h=0;h<c;++h)if(u=l[h]){var f=Object(i.f)(u,e);Object(i.e)(u,t,n,h,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.a(a,this._parents,t,n)}},function(t,e,n){"use strict";var r=n(169),i=n(70),a=[null];e.a=function(t,e){var n,o,s=t.__transition;if(s)for(o in e=null==e?null:e+"",s)if((n=s[o]).state>i.c&&n.name===e)return new r.a([[t]],a,e,+o);return null}},function(t,e,n){function r(t){var e=i.mix({},s.shape.venn,t.style);return o.addFillAttrs(e,t),e}var i=n(0),a=n(18),o=n(45),s=n(7),u=i.PathUtil,l=a.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(t,e){return"hollow"===t?{lineWidth:(e.lineWidth||1)+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});a.registerShape("venn","venn",{draw:function(t,e){var n=t.origin._origin.path,a=r(t),o=u.parsePathString(n);return e.addShape("path",{attrs:i.mix(a,{path:o})})},getMarkerCfg:function(t){return i.mix({symbol:"circle",radius:4},r(t))}}),a.registerShape("venn","hollow",{draw:function(t,e){var n=t.origin._origin.path,r=function(t){var e=i.mix({},s.shape.hollowVenn,t.style);return o.addStrokeAttrs(e,t),e}(t),a=u.parsePathString(n);return e.addShape("path",{attrs:i.mix(r,{path:a})})},getMarkerCfg:function(t){return i.mix({symbol:"circle",radius:4},r(t))}}),t.exports=l},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(20),o=n(0),s=n(357);n(460);var u=function(t){function e(e){var n;return n=t.call(this,e)||this,o.assign(i(i(n)),s),n}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e},n.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);n.size=this.getNormalizedSize(e);var r=this.get("_sizeField");return n._size=e._origin[r],n},n.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n._initAttrs=function(){var e=this.get("attrOptions"),n=e.size?e.size.field:this.get("_sizeField")?this.get("_sizeField"):"size";this.set("_sizeField",n),delete e.size,t.prototype._initAttrs.call(this)},e}(a),l=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(u);u.Dodge=l,a.Violin=u,a.ViolinDodge=l,t.exports=u},function(t,e,n){function r(t){var e=s.mix({},c.shape.venn,t.style);return l.addFillAttrs(e,t),t.color&&(e.stroke=e.stroke||t.color),e}function i(t){var e=s.mix({},c.shape.hollowVenn,t.style);return l.addStrokeAttrs(e,t),e}function a(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r&&e.push([0===n?"M":"L",r.x,r.y])}var i=t[0];return i&&(e.push(["L",i.x,i.y]),e.push(["z"])),e}function o(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var a=h.getSplinePath(n,!1),o=h.getSplinePath(r,!1);r.length&&a.push(["L",r[0].x,r[0].y]),o.shift();var s=a.concat(o);return n.length&&s.push(["L",n[0].x,n[0].y]),s.push(["z"]),s}var s=n(0),u=n(18),l=n(45),c=n(7),h=n(22),f=u.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],r=function(t){var e=Math.max.apply(null,t);return t.map(function(t){return t/e})}(t._size);return s.each(t.y,function(i,a){var o=r[a]*e,s=0===a,u=a===t.y.length-1;n.push({isMin:s,isMax:u,x:t.x-o,y:i}),n.unshift({isMin:s,isMax:u,x:t.x+o,y:i})}),n},getActiveCfg:function(t,e){return"hollow"===t?{lineWidth:(e.lineWidth||1)+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});u.registerShape("violin","violin",{draw:function(t,e){var n=r(t),i=a(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:s.mix(n,{path:i})})},getMarkerCfg:function(t){return s.mix({symbol:"circle",radius:4},r(t))}}),u.registerShape("violin","smooth",{draw:function(t,e){var n=r(t),i=o(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:s.mix(n,{path:i})})},getMarkerCfg:function(t){return s.mix({symbol:"circle",radius:4},r(t))}}),u.registerShape("violin","hollow",{draw:function(t,e){var n=i(t),r=a(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:s.mix(n,{path:r})})},getMarkerCfg:function(t){return s.mix({symbol:"circle",radius:4},i(t))}}),u.registerShape("violin","smoothHollow",{draw:function(t,e){var n=i(t),r=o(t.points);return r=this.parsePath(r),e.addShape("path",{attrs:s.mix(n,{path:r})})},getMarkerCfg:function(t){return s.mix({symbol:"circle",radius:4},i(t))}}),t.exports=f},function(t,e,n){var r=n(0),i=n(147),a={};a.Rect=n(387),a.List=n(388),a.Circle=n(462),a.Tree=n(463),a.Mirror=n(464),a.Matrix=n(465),i.prototype.facet=function(t,e){var n=a[r.upperFirst(t)];if(!n)throw new Error("Not support such type of facets as: "+t);var i=this.get("facets");i&&i.destroy(),e.chart=this;var o=new n(e);this.set("facets",o)},t.exports=a},function(t,e,n){function r(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var i=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="circle",e},n.getRegion=function(t,e){var n=2*Math.PI/t,i=-1*Math.PI/2+n*e,a=.5/(1+1/Math.sin(n/2)),o=r({x:.5,y:.5},.5-a,i),s=5*Math.PI/4,u=1*Math.PI/4;return{start:r(o,a,s),end:r(o,a,u)}},n.generateFacets=function(t){var e=this,n=e.fields[0];if(!n)throw"Please specify for the field for facet!";var r=e.getFieldValues(n,t),i=r.length,a=[];return r.forEach(function(o,s){var u=e.getFilter([{field:n,value:o,values:r}]),l=t.filter(u),c={type:e.type,colValue:o,colField:n,colIndex:s,cols:i,rows:1,rowIndex:0,data:l,region:e.getRegion(i,s)};a.push(c)}),a},e}(n(363));t.exports=i},function(t,e,n){var r=n(363),i=n(0).assign,a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="tree",e.line={lineWidth:1,stroke:"#ddd"},e.lineSmooth=!1,e},n.generateFacets=function(t){if(!this.fields.length)throw"Please specify for the fields for facet!";var e=[],n=this.getRootFacet(t);return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},n.getRootFacet=function(t){return{type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,colValue:this.rootTitle,data:t}},n.getRows=function(){return this.fields.length+1},n.getChildFacets=function(t,e,n){var r=this,i=r.fields;if(!(i.length<e)){var a=[],o=i[e-1],s=r.getFieldValues(o,t);return s.forEach(function(i,u){var l=r.getFilter([{field:o,value:i,values:s}]),c=t.filter(l);if(c.length){var h={type:r.type,colValue:i,colField:o,colIndex:u,rows:r.getRows(),rowIndex:e,data:c,children:r.getChildFacets(c,e+1,n)};a.push(h),n.push(h)}}),a}},n.setRegion=function(t){var e=this;e.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rows,t.cols,t.colIndex,t.rowIndex)})},n.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach(function(t){e.isLeaf(t)&&(n.push(t),t.colIndex=r,r++)}),n.forEach(function(t){t.cols=n.length});for(var i=e.fields.length-1;i>=0;i--)for(var a=e.getFacetsByLevel(t,i),o=0;o<a.length;o++){var s=a[o];e.isLeaf(s)||(s.originColIndex=s.colIndex,s.colIndex=e.getRegionIndex(s.children),s.cols=n.length)}},n.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(t){t.rowIndex===e&&n.push(t)}),n},n.getRegion=function(t,e,n,r){var i=1/e,a=1/t,o={x:i*n,y:a*r};return{start:o,end:{x:o.x+i,y:o.y+2*a/3}}},n.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].colIndex-e.colIndex)/2+e.colIndex},n.isLeaf=function(t){return!t.children||!t.children.length},n.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].label=null,e[t].title=null)},n.setYAxis=function(t,e,n){0!==n.originColIndex&&0!==n.colIndex&&(e[t].title=null,e[t].label=null)},n.onPaint=function(){t.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},n.drawLines=function(t,e){var n=this,r=e.addGroup();t.forEach(function(t){n.isLeaf(t)||n._addFacetLines(t,t.children,r)})},n._addFacetLines=function(t,e,n){var r=this,i=t.view.getViewRegion(),a={x:i.start.x+(i.end.x-i.start.x)/2,y:i.start.y};e.forEach(function(t){var e=t.view.getViewRegion(),i={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y},o={x:a.x,y:a.y+(i.y-a.y)/2};r._drawLine([a,o,{x:i.x,y:o.y},i],n)})},n._getPath=function(t){var e=[];return this.lineSmooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,n){e.push(0===n?["M",t.x,t.y]:["L",t.x,t.y])}),e},n._drawLine=function(t,e){var n=this._getPath(t);e.addShape("path",{attrs:i({path:n},this.line)})},e}(r);t.exports=a},function(t,e,n){var r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="mirror",this.transpose=!1,e},n.init=function(){this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2),t.prototype.init.call(this)},n.beforeProcessView=function(t,e){this.transpose?e.colIndex%2==0?t.coord().transpose().scale(-1,1):t.coord().transpose():e.rowIndex%2!=0&&t.coord().scale(1,-1)},n.renderTitle=function(t,e){this.transpose?this.drawColTitle(t,e):this.drawRowTitle(t,e)},n.setXAxis=function(t,e,n){1!==n.colIndex&&1!==n.rowIndex||(e[t].label=null,e[t].title=null)},n.setYAxis=function(){},e}(n(388));t.exports=r},function(t,e,n){var r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="matrix",e.showTitle=!1,e},n.generateFacets=function(t){for(var e=this.fields,n=e.length,r=n,i=[],a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++){var u=e[s],l={type:this.type,colValue:o,rowValue:u,colField:o,rowField:u,colIndex:a,rowIndex:s,cols:r,rows:n,data:t,region:this.getRegion(n,r,a,s)};i.push(l)}return i},n.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].title=null,e[t].label=null)},n.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},e}(n(387));t.exports=r},function(t,e,n){var r=n(172),i=n(147),a=n(0),o={Base:n(171),Brush:n(467),Drag:n(468),ScrollBar:n(470),ShapeSelect:n(472),Slider:n(473),Zoom:n(475)};r._Interactions={},r.registerInteraction=function(t,e){r._Interactions[t]=e},r.getInteraction=function(t){return r._Interactions[t]},i.prototype.getInteractions=function(){return this._interactions||(this._interactions={}),this._interactions},i.prototype._setInteraction=function(t,e){var n=this.getInteractions();n[t]&&n[t]!==e&&n[t].destroy(),n[t]=e},i.prototype.clearInteraction=function(t){var e=this.getInteractions();t?(e[t]&&(e[t]._reset(),e[t].destroy()),delete e[t]):a.each(e,function(t,n){t._reset(),t.destroy(),delete e[n]})},i.prototype.interact=i.prototype.interaction=function(t,e){var n=new(r.getInteraction(t))(e,this);return this._setInteraction(t,n),this},r.registerInteraction("brush",o.Brush),r.registerInteraction("Brush",o.Brush),r.registerInteraction("drag",o.Drag),r.registerInteraction("Drag",o.Drag),r.registerInteraction("zoom",o.Zoom),r.registerInteraction("Zoom",o.Zoom),r.registerInteraction("scroll-bar",o.ScrollBar),r.registerInteraction("ScrollBar",o.ScrollBar),r.registerInteraction("shape-select",o.ShapeSelect),r.registerInteraction("ShapeSelect",o.ShapeSelect),r.registerInteraction("slider",o.Slider),r.registerInteraction("Slider",o.Slider),t.exports=o},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(0),a=["X","Y","XY","POLYGON"],o="XY",s=function(t){function e(e,n){var i,s=r(r(i=t.call(this,e,n)||this));s.filter=!s.draggable,s.type=s.type.toUpperCase(),s.chart=n,-1===a.indexOf(s.type)&&(s.type=o);var u,l=s.canvas;if(l&&(l.get("children").map(function(t){return"plotBack"===t.get("type")?(u=t.get("plotRange"),!1):t}),s.plot={start:u.bl,end:u.tr}),n){var c=n.get("coord");s.plot={start:c.start,end:c.end};var h=n._getScales("x"),f=n._getScales("y");s.xScale=s.xField?h[s.xField]:n.getXScale(),s.yScale=s.yField?f[s.yField]:n.getYScales()[0]}return i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:o,startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},n.start=function(t){var e=this,n=e.canvas,r=e.type,i=e.brushShape;if(r){var a={x:t.offsetX,y:t.offsetY};if(a.x){var o=e.plot&&e.inPlot,s=n.get("canvasDOM"),u=n.get("pixelRatio");if(e.selection&&(e.selection=null),e.draggable&&i&&!i.get("destroyed")){if(i.isHit(a.x*u,a.y*u)){if(s.style.cursor="move",e.selection=i,e.dragging=!0,"X"===r)e.dragoffX=a.x-i.attr("x"),e.dragoffY=0;else if("Y"===r)e.dragoffX=0,e.dragoffY=a.y-i.attr("y");else if("XY"===r)e.dragoffX=a.x-i.attr("x"),e.dragoffY=a.y-i.attr("y");else if("POLYGON"===r){var l=i.getBBox();e.dragoffX=a.x-l.minX,e.dragoffY=a.y-l.minY}e.onDragstart&&e.onDragstart(t)}e.prePoint=a}if(!e.dragging){e.onBrushstart&&e.onBrushstart(a);var c=e.container;if(o){var h=e.plot,f=h.start,d=h.end;if(a.x<f.x||a.x>d.x||a.y<d.y||a.y>f.y)return}s.style.cursor="crosshair",e.startPoint=a,e.brushShape=null,e.brushing=!0,c?c.clear():(c=n.addGroup({zIndex:5})).initTransform(),e.container=c,"POLYGON"===r&&(e.polygonPath="M "+a.x+" "+a.y)}}}},n.process=function(t){var e=this,n=e.brushing,r=e.dragging,a=e.type,o=e.plot,s=e.startPoint,u=e.xScale,l=e.yScale,c=e.canvas;if(n||r){var h={x:t.offsetX,y:t.offsetY},f=c.get("canvasDOM");if(n){f.style.cursor="crosshair";var d,p,g,v,m=o.start,y=o.end,x=e.polygonPath,b=e.brushShape,_=e.container;e.plot&&e.inPlot&&(h=e._limitCoordScope(h)),"Y"===a?(d=m.x,p=h.y>=s.y?s.y:h.y,g=Math.abs(m.x-y.x),v=Math.abs(s.y-h.y)):"X"===a?(d=h.x>=s.x?s.x:h.x,p=y.y,g=Math.abs(s.x-h.x),v=Math.abs(y.y-m.y)):"XY"===a?(h.x>=s.x?(d=s.x,p=h.y>=s.y?s.y:h.y):(d=h.x,p=h.y>=s.y?s.y:h.y),g=Math.abs(s.x-h.x),v=Math.abs(s.y-h.y)):"POLYGON"===a&&(e.polygonPath=x+="L "+h.x+" "+h.y,b?!b.get("destroyed")&&b.attr(i.mix({},b._attrs,{path:x})):b=_.addShape("path",{attrs:i.mix(e.style,{path:x})})),"POLYGON"!==a&&(b?!b.get("destroyed")&&b.attr(i.mix({},b._attrs,{x:d,y:p,width:g,height:v})):b=_.addShape("rect",{attrs:i.mix(e.style,{x:d,y:p,width:g,height:v})})),e.brushShape=b}else if(r){f.style.cursor="move";var w=e.selection;if(w&&!w.get("destroyed"))if("POLYGON"===a){var S=e.prePoint;e.selection.translate(h.x-S.x,h.y-S.y)}else e.dragoffX&&w.attr("x",h.x-e.dragoffX),e.dragoffY&&w.attr("y",h.y-e.dragoffY)}e.prePoint=h,c.draw();var M=e._getSelected(),O=M.yValues,C={data:M.data,shapes:M.shapes,x:h.x,y:h.y};u&&(C[u.field]=M.xValues),l&&(C[l.field]=O),e.onDragmove&&e.onDragmove(C),e.onBrushmove&&e.onBrushmove(C)}},n.end=function(t){var e=this,n=e.data,r=e.shapes,a=e.xValues,o=e.yValues,s=e.canvas,u=e.type,l=e.startPoint,c=e.chart,h=e.container,f=e.xScale,d=e.yScale,p=t.offsetX,g=t.offsetY;if(s.get("canvasDOM").style.cursor="default",Math.abs(l.x-p)<=1&&Math.abs(l.y-g)<=1)return e.brushing=!1,void(e.dragging=!1);var v={data:n,shapes:r,x:p,y:g};if(f&&(v[f.field]=a),d&&(v[d.field]=o),e.dragging)e.dragging=!1,e.onDragend&&e.onDragend(v);else if(e.brushing){e.brushing=!1;var m=e.brushShape,y=e.polygonPath;"POLYGON"===u&&(y+="z",m&&!m.get("destroyed")&&m.attr(i.mix({},m._attrs,{path:y})),e.polygonPath=y,s.draw()),e.onBrushend?e.onBrushend(v):c&&e.filter&&(h.clear(),"X"===u?f&&c.filter(f.field,function(t){return a.indexOf(t)>-1}):"Y"===u?d&&c.filter(d.field,function(t){return o.indexOf(t)>-1}):(f&&c.filter(f.field,function(t){return a.indexOf(t)>-1}),d&&c.filter(d.field,function(t){return o.indexOf(t)>-1})),c.repaint())}},n.reset=function(){var t=this.chart,e=this.brushShape,n=this.canvas;t&&this.filter&&(t.get("options").filters={},t.repaint()),e&&(e.destroy(),n.draw())},n._limitCoordScope=function(t){var e=this.plot,n=e.start,r=e.end;return t.x<n.x&&(t.x=n.x),t.x>r.x&&(t.x=r.x),t.y<r.y&&(t.y=r.y),t.y>n.y&&(t.y=n.y),t},n._getSelected=function(){var t=this,e=t.chart,n=t.xScale,r=t.yScale,i=t.brushShape,a=t.canvas,o=a.get("pixelRatio"),s=[],u=[],l=[],c=[];return e&&e.get("geoms").map(function(t){return t.getShapes().map(function(t){var e=t.get("origin");return Array.isArray(e)||(e=[e]),e.map(function(e){if(i.isHit(e.x*o,e.y*o)){s.push(t);var a=e._origin;c.push(a),n&&u.push(a[n.field]),r&&l.push(a[r.field])}return e}),t}),t}),t.shapes=s,t.xValues=u,t.yValues=l,t.data=c,a.draw(),{data:c,xValues:u,yValues:l,shapes:s}},e}(n(171));t.exports=s},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(0),a=n(171),o=n(469),s=n(377),u=n(378),l=["X","Y","XY"],c="X",h=function(t){function e(e,n){var a,s=r(r(a=t.call(this,e,n)||this));s.type=s.type.toUpperCase(),s.chart=n,s.coord=n.get("coord");var h=s.data=n.get("data");o(n);var f=n.getYScales(),d=n.getXScale();f.push(d);var p=n.get("scaleController");return f.forEach(function(t){var e=t.field;s.limitRange[e]=u(h,t);var n=p.defs[e]||{};s.originScaleDefsByField[e]=i.mix(n,{nice:!!n.nice}),t.isLinear&&(s.stepByField[e]=(t.max-t.min)*s.stepRatio)}),-1===l.indexOf(s.type)&&(s.type=c),s._disableTooltip(),a}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:c,stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},n._disableTooltip=function(){var t=this.chart;t.get("tooltipController")&&(this._showTooltip=!0,t.tooltip(!1))},n._enableTooltip=function(t){var e=this.chart;this._showTooltip&&(e.tooltip(!0),e.showTooltip(t))},n._applyTranslate=function(t,e,n){void 0===e&&(e=0),t.isLinear?this._translateLinearScale(t,e,n):this._translateCatScale(t,e,n)},n._translateCatScale=function(t,e,n){var r=this.chart,a=t.type,o=t.field,u=t.values,l=t.ticks,c=s(r,o),h=this.limitRange[o],f=u.length,d=Math.max(1,Math.abs(parseInt(e/n*f))),p=h.indexOf(u[0]),g=h.indexOf(u[f-1]);if(e>0&&p>=0){for(var v=0;v<d&&p>0;v++)p-=1,g-=1;var m=h.slice(p,g+1),y=null;if("timeCat"===a){for(var x=l.length>2?l[1]-l[0]:864e5,b=l[0]-x;b>=m[0];b-=x)l.unshift(b);y=l}r.scale(o,i.mix({},c,{values:m,ticks:y}))}else if(e<0&&g<=h.length-1){for(var _=0;_<d&&g<h.length-1;_++)p+=1,g+=1;var w=h.slice(p,g+1),S=null;if("timeCat"===a){for(var M=l.length>2?l[1]-l[0]:864e5,O=l[l.length-1]+M;O<=w[w.length-1];O+=M)l.push(O);S=l}r.scale(o,i.mix({},c,{values:w,ticks:S}))}},n._translateLinearScale=function(t,e,n){var r=this.chart,a=this.limitRange,o=t.min,u=t.max,l=t.field;if(o!==a[l].min||u!==a[l].max){var c=e/n,h=u-o,f=s(r,l);r.scale(l,i.mix({},f,{nice:!1,min:o+c*h,max:u+c*h}))}},n.start=function(t){this.canvas.get("canvasDOM").style.cursor="pointer",this.isDragging=!0,this.previousPoint={x:t.x,y:t.y},this._disableTooltip()},n.process=function(t){var e=this;if(e.isDragging){var n=e.chart,r=e.type,i=e.coord,a=e.threshold;e.canvas.get("canvasDOM").style.cursor="move";var o=e.previousPoint,s=t,u=s.x-o.x,l=s.y-o.y,c=!1;if(Math.abs(u)>a&&r.indexOf("X")>-1){c=!0;var h=n.getXScale();e._applyTranslate(h,h.isLinear?-u:u,i.width)}Math.abs(l)>a&&r.indexOf("Y")>-1&&(c=!0,n.getYScales().forEach(function(t){e._applyTranslate(t,s.y-o.y,i.height)})),c&&(e.previousPoint=s,n.repaint())}},n.end=function(t){this.isDragging=!1,this.canvas.get("canvasDOM").style.cursor="default",this._enableTooltip(t)},n.reset=function(){var t=this.view,e=this.originScaleDefsByField,n=t.getYScales(),r=t.getXScale();n.push(r),n.forEach(function(n){if(n.isLinear){var r=n.field;t.scale(r,e[r])}}),t.repaint(),this._disableTooltip()},e}(a);t.exports=h},function(t,e,n){var r=n(0),i=n(71),a=n(376);t.exports=function(t){t.on("beforeinitgeoms",function(){t.set("limitInPlot",!0);var e=t.get("data"),n=a(t);if(!n)return e;var o=t.get("geoms"),s=!1;r.each(o,function(t){if(-1!==["area","line","path"].indexOf(t.get("type")))return s=!0,!1});var u=[];if(r.each(n,function(t,e){!s&&t&&(t.values||t.min||t.max)&&u.push(e)}),0===u.length)return e;var l=[];r.each(e,function(t){var e=!0;r.each(u,function(a){var o=t[a];if(o){var s=n[a];"timeCat"===s.type&&r.isNumber(s.values[0])&&(o=i.toTimeStamp(o)),(s.values&&-1===s.values.indexOf(o)||s.min&&o<s.min||s.max&&o>s.max)&&(e=!1)}}),e&&l.push(t)}),t.set("filteredData",l)})}},function(t,e,n){var r=n(0),i=n(171),a=n(471),o=n(378),s=function(t){function e(e,n){var i,a=(i=t.call(this,e,n)||this).getDefaultCfg();return n.set("_scrollBarCfg",r.deepMix({},a,e)),n.set("_limitRange",{}),n.get("_horizontalBar")||n.get("_verticalBar")||i._renderScrollBars(),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},n._renderScrollBars=function(){var t=this.chart,e=t.get("_scrollBarCfg");if(e){var n=t.get("data"),r=t.get("plotRange");r.width=Math.abs(r.br.x-r.bl.x),r.height=Math.abs(r.tl.y-r.bl.y);var i=t.get("backPlot"),s=t.get("canvas").get("height"),u=t.get("_limitRange"),l=e.type;if(l.indexOf("X")>-1){var c=e.xStyle,h=c.offsetX,f=c.offsetY,d=c.lineCap,p=c.backgroundColor,g=c.fillerColor,v=c.size,m=t.getXScale(),y=u[m.field];y||(y=o(n,m),u[m.field]=y);var x=a(m,y,m.type),b=t.get("_horizontalBar"),_=s-v/2+f;b?b.get("children")[1].attr({x1:Math.max(r.bl.x+r.width*x[0]+h,r.bl.x),x2:Math.min(r.bl.x+r.width*x[1]+h,r.br.x)}):((b=i.addGroup({className:"horizontalBar"})).addShape("line",{attrs:{x1:r.bl.x+h,y1:_,x2:r.br.x+h,y2:_,lineWidth:v,stroke:p,lineCap:d}}),b.addShape("line",{attrs:{x1:Math.max(r.bl.x+r.width*x[0]+h,r.bl.x),y1:_,x2:Math.min(r.bl.x+r.width*x[1]+h,r.br.x),y2:_,lineWidth:v,stroke:g,lineCap:d}}),t.set("_horizontalBar",b))}if(l.indexOf("Y")>-1){var w=e.yStyle,S=w.offsetX,M=w.offsetY,O=w.lineCap,C=w.backgroundColor,A=w.fillerColor,I=w.size,T=t.getYScales()[0],E=u[T.field];E||(E=o(n,T),u[T.field]=E);var j=a(T,E,T.type),P=t.get("_verticalBar"),k=I/2+S;P?P.get("children")[1].attr({y1:Math.max(r.tl.y+r.height*j[0]+M,r.tl.y),y2:Math.min(r.tl.y+r.height*j[1]+M,r.bl.y)}):((P=i.addGroup({className:"verticalBar"})).addShape("line",{attrs:{x1:k,y1:r.tl.y+M,x2:k,y2:r.bl.y+M,lineWidth:I,stroke:C,lineCap:O}}),P.addShape("line",{attrs:{x1:k,y1:Math.max(r.tl.y+r.height*j[0]+M,r.tl.y),x2:k,y2:Math.min(r.tl.y+r.height*j[1]+M,r.bl.y),lineWidth:I,stroke:A,lineCap:O}}),t.set("_verticalBar",P))}}},n._clear=function(){var t=this.chart;if(t){var e=t.get("_horizontalBar"),n=t.get("_verticalBar");e&&e.remove(!0),n&&n.remove(!0),t.set("_horizontalBar",null),t.set("_verticalBar",null)}},n._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var t=this.chart;t.on("afterclear",this._onAfterclearOrBeforechangedata),t.on("beforechangedata",this._onAfterclearOrBeforechangedata),t.on("afterclearinner",this._onAfterclearinner),t.on("afterdrawgeoms",this._onAfterdrawgeoms)},n._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},n._onAfterclearinner=function(){this._clear()},n._onAfterdrawgeoms=function(){this._renderScrollBars()},n._clearEvents=function(){var t=this.chart;t&&(t.off("afterclear",this._onAfterclearOrBeforechangedata),t.off("beforechangedata",this._onAfterclearOrBeforechangedata),t.off("afterclearinner",this._onAfterclearinner),t.off("afterdrawgeoms",this._onAfterdrawgeoms))},n.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},e}(i);t.exports=s},function(t,e){t.exports=function(t,e,n){if(!t)return[0,1];var r=0,i=0;if("linear"===n){var a=e.min,o=e.max-a;r=(t.min-a)/o,i=(t.max-a)/o}else{var s=e,u=t.values,l=s.indexOf(u[0]),c=s.indexOf(u[u.length-1]);r=l/(s.length-1),i=c/(s.length-1)}return[r,i]}},function(t,e,n){function r(t,e){var n={};for(var r in e)n[r]=t[r];return n}var i=n(0),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},n.start=function(t){var e,n=[];if(this.view.eachShape(function(r,i){i.isPointInPath(t.x,t.y)?e=i:n.push(i)}),e)if(e.get("_selected")){if(!this.cancelable)return;this.reset()}else{var a=this.selectStyle,o=this.unSelectStyle,s=r(e.attr(),e);e.set("_originAttrs",s),e.attr(a),i.each(n,function(t){var e=t.get("_originAttrs");e&&t.attr(e),t.set("_selected",!1),o&&(e=r(t.attr(),o),t.set("_originAttrs",e),t.attr(o))}),e.set("_selected",!0),this.selectedShape=e,this.canvas.draw()}else this.reset()},n.end=function(t){var e=this.selectedShape;e&&!e.get("destroyed")&&e.get("origin")&&(t.data=e.get("origin")._origin,t.shapeInfo=e.get("origin"),t.shape=e,t.selected=!!e.get("_selected"))},n.reset=function(){if(this.selectedShape){var t=this.view.get("geoms")[0].get("container").get("children")[0].get("children");i.each(t,function(t){var e=t.get("_originAttrs");e&&(t._attrs=e,t.set("_originAttrs",null)),t.set("_selected",!1)}),this.canvas.draw()}},e}(n(171));t.exports=a},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(474),a=n(147),o=n(0),s=n(16),u=n(7),l=n(171),c=n(377),h=n(376),f=s.Canvas,d=o.DomUtil,p=o.isNumber,g=function(t){function e(e,n){var i,a=r(r(i=t.call(this,e,n)||this));return a._initContainer(),a._initStyle(),a.render(),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:u.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},n._initContainer=function(){var t=this.container;if(!t)throw new Error("Please specify the container for the Slider!");this.domContainer=o.isString(t)?document.getElementById(t):t},n.forceFit=function(){var t=this;if(t&&!t.destroyed){var e=d.getWidth(t.domContainer);if(e!==t.domWidth){var n=t.canvas;n.changeSize(e,t.height),t.bgChart&&t.bgChart.changeWidth(e),n.clear(),t._initWidth(),t._initSlider(),t._bindEvent(),n.draw()}}},n._initForceFitEvent=function(){var t=setTimeout(o.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},n._initStyle=function(){var t=this;t.handleStyle=o.mix({width:t.height,height:t.height},t.handleStyle),"auto"===t.width&&window.addEventListener("resize",o.wrapBehavior(t,"_initForceFitEvent"))},n._initWidth=function(){var t,e=this;t="auto"===e.width?d.getWidth(e.domContainer):e.width,e.domWidth=t;var n=o.toAllPadding(e.padding);"horizontal"===e.layout?(e.plotWidth=t-n[1]-n[3],e.plotPadding=n[3],e.plotHeight=e.height):"vertical"===e.layout&&(e.plotWidth=e.width,e.plotHeight=e.height-n[0]-n[2],e.plotPadding=n[0])},n._initCanvas=function(){var t=new f({width:this.domWidth,height:this.height,containerDOM:this.domContainer,capture:!1}),e=t.get("el");e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=3,this.canvas=t},n._initBackground=function(){var t,e=this,n=this.chart,r=n.getAllGeoms[0],i=e.data=e.data||n.get("data"),s=n.getXScale(),u=e.xAxis||s.field,l=e.yAxis||n.getYScales()[0].field,c=o.deepMix(((t={})[""+u]={range:[0,1]},t),h(n),e.scales);if(delete c[u].min,delete c[u].max,!i)throw new Error("Please specify the data!");if(!u)throw new Error("Please specify the xAxis!");if(!l)throw new Error("Please specify the yAxis!");var f=e.backgroundChart,d=f.type||r.get("type"),p=f.color||"grey",g=f.shape;o.isArray(d)||(d=[d]);var v=o.toAllPadding(e.padding),m=new a({container:e.container,width:e.domWidth,height:e.height,padding:[0,v[1],0,v[3]],animate:!1});m.source(i),m.scale(c),m.axis(!1),m.tooltip(!1),m.legend(!1),o.each(d,function(t,e){var n=m[t]().position(u+"*"+l).opacity(1),r=o.isArray(p)?p[e]:p;r&&(o.isObject(r)?r.field&&n.color(r.field,r.colors):n.color(r));var i=o.isArray(g)?g[e]:g;i&&(o.isObject(i)?i.field&&n.shape(i.field,i.callback||i.shapes):n.shape(i))}),m.render(),e.bgChart=m,e.scale="horizontal"===e.layout?m.getXScale():m.getYScales()[0],"vertical"===e.layout&&m.destroy()},n._initRange=function(){var t=this,e=t.startRadio,n=t.endRadio,r=t._startValue,i=t._endValue,a=t.scale,o=0,s=1;p(e)?o=e:r&&(o=a.scale(a.translate(r))),p(n)?s=n:i&&(s=a.scale(a.translate(i)));var u=t.minSpan,l=t.maxSpan,c=0;if("time"===a.type||"timeCat"===a.type){var h=a.values;c=h[h.length-1]-h[0]}else a.isLinear&&(c=a.max-a.min);c&&u&&(t.minRange=u/c*100),c&&l&&(t.maxRange=l/c*100);var f=[100*o,100*s];return t.range=f,f},n._getHandleValue=function(t){var e=this,n=e.range,r=n[1]/100,i=e.scale;return"min"===t?e._startValue?e._startValue:i.invert(n[0]/100):e._endValue?e._endValue:i.invert(r)},n._initSlider=function(){var t=this,e=t.canvas,n=t._initRange(),r=t.scale,a=e.addGroup(i,{middleAttr:t.fillerStyle,range:n,minRange:t.minRange,maxRange:t.maxRange,layout:t.layout,width:t.plotWidth,height:t.plotHeight,backgroundStyle:t.backgroundStyle,textStyle:t.textStyle,handleStyle:t.handleStyle,minText:r.getText(t._getHandleValue("min")),maxText:r.getText(t._getHandleValue("max"))});"horizontal"===t.layout?a.translate(t.plotPadding,0):"vertical"===t.layout&&a.translate(0,t.plotPadding),t.rangeElement=a},n._updateElement=function(t,e){var n=this,r=n.chart,i=n.scale,a=n.rangeElement,s=i.field,u=a.get("minTextElement"),l=a.get("maxTextElement"),h=i.invert(t),f=i.invert(e),d=i.getText(h),p=i.getText(f);u.attr("text",d),l.attr("text",p),n._startValue=d,n._endValue=p,n.onChange&&n.onChange({startText:d,endText:p,startValue:h,endValue:f,startRadio:t,endRadio:e}),r.scale(s,o.mix({},c(r,s),{nice:!1,min:h,max:f})),r.repaint()},n._bindEvent=function(){var t=this;t.rangeElement.on("sliderchange",function(e){var n=e.range;t._updateElement(n[0]/100,n[1]/100)})},n.clear=function(){var t=this;t.canvas.clear(),t.bgChart&&t.bgChart.destroy(),t.bgChart=null,t.scale=null,t.canvas.draw()},n.repaint=function(){this.clear(),this.render()},n.render=function(){var t=this;t._initWidth(),t._initCanvas(),t._initBackground(),t._initSlider(),t._bindEvent(),t.canvas.draw()},n.destroy=function(){var t=this;clearTimeout(t.resizeTimer),t.rangeElement.off("sliderchange"),t.bgChart&&t.bgChart.destroy(),t.canvas.destroy();for(var e=t.domContainer;e.hasChildNodes();)e.removeChild(e.firstChild);window.removeEventListener("resize",o.getWrapBehavior(t,"_initForceFitEvent")),t.destroyed=!0},e}(l);t.exports=g},function(t,e,n){var r=n(0),i=n(16).Group,a=r.DomUtil,o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},n._initHandle=function(t){var e,n,i,a=this.addGroup(),o=this.get("layout"),s=this.get("handleStyle"),u=s.img,l=s.width,c=s.height;if("horizontal"===o){var h=s.width;n=a.addShape("Image",{attrs:{x:-h/2,y:0,width:h,height:c,img:u,cursor:i="ew-resize"}}),e=a.addShape("Text",{attrs:r.mix({x:"min"===t?-(h/2+5):h/2+5,y:c/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:this.get("min"===t?"minText":"maxText"),cursor:i},this.get("textStyle"))})}else n=a.addShape("Image",{attrs:{x:0,y:-c/2,width:l,height:c,img:u,cursor:i="ns-resize"}}),e=a.addShape("Text",{attrs:r.mix({x:l/2,y:"min"===t?c/2+5:-(c/2+5),textAlign:"center",textBaseline:"middle",text:this.get("min"===t?"minText":"maxText"),cursor:i},this.get("textStyle"))});return this.set(t+"TextElement",e),this.set(t+"IconElement",n),a},n._initSliderBackground=function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:r.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},n._beforeRenderUI=function(){var t=this._initSliderBackground(),e=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",e),this.set("maxHandleElement",n),this.set("backgroundElement",t),t.set("zIndex",0),r.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},n._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},n._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),a=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");o.resetMatrix?(o.resetMatrix(),s.resetMatrix()):(o.initTransform(),s.initTransform()),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:a}),o.translate(n*i,0),s.translate(r*i,0)):(u.attr({x:0,y:a*(1-r),width:i,height:(r-n)*a}),o.translate(0,(1-n)*a),s.translate(0,(1-r)*a))},n._renderHorizontal=function(){this._transform("horizontal")},n._renderVertical=function(){this._transform("vertical")},n._bindUI=function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},n._isElement=function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&n.get("children").indexOf(t)>-1},n._getRange=function(t,e){var n=t+e;return(n=n>100?100:n)<0?0:n},n._limitRange=function(t,e,n){n[0]=this._getRange(t,n[0]),n[1]=n[0]+e,n[1]>100&&(n[1]=100,n[0]=n[1]-e)},n._updateStatus=function(t,e){var n=this.get("x"===t?"width":"height");t=r.upperFirst(t);var i=this.get("range"),a=this.get("page"+t),o=this.get("currentTarget"),s=this.get("rangeStash"),u="vertical"===this.get("layout")?-1:1,l=e["page"+t],c=(l-a)/n*100*u,h=this.get("minRange"),f=this.get("maxRange");i[1]<=i[0]?(this._isElement(o,"minHandleElement")||this._isElement(o,"maxHandleElement"))&&(i[0]=this._getRange(c,i[0]),i[1]=this._getRange(c,i[0])):(this._isElement(o,"minHandleElement")&&(i[0]=this._getRange(c,i[0]),h&&i[1]-i[0]<=h&&this._limitRange(c,h,i),f&&i[1]-i[0]>=f&&this._limitRange(c,f,i)),this._isElement(o,"maxHandleElement")&&(i[1]=this._getRange(c,i[1]),h&&i[1]-i[0]<=h&&this._limitRange(c,h,i),f&&i[1]-i[0]>=f&&this._limitRange(c,f,i))),this._isElement(o,"middleHandleElement")&&this._limitRange(c,s[1]-s[0],i),this.emit("sliderchange",{range:i}),this.set("page"+t,l),this._renderUI(),this.get("canvas").draw()},n._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},n._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=a.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=a.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=a.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},n._onCanvasMouseMove=function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},n._onCanvasMouseUp=function(){this._removeDocumentEvents()},n._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},e}(i);t.exports=o},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(0),a=n(171),o=n(377),s=n(378),u=["X","Y","XY"],l="X",c=function(t){function e(e,n){var a,o=r(r(a=t.call(this,e,n)||this));o.chart=n,o.type=o.type.toUpperCase();var c=o.data=n.get("data"),h=n.getYScales(),f=n.getXScale();h.push(f);var d=n.get("scaleController");return h.forEach(function(t){var e=t.field,n=d.defs[e]||{};o.limitRange[e]=s(c,t),o.originScaleDefsByField[e]=i.mix(n,{nice:!!n.nice}),o.stepByField[e]=t.isLinear?(t.max-t.min)*o.stepRatio:o.catStep}),-1===u.indexOf(o.type)&&(o.type=l),a}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{processEvent:"mousewheel",type:l,stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},n._applyScale=function(t,e,n,r){void 0===n&&(n=0);var a=this,s=a.chart;if(t.isLinear){var u=t.field,l=a.stepByField[u]*e,c=t.min+l*n,h=t.max-l*(1-n);if(h>c){var f=o(s,u);s.scale(u,i.mix({},f,{nice:!1,min:c,max:h}))}}else{var d=t.field,p=t.values,g=a.chart,v=g.get("coord"),m=o(g,d),y=a.limitRange[d],x=y.length,b=x/a.maxScale,_=x/a.minScale,w=p.length,S=v.invertPoint(r).x,M=w-e*this.catStep,O=parseInt(M*S),C=M+O;if(e>0&&w>=b){var A=O,I=C;C>w&&(I=w-1,A=w-M);var T=p.slice(A,I);g.scale(d,i.mix({},m,{values:T}))}else if(e<0&&w<=_){var E=y.indexOf(p[0]),j=y.indexOf(p[w-1]),P=Math.max(0,E-O),k=Math.min(j+C,x),D=y.slice(P,k);g.scale(d,i.mix({},m,{values:D}))}}},n.process=function(t){var e=this,n=e.chart,r=e.type,i=n.get("coord"),a=t.deltaY,o=i.invertPoint(t);if(a){e.onZoom&&e.onZoom(a,o,e),a>0?e.onZoomin&&e.onZoomin(a,o,e):e.onZoomout&&e.onZoomout(a,o,e);var s=a/Math.abs(a);r.indexOf("X")>-1&&e._applyScale(n.getXScale(),s,o.x,t),r.indexOf("Y")>-1&&n.getYScales().forEach(function(n){e._applyScale(n,s,o.y,t)})}n.repaint()},n.reset=function(){var t=this.view,e=this.originScaleDefsByField,n=t.getYScales(),r=t.getXScale();n.push(r),n.forEach(function(n){if(n.isLinear){var r=n.field;t.scale(r,e[r])}}),t.repaint()},e}(a);t.exports=c}])}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DataSet=e():t.DataSet=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=287)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(154);n.d(e,"geoArea",function(){return r.c});var i=n(307);n.d(e,"geoBounds",function(){return i.a});var a=n(308);n.d(e,"geoCentroid",function(){return a.a});var o=n(155);n.d(e,"geoCircle",function(){return o.b});var s=n(91);n.d(e,"geoClipExtent",function(){return s.b});var u=n(327);n.d(e,"geoContains",function(){return u.a});var l=n(173);n.d(e,"geoDistance",function(){return l.a});var c=n(328);n.d(e,"geoGraticule",function(){return c.a}),n.d(e,"geoGraticule10",function(){return c.b});var h=n(329);n.d(e,"geoInterpolate",function(){return h.a});var f=n(174);n.d(e,"geoLength",function(){return f.a});var d=n(330);n.d(e,"geoPath",function(){return d.a});var p=n(176);n.d(e,"geoAlbers",function(){return p.a});var g=n(340);n.d(e,"geoAlbersUsa",function(){return g.a});var v=n(341);n.d(e,"geoAzimuthalEqualArea",function(){return v.b}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return v.a});var m=n(342);n.d(e,"geoAzimuthalEquidistant",function(){return m.b}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return m.a});var y=n(343);n.d(e,"geoConicConformal",function(){return y.b}),n.d(e,"geoConicConformalRaw",function(){return y.a});var x=n(94);n.d(e,"geoConicEqualArea",function(){return x.b}),n.d(e,"geoConicEqualAreaRaw",function(){return x.a});var b=n(344);n.d(e,"geoConicEquidistant",function(){return b.b}),n.d(e,"geoConicEquidistantRaw",function(){return b.a});var _=n(178);n.d(e,"geoEquirectangular",function(){return _.a}),n.d(e,"geoEquirectangularRaw",function(){return _.b});var w=n(345);n.d(e,"geoGnomonic",function(){return w.a}),n.d(e,"geoGnomonicRaw",function(){return w.b});var S=n(346);n.d(e,"geoIdentity",function(){return S.a});var M=n(21);n.d(e,"geoProjection",function(){return M.a}),n.d(e,"geoProjectionMutator",function(){return M.b});var O=n(97);n.d(e,"geoMercator",function(){return O.a}),n.d(e,"geoMercatorRaw",function(){return O.c});var C=n(347);n.d(e,"geoOrthographic",function(){return C.a}),n.d(e,"geoOrthographicRaw",function(){return C.b});var A=n(348);n.d(e,"geoStereographic",function(){return A.a}),n.d(e,"geoStereographicRaw",function(){return A.b});var I=n(349);n.d(e,"geoTransverseMercator",function(){return I.a}),n.d(e,"geoTransverseMercatorRaw",function(){return I.b});var T=n(66);n.d(e,"geoRotation",function(){return T.a});var E=n(30);n.d(e,"geoStream",function(){return E.a});var j=n(67);n.d(e,"geoTransform",function(){return j.a})},function(t,e,n){"use strict";function r(t){return t>0?Math.sqrt(t):0}n.d(e,"a",function(){return i}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return s}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return l}),n.d(e,"p",function(){return c}),n.d(e,"q",function(){return h}),n.d(e,"r",function(){return f}),n.d(e,"t",function(){return d}),n.d(e,"w",function(){return p}),n.d(e,"x",function(){return g}),n.d(e,"y",function(){return v}),n.d(e,"F",function(){return m}),n.d(e,"k",function(){return y}),n.d(e,"l",function(){return x}),n.d(e,"s",function(){return b}),n.d(e,"o",function(){return _}),n.d(e,"u",function(){return w}),n.d(e,"C",function(){return S}),n.d(e,"D",function(){return M}),n.d(e,"E",function(){return O}),n.d(e,"H",function(){return C}),n.d(e,"j",function(){return A}),n.d(e,"v",function(){return I}),e.z=function(t){return t?t/Math.sin(t):1},e.e=function(t){return t>1?_:t<-1?-_:Math.asin(t)},e.b=function(t){return t>1?0:t<-1?b:Math.acos(t)},e.B=r,e.G=function(t){return((t=u(2*t))-1)/(t+1)},e.A=function(t){return(u(t)-u(-t))/2},e.i=function(t){return(u(t)+u(-t))/2},e.d=function(t){return c(t+r(t*t+1))},e.c=function(t){return c(t+r(t*t-1))};var i=Math.abs,a=Math.atan,o=Math.atan2,s=(Math,Math.cos),u=Math.exp,l=Math.floor,c=Math.log,h=Math.max,f=Math.min,d=Math.pow,p=Math.round,g=Math.sign||function(t){return t>0?1:t<0?-1:0},v=Math.sin,m=Math.tan,y=1e-6,x=1e-12,b=Math.PI,_=b/2,w=b/4,S=Math.SQRT1_2,M=r(2),O=r(b),C=2*b,A=180/b,I=b/180},function(t,e,n){var r=n(4),i=n(247),a=n(15),o=n(595),s=n(190),u=n(47),l=n(125),c=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:{}};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r(i,{_onChangeTimer:null,DataSet:e,isDataSet:!0,views:{}},n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._getUniqueViewName=function(){for(var t=o("view_");this.views[t];)t=o("view_");return t},e.prototype.createView=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;if(i(t)&&(t=n._getUniqueViewName()),a(t)&&(e=t,t=n._getUniqueViewName()),n.views[t])throw new Error("data view exists: "+t);var r=new u(n,e);return n.views[t]=r,r},e.prototype.getView=function(t){return this.views[t]},e.prototype.setView=function(t,e){this.views[t]=e},e.prototype.setState=function(t,e){var n=this;n.state[t]=e,n._onChangeTimer&&(clearTimeout(n._onChangeTimer),n._onChangeTimer=null),n._onChangeTimer=setTimeout(function(){n.emit("statechange",t,e)},16)},e}(s);r(c,{CONSTANTS:l,DataSet:c,DataView:u,View:u,connectors:{},transforms:{},registerConnector:function(t,e){c.connectors[t]=e},getConnector:function(t){return c.connectors[t]||c.connectors.default},registerTransform:function(t,e){c.transforms[t]=e},getTransform:function(t){return c.transforms[t]||c.transforms.default}},l),u.DataSet=c,r(c.prototype,{view:c.prototype.createView}),c.version="0.8.9",t.exports=c},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(61),i=n(41),a=n(295),o=n(24),s=n(64),u=n(11),l=Object.prototype.hasOwnProperty,c=a(function(t,e){if(s(e)||o(e))i(e,u(e),t);else for(var n in e)l.call(e,n)&&r(t,n,e[n])});t.exports=c},function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"j",function(){return i}),n.d(e,"o",function(){return a}),n.d(e,"l",function(){return o}),n.d(e,"q",function(){return s}),n.d(e,"w",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"r",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"g",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"k",function(){return v}),n.d(e,"n",function(){return m}),n.d(e,"p",function(){return y}),n.d(e,"t",function(){return x}),n.d(e,"s",function(){return b}),n.d(e,"u",function(){return _}),n.d(e,"v",function(){return w}),e.b=function(t){return t>1?0:t<-1?a:Math.acos(t)},e.c=function(t){return t>1?o:t<-1?-o:Math.asin(t)},e.m=function(t){return(t=x(t/2))*t};var r=1e-6,i=1e-12,a=Math.PI,o=a/2,s=a/4,u=2*a,l=180/a,c=a/180,h=Math.abs,f=Math.atan,d=Math.atan2,p=Math.cos,g=Math.ceil,v=Math.exp,m=(Math,Math.log),y=Math.pow,x=Math.sin,b=Math.sign||function(t){return t>0?1:t<0?-1:0},_=Math.sqrt,w=Math.tan},function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"j",function(){return i}),n.d(e,"o",function(){return a}),n.d(e,"l",function(){return o}),n.d(e,"q",function(){return s}),n.d(e,"w",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"r",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"g",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"k",function(){return v}),n.d(e,"n",function(){return m}),n.d(e,"p",function(){return y}),n.d(e,"t",function(){return x}),n.d(e,"s",function(){return b}),n.d(e,"u",function(){return _}),n.d(e,"v",function(){return w}),e.b=function(t){return t>1?0:t<-1?a:Math.acos(t)},e.c=function(t){return t>1?o:t<-1?-o:Math.asin(t)},e.m=function(t){return(t=x(t/2))*t};var r=1e-6,i=1e-12,a=Math.PI,o=a/2,s=a/4,u=2*a,l=180/a,c=a/180,h=Math.abs,f=Math.atan,d=Math.atan2,p=Math.cos,g=Math.ceil,v=Math.exp,m=(Math,Math.log),y=Math.pow,x=Math.sin,b=Math.sign||function(t){return t>0?1:t<0?-1:0},_=Math.sqrt,w=Math.tan},function(t,e,n){var r=n(3),i=n(9),a="Invalid fields: it must be an array!";t.exports={getField:function(t,e){var n=t.field,a=t.fields;if(i(n))return n;if(r(n))return console.warn("Invalid field: it must be a string!"),n[0];if(console.warn("Invalid field: it must be a string! will try to get fields instead."),i(a))return a;if(r(a)&&a.length)return a[0];if(e)return e;throw new TypeError("Invalid field: it must be a string!")},getFields:function(t,e){var n=t.field,o=t.fields;if(r(o))return o;if(i(o))return console.warn(a),[o];if(console.warn(a+" will try to get field instead."),i(n))return console.warn(a),[n];if(r(n)&&n.length)return console.warn(a),n;if(e)return e;throw new TypeError(a)}}},function(t,e,n){var r;try{r=n(262)}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){var r=n(23),i=n(3),a=n(20);t.exports=function(t){return"string"==typeof t||!i(t)&&a(t)&&"[object String]"==r(t)}},function(t,e,n){"use strict";function r(t,e,n,r){var i;do{i=a.uniqueId(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function i(t){return a.max(a.map(t.nodes(),function(e){var n=t.node(e).rank;if(!a.isUndefined(n))return n}))}var a=n(8),o=n(17).Graph;t.exports={addDummyNode:r,simplify:function(t){var e=(new o).setGraph(t.graph());return a.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),a.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return a.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),a.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=a.map(t.nodes(),function(e){var n={};return a.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return a.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=a.map(t.nodes(),function(e){var n={};return a.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return a.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,a=t.y,o=e.x-i,s=e.y-a,u=t.width/2,l=t.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(o)*l?(s<0&&(l=-l),n=l*o/s,r=l):(o<0&&(u=-u),n=u,r=u*s/o),{x:i+n,y:a+r}},buildLayerMatrix:function(t){var e=a.map(a.range(i(t)+1),function(){return[]});return a.forEach(t.nodes(),function(n){var r=t.node(n),i=r.rank;a.isUndefined(i)||(e[i][r.order]=n)}),e},normalizeRanks:function(t){var e=a.minBy(a.map(t.nodes(),function(e){return t.node(e).rank}));a.forEach(t.nodes(),function(n){var r=t.node(n);a.has(r,"rank")&&(r.rank-=e)})},removeEmptyRanks:function(t){var e=a.minBy(a.map(t.nodes(),function(e){return t.node(e).rank})),n=[];a.forEach(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=t.graph().nodeRankFactor;a.forEach(n,function(e,n){a.isUndefined(e)&&n%i!=0?--r:r&&a.forEach(e,function(e){t.node(e).rank+=r})})},addBorderNode:function(t,e,n,i){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=i),r(t,"border",a,e)},maxRank:i,partition:function(t,e){var n={lhs:[],rhs:[]};return a.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){var n=a.now();try{return e()}finally{console.log(t+" time: "+(a.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){var r=n(151),i=n(305),a=n(24);t.exports=function(t){return a(t)?r(t):i(t)}},function(t,e,n){var r=n(212),i=n(213),a=n(105);t.exports=function(t,e){return null==t?t:r(t,i(e),a)}},function(t,e,n){var r=n(23),i=n(15);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r;try{r=n(262)}catch(t){}r||(r=window._),t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(160);n.d(e,"bisect",function(){return r.c}),n.d(e,"bisectRight",function(){return r.b}),n.d(e,"bisectLeft",function(){return r.a});var i=n(37);n.d(e,"ascending",function(){return i.a});var a=n(161);n.d(e,"bisector",function(){return a.a});var o=n(311);n.d(e,"cross",function(){return o.a});var s=n(312);n.d(e,"descending",function(){return s.a});var u=n(163);n.d(e,"deviation",function(){return u.a});var l=n(165);n.d(e,"extent",function(){return l.a});var c=n(313);n.d(e,"histogram",function(){return c.a});var h=n(316);n.d(e,"thresholdFreedmanDiaconis",function(){return h.a});var f=n(317);n.d(e,"thresholdScott",function(){return f.a});var d=n(169);n.d(e,"thresholdSturges",function(){return d.a});var p=n(318);n.d(e,"max",function(){return p.a});var g=n(319);n.d(e,"mean",function(){return g.a});var v=n(320);n.d(e,"median",function(){return v.a});var m=n(321);n.d(e,"merge",function(){return m.a});var y=n(170);n.d(e,"min",function(){return y.a});var x=n(162);n.d(e,"pairs",function(){return x.a});var b=n(322);n.d(e,"permute",function(){return b.a});var _=n(92);n.d(e,"quantile",function(){return _.a});var w=n(167);n.d(e,"range",function(){return w.a});var S=n(323);n.d(e,"scan",function(){return S.a});var M=n(324);n.d(e,"shuffle",function(){return M.a});var O=n(325);n.d(e,"sum",function(){return O.a});var C=n(168);n.d(e,"ticks",function(){return C.a}),n.d(e,"tickIncrement",function(){return C.b}),n.d(e,"tickStep",function(){return C.c});var A=n(171);n.d(e,"transpose",function(){return A.a});var I=n(164);n.d(e,"variance",function(){return I.a});var T=n(326);n.d(e,"zip",function(){return T.a})},function(t,e,n){var r;try{r=n(684)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){var r=n(145),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();t.exports=a},function(t,e,n){var r=n(3),i=n(13),a=n(9),o=n(540),s=n(546);t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=t;n&&n.length&&(u=s(t,n));var l=void 0;return i(e)?l=e:r(e)?l=function(t){return"_"+e.map(function(e){return t[e]}).join("-")}:a(e)&&(l=function(t){return"_"+t[e]}),o(u,l)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";function r(t){function e(t){return[(t=x(t[0]*l.r,t[1]*l.r))[0]*O+v,m-t[1]*O]}function n(t,e){return[(t=g(t,e))[0]*O+v,m-t[1]*O]}function r(){x=Object(s.a)(y=Object(c.b)(E,j,P),g);var t=g(I,T);return v=C-t[0]*O,m=A+t[1]*O,h()}function h(){return S=M=null,e}var g,v,m,y,x,b,_,w,S,M,O=150,C=480,A=250,I=0,T=0,E=0,j=0,P=0,k=null,D=i.a,L=null,R=u.a,N=.5,z=Object(d.a)(n,N);return e.stream=function(t){return S&&M===t?S:S=p(D(y,z(R(M=t))))},e.clipAngle=function(t){return arguments.length?(D=+t?Object(a.a)(k=t*l.r,6*l.r):(k=null,i.a),h()):k*l.h},e.clipExtent=function(t){return arguments.length?(R=null==t?(L=b=_=w=null,u.a):Object(o.a)(L=+t[0][0],b=+t[0][1],_=+t[1][0],w=+t[1][1]),h()):null==L?null:[[L,b],[_,w]]},e.scale=function(t){return arguments.length?(O=+t,r()):O},e.translate=function(t){return arguments.length?(C=+t[0],A=+t[1],r()):[C,A]},e.center=function(t){return arguments.length?(I=t[0]%360*l.r,T=t[1]%360*l.r,r()):[I*l.h,T*l.h]},e.rotate=function(t){return arguments.length?(E=t[0]%360*l.r,j=t[1]%360*l.r,P=t.length>2?t[2]%360*l.r:0,r()):[E*l.h,j*l.h,P*l.h]},e.precision=function(t){return arguments.length?(z=Object(d.a)(n,N=t*t),h()):Object(l.u)(N)},e.fitExtent=function(t,n){return Object(f.a)(e,t,n)},e.fitSize=function(t,n){return Object(f.b)(e,t,n)},function(){return g=t.apply(this,arguments),e.invert=g.invert&&function(t){return(t=x.invert((t[0]-v)/O,(m-t[1])/O))&&[t[0]*l.h,t[1]*l.h]},r()}}e.a=function(t){return r(function(){return t})()},e.b=r;var i=n(336),a=n(337),o=n(91),s=n(156),u=n(93),l=n(5),c=n(66),h=n(67),f=n(96),d=n(338),p=Object(h.b)({point:function(t,e){this.stream.point(t*l.r,e*l.r)}})},function(t,e,n){"use strict";function r(t){function e(t){return[(t=x(t[0]*l.r,t[1]*l.r))[0]*O+v,m-t[1]*O]}function n(t,e){return[(t=g(t,e))[0]*O+v,m-t[1]*O]}function r(){x=Object(s.a)(y=Object(c.b)(E,j,P),g);var t=g(I,T);return v=C-t[0]*O,m=A+t[1]*O,h()}function h(){return S=M=null,e}var g,v,m,y,x,b,_,w,S,M,O=150,C=480,A=250,I=0,T=0,E=0,j=0,P=0,k=null,D=i.a,L=null,R=u.a,N=.5,z=Object(d.a)(n,N);return e.stream=function(t){return S&&M===t?S:S=p(D(y,z(R(M=t))))},e.clipAngle=function(t){return arguments.length?(D=+t?Object(a.a)(k=t*l.r,6*l.r):(k=null,i.a),h()):k*l.h},e.clipExtent=function(t){return arguments.length?(R=null==t?(L=b=_=w=null,u.a):Object(o.a)(L=+t[0][0],b=+t[0][1],_=+t[1][0],w=+t[1][1]),h()):null==L?null:[[L,b],[_,w]]},e.scale=function(t){return arguments.length?(O=+t,r()):O},e.translate=function(t){return arguments.length?(C=+t[0],A=+t[1],r()):[C,A]},e.center=function(t){return arguments.length?(I=t[0]%360*l.r,T=t[1]%360*l.r,r()):[I*l.h,T*l.h]},e.rotate=function(t){return arguments.length?(E=t[0]%360*l.r,j=t[1]%360*l.r,P=t.length>2?t[2]%360*l.r:0,r()):[E*l.h,j*l.h,P*l.h]},e.precision=function(t){return arguments.length?(z=Object(d.a)(n,N=t*t),h()):Object(l.u)(N)},e.fitExtent=Object(f.a)(e),e.fitSize=Object(f.b)(e),function(){return g=t.apply(this,arguments),e.invert=g.invert&&function(t){return(t=x.invert((t[0]-v)/O,(m-t[1])/O))&&[t[0]*l.h,t[1]*l.h]},r()}}e.a=function(t){return r(function(){return t})()},e.b=r;var i=n(523),a=n(525),o=n(218),s=n(217),u=n(223),l=n(6),c=n(114),h=n(117),f=n(227),d=n(526),p=Object(h.b)({point:function(t,e){this.stream.point(t*l.r,e*l.r)}})},function(t,e,n){var r=n(35),i=n(290),a=n(291),o=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):a(t)}},function(t,e,n){var r=n(13),i=n(87);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e){var n,r=t*Object(o.y)(e),i=30;do{e-=n=(e+Object(o.y)(e)-r)/(1+Object(o.h)(e))}while(Object(o.a)(n)>o.k&&--i>0);return e/2}function i(t,e,n){function i(i,a){return[t*i*Object(o.h)(a=r(n,a)),e*Object(o.y)(a)]}return i.invert=function(r,i){return i=Object(o.e)(i/e),[r/(t*Object(o.h)(i)),Object(o.e)((2*i+Object(o.y)(2*i))/n)]},i}e.c=r,e.b=i,n.d(e,"d",function(){return s});var a=n(0),o=n(1),s=i(o.D/o.o,o.D,o.s);e.a=function(){return Object(a.geoProjection)(s).scale(169.529)}},function(t,e,n){"use strict";var r=t.exports={};r.linearRegression=n(548),r.linearRegressionLine=n(549),r.standardDeviation=n(230),r.rSquared=n(550),r.mode=n(551),r.modeFast=n(552),r.modeSorted=n(234),r.min=n(235),r.max=n(236),r.minSorted=n(553),r.maxSorted=n(554),r.sum=n(232),r.sumSimple=n(555),r.product=n(556),r.quantile=n(122),r.quantileSorted=n(123),r.interquartileRange=r.iqr=n(558),r.medianAbsoluteDeviation=r.mad=n(559),r.chunk=n(560),r.sampleWithReplacement=n(561),r.shuffle=n(238),r.shuffleInPlace=n(239),r.sample=n(562),r.ckmeans=n(563),r.uniqueCountSorted=n(240),r.sumNthPowerDeviations=n(121),r.equalIntervalBreaks=n(564),r.sampleCovariance=n(241),r.sampleCorrelation=n(565),r.sampleVariance=n(124),r.sampleStandardDeviation=n(242),r.sampleSkewness=n(566),r.sampleKurtosis=n(567),r.permutationsHeap=n(568),r.combinations=n(569),r.combinationsReplacement=n(570),r.addToMean=n(571),r.combineMeans=n(243),r.combineVariances=n(572),r.geometricMean=n(573),r.harmonicMean=n(574),r.mean=r.average=n(28),r.median=n(237),r.medianSorted=n(575),r.subtractFromMean=n(576),r.rootMeanSquare=r.rms=n(577),r.variance=n(231),r.tTest=n(578),r.tTestTwoSample=n(579),r.BayesianClassifier=r.bayesian=n(580),r.PerceptronModel=r.perceptron=n(581),r.epsilon=n(78),r.factorial=n(582),r.bernoulliDistribution=n(583),r.binomialDistribution=n(584),r.poissonDistribution=n(585),r.chiSquaredGoodnessOfFit=n(586),r.zScore=n(588),r.cumulativeStdNormalProbability=n(589),r.standardNormalTable=n(244),r.errorFunction=r.erf=n(590),r.inverseErrorFunction=n(245),r.probit=n(591),r.bisect=n(592)},function(t,e,n){"use strict";var r=n(232);t.exports=function(t){if(0===t.length)throw new Error("mean requires at least one data point");return r(t)/t.length}},function(t,e,n){var r=n(289),i=n(294);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";function r(t,e){t&&s.hasOwnProperty(t.type)&&s[t.type](t,e)}function i(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function a(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)i(t[n],e,1);e.polygonEnd()}var o={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,a=n.length;++i<a;)r(n[i].geometry,e)}},s={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){i(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)i(n[r],e,0)},Polygon:function(t,e){a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)a(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,a=n.length;++i<a;)r(n[i],e)}};e.a=function(t,e){t&&o.hasOwnProperty(t.type)?o[t.type](t,e):r(t,e)}},function(t,e,n){"use strict";function r(t,e){return Object(s.a)(t[0]-e[0])<s.k&&Object(s.a)(t[1]-e[1])<s.k}function i(t,e){for(var n,r,i,a=-1,o=t.length,s=t[0],u=[];++a<o;){r=((n=t[a])[0]-s[0])/e,i=(n[1]-s[1])/e;for(var l=0;l<e;++l)u.push([s[0]+l*r,s[1]+l*i]);s=n}return u.push(n),u}var a=n(16),o=n(0),s=n(1);e.a=function(t,e){function n(n,r){for(var i=r<0?-1:1,a=e[+(r<0)],o=0,s=a.length-1;o<s&&n>a[o][2][0];++o);var u=t(n-a[o][1][0],r);return u[0]+=t(a[o][1][0],i*r>i*a[o][0][1]?a[o][0][1]:r)[0],u}var u=function(t){var e,n,r,o,u,l=[],c=t[0].length;for(u=0;u<c;++u)n=(e=t[0][u])[0][0],l.push(i([[n+s.k,e[0][1]+s.k],[n+s.k,(r=e[1][1])-s.k],[(o=e[2][0])-s.k,r-s.k],[o-s.k,e[2][1]+s.k]],30));for(u=t[1].length-1;u>=0;--u)n=(e=t[1][u])[0][0],l.push(i([[(o=e[2][0])-s.k,e[2][1]-s.k],[o-s.k,(r=e[1][1])+s.k],[n+s.k,r+s.k],[n+s.k,e[0][1]-s.k]],30));return{type:"Polygon",coordinates:[Object(a.merge)(l)]}}(e),l=(e=e.map(function(t){return t.map(function(t){return[[t[0][0]*s.v,t[0][1]*s.v],[t[1][0]*s.v,t[1][1]*s.v],[t[2][0]*s.v,t[2][1]*s.v]]})})).map(function(e){return e.map(function(e){var n,r=t(e[0][0],e[0][1])[0],i=t(e[2][0],e[2][1])[0],a=t(e[1][0],e[0][1])[1],o=t(e[1][0],e[1][1])[1];return a>o&&(n=a,a=o,o=n),[[r,a],[i,o]]})});t.invert&&(n.invert=function(i,a){for(var o=l[+(a<0)],s=e[+(a<0)],u=0,c=o.length;u<c;++u){var h=o[u];if(h[0][0]<=i&&i<h[1][0]&&h[0][1]<=a&&a<h[1][1]){var f=t.invert(i-t(s[u][1][0],0)[0],a);return f[0]+=s[u][1][0],r(n(f[0],f[1]),[i,a])?f:null}}});var c=Object(o.geoProjection)(n),h=c.stream;return c.stream=function(t){var e=c.rotate(),n=h(t),r=(c.rotate([0,0]),h(t));return c.rotate(e),n.sphere=function(){Object(o.geoStream)(u,r)},n},c}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e){t&&s.hasOwnProperty(t.type)&&s[t.type](t,e)}function i(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function a(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)i(t[n],e,1);e.polygonEnd()}var o={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,a=n.length;++i<a;)r(n[i].geometry,e)}},s={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){i(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)i(n[r],e,0)},Polygon:function(t,e){a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)a(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,a=n.length;++i<a;)r(n[i],e)}};e.a=function(t,e){t&&o.hasOwnProperty(t.type)?o[t.type](t,e):r(t,e)}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){var r=n(18).Symbol;t.exports=r},function(t,e,n){"use strict";function r(){this.reset()}function i(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}e.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){i(a,t,this.t),i(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new r},function(t,e,n){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";var r=n(0),i=n(1);e.a=function(t){var e=0,n=Object(r.geoProjectionMutator)(t),a=n(e);return a.parallel=function(t){return arguments.length?n(e=t*i.v):e*i.j},a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(536);n.d(e,"path",function(){return r.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(608);n.d(e,"cluster",function(){return r.a});var i=n(127);n.d(e,"hierarchy",function(){return i.c});var a=n(620);n.d(e,"pack",function(){return a.a});var o=n(250);n.d(e,"packSiblings",function(){return o.a});var s=n(251);n.d(e,"packEnclose",function(){return s.a});var u=n(622);n.d(e,"partition",function(){return u.a});var l=n(623);n.d(e,"stratify",function(){return l.a});var c=n(624);n.d(e,"tree",function(){return c.a});var h=n(625);n.d(e,"treemap",function(){return h.a});var f=n(626);n.d(e,"treemapBinary",function(){return f.a});var d=n(56);n.d(e,"treemapDice",function(){return d.a});var p=n(79);n.d(e,"treemapSlice",function(){return p.a});var g=n(627);n.d(e,"treemapSliceDice",function(){return g.a});var v=n(129);n.d(e,"treemapSquarify",function(){return v.a});var m=n(628);n.d(e,"treemapResquarify",function(){return m.a})},function(t,e,n){var r=n(61),i=n(85);t.exports=function(t,e,n,a){var o=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=a?a(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),o?i(n,l,c):r(n,l,c)}return n}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";e.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},e.a=function(t){var e=t[0],n=t[1],i=Object(r.g)(n);return[i*Object(r.g)(e),i*Object(r.t)(e),Object(r.t)(n)]},e.d=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},e.c=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},e.b=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},e.f=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},e.e=function(t){var e=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e};var r=n(5)},function(t,e,n){"use strict";e.a=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";e.b=function(t){return function(e,n){var i=Object(r.g)(e),a=Object(r.g)(n),o=t(i*a);return[o*a*Object(r.t)(e),o*Object(r.t)(n)]}},e.a=function(t){return function(e,n){var i=Object(r.u)(e*e+n*n),a=t(i),o=Object(r.t)(a),s=Object(r.g)(a);return[Object(r.e)(e*o,i*s),Object(r.c)(i&&n*o/i)]}};var r=n(5)},function(t,e,n){"use strict";function r(t,e){return[t*Object(a.h)(e),e]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){return[t/Object(a.h)(e),e]},e.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,e,n){var r=n(190),i=n(4),a=n(430),o=n(75),s=n(478),u=n(12),l=n(3),c=n(502),h=n(15),f=n(9),d=n(11),p=n(52),g=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),o=a;if(r=r||{},(n=n||{}).isDataSet||(r=n,n=null),i(o,{dataSet:n,loose:!n,dataType:"table",isView:!0,isDataView:!0,origin:[],rows:[],transforms:[],watchingStates:null},r),!o.loose){var s=o.watchingStates;n.on("statechange",function(t){l(s)?s.indexOf(t)>-1&&o._reExecute():o._reExecute()})}return a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._parseStateExpression=function(t){var e=this.dataSet,n=/^\$state\.(\w+)/.exec(t);return n?e.state[n[1]]:t},e.prototype._preparseOptions=function(t){var e=this,n=a(t);return e.loose?n:(u(n,function(t,r){f(t)&&/^\$state\./.test(t)&&(n[r]=e._parseStateExpression(t))}),n)},e.prototype._prepareSource=function(t,n){var r=this,i=e.DataSet;if(r._source={source:t,options:n},n)n=r._preparseOptions(n),r.origin=i.getConnector(n.type)(t,n,r);else if(t instanceof e||f(t))r.origin=i.getConnector("default")(t,r.dataSet);else if(l(t))r.origin=t;else{if(!h(t)||!t.type)throw new TypeError("Invalid source");n=r._preparseOptions(t),r.origin=i.getConnector(n.type)(n,r)}return r.rows=o(r.origin),r},e.prototype.source=function(t,e){return this._prepareSource(t,e),this._reExecuteTransforms(),this.trigger("change"),this},e.prototype.transform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transforms.push(t),this._executeTransform(t),this},e.prototype._executeTransform=function(t){t=this._preparseOptions(t),e.DataSet.getTransform(t.type)(this,t)},e.prototype._reExecuteTransforms=function(){var t=this;t.transforms.forEach(function(e){t._executeTransform(e)})},e.prototype.addRow=function(t){this.rows.push(t)},e.prototype.removeRow=function(t){this.rows.splice(t,1)},e.prototype.updateRow=function(t,e){i(this.rows[t],e)},e.prototype.findRows=function(t){return this.rows.filter(function(e){return c(e,t)})},e.prototype.findRow=function(t){return s(this.rows,t)},e.prototype.getColumnNames=function(){var t=this.rows[0];return t?d(t):[]},e.prototype.getColumnName=function(t){return this.getColumnNames()[t]},e.prototype.getColumnIndex=function(t){return this.getColumnNames().indexOf(t)},e.prototype.getColumn=function(t){return this.rows.map(function(e){return e[t]})},e.prototype.getColumnData=function(t){return this.getColumn(t)},e.prototype.getSubset=function(t,e,n){for(var r=[],i=t;i<=e;i++)r.push(p(this.rows[i],n));return r},e.prototype.toString=function(t){return t?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},e.prototype._reExecute=function(){var t=this._source;this._prepareSource(t.source,t.options),this._reExecuteTransforms(),this.trigger("change")},e}(r);t.exports=g},function(t,e,n){var r=n(480),i=n(487),a=n(42),o=n(3),s=n(494);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?o(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(23),i=n(20);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(49);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(503),i=n(506)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){"use strict";function r(){this.reset()}function i(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}e.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){i(a,t,this.t),i(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new r},function(t,e,n){"use strict";e.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},e.a=function(t){var e=t[0],n=t[1],i=Object(r.g)(n);return[i*Object(r.g)(e),i*Object(r.t)(e),Object(r.t)(n)]},e.d=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},e.c=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},e.b=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},e.f=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},e.e=function(t){var e=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e};var r=n(6)},function(t,e,n){"use strict";e.b=function(t){return function(e,n){var i=Object(r.g)(e),a=Object(r.g)(n),o=t(i*a);return[o*a*Object(r.t)(e),o*Object(r.t)(n)]}},e.a=function(t){return function(e,n){var i=Object(r.u)(e*e+n*n),a=t(i),o=Object(r.t)(a),s=Object(r.g)(a);return[Object(r.e)(e*o,i*s),Object(r.c)(i&&n*o/i)]}};var r=n(6)},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,l=t.value&&(r-e)/t.value;++s<u;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*l}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return a}),n.d(e,"h",function(){return o}),n.d(e,"i",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"l",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"j",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"m",function(){return d}),e.b=function(t){return t>1?0:t<-1?h:Math.acos(t)},e.c=function(t){return t>=1?f:t<=-1?-f:Math.asin(t)};var r=Math.abs,i=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,u=Math.sin,l=Math.sqrt,c=1e-12,h=Math.PI,f=h/2,d=2*h},function(t,e,n){"use strict";e.a=function(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}},function(t,e,n){"use strict";function r(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function i(t,e){return e[1]-t[1]||e[0]-t[0]}function a(t,e){var n,r,a,g=t.sort(i).pop();for(l=[],s=new Array(t.length),o=new p.b,u=new p.b;;)if(a=f.c,g&&(!a||g[1]<a.y||g[1]===a.y&&g[0]<a.x))g[0]===n&&g[1]===r||(Object(c.a)(g),n=g[0],r=g[1]),g=t.pop();else{if(!a)break;Object(c.b)(a.arc)}if(Object(h.d)(),e){var v=+e[0][0],m=+e[0][1],y=+e[1][0],x=+e[1][1];Object(d.a)(v,m,y,x),Object(h.b)(v,m,y,x)}this.edges=l,this.cells=s,o=u=l=s=null}n.d(e,"f",function(){return g}),n.d(e,"g",function(){return v}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return l}),e.d=a;var o,s,u,l,c=n(762),h=n(284),f=n(285),d=n(142),p=n(141),g=1e-6,v=1e-12;a.prototype={constructor:a,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Object(h.a)(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(a=n.halfedges).length)for(var a,o,s,u=n.site,l=-1,c=e[a[o-1]],h=c.left===u?c.right:c.left;++l<o;)s=h,h=(c=e[a[l]]).left===u?c.right:c.left,s&&h&&i<s.index&&i<h.index&&r(u,s,h)<0&&t.push([u.data,s.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,o=s.index)}})}while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}}},function(t,e,n){var r=n(85),i=n(62),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var o=t[e];a.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e){return[t>l.o?t-l.w:t<-l.o?t+l.w:t,e]}function i(t,e,n){return(t%=l.w)?e||n?Object(u.a)(o(t),s(e,n)):o(t):e||n?s(e,n):r}function a(t){return function(e,n){return[(e+=t)>l.o?e-l.w:e<-l.o?e+l.w:e,n]}}function o(t){var e=a(t);return e.invert=a(-t),e}function s(t,e){function n(t,e){var n=Object(l.g)(e),s=Object(l.g)(t)*n,u=Object(l.t)(t)*n,c=Object(l.t)(e),h=c*r+s*i;return[Object(l.e)(u*a-h*o,s*r-c*i),Object(l.c)(h*a+u*o)]}var r=Object(l.g)(t),i=Object(l.t)(t),a=Object(l.g)(e),o=Object(l.t)(e);return n.invert=function(t,e){var n=Object(l.g)(e),s=Object(l.g)(t)*n,u=Object(l.t)(t)*n,c=Object(l.t)(e),h=c*a-u*o;return[Object(l.e)(u*a+c*o,s*r+h*i),Object(l.c)(h*r-s*i)]},n}e.b=i;var u=n(156),l=n(5);r.invert=r,e.a=function(t){function e(e){return(e=t(e[0]*l.r,e[1]*l.r))[0]*=l.h,e[1]*=l.h,e}return t=i(t[0]*l.r,t[1]*l.r,t.length>2?t[2]*l.r:0),e.invert=function(e){return(e=t.invert(e[0]*l.r,e[1]*l.r))[0]*=l.h,e[1]*=l.h,e},e}},function(t,e,n){"use strict";function r(t){return function(e){var n=new i;for(var r in t)n[r]=t[r];return n.stream=e,n}}function i(){}e.b=r,e.a=function(t){return{stream:r(t)}},i.prototype={constructor:i,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e,n,i,a,o,s,u){function l(l,c){if(!c)return[t*l/r.s,0];var h=c*c,f=t+h*(e+h*(n+h*i)),d=c*(a-1+h*(o-u+h*s)),p=(f*f+d*d)/(2*d),g=l*Object(r.e)(f/p)/r.s;return[p*Object(r.y)(g),c*(1+h*u)+p*(1-Object(r.h)(g))]}return arguments.length<8&&(u=0),l.invert=function(l,c){var h,f,d=r.s*l/t,p=c,g=50;do{var v=p*p,m=t+v*(e+v*(n+v*i)),y=p*(a-1+v*(o-u+v*s)),x=m*m+y*y,b=2*y,_=x/b,w=_*_,S=Object(r.e)(m/_)/r.s,M=d*S,O=m*m,C=(2*e+v*(4*n+6*v*i))*p,A=a+v*(3*o+5*v*s),I=(2*(m*C+y*(A-1))*b-x*(2*(A-1)))/(b*b),T=Object(r.h)(M),E=Object(r.y)(M),j=_*T,P=_*E,k=d/r.s*(1/Object(r.B)(1-O/w))*(C*_-m*I)/w,D=P-l,L=p*(1+v*u)+_-j-c,R=I*E+j*k,N=j*S,z=1+I-(I*T-P*k),B=P*S,F=R*B-z*N;if(!F)break;d-=h=(L*R-D*z)/F,p-=f=(D*B-L*N)/F}while((Object(r.a)(h)>r.k||Object(r.a)(f)>r.k)&&--g>0);return[d,p]},l}},function(t,e,n){"use strict";function r(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function i(t){return t.project.invert||t.children&&t.children.some(i)}var a=n(0),o=n(1),s=n(404);e.a=function(t,e,n){function u(t,n){var r,i=e(t,n),a=i.project([t*o.j,n*o.j]);return(r=i.transform)?[r[0]*a[0]+r[1]*a[1]+r[2],-(r[3]*a[0]+r[4]*a[1]+r[5])]:(a[1]=-a[1],a)}function l(t,n){var r=t.project.invert,i=t.transform,a=n;if(i&&(a=[(i=Object(s.b)(i))[0]*a[0]+i[1]*a[1]+i[2],i[3]*a[0]+i[4]*a[1]+i[5]]),r&&t===function(t){return e(t[0]*o.v,t[1]*o.v)}(u=r(a)))return u;for(var u,c=t.children,h=0,f=c&&c.length;h<f;++h)if(u=l(c[h],n))return u}n=null==n?-o.s/6:n,function t(e,n){if(e.edges=function(t){for(var e=t.length,n=[],r=t[e-1],i=0;i<e;++i)n.push([r,r=t[i]]);return n}(e.face),n.face){var i=e.shared=function(t,e){for(var n,r,i=t.length,a=null,o=0;o<i;++o){n=t[o];for(var s=e.length;--s>=0;)if(n[0]===(r=e[s])[0]&&n[1]===r[1]){if(a)return[a,n];a=n}}}(e.face,n.face),a=Object(s.a)(i.map(n.project),i.map(e.project));e.transform=n.transform?Object(s.c)(n.transform,a):a;for(var o=n.edges,u=0,l=o.length;u<l;++u)r(i[0],o[u][1])&&r(i[1],o[u][0])&&(o[u]=e),r(i[0],o[u][0])&&r(i[1],o[u][1])&&(o[u]=e);for(u=0,l=(o=e.edges).length;u<l;++u)r(i[0],o[u][0])&&r(i[1],o[u][1])&&(o[u]=n),r(i[0],o[u][1])&&r(i[1],o[u][0])&&(o[u]=n)}else e.transform=n.transform;return e.children&&e.children.forEach(function(n){t(n,e)}),e}(t,{transform:[Object(o.h)(n),Object(o.y)(n),0,-Object(o.y)(n),Object(o.h)(n),0]}),i(t)&&(u.invert=function(e,n){var r=l(t,[e,-n]);return r&&(r[0]*=o.v,r[1]*=o.v,r)});var c=Object(a.geoProjection)(u),h=c.stream;return c.stream=function(e){var n=c.rotate(),r=h(e),i=(c.rotate([0,0]),h(e));return c.rotate(n),r.sphere=function(){i.polygonStart(),i.lineStart(),function t(e,n,r){var i,s,u=n.edges,l=u.length,c={type:"MultiPoint",coordinates:n.face},h=n.face.filter(function(t){return 90!==Object(o.a)(t[1])}),f=Object(a.geoBounds)({type:"MultiPoint",coordinates:h}),d=!1,p=-1,g=f[1][0]-f[0][0],v=180===g||360===g?[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]:Object(a.geoCentroid)(c);if(r)for(;++p<l&&u[p]!==r;);++p;for(var m=0;m<l;++m)s=u[(m+p)%l],Array.isArray(s)?(d||(e.point((i=Object(a.geoInterpolate)(s[0],v)(o.k))[0],i[1]),d=!0),e.point((i=Object(a.geoInterpolate)(s[1],v)(o.k))[0],i[1])):(d=!1,s!==r&&t(e,s,n))}(i,t),i.lineEnd(),i.polygonEnd()},r},c}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(431),a=n(432),o=n(433),s=n(434),u=n(435);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(62);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(29)(Object,"create");t.exports=r},function(t,e,n){var r=n(449);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(191);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(3),i=n(113),a=n(489),o=n(208);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:a(o(t))}},function(t,e,n){var r=n(107),i=n(508);t.exports=function t(e,n,a,o,s){var u=-1,l=e.length;for(a||(a=i),s||(s=[]);++u<l;){var c=e[u];n>0&&a(c)?n>1?t(c,n-1,a,o,s):r(s,c):o||(s[s.length]=c)}return s}},function(t,e,n){"use strict";t.exports=1e-4},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,l=t.value&&(i-n)/t.value;++s<u;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*l}},function(t,e,n){"use strict";var r=n(8);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),function n(i){var a=t.node(i);if(r.has(e,i))return a.rank;e[i]=!0;var o=r.minBy(r.map(t.outEdges(i),function(e){return n(e.w)-t.edge(e).minlen}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),a.rank=o})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i(t){this._context=t}e.b=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i(t,e){this._context=t,this._k=(1-e)/6}e.b=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:r(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){var r=n(144);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(42),i=n(148),a=n(149);t.exports=function(t,e){return a(i(t,e,r),t+"")}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(301),i=n(20),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(18),i=n(302),a="object"==typeof e&&e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a?r.Buffer:void 0;t.exports=(s?s.isBuffer:void 0)||i}).call(e,n(65)(t))},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){"use strict";function r(t,e,n,r){function h(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function f(i,a,o,s){var u=0,l=0;if(null==i||(u=d(i,o))!==(l=d(a,o))||g(i,a)<0^o>0)do{s.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+o+4)%4)!==l);else s.point(a[0],a[1])}function d(r,a){return Object(i.a)(r[0]-t)<i.i?a>0?0:3:Object(i.a)(r[0]-n)<i.i?a>0?2:1:Object(i.a)(r[1]-e)<i.i?a>0?1:0:a>0?3:2}function p(t,e){return g(t.x,e.x)}function g(t,e){var n=d(t,1),r=d(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function d(t,e){h(t,e)&&A.point(t,e)}function g(i,a){var s=h(i,a);if(m&&y.push([i,a]),O)x=i,b=a,_=s,O=!1,s&&(A.lineStart(),A.point(i,a));else if(s&&M)A.point(i,a);else{var u=[w=Math.max(c,Math.min(l,w)),S=Math.max(c,Math.min(l,S))],f=[i=Math.max(c,Math.min(l,i)),a=Math.max(c,Math.min(l,a))];Object(o.a)(u,f,t,e,n,r)?(M||(A.lineStart(),A.point(u[0],u[1])),A.point(f[0],f[1]),s||A.lineEnd(),C=!1):s&&(A.lineStart(),A.point(i,a),C=!1)}w=i,S=a,M=s}var v,m,y,x,b,_,w,S,M,O,C,A=i,I=Object(a.a)(),T={point:d,lineStart:function(){T.point=g,m&&m.push(y=[]),O=!0,M=!1,w=S=NaN},lineEnd:function(){v&&(g(x,b),_&&M&&I.rejoin(),v.push(I.result())),T.point=d,M&&A.lineEnd()},polygonStart:function(){A=I,v=[],m=[],C=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=m.length;n<i;++n)for(var a,o,s=m[n],u=1,l=s.length,c=s[0],h=c[0],f=c[1];u<l;++u)a=h,o=f,h=(c=s[u])[0],f=c[1],o<=r?f>r&&(h-a)*(r-o)>(f-o)*(t-a)&&++e:f<=r&&(h-a)*(r-o)<(f-o)*(t-a)&&--e;return e}(),n=C&&e,a=(v=Object(u.merge)(v)).length;(n||a)&&(i.polygonStart(),n&&(i.lineStart(),f(null,null,1,i),i.lineEnd()),a&&Object(s.a)(v,p,e,f,i),i.polygonEnd()),A=i,v=m=y=null}};return T}}e.a=r;var i=n(5),a=n(157),o=n(310),s=n(158),u=n(16),l=1e9,c=-l;e.b=function(){var t,e,n,i=0,a=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=r(i,a,o,s)(e=n)},extent:function(r){return arguments.length?(i=+r[0][0],a=+r[0][1],o=+r[1][0],s=+r[1][1],t=e=null,n):[[i,a],[o,s]]}}}},function(t,e,n){"use strict";var r=n(44);e.a=function(t,e,n){if(null==n&&(n=r.a),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,a=(i-1)*e,o=Math.floor(a),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(a-o)}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";function r(t,e){function n(t,e){var n=Object(i.u)(s-2*a*Object(i.t)(e))/a;return[n*Object(i.t)(t*=a),u-n*Object(i.g)(t)]}var r=Object(i.t)(t),a=(r+Object(i.t)(e))/2;if(Object(i.a)(a)<i.i)return Object(o.a)(t);var s=1+r*(2*a-r),u=Object(i.u)(s)/a;return n.invert=function(t,e){var n=u-e;return[Object(i.e)(t,Object(i.a)(n))/a*Object(i.s)(n),Object(i.c)((s-(t*t+n*n)*a*a)/(2*a))]},n}e.a=r;var i=n(5),a=n(95),o=n(339);e.b=function(){return Object(a.a)(r).scale(155.424).center([0,33.6442])}},function(t,e,n){"use strict";e.a=function(t){var e=0,n=r.o/3,a=Object(i.b)(t),o=a(e,n);return o.parallels=function(t){return arguments.length?a(e=t[0]*r.r,n=t[1]*r.r):[e*r.h,n*r.h]},o};var r=n(5),i=n(21)},function(t,e,n){"use strict";function r(t,e,n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),Object(i.a)(n,t.stream(a.a));var u=a.a.result(),l=Math.min(r/(u[1][0]-u[0][0]),o/(u[1][1]-u[0][1])),c=+e[0][0]+(r-l*(u[1][0]+u[0][0]))/2,h=+e[0][1]+(o-l*(u[1][1]+u[0][1]))/2;return null!=s&&t.clipExtent(s),t.scale(150*l).translate([c,h])}e.a=r,e.b=function(t,e,n){return r(t,[[0,0],e],n)};var i=n(30),a=n(175)},function(t,e,n){"use strict";function r(t,e){return[t,Object(a.n)(Object(a.v)((a.l+e)/2))]}function i(t){function e(){var e=a.o*h(),s=l(Object(o.a)(l.rotate()).invert([0,0]));return d(null==p?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===r?[[Math.max(s[0]-e,p),n],[Math.min(s[0]+e,i),u]]:[[p,Math.max(s[1]-e,n)],[i,Math.min(s[1]+e,u)]])}var n,i,u,l=Object(s.a)(t),c=l.center,h=l.scale,f=l.translate,d=l.clipExtent,p=null;return l.scale=function(t){return arguments.length?(h(t),e()):h()},l.translate=function(t){return arguments.length?(f(t),e()):f()},l.center=function(t){return arguments.length?(c(t),e()):c()},l.clipExtent=function(t){return arguments.length?(null==t?p=n=i=u=null:(p=+t[0][0],n=+t[0][1],i=+t[1][0],u=+t[1][1]),e()):null==p?null:[[p,n],[i,u]]},e()}e.c=r,e.b=i;var a=n(5),o=n(66),s=n(21);r.invert=function(t,e){return[t,2*Object(a.d)(Object(a.k)(e))-a.l]},e.a=function(){return i(r).scale(961/a.w)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.B)(1-Object(a.y)(e));return[2/a.E*t*n,a.E*(1-n)]}e.a=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=(n=e/a.E-1)*n;return[n>0?t*Object(a.B)(a.s/n)/2:0,Object(a.e)(1-n)]},e.b=function(){return Object(i.geoProjection)(r).scale(95.6464).center([0,30])}},function(t,e,n){"use strict";function r(t,e){return e>-s?((t=Object(a.d)(t,e))[1]+=u,t):Object(o.b)(t,e)}n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),e.c=r;var i=n(0),a=n(26),o=n(46),s=.7109889596207567,u=.0528035274542;r.invert=function(t,e){return e>-s?a.d.invert(t,e-u):o.b.invert(t,e)},e.a=function(){return Object(i.geoProjection)(r).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}},function(t,e,n){"use strict";var r=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]];e.a=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(t){return r[t]})})},function(t,e,n){"use strict";var r=n(0),i=n(1);e.a=function(t){function e(e,r){var a=Object(i.a)(e)<i.o,o=t(a?e:e>0?e-i.s:e+i.s,r),s=(o[0]-o[1])*i.C,u=(o[0]+o[1])*i.C;if(a)return[s,u];var l=n*i.C,c=s>0^u>0?-1:1;return[c*s-Object(i.x)(u)*l,c*u-Object(i.x)(s)*l]}var n=t(i.o,0)[0]-t(-i.o,0)[0];return t.invert&&(e.invert=function(e,r){var a=(e+r)*i.C,o=(r-e)*i.C,s=Object(i.a)(a)<.5*n&&Object(i.a)(o)<.5*n;if(!s){var u=n*i.C,l=a>0^o>0?-1:1,c=-l*e+(o>0?1:-1)*u,h=-l*r+(a>0?1:-1)*u;a=(-c-h)*i.C,o=(c-h)*i.C}var f=t.invert(a,o);return s||(f[0]+=a>0?i.s:-i.s),f}),Object(r.geoProjection)(e).rotate([-90,-90,45]).clipAngle(179.999)}},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(70),a=n(436),o=n(437),s=n(438),u=n(439),l=n(440);r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=s,r.prototype.has=u,r.prototype.set=l,t.exports=r},function(t,e,n){var r=n(29)(n(18),"Map");t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(441),a=n(448),o=n(450),s=n(451),u=n(452);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(151),i=n(455),a=n(24);t.exports=function(t){return a(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(460),i=n(193),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),r(o(t),function(e){return a.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(153)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(199);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(104),a=n(482),o=n(483);r.prototype.add=r.prototype.push=a,r.prototype.has=o,t.exports=r},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(76),i=n(51);t.exports=function(t,e){for(var n=0,a=(e=r(e,t)).length;null!=t&&n<a;)t=t[i(e[n++])];return n&&n==a?t:void 0}},function(t,e,n){var r=n(3),i=n(49),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||o.test(t)||!a.test(t)||null!=e&&t in Object(e)}},function(t,e,n){"use strict";function r(t,e){return[t>l.o?t-l.w:t<-l.o?t+l.w:t,e]}function i(t,e,n){return(t%=l.w)?e||n?Object(u.a)(o(t),s(e,n)):o(t):e||n?s(e,n):r}function a(t){return function(e,n){return[(e+=t)>l.o?e-l.w:e<-l.o?e+l.w:e,n]}}function o(t){var e=a(t);return e.invert=a(-t),e}function s(t,e){function n(t,e){var n=Object(l.g)(e),s=Object(l.g)(t)*n,u=Object(l.t)(t)*n,c=Object(l.t)(e),h=c*r+s*i;return[Object(l.e)(u*a-h*o,s*r-c*i),Object(l.c)(h*a+u*o)]}var r=Object(l.g)(t),i=Object(l.t)(t),a=Object(l.g)(e),o=Object(l.t)(e);return n.invert=function(t,e){var n=Object(l.g)(e),s=Object(l.g)(t)*n,u=Object(l.t)(t)*n,c=Object(l.t)(e),h=c*a-u*o;return[Object(l.e)(u*a+c*o,s*r+h*i),Object(l.c)(h*r-s*i)]},n}e.b=i;var u=n(217),l=n(6);r.invert=r,e.a=function(t){function e(e){return(e=t(e[0]*l.r,e[1]*l.r))[0]*=l.h,e[1]*=l.h,e}return t=i(t[0]*l.r,t[1]*l.r,t.length>2?t[2]*l.r:0),e.invert=function(e){return(e=t.invert(e[0]*l.r,e[1]*l.r))[0]*=l.h,e[1]*=l.h,e},e}},function(t,e,n){"use strict";function r(t,e){function n(t,e){var n=Object(i.u)(o-2*a*Object(i.t)(e))/a;return[n*Object(i.t)(t*=a),s-n*Object(i.g)(t)]}var r=Object(i.t)(t),a=(r+Object(i.t)(e))/2,o=1+r*(2*a-r),s=Object(i.u)(o)/a;return n.invert=function(t,e){var n=s-e;return[Object(i.e)(t,n)/a,Object(i.c)((o-(t*t+n*n)*a*a)/(2*a))]},n}e.a=r;var i=n(6),a=n(116);e.b=function(){return Object(a.a)(r).scale(155.424).center([0,33.6442])}},function(t,e,n){"use strict";e.a=function(t){var e=0,n=r.o/3,a=Object(i.b)(t),o=a(e,n);return o.parallels=function(t){return arguments.length?a(e=t[0]*r.r,n=t[1]*r.r):[e*r.h,n*r.h]},o};var r=n(6),i=n(22)},function(t,e,n){"use strict";function r(t){function e(){}var n=e.prototype=Object.create(i.prototype);for(var r in t)n[r]=t[r];return function(t){var n=new e;return n.stream=t,n}}function i(){}e.b=r,e.a=function(t){return{stream:r(t)}},i.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";function r(t,e){return[t,Object(o.n)(Object(o.v)((o.l+e)/2))]}function i(t){var e,n=Object(a.a)(t),r=n.scale,i=n.translate,s=n.clipExtent;return n.scale=function(t){return arguments.length?(r(t),e&&n.clipExtent(null),n):r()},n.translate=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.clipExtent=function(t){if(!arguments.length)return e?null:s();if(e=null==t){var a=o.o*r(),u=i();t=[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]}return s(t),n},n.clipExtent(null)}e.c=r,e.b=i;var a=n(22),o=n(6);r.invert=function(t,e){return[t,2*Object(o.d)(Object(o.k)(e))-o.l]},e.a=function(){return i(r).scale(961/o.w)}},function(t,e,n){var r=n(539),i=n(11);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(544),i=n(545)(r);t.exports=i},function(t,e,n){"use strict";var r=n(28);t.exports=function(t,e){var n,i,a=r(t),o=0;if(2===e)for(i=0;i<t.length;i++)o+=(n=t[i]-a)*n;else for(i=0;i<t.length;i++)o+=Math.pow(t[i]-a,e);return o}},function(t,e,n){"use strict";function r(t,e,n,r){e%1==0?s(t,e,n,r):(e=Math.floor(e),s(t,e,n,r),s(t,e+1,e+1,r))}function i(t,e){return t-e}function a(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}var o=n(123),s=n(557);t.exports=function(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],o=0;o<e.length;o++)n.push(a(t.length,e[o]));n.push(t.length-1),n.sort(i);for(var s=[0,n.length-1];s.length;){var u=Math.ceil(s.pop()),l=Math.floor(s.pop());if(!(u-l<=1)){var c=Math.floor((l+u)/2);r(t,n[c],n[l],n[u]),s.push(l,c,c,u)}}}(n,e);for(var s=[],u=0;u<e.length;u++)s[u]=o(n,e[u]);return s}return r(n,a(n.length,e),0,n.length-1),o(n,e)}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}},function(t,e,n){"use strict";var r=n(121);t.exports=function(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");return r(t,2)/(t.length-1)}},function(t,e){t.exports={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},function(t,e,n){"use strict";function r(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var i={},a={},o=34,s=10,u=13;e.a=function(t){function e(t,e){function n(){if(p)return a;if(g)return g=!1,i;var e,n,r=f;if(t.charCodeAt(r)===o){for(;f++<c&&t.charCodeAt(f)!==o||t.charCodeAt(++f)===o;);return(e=f)>=c?p=!0:(n=t.charCodeAt(f++))===s?g=!0:n===u&&(g=!0,t.charCodeAt(f)===s&&++f),t.slice(r+1,e-1).replace(/""/g,'"')}for(;f<c;){if((n=t.charCodeAt(e=f++))===s)g=!0;else if(n===u)g=!0,t.charCodeAt(f)===s&&++f;else if(n!==h)continue;return t.slice(r,e)}return p=!0,t.slice(r,c)}var r,l=[],c=t.length,f=0,d=0,p=c<=0,g=!1;for(t.charCodeAt(c-1)===s&&--c,t.charCodeAt(c-1)===u&&--c;(r=n())!==a;){for(var v=[];r!==i&&r!==a;)v.push(r),r=n();e&&null==(v=e(v,d++))||l.push(v)}return l}function n(e){return e.map(l).join(t)}function l(t){return null==t?"":c.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var c=new RegExp('["'+t+"\n\r]"),h=t.charCodeAt(0);return{parse:function(t,n){var i,a,o=e(t,function(t,e){if(i)return i(t,e-1);a=t,i=n?function(t,e){var n=r(t);return function(r,i){return e(n(r),i,t)}}(t,n):r(t)});return o.columns=a||[],o},parseRows:e,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(l).join(t)].concat(e.map(function(e){return n.map(function(t){return l(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}}},function(t,e,n){"use strict";function r(t,e){var n,r,a,u,l,c=new s(t),h=+t.value&&(c.value=t.value),f=[c];for(null==e&&(e=i);n=f.pop();)if(h&&(n.value=+n.data.value),(a=e(n.data))&&(l=a.length))for(n.children=new Array(l),u=l-1;u>=0;--u)f.push(r=n.children[u]=new s(a[u])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(o)}function i(t){return t.children}function a(t){t.data=t.data.data}function o(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function s(t){this.data=t,this.depth=this.height=0,this.parent=null}e.c=r,e.b=o,e.a=s;var u=n(609),l=n(610),c=n(611),h=n(612),f=n(613),d=n(614),p=n(615),g=n(616),v=n(617),m=n(618),y=n(619);s.prototype=r.prototype={constructor:s,count:u.a,each:l.a,eachAfter:h.a,eachBefore:c.a,sum:f.a,sort:d.a,path:p.a,ancestors:g.a,descendants:v.a,leaves:m.a,links:y.a,copy:function(){return r(this).eachBefore(a)}}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new Error;return t}e.a=function(t){return null==t?null:r(t)},e.b=r},function(t,e,n){"use strict";function r(t,e,n,r,o,s){for(var u,l,c,h,f,d,p,g,v,m,y,x=[],b=e.children,_=0,w=0,S=b.length,M=e.value;_<S;){c=o-n,h=s-r;do{f=b[w++].value}while(!f&&w<S);for(d=p=f,y=f*f*(m=Math.max(h/c,c/h)/(M*t)),v=Math.max(p/y,y/d);w<S;++w){if(f+=l=b[w].value,l<d&&(d=l),l>p&&(p=l),y=f*f*m,(g=Math.max(p/y,y/d))>v){f-=l;break}v=g}x.push(u={value:f,dice:c<h,children:b.slice(_,w)}),u.dice?Object(i.a)(u,n,r,o,M?r+=h*f/M:s):Object(a.a)(u,n,r,M?n+=c*f/M:o,s),M-=f,_=w}return x}n.d(e,"b",function(){return o}),e.c=r;var i=n(56),a=n(79),o=(1+Math.sqrt(5))/2;e.a=function t(e){function n(t,n,i,a,o){r(e,t,n,i,a,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o)},function(t,e,n){"use strict";var r=n(255);e.a=function(t){if(null==t)return r.a;var e,n,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*i+o,c[1]=(n+=t[1])*a+s;u<l;)c[u]=t[u],++u;return c}}},function(t,e,n){"use strict";function r(t,e){var n=e.id,r=e.bbox,a=null==e.properties?{}:e.properties,o=i(t,e);return null==n&&null==r?{type:"Feature",properties:a,geometry:o}:null==r?{type:"Feature",id:n,properties:a,geometry:o}:{type:"Feature",id:n,bbox:r,properties:a,geometry:o}}function i(t,e){function n(t,e){e.length&&e.pop();for(var n=c[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(l(n[r],r));t<0&&Object(a.a)(e,i)}function r(t){return l(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(s)}var l=Object(o.a)(t.transform),c=t.arcs;return function t(e){var n,a=e.type;switch(a){case"GeometryCollection":return{type:a,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=u(e.arcs);break;case"MultiPolygon":n=e.arcs.map(u);break;default:return null}return{type:a,coordinates:n}}(e)}e.b=i;var a=n(631),o=n(130);e.a=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return r(t,e)})}:r(t,e)}},function(t,e,n){var r=n(23),i=n(20);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},function(t,e){t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t[1],r=[],i=t[0];i<n;)r.push(i),i+=e;return r.push(n),r}},function(t,e,n){var r=n(27).standardDeviation;t.exports={silverman:function(t){var e=r(t),n=4*Math.pow(e,5);return Math.pow(n/(3*t.length),.2)}}},function(t,e,n){"use strict";function r(t){this._isDirected=!u.has(t,"directed")||t.directed,this._isMultigraph=!!u.has(t,"multigraph")&&t.multigraph,this._isCompound=!!u.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=u.constant(void 0),this._defaultEdgeLabelFn=u.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[c]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function a(t,e){--t[e]||delete t[e]}function o(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var o=i;i=a,a=o}return i+h+a+h+(u.isUndefined(r)?l:r)}function s(t,e){return o(t,e.v,e.w,e.name)}var u=n(14);t.exports=r;var l="\0",c="\0",h="\x01";r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(t){return this._label=t,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultNodeLabelFn=t,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return u.keys(this._nodes)},r.prototype.sources=function(){var t=this;return u.filter(this.nodes(),function(e){return u.isEmpty(t._in[e])})},r.prototype.sinks=function(){var t=this;return u.filter(this.nodes(),function(e){return u.isEmpty(t._out[e])})},r.prototype.setNodes=function(t,e){var n=arguments,r=this;return u.each(t,function(t){n.length>1?r.setNode(t,e):r.setNode(t)}),this},r.prototype.setNode=function(t,e){return u.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=c,this._children[t]={},this._children[c][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},r.prototype.node=function(t){return this._nodes[t]},r.prototype.hasNode=function(t){return u.has(this._nodes,t)},r.prototype.removeNode=function(t){var e=this;if(u.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],u.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),u.each(u.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],u.each(u.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},r.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.isUndefined(e))e=c;else{for(var n=e+="";!u.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},r.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},r.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==c)return e}},r.prototype.children=function(t){if(u.isUndefined(t)&&(t=c),this._isCompound){var e=this._children[t];if(e)return u.keys(e)}else{if(t===c)return this.nodes();if(this.hasNode(t))return[]}},r.prototype.predecessors=function(t){var e=this._preds[t];if(e)return u.keys(e)},r.prototype.successors=function(t){var e=this._sucs[t];if(e)return u.keys(e)},r.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return u.union(e,this.successors(t))},r.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},r.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;u.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),u.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var r={};return this._isCompound&&u.each(e.nodes(),function(t){e.setParent(t,function t(i){var a=n.parent(i);return void 0===a||e.hasNode(a)?(r[i]=a,a):a in r?r[a]:t(a)}(t))}),e},r.prototype.setDefaultEdgeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultEdgeLabelFn=t,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return u.values(this._edgeObjs)},r.prototype.setPath=function(t,e){var n=this,r=arguments;return u.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},r.prototype.setEdge=function(){var t,e,n,r,a=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,n=s.name,2===arguments.length&&(r=arguments[1],a=!0)):(t=s,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],a=!0)),t=""+t,e=""+e,u.isUndefined(n)||(n=""+n);var l=o(this._isDirected,t,e,n);if(u.has(this._edgeLabels,l))return a&&(this._edgeLabels[l]=r),this;if(!u.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[l]=a?r:this._defaultEdgeLabelFn(t,e,n);var c=function(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return r&&(s.name=r),s}(this._isDirected,t,e,n);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[l]=c,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][l]=c,this._out[t][l]=c,this._edgeCount++,this},r.prototype.edge=function(t,e,n){var r=1===arguments.length?s(this._isDirected,arguments[0]):o(this._isDirected,t,e,n);return this._edgeLabels[r]},r.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?s(this._isDirected,arguments[0]):o(this._isDirected,t,e,n);return u.has(this._edgeLabels,r)},r.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?s(this._isDirected,arguments[0]):o(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[e],t),a(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},r.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=u.values(n);return e?u.filter(r,function(t){return t.v===e}):r}},r.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=u.values(n);return e?u.filter(r,function(t){return t.w===e}):r}},r.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){"use strict";function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,a=-1,o=t.length;if(null==e)for(;++a<o;)n.set(a,t[a]);else for(;++a<o;)n.set(e(i=t[a],a,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}n.d(e,"b",function(){return a});var a="$";r.prototype=i.prototype={constructor:r,has:function(t){return a+t in this},get:function(t){return this[a+t]},set:function(t,e){return this[a+t]=e,this},remove:function(t){var e=a+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===a&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===a&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===a&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===a&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===a&&++t;return t},empty:function(){for(var t in this)if(t[0]===a)return!1;return!0},each:function(t){for(var e in this)e[0]===a&&t(this[e],e.slice(1),this)}},e.a=i},function(t,e,n){"use strict";var r=n(39),i=n(34),a=n(81),o=n(138);e.a=function(){function t(t){var i,a,o,h=t.length,f=!1;for(null==u&&(c=l(o=Object(r.path)())),i=0;i<=h;++i)!(i<h&&s(a=t[i],i,t))===f&&((f=!f)?c.lineStart():c.lineEnd()),f&&c.point(+e(a,i,t),+n(a,i,t));if(o)return c=null,o+""||null}var e=o.a,n=o.b,s=Object(i.a)(!0),u=null,l=a.a,c=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(i.a)(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:Object(i.a)(!!e),t):s},t.curve=function(e){return arguments.length?(l=e,null!=u&&(c=l(u)),t):l},t.context=function(e){return arguments.length?(null==e?u=c=null:c=l(u=e),t):u},t}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";function r(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>a.f){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>a.f){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function i(t,e){this._context=t,this._alpha=e}e.a=r;var a=n(57),o=n(84);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new i(t,e):new o.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}e.b=r;var i=n(59);e.a=function(t){var e=t.map(r);return Object(i.a)(t).sort(function(t,n){return e[t]-e[n]})}},function(t,e,n){"use strict";function r(){this._=null}function i(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function a(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function o(t){for(;t.L;)t=t.L;return t}e.a=function(t){t.U=t.C=t.L=t.R=t.P=t.N=null},r.prototype={constructor:r,insert:function(t,e){var n,r,s;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=o(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(s=r.R)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.R&&(i(this,n),n=(t=n).U),n.C=!1,r.C=!0,a(this,r)):(s=r.L)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.L&&(a(this,n),n=(t=n).U),n.C=!1,r.C=!0,i(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,s=t.U,u=t.L,l=t.R;if(n=u?l?o(l):u:l,s?s.L===t?s.L=n:s.R=n:this._=n,u&&l?(r=n.C,n.C=t.C,n.L=u,u.U=n,n!==l?(s=n.U,n.U=t.U,s.L=t=n.R,n.R=l,l.U=n):(n.U=s,s=n,t=n.R)):(r=t.C,t=n),t&&(t.U=s),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===s.L){if((e=s.R).C&&(e.C=!1,s.C=!0,i(this,s),e=s.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,a(this,e),e=s.R),e.C=s.C,s.C=e.R.C=!1,i(this,s),t=this._;break}}else if((e=s.L).C&&(e.C=!1,s.C=!0,a(this,s),e=s.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,i(this,e),e=s.L),e.C=s.C,s.C=e.L.C=!1,a(this,s),t=this._;break}e.C=!0,t=s,s=s.U}while(!t.C);t&&(t.C=!1)}}},e.b=r},function(t,e,n){"use strict";function r(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function i(t,e,n,r,i){var a,o=t[0],s=t[1],u=o[0],l=o[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=r-u,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<h&&(h=a)}if(a=n-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<h&&(h=a)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*d]),h<1&&(t[1]=[u+h*f,l+h*d]),!0)}}}}}function a(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2;if(p===f){if(g<e||g>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[g,n];a=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];a=[g,n]}}else if(s=(f+p)/2-(o=(h-d)/(p-f))*g,o<-1||o>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,o*e+s];a=[r,o*r+s]}else{if(u){if(u[0]<e)return}else u=[r,o*r+s];a=[e,o*e+s]}return t[0]=u,t[1]=a,!0}e.c=function(t,e,n,i){var a=[null,null],s=o.e.push(a)-1;return a.left=t,a.right=e,n&&r(a,t,e,n),i&&r(a,e,t,i),o.b[t.index].halfedges.push(s),o.b[e.index].halfedges.push(s),a},e.b=function(t,e,n){var r=[e,n];return r.left=t,r},e.d=r,e.a=function(t,e,n,r){for(var s,u=o.e.length;u--;)a(s=o.e[u],t,e,n,r)&&i(s,t,e,n,r)&&(Math.abs(s[0][0]-s[1][0])>o.f||Math.abs(s[0][1]-s[1][1])>o.f)||delete o.e[u]};var o=n(60)},function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){var r=n(1),i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=n,this.rootNode=new r(e,n)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e){var n={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){return t.width||18*(t.name||" ").split("").length}},r=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=this;if(a.vgap=a.hgap=0,e instanceof t)return e;a.data=e;var o=(r.getHGap||n.getHGap)(e),s=(r.getVGap||n.getVGap)(e);if(a.width=(r.getWidth||n.getWidth)(e),a.height=(r.getHeight||n.getHeight)(e),a.id=(r.getId||n.getId)(e),a.x=a.y=0,a.depth=0,!i&&!e.isCollapsed)for(var u=[a],l=u.pop();l;){if(!l.data.isCollapsed){var c=(r.getChildren||n.getChildren)(l.data),h=c?c.length:0;if(l.children=[],c&&h)for(var f=0;f<h;f++){var d=new t(c[f],r);l.children.push(d),u.push(d),d.parent=l,d.depth=l.depth+1}}l=u.pop()}a.children||(a.children=[]),a.addGap(o,s)}return t.prototype.isRoot=function(){return 0===this.depth},t.prototype.isLeaf=function(){return 0===this.children.length},t.prototype.addGap=function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},t.prototype.eachNode=function(t){for(var e=[this],n=e.pop();n;)t(n),n=(e=e.concat(n.children)).pop()},t.prototype.DFTraverse=function(t){this.eachNode(t)},t.prototype.BFTraverse=function(t){for(var e=[this],n=e.shift();n;)t(n),n=(e=e.concat(n.children)).shift()},t.prototype.getBoundingBox=function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},t.prototype.translate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.eachNode(function(n){n.x+=t,n.y+=e})},t.prototype.right2left=function(){var t=this.getBoundingBox();this.eachNode(function(e){e.x=e.x-2*(e.x-t.left)-e.width}),this.translate(t.width,0)},t.prototype.bottom2top=function(){var t=this.getBoundingBox();this.eachNode(function(e){e.y=e.y-2*(e.y-t.top)-e.height}),this.translate(0,t.height)},t.prototype.getCenterX=function(){return this.x+this.width/2},t.prototype.getCenterY=function(){return this.y+this.height/2},t.prototype.getActualWidth=function(){return this.width-2*this.hgap},t.prototype.getActualHeight=function(){return this.height-2*this.vgap},t}();r.prototype.each=r.prototype.eachNode,t.exports=r},function(t,e,n){var r=n(3),i=["LR","RL","TB","BT","H","V"],a=["LR","RL","H"],o=i[0];t.exports=function(t,e,n){var s=e.direction||o;if(e.isHorizontal=a.indexOf(s)>-1,s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(t,e);else if(s===i[1])n(t,e),t.right2left();else if(s===i[2])n(t,e);else if(s===i[3])n(t,e),t.bottom2top();else if(s===i[4]||s===i[5]){var u=r(t,e),l=u.left,c=u.right;n(l,e),n(c,e),e.isHorizontal?l.right2left():l.bottom2top(),c.translate(l.x-c.x,l.y-c.y),t.x=l.x,t.y=c.y;var h=t.getBoundingBox();e.isHorizontal?h.top<0&&t.translate(0,-h.top):h.left<0&&t.translate(-h.left,0)}return t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var r=n(1);t.exports=function(t,e){for(var n=new r(t.data,e,!0),i=new r(t.data,e,!0),a=t.children.length,o=Math.round(a/2),s=e.getSide||function(t,e){return e<o?"right":"left"},u=0;u<a;u++){var l=t.children[u];"right"===s(l,u)?i.children.push(l):n.children.push(l)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),i.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(5),dendrogram:n(7),indented:n(9)};t.exports=r},function(t,e,n){var r=n(0),i=n(6),a=n(2),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){var t=a(this.rootNode,this.options,i);return t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t},e}(r),s={};t.exports=function(t,e){return e=Object.assign({},s,e),new o(t,e).execute()}},function(t,e){var n=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=this;a.w=e||0,a.h=n||0,a.y=r||0,a.x=0,a.c=i||[],a.cs=i.length,a.prelim=0,a.mod=0,a.shift=0,a.change=0,a.tl=null,a.tr=null,a.el=null,a.er=null,a.msel=0,a.mser=0};n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach(function(t){r.push(n.fromNode(t,e))}),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t){function e(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function r(t){return t.y+t.h}function i(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isHorizontal;!function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n?(e.x=r,r+=e.width):(e.y=r,r+=e.height),e.children.forEach(function(e){t(e,n,r)})}(t,a);var o=n.fromNode(t,a);return function t(n){if(0!==n.cs){t(n.c[0]);for(var a=i(r(n.c[0].el),0,null),o=1;o<n.cs;++o){t(n.c[o]);var s=r(n.c[o].er);!function(t,e,n){for(var i=t.c[e-1],a=i.mod,o=t.c[e],s=o.mod;null!==i&&null!==o;){r(i)>n.low&&(n=n.nxt);var u=a+i.prelim+i.w-(s+o.prelim);u>0&&(s+=u,function(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(t,e,n,r)}(t,e,n.index,u));var l=r(i),c=r(o);l<=c&&null!==(i=0===i.cs?i.tr:i.c[i.cs-1])&&(a+=i.mod),l>=c&&null!==(o=0===o.cs?o.tl:o.c[0])&&(s+=o.mod)}!i&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var a=r-n.mod-t.c[0].msel;i.mod+=a,i.prelim-=a,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,s):i&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var a=r-n.mod-t.c[e].mser;i.mod+=a,i.prelim-=a,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,i,a)}(n,o,a),a=i(s,o,a)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(n),e(n)}else e(n)}(o),function t(e,n){e.x=e.prelim+(n+=e.mod),function(t){for(var e=0,n=0,r=0;r<t.cs;r++)t.c[r].mod+=n+=(e+=t.c[r].shift)+t.c[r].change}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(o,0),function t(e,n,r){r?n.y=e.x:n.x=e.x,e.c.forEach(function(e,i){t(e,n.children[i],r)})}(o,t,a),function(t,e){!function t(e,n,r){r?e.y+=n:e.x+=n,e.children.forEach(function(e){t(e,n,r)})}(t,-function t(e,n){var r=n?e.y:e.x;return e.children.forEach(function(e){r=Math.min(t(e,n),r)}),r}(t,e),e)}(t,a),t}},function(t,e,n){var r=n(0),i=n(8),a=n(2),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){return this.rootNode.width=0,a(this.rootNode,this.options,i)},e}(r),s={};t.exports=function(t,e){return e=Object.assign({},s,e),new o(t,e).execute()}},function(t,e){var n=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this;r.x=r.y=0,r.leftChild=r.rightChild=null,r.height=e||0,r.children=n},r={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({},r,e);var i=0,a=void 0,o=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>i&&(i=e.depth);var r=e.children,a=r.length,o=new n(e.height,[]);return r.forEach(function(e,n){var r=t(e);o.children.push(r),0===n&&(o.leftChild=r),n===a-1&&(o.rightChild=r)}),o.originNode=e,o.isLeaf=e.isLeaf(),o}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=i;else{var n=e.children.map(function(e){return t(e)}),r=Math.min.apply(null,n);e.drawingDepth=r-1}return e.drawingDepth}(o),function t(n){n.x=n.drawingDepth*e.rankSep,n.isLeaf?(n.y=0,a&&(n.y=a.y+a.height+e.nodeSep,n.originNode.parent!==a.originNode.parent&&(n.y+=e.subTreeSep)),a=n):(n.children.forEach(function(e){t(e)}),n.y=(n.leftChild.y+n.rightChild.y)/2)}(o),function t(e,n,r){r?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(e,i){t(e,n.children[i],r)})}(o,t,e.isHorizontal),t}},function(t,e,n){var r=n(0),i=n(10),a=n(3),o=["LR","RL","H"],s=o[0],u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=t.direction||s;if(r&&-1===o.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===o[0])i(e,n);else if(r===o[1])i(e,n),e.right2left();else if(r===o[2]){var u=a(e,t),l=u.left,c=u.right;i(l,n),l.right2left(),i(c,n);var h=l.getBoundingBox();c.translate(h.width,0),e.x=c.x-e.width/2}return e},e}(r),l={};t.exports=function(t,e){return e=Object.assign({},l,e),new u(t,e).execute()}},function(t,e){t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=null;t.eachNode(function(t){!function(t,e,n){t.x+=n*t.depth,t.y=e?e.y+e.height:0}(t,n,e),n=t})}}])},function(t,e,n){var r=n(29),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(146))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(296),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,s=i(a.length-e,0),u=Array(s);++o<s;)u[o]=a[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=a[o];return l[e]=n(u),r(t,this,l)}}},function(t,e,n){var r=n(297),i=n(299)(r);t.exports=i},function(t,e,n){var r=n(62),i=n(24),a=n(63),o=n(15);t.exports=function(t,e,n){if(!o(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&a(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(300),i=n(88),a=n(3),o=n(89),s=n(63),u=n(152),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=a(t),c=!n&&i(t),h=!n&&!c&&o(t),f=!n&&!c&&!h&&u(t),d=n||c||h||f,p=d?r(t.length,String):[],g=p.length;for(var v in t)!e&&!l.call(t,v)||d&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(t,e,n){var r=n(303),i=n(90),a=n(304),o=a&&a.isTypedArray,s=o?i(o):r;t.exports=s},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){"use strict";function r(){y.point=a}function i(){o(s,u)}function a(t,e){y.point=o,s=t,u=e,e*=d.r,l=t*=d.r,c=Object(d.g)(e=e/2+d.q),h=Object(d.t)(e)}function o(t,e){e=(e*=d.r)/2+d.q;var n=(t*=d.r)-l,r=n>=0?1:-1,i=r*n,a=Object(d.g)(e),o=Object(d.t)(e),s=h*o,u=c*a+s*Object(d.g)(i),f=s*r*Object(d.t)(i);v.add(Object(d.e)(f,u)),l=t,c=a,h=o}n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y});var s,u,l,c,h,f=n(36),d=n(5),p=n(25),g=n(30),v=Object(f.a)(),m=Object(f.a)(),y={point:p.a,lineStart:p.a,lineEnd:p.a,polygonStart:function(){v.reset(),y.lineStart=r,y.lineEnd=i},polygonEnd:function(){var t=+v;m.add(t<0?d.w+t:t),this.lineStart=this.lineEnd=this.point=p.a},sphere:function(){m.add(d.w)}};e.c=function(t){return m.reset(),Object(g.a)(t,y),2*m}},function(t,e,n){"use strict";function r(t,e,n,r,o,u){if(n){var l=Object(s.g)(e),c=Object(s.t)(e),h=r*n;null==o?(o=e+r*s.w,u=e-h/2):(o=i(l,o),u=i(l,u),(r>0?o<u:o>u)&&(o+=r*s.w));for(var f,d=o;r>0?d>u:d<u;d-=h)f=Object(a.g)([l,-c*Object(s.g)(d),-c*Object(s.t)(d)]),t.point(f[0],f[1])}}function i(t,e){(e=Object(a.a)(e))[0]-=t,Object(a.e)(e);var n=Object(s.b)(-e[1]);return((-e[2]<0?-n:n)+s.w-s.i)%s.w}e.a=r;var a=n(43),o=n(309),s=n(5),u=n(66);e.b=function(){function t(){var t=i.apply(this,arguments),o=a.apply(this,arguments)*s.r,h=l.apply(this,arguments)*s.r;return e=[],n=Object(u.b)(-t[0]*s.r,-t[1]*s.r,0).invert,r(c,o,h,1),t={type:"Polygon",coordinates:[e]},e=n=null,t}var e,n,i=Object(o.a)([0,0]),a=Object(o.a)(90),l=Object(o.a)(6),c={point:function(t,r){e.push(t=n(t,r)),t[0]*=s.h,t[1]*=s.h}};return t.center=function(e){return arguments.length?(i="function"==typeof e?e:Object(o.a)([+e[0],+e[1]]),t):i},t.radius=function(e){return arguments.length?(a="function"==typeof e?e:Object(o.a)(+e),t):a},t.precision=function(e){return arguments.length?(l="function"==typeof e?e:Object(o.a)(+e),t):l},t}},function(t,e,n){"use strict";e.a=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";var r=n(25);e.a=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},function(t,e,n){"use strict";function r(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function i(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var a=n(159);e.a=function(t,e,n,o,s){var u,l,c=[],h=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(Object(a.a)(i,o)){for(s.lineStart(),u=0;u<e;++u)s.point((i=t[u])[0],i[1]);s.lineEnd()}else c.push(n=new r(i,t,null,!0)),h.push(n.o=new r(i,null,n,!1)),c.push(n=new r(o,t,null,!1)),h.push(n.o=new r(o,null,n,!0))}}),c.length){for(h.sort(e),i(c),i(h),u=0,l=h.length;u<l;++u)h[u].e=n=!n;for(var f,d,p=c[0];;){for(var g=p,v=!0;g.v;)if((g=g.n)===p)return;f=g.z,s.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(u=0,l=f.length;u<l;++u)s.point((d=f[u])[0],d[1]);else o(g.x,g.n.x,1,s);g=g.n}else{if(v)for(u=(f=g.p.z).length-1;u>=0;--u)s.point((d=f[u])[0],d[1]);else o(g.x,g.p.x,-1,s);g=g.p}f=(g=g.o).z,v=!v}while(!g.v);s.lineEnd()}}}},function(t,e,n){"use strict";var r=n(5);e.a=function(t,e){return Object(r.a)(t[0]-e[0])<r.i&&Object(r.a)(t[1]-e[1])<r.i}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=n(37),i=n(161),a=Object(i.a)(r.a),o=a.right,s=a.left;e.c=o},function(t,e,n){"use strict";var r=n(37);e.a=function(t){return 1===t.length&&(t=function(t){return function(e,n){return Object(r.a)(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}},function(t,e,n){"use strict";function r(t,e){return[t,e]}e.b=r,e.a=function(t,e){null==e&&(e=r);for(var n=0,i=t.length-1,a=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(a,a=t[++n]);return o}},function(t,e,n){"use strict";var r=n(164);e.a=function(t,e){var n=Object(r.a)(t,e);return n?Math.sqrt(n):n}},function(t,e,n){"use strict";var r=n(44);e.a=function(t,e){var n,i,a=t.length,o=0,s=-1,u=0,l=0;if(null==e)for(;++s<a;)isNaN(n=Object(r.a)(t[s]))||(l+=(i=n-u)*(n-(u+=i/++o)));else for(;++s<a;)isNaN(n=Object(r.a)(e(t[s],s,t)))||(l+=(i=n-u)*(n-(u+=i/++o)));if(o>1)return l/(o-1)}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var r=Array.prototype,i=r.slice,a=r.map},function(t,e,n){"use strict";e.a=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}},function(t,e,n){"use strict";function r(t,e,n){var r=(e-t)/Math.max(0,n),s=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,s);return s>=0?(u>=i?10:u>=a?5:u>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=i?10:u>=a?5:u>=o?2:1)}e.b=r,e.c=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/s;return u>=i?s*=10:u>=a?s*=5:u>=o&&(s*=2),e<t?-s:s};var i=Math.sqrt(50),a=Math.sqrt(10),o=Math.sqrt(2);e.a=function(t,e,n){var i,a,o,s,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(a=t,t=e,e=a),0===(s=r(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-t+1));++u<a;)o[u]=(t+u)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(t-e+1));++u<a;)o[u]=(t-u)/s;return i&&o.reverse(),o}},function(t,e,n){"use strict";e.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r}},function(t,e,n){"use strict";function r(t){return t.length}var i=n(170);e.a=function(t){if(!(o=t.length))return[];for(var e=-1,n=Object(i.a)(t,r),a=new Array(n);++e<n;)for(var o,s=-1,u=a[e]=new Array(o);++s<o;)u[s]=t[s][e];return a}},function(t,e,n){"use strict";var r=n(36),i=n(43),a=n(5),o=Object(r.a)();e.a=function(t,e){var n=e[0],r=e[1],s=[Object(a.t)(n),-Object(a.g)(n),0],u=0,l=0;o.reset();for(var c=0,h=t.length;c<h;++c)if(d=(f=t[c]).length)for(var f,d,p=f[d-1],g=p[0],v=p[1]/2+a.q,m=Object(a.t)(v),y=Object(a.g)(v),x=0;x<d;++x,g=_,m=S,y=M,p=b){var b=f[x],_=b[0],w=b[1]/2+a.q,S=Object(a.t)(w),M=Object(a.g)(w),O=_-g,C=O>=0?1:-1,A=C*O,I=A>a.o,T=m*S;if(o.add(Object(a.e)(T*C*Object(a.t)(A),y*M+T*Object(a.g)(A))),u+=I?O+C*a.w:O,I^g>=n^_>=n){var E=Object(i.c)(Object(i.a)(p),Object(i.a)(b));Object(i.e)(E);var j=Object(i.c)(s,E);Object(i.e)(j);var P=(I^O>=0?-1:1)*Object(a.c)(j[2]);(r>P||r===P&&(E[0]||E[1]))&&(l+=I^O>=0?1:-1)}}return(u<-a.i||u<a.i&&o<-a.i)^1&l}},function(t,e,n){"use strict";var r=n(174),i=[null,null],a={type:"LineString",coordinates:i};e.a=function(t,e){return i[0]=t,i[1]=e,Object(r.a)(a)}},function(t,e,n){"use strict";function r(){p.point=p.lineEnd=h.a}function i(t,e){e*=c.r,o=t*=c.r,s=Object(c.t)(e),u=Object(c.g)(e),p.point=a}function a(t,e){t*=c.r,e*=c.r;var n=Object(c.t)(e),r=Object(c.g)(e),i=Object(c.a)(t-o),a=Object(c.g)(i),l=r*Object(c.t)(i),h=u*n-s*r*a,f=s*n+u*r*a;d.add(Object(c.e)(Object(c.u)(l*l+h*h),f)),o=t,s=n,u=r}var o,s,u,l=n(36),c=n(5),h=n(25),f=n(30),d=Object(l.a)(),p={sphere:h.a,point:h.a,lineStart:function(){p.point=i,p.lineEnd=r},lineEnd:h.a,polygonStart:h.a,polygonEnd:h.a};e.a=function(t){return d.reset(),Object(f.a)(t,p),+d}},function(t,e,n){"use strict";var r=n(25),i=1/0,a=i,o=-i,s=o;e.a={point:function(t,e){t<i&&(i=t),t>o&&(o=t),e<a&&(a=e),e>s&&(s=e)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,a],[o,s]];return o=s=-(a=i=1/0),t}}},function(t,e,n){"use strict";var r=n(94);e.a=function(){return Object(r.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,e,n){"use strict";function r(t){return t.length>1}function i(t,e){return((t=t.x)[0]<0?t[1]-s.l-s.i:s.l-t[1])-((e=e.x)[0]<0?e[1]-s.l-s.i:s.l-e[1])}var a=n(157),o=n(158),s=n(5),u=n(172),l=n(16);e.a=function(t,e,n,s){return function(c,h){function f(e,n){var r=c(e,n);t(e=r[0],n=r[1])&&h.point(e,n)}function d(t,e){var n=c(t,e);w.point(n[0],n[1])}function p(){A.point=d,w.lineStart()}function g(){A.point=f,w.lineEnd()}function v(t,e){_.push([t,e]);var n=c(t,e);O.point(n[0],n[1])}function m(){O.lineStart(),_=[]}function y(){v(_[0][0],_[0][1]),O.lineEnd();var t,e,n,i,a=O.clean(),o=M.result(),s=o.length;if(_.pop(),x.push(_),_=null,s)if(1&a){if((e=(n=o[0]).length-1)>0){for(C||(h.polygonStart(),C=!0),h.lineStart(),t=0;t<e;++t)h.point((i=n[t])[0],i[1]);h.lineEnd()}}else s>1&&2&a&&o.push(o.pop().concat(o.shift())),b.push(o.filter(r))}var x,b,_,w=e(h),S=c.invert(s[0],s[1]),M=Object(a.a)(),O=e(M),C=!1,A={point:f,lineStart:p,lineEnd:g,polygonStart:function(){A.point=v,A.lineStart=m,A.lineEnd=y,b=[],x=[]},polygonEnd:function(){A.point=f,A.lineStart=p,A.lineEnd=g,b=Object(l.merge)(b);var t=Object(u.a)(x,S);b.length?(C||(h.polygonStart(),C=!0),Object(o.a)(b,i,t,n,h)):t&&(C||(h.polygonStart(),C=!0),h.lineStart(),n(null,null,1,h),h.lineEnd()),C&&(h.polygonEnd(),C=!1),b=x=null},sphere:function(){h.polygonStart(),h.lineStart(),n(null,null,1,h),h.lineEnd(),h.polygonEnd()}};return A}}},function(t,e,n){"use strict";function r(t,e){return[t,e]}e.b=r;var i=n(21);r.invert=r,e.a=function(){return Object(i.a)(r).scale(152.63)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(350);n.d(e,"geoAiry",function(){return r.b}),n.d(e,"geoAiryRaw",function(){return r.a});var i=n(180);n.d(e,"geoAitoff",function(){return i.b}),n.d(e,"geoAitoffRaw",function(){return i.a});var a=n(351);n.d(e,"geoArmadillo",function(){return a.b}),n.d(e,"geoArmadilloRaw",function(){return a.a});var o=n(181);n.d(e,"geoAugust",function(){return o.b}),n.d(e,"geoAugustRaw",function(){return o.a});var s=n(352);n.d(e,"geoBaker",function(){return s.b}),n.d(e,"geoBakerRaw",function(){return s.a});var u=n(353);n.d(e,"geoBerghaus",function(){return u.b}),n.d(e,"geoBerghausRaw",function(){return u.a});var l=n(182);n.d(e,"geoBoggs",function(){return l.b}),n.d(e,"geoBoggsRaw",function(){return l.a});var c=n(354);n.d(e,"geoBonne",function(){return c.b}),n.d(e,"geoBonneRaw",function(){return c.a});var h=n(355);n.d(e,"geoBottomley",function(){return h.b}),n.d(e,"geoBottomleyRaw",function(){return h.a});var f=n(356);n.d(e,"geoBromley",function(){return f.b}),n.d(e,"geoBromleyRaw",function(){return f.a});var d=n(357);n.d(e,"geoChamberlin",function(){return d.c}),n.d(e,"geoChamberlinRaw",function(){return d.b}),n.d(e,"geoChamberlinAfrica",function(){return d.a});var p=n(98);n.d(e,"geoCollignon",function(){return p.b}),n.d(e,"geoCollignonRaw",function(){return p.a});var g=n(358);n.d(e,"geoCraig",function(){return g.b}),n.d(e,"geoCraigRaw",function(){return g.a});var v=n(359);n.d(e,"geoCraster",function(){return v.b}),n.d(e,"geoCrasterRaw",function(){return v.a});var m=n(183);n.d(e,"geoCylindricalEqualArea",function(){return m.b}),n.d(e,"geoCylindricalEqualAreaRaw",function(){return m.a});var y=n(360);n.d(e,"geoCylindricalStereographic",function(){return y.b}),n.d(e,"geoCylindricalStereographicRaw",function(){return y.a});var x=n(361);n.d(e,"geoEckert1",function(){return x.a}),n.d(e,"geoEckert1Raw",function(){return x.b});var b=n(362);n.d(e,"geoEckert2",function(){return b.a}),n.d(e,"geoEckert2Raw",function(){return b.b});var _=n(363);n.d(e,"geoEckert3",function(){return _.a}),n.d(e,"geoEckert3Raw",function(){return _.b});var w=n(364);n.d(e,"geoEckert4",function(){return w.a}),n.d(e,"geoEckert4Raw",function(){return w.b});var S=n(365);n.d(e,"geoEckert5",function(){return S.a}),n.d(e,"geoEckert5Raw",function(){return S.b});var M=n(366);n.d(e,"geoEckert6",function(){return M.a}),n.d(e,"geoEckert6Raw",function(){return M.b});var O=n(367);n.d(e,"geoEisenlohr",function(){return O.a}),n.d(e,"geoEisenlohrRaw",function(){return O.b});var C=n(368);n.d(e,"geoFahey",function(){return C.a}),n.d(e,"geoFaheyRaw",function(){return C.b});var A=n(369);n.d(e,"geoFoucaut",function(){return A.a}),n.d(e,"geoFoucautRaw",function(){return A.b});var I=n(370);n.d(e,"geoGilbert",function(){return I.a});var T=n(371);n.d(e,"geoGingery",function(){return T.a}),n.d(e,"geoGingeryRaw",function(){return T.b});var E=n(372);n.d(e,"geoGinzburg4",function(){return E.a}),n.d(e,"geoGinzburg4Raw",function(){return E.b});var j=n(373);n.d(e,"geoGinzburg5",function(){return j.a}),n.d(e,"geoGinzburg5Raw",function(){return j.b});var P=n(374);n.d(e,"geoGinzburg6",function(){return P.a}),n.d(e,"geoGinzburg6Raw",function(){return P.b});var k=n(375);n.d(e,"geoGinzburg8",function(){return k.a}),n.d(e,"geoGinzburg8Raw",function(){return k.b});var D=n(376);n.d(e,"geoGinzburg9",function(){return D.a}),n.d(e,"geoGinzburg9Raw",function(){return D.b});var L=n(184);n.d(e,"geoGringorten",function(){return L.a}),n.d(e,"geoGringortenRaw",function(){return L.b});var R=n(186);n.d(e,"geoGuyou",function(){return R.a}),n.d(e,"geoGuyouRaw",function(){return R.b});var N=n(378);n.d(e,"geoHammer",function(){return N.a}),n.d(e,"geoHammerRaw",function(){return N.b});var z=n(379);n.d(e,"geoHammerRetroazimuthal",function(){return z.a}),n.d(e,"geoHammerRetroazimuthalRaw",function(){return z.b});var B=n(380);n.d(e,"geoHealpix",function(){return B.a}),n.d(e,"geoHealpixRaw",function(){return B.b});var F=n(381);n.d(e,"geoHill",function(){return F.a}),n.d(e,"geoHillRaw",function(){return F.b});var V=n(187);n.d(e,"geoHomolosine",function(){return V.a}),n.d(e,"geoHomolosineRaw",function(){return V.b});var G=n(31);n.d(e,"geoInterrupt",function(){return G.a});var H=n(382);n.d(e,"geoInterruptedBoggs",function(){return H.a});var W=n(383);n.d(e,"geoInterruptedHomolosine",function(){return W.a});var q=n(384);n.d(e,"geoInterruptedMollweide",function(){return q.a});var U=n(385);n.d(e,"geoInterruptedMollweideHemispheres",function(){return U.a});var Y=n(386);n.d(e,"geoInterruptedSinuMollweide",function(){return Y.a});var X=n(387);n.d(e,"geoInterruptedSinusoidal",function(){return X.a});var Z=n(388);n.d(e,"geoKavrayskiy7",function(){return Z.a}),n.d(e,"geoKavrayskiy7Raw",function(){return Z.b});var $=n(389);n.d(e,"geoLagrange",function(){return $.a}),n.d(e,"geoLagrangeRaw",function(){return $.b});var Q=n(390);n.d(e,"geoLarrivee",function(){return Q.a}),n.d(e,"geoLarriveeRaw",function(){return Q.b});var J=n(391);n.d(e,"geoLaskowski",function(){return J.a}),n.d(e,"geoLaskowskiRaw",function(){return J.b});var K=n(392);n.d(e,"geoLittrow",function(){return K.a}),n.d(e,"geoLittrowRaw",function(){return K.b});var tt=n(393);n.d(e,"geoLoximuthal",function(){return tt.a}),n.d(e,"geoLoximuthalRaw",function(){return tt.b});var et=n(394);n.d(e,"geoMiller",function(){return et.a}),n.d(e,"geoMillerRaw",function(){return et.b});var nt=n(395);n.d(e,"geoModifiedStereographic",function(){return nt.a}),n.d(e,"geoModifiedStereographicRaw",function(){return nt.g}),n.d(e,"geoModifiedStereographicAlaska",function(){return nt.b}),n.d(e,"geoModifiedStereographicGs48",function(){return nt.c}),n.d(e,"geoModifiedStereographicGs50",function(){return nt.d}),n.d(e,"geoModifiedStereographicMiller",function(){return nt.f}),n.d(e,"geoModifiedStereographicLee",function(){return nt.e});var rt=n(26);n.d(e,"geoMollweide",function(){return rt.a}),n.d(e,"geoMollweideRaw",function(){return rt.d});var it=n(396);n.d(e,"geoMtFlatPolarParabolic",function(){return it.a}),n.d(e,"geoMtFlatPolarParabolicRaw",function(){return it.b});var at=n(397);n.d(e,"geoMtFlatPolarQuartic",function(){return at.a}),n.d(e,"geoMtFlatPolarQuarticRaw",function(){return at.b});var ot=n(398);n.d(e,"geoMtFlatPolarSinusoidal",function(){return ot.a}),n.d(e,"geoMtFlatPolarSinusoidalRaw",function(){return ot.b});var st=n(399);n.d(e,"geoNaturalEarth",function(){return st.a}),n.d(e,"geoNaturalEarthRaw",function(){return st.b});var ut=n(400);n.d(e,"geoNaturalEarth2",function(){return ut.a}),n.d(e,"geoNaturalEarth2Raw",function(){return ut.b});var lt=n(401);n.d(e,"geoNellHammer",function(){return lt.a}),n.d(e,"geoNellHammerRaw",function(){return lt.b});var ct=n(402);n.d(e,"geoPatterson",function(){return ct.a}),n.d(e,"geoPattersonRaw",function(){return ct.b});var ht=n(403);n.d(e,"geoPolyconic",function(){return ht.a}),n.d(e,"geoPolyconicRaw",function(){return ht.b});var ft=n(69);n.d(e,"geoPolyhedral",function(){return ft.a});var dt=n(405);n.d(e,"geoPolyhedralButterfly",function(){return dt.a});var pt=n(406);n.d(e,"geoPolyhedralCollignon",function(){return pt.a});var gt=n(407);n.d(e,"geoPolyhedralWaterman",function(){return gt.a});var vt=n(408);n.d(e,"geoProject",function(){return vt.a});var mt=n(412);n.d(e,"geoGringortenQuincuncial",function(){return mt.a});var yt=n(188);n.d(e,"geoPeirceQuincuncial",function(){return yt.a}),n.d(e,"geoPierceQuincuncial",function(){return yt.a});var xt=n(413);n.d(e,"geoQuantize",function(){return xt.a});var bt=n(101);n.d(e,"geoQuincuncial",function(){return bt.a});var _t=n(414);n.d(e,"geoRectangularPolyconic",function(){return _t.a}),n.d(e,"geoRectangularPolyconicRaw",function(){return _t.b});var wt=n(415);n.d(e,"geoRobinson",function(){return wt.a}),n.d(e,"geoRobinsonRaw",function(){return wt.b});var St=n(416);n.d(e,"geoSatellite",function(){return St.a}),n.d(e,"geoSatelliteRaw",function(){return St.b});var Mt=n(99);n.d(e,"geoSinuMollweide",function(){return Mt.a}),n.d(e,"geoSinuMollweideRaw",function(){return Mt.c});var Ot=n(46);n.d(e,"geoSinusoidal",function(){return Ot.a}),n.d(e,"geoSinusoidalRaw",function(){return Ot.b});var Ct=n(417);n.d(e,"geoStitch",function(){return Ct.a});var At=n(418);n.d(e,"geoTimes",function(){return At.a}),n.d(e,"geoTimesRaw",function(){return At.b});var It=n(419);n.d(e,"geoTwoPointAzimuthal",function(){return It.a}),n.d(e,"geoTwoPointAzimuthalRaw",function(){return It.b}),n.d(e,"geoTwoPointAzimuthalUsa",function(){return It.c});var Tt=n(420);n.d(e,"geoTwoPointEquidistant",function(){return Tt.a}),n.d(e,"geoTwoPointEquidistantRaw",function(){return Tt.b}),n.d(e,"geoTwoPointEquidistantUsa",function(){return Tt.c});var Et=n(421);n.d(e,"geoVanDerGrinten",function(){return Et.a}),n.d(e,"geoVanDerGrintenRaw",function(){return Et.b});var jt=n(422);n.d(e,"geoVanDerGrinten2",function(){return jt.a}),n.d(e,"geoVanDerGrinten2Raw",function(){return jt.b});var Pt=n(423);n.d(e,"geoVanDerGrinten3",function(){return Pt.a}),n.d(e,"geoVanDerGrinten3Raw",function(){return Pt.b});var kt=n(424);n.d(e,"geoVanDerGrinten4",function(){return kt.a}),n.d(e,"geoVanDerGrinten4Raw",function(){return kt.b});var Dt=n(425);n.d(e,"geoWagner4",function(){return Dt.a}),n.d(e,"geoWagner4Raw",function(){return Dt.b});var Lt=n(426);n.d(e,"geoWagner6",function(){return Lt.a}),n.d(e,"geoWagner6Raw",function(){return Lt.b});var Rt=n(427);n.d(e,"geoWagner7",function(){return Rt.a}),n.d(e,"geoWagner7Raw",function(){return Rt.b});var Nt=n(428);n.d(e,"geoWiechel",function(){return Nt.a}),n.d(e,"geoWiechelRaw",function(){return Nt.b});var zt=n(429);n.d(e,"geoWinkel3",function(){return zt.a}),n.d(e,"geoWinkel3Raw",function(){return zt.b})},function(t,e,n){"use strict";function r(t,e){var n=Object(a.h)(e),r=Object(a.z)(Object(a.b)(n*Object(a.h)(t/=2)));return[2*n*Object(a.y)(t)*r,Object(a.y)(e)*r]}e.a=r;var i=n(0),a=n(1);r.invert=function(t,e){if(!(t*t+4*e*e>a.s*a.s+a.k)){var n=t,r=e,i=25;do{var o,s=Object(a.y)(n),u=Object(a.y)(n/2),l=Object(a.h)(n/2),c=Object(a.y)(r),h=Object(a.h)(r),f=Object(a.y)(2*r),d=c*c,p=h*h,g=u*u,v=1-p*l*l,m=v?Object(a.b)(h*l)*Object(a.B)(o=1/v):o=0,y=2*m*h*u-t,x=m*c-e,b=o*(p*g+m*h*l*d),_=o*(.5*s*f-2*m*c*u),w=.25*o*(f*u-m*c*p*s),S=o*(d*l+m*g*h),M=_*w-S*b;if(!M)break;var O=(x*_-y*S)/M,C=(y*w-x*b)/M;n-=O,r-=C}while((Object(a.a)(O)>a.k||Object(a.a)(C)>a.k)&&--i>0);return[n,r]}},e.b=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.F)(e/2),r=Object(a.B)(1-n*n),i=1+r*Object(a.h)(t/=2),o=Object(a.y)(t)*r/i,s=n/i,u=o*o,l=s*s;return[4/3*o*(3+u-3*l),4/3*s*(3+3*u-l)]}e.a=r;var i=n(0),a=n(1);r.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&Object(a.a)(e)>1)return null;var n=1+t*t+e*e,r=Object(a.B)((n-Object(a.B)(n*n-4*e*e))/2),i=Object(a.e)(r)/3,o=r?Object(a.c)(Object(a.a)(e/r))/3:Object(a.d)(Object(a.a)(t))/3,s=Object(a.h)(i),u=Object(a.i)(o),l=u*u-s*s;return[2*Object(a.x)(t)*Object(a.g)(Object(a.A)(o)*s,.25-l),2*Object(a.x)(e)*Object(a.g)(u*Object(a.y)(i),.25+l)]},e.b=function(){return Object(i.geoProjection)(r).scale(66.1603)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.c)(o.s,e);return[s*t/(1/Object(o.h)(e)+u/Object(o.h)(n)),(e+o.D*Object(o.y)(n))/s]}e.a=r;var i=n(0),a=n(26),o=n(1),s=2.00276,u=1.11072;r.invert=function(t,e){var n,r,i=s*e,a=e<0?-o.u:o.u,l=25;do{r=i-o.D*Object(o.y)(a),a-=n=(Object(o.y)(2*a)+2*a-o.s*Object(o.y)(r))/(2*Object(o.h)(2*a)+2+o.s*Object(o.h)(r)*o.D*Object(o.h)(a))}while(Object(o.a)(n)>o.k&&--l>0);return r=i-o.D*Object(o.y)(a),[t*(1/Object(o.h)(r)+u/Object(o.h)(a))/s,r]},e.b=function(){return Object(i.geoProjection)(r).scale(160.857)}},function(t,e,n){"use strict";function r(t){function e(t,e){return[t*n,Object(i.y)(e)/n]}var n=Object(i.h)(t);return e.invert=function(t,e){return[t/n,Object(i.e)(e*n)]},e}e.a=r;var i=n(1),a=n(38);e.b=function(){return Object(a.a)(r).parallel(38.58).scale(195.044)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.x)(t),r=Object(a.x)(e),i=Object(a.h)(e),o=Object(a.h)(t)*i,s=Object(a.y)(t)*i,u=Object(a.y)(r*e);t=Object(a.a)(Object(a.g)(s,u)),e=Object(a.e)(o),Object(a.a)(t-a.o)>a.k&&(t%=a.o);var l=function(t,e){if(e===a.o)return[0,0];var n,r,i=Object(a.y)(e),o=i*i,s=o*o,u=1+s,l=1+3*s,c=1-s,h=Object(a.e)(1/Object(a.B)(u)),f=c+o*u*h,d=(1-i)/f,p=Object(a.B)(d),g=d*u,v=Object(a.B)(g),m=p*c;if(0===t)return[0,-(m+o*v)];var y,x=Object(a.h)(e),b=1/x,_=2*i*x,w=(-f*x-(-3*o+h*l)*_*(1-i))/(f*f),S=-b*_,M=-b*(o*u*w+d*l*_),O=-2*b*(c*(.5*w/p)-2*o*p*_),C=4*t/a.s;if(t>.222*a.s||e<a.s/4&&t>.175*a.s){if(n=(m+o*Object(a.B)(g*(1+s)-m*m))/(1+s),t>a.s/4)return[n,n];var A=n,I=.5*n;n=.5*(I+A),r=50;do{var T=n*(O+S*Object(a.B)(g-n*n))+M*Object(a.e)(n/v)-C;if(!T)break;T<0?I=n:A=n,n=.5*(I+A)}while(Object(a.a)(A-I)>a.k&&--r>0)}else{n=a.k,r=25;do{var E=n*n,j=Object(a.B)(g-E),P=O+S*j,k=n*P+M*Object(a.e)(n/v)-C;n-=y=j?k/(P+(M-S*E)/j):0}while(Object(a.a)(y)>a.k&&--r>0)}return[n,-m-o*Object(a.B)(g-n*n)]}(t>a.s/4?a.o-t:t,e);return t>a.s/4&&(u=l[0],l[0]=-l[1],l[1]=-u),l[0]*=n,l[1]*=-r,l}e.b=r;var i=n(0),a=n(1),o=n(185);r.invert=function(t,e){Object(a.a)(t)>1&&(t=2*Object(a.x)(t)-t),Object(a.a)(e)>1&&(e=2*Object(a.x)(e)-e);var n=Object(a.x)(t),r=Object(a.x)(e),i=-n*t,o=-r*e,s=o/i<1,u=function(t,e){for(var n=0,r=1,i=.5,o=50;;){var s=i*i,u=Object(a.B)(i),l=Object(a.e)(1/Object(a.B)(1+s)),c=1-s+i*(1+s)*l,h=(1-u)/c,f=Object(a.B)(h),d=h*(1+s),p=f*(1-s),g=d-t*t,v=Object(a.B)(g),m=e+p+i*v;if(Object(a.a)(r-n)<a.l||0==--o||0===m)break;m>0?n=i:r=i,i=.5*(n+r)}if(!o)return null;var y=Object(a.e)(u),x=Object(a.h)(y),b=1/x,_=2*u*x,w=(-c*x-(-3*i+l*(1+3*s))*_*(1-u))/(c*c);return[a.s/4*(t*(-2*b*(.5*w/f*(1-s)-2*i*f*_)+-b*_*v)+-b*(i*(1+s)*w+h*(1+3*s)*_)*Object(a.e)(t/Object(a.B)(d))),y]}(s?o:i,s?i:o),l=u[0],c=u[1],h=Object(a.h)(c);return s&&(l=-a.o-l),[n*(Object(a.g)(Object(a.y)(l)*h,-Object(a.y)(c))+a.s),r*Object(a.e)(Object(a.h)(l)*h)]},e.a=function(){return Object(i.geoProjection)(Object(o.a)(r)).scale(239.75)}},function(t,e,n){"use strict";var r=n(1);e.a=function(t){function e(e,i){var a=e>0?-.5:.5,o=t(e+a*r.s,i);return o[0]-=a*n,o}var n=t(r.o,0)[0]-t(-r.o,0)[0];return t.invert&&(e.invert=function(e,i){var a=e>0?-.5:.5,o=t.invert(e+a*n,i),s=o[0]-a*r.s;return s<-r.s?s+=2*r.s:s>r.s&&(s-=2*r.s),o[0]=s,o}),e}},function(t,e,n){"use strict";function r(t,e){var n=(o.D-1)/(o.D+1),r=Object(o.B)(1-n*n),i=Object(a.a)(o.o,r*r),s=Object(o.p)(Object(o.F)(o.s/4+Object(o.a)(e)/2)),u=Object(o.m)(-1*s)/Object(o.B)(n),l=function(t,e){var n=t*t,r=e+1,i=1-n-e*e;return[.5*((t>=0?o.o:-o.o)-Object(o.g)(i,2*t)),-.25*Object(o.p)(i*i+4*n)+.5*Object(o.p)(r*r+n)]}(u*Object(o.h)(-1*t),u*Object(o.y)(-1*t)),c=Object(a.b)(l[0],l[1],r*r);return[-c[1],(e>=0?1:-1)*(.5*i-c[0])]}e.b=r;var i=n(0),a=n(377),o=n(1),s=n(185);r.invert=function(t,e){var n=(o.D-1)/(o.D+1),r=Object(o.B)(1-n*n),i=Object(a.a)(o.o,r*r),s=Object(a.c)(.5*i-e,-t,r*r),u=function(t,e){var n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}(s[0],s[1]);return[Object(o.g)(u[1],u[0])/-1,2*Object(o.f)(Object(o.m)(-.5*Object(o.p)(n*u[0]*u[0]+n*u[1]*u[1])))-o.o]},e.a=function(){return Object(i.geoProjection)(Object(s.a)(r)).scale(151.496)}},function(t,e,n){"use strict";function r(t,e){return Object(a.a)(e)>u.b?((t=Object(o.d)(t,e))[1]-=e>0?u.d:-u.d,t):Object(s.b)(t,e)}e.b=r;var i=n(0),a=n(1),o=n(26),s=n(46),u=n(99);r.invert=function(t,e){return Object(a.a)(e)>u.b?o.d.invert(t,e+(e>0?u.d:-u.d)):s.b.invert(t,e)},e.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,e,n){"use strict";var r=n(186),i=n(101);e.a=function(){return Object(i.a)(r.b).scale(111.48)}},function(t,e,n){"use strict";var r=n(0),i=n(1);e.a=function(t,e,n){var a=Object(r.geoInterpolate)(e,n),o=a(.5),s=Object(r.geoRotation)([-o[0],-o[1]])(e),u=a.distance/2,l=-Object(i.e)(Object(i.y)(s[1]*i.v)/Object(i.y)(u)),c=[-o[0],-o[1],-(s[0]>0?i.s-l:l)*i.j],h=Object(r.geoProjection)(t(u)).rotate(c),f=Object(r.geoRotation)(c),d=h.center;return delete h.rotate,h.center=function(t){return arguments.length?d(f(t)):f.invert(d())},h.clipAngle(90)}},function(t,e,n){var r;!function(e){"use strict";function i(){}function a(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}var s=i.prototype,u=e.EventEmitter;s.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},s.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},s.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},s.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===a(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},s.on=o("addListener"),s.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},s.once=o("addOnceListener"),s.defineEvent=function(t){return this.getListeners(t),this},s.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},s.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=a(i[r],e))&&i[r].splice(n,1);return this},s.off=o("removeListener"),s.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},s.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},s.manipulateListeners=function(t,e,n){var r,i,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)a.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},s.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},s.removeAllListeners=o("removeEvent"),s.emitEvent=function(t,e){var n,r,i,a,o=this.getListenersAsObject(t);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},s.trigger=o("emitEvent"),s.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},s.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return e.EventEmitter=u,i},void 0!==(r=(function(){return i}).call(e,n,e,t))&&(t.exports=r)}(this||{})},function(t,e,n){var r=n(102),i=n(192),a=n(61),o=n(453),s=n(454),u=n(457),l=n(458),c=n(459),h=n(461),f=n(195),d=n(462),p=n(197),g=n(466),v=n(467),m=n(476),y=n(3),x=n(89),b=n(15),_=n(11),w="[object Arguments]",S="[object Function]",M="[object Object]",O={};O[w]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[M]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[S]=O["[object WeakMap]"]=!1,t.exports=function t(e,n,C,A,I,T){var E,j=1&n,P=2&n,k=4&n;if(C&&(E=I?C(e,A,I,T):C(e)),void 0!==E)return E;if(!b(e))return e;var D=y(e);if(D){if(E=g(e),!j)return l(e,E)}else{var L=p(e),R=L==S||"[object GeneratorFunction]"==L;if(x(e))return u(e,j);if(L==M||L==w||R&&!I){if(E=P||R?{}:m(e),!j)return P?h(e,s(E,e)):c(e,o(E,e))}else{if(!O[L])return I?e:{};E=v(e,L,t,j)}}T||(T=new r);var N=T.get(e);if(N)return N;T.set(e,E);var z=k?P?d:f:P?keysIn:_,B=D?void 0:z(e);return i(B||e,function(r,i){B&&(r=e[i=r]),a(E,i,t(r,n,C,i,e,T))}),E}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(107),i=n(108),a=n(106),o=n(193),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,a(t)),t=i(t);return e}:o;t.exports=s},function(t,e,n){var r=n(196),i=n(106),a=n(11);t.exports=function(t){return r(t,a,i)}},function(t,e,n){var r=n(107),i=n(3);t.exports=function(t,e,n){var a=e(t);return i(t)?a:r(a,n(t))}},function(t,e,n){var r=n(463),i=n(103),a=n(464),o=n(198),s=n(465),u=n(23),l=n(147),c=l(r),h=l(i),f=l(a),d=l(o),p=l(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||a&&"[object Promise]"!=g(a.resolve())||o&&"[object Set]"!=g(new o)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(29)(n(18),"Set");t.exports=r},function(t,e,n){var r=n(18).Uint8Array;t.exports=r},function(t,e){t.exports=function(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e,n){var r=n(102),i=n(203);t.exports=function(t,e,n,a){var o=n.length,s=o,u=!a;if(null==t)return!s;for(t=Object(t);o--;){var l=n[o];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var c=(l=n[o])[0],h=t[c],f=l[1];if(u&&l[2]){if(void 0===h&&!(c in t))return!1}else{var d=new r;if(a)var p=a(h,f,c,t,e,d);if(!(void 0===p?i(f,h,3,a,d):p))return!1}}return!0}},function(t,e,n){var r=n(481),i=n(20);t.exports=function t(e,n,a,o,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,a,o,t,s))}},function(t,e,n){var r=n(110),i=n(484),a=n(111);t.exports=function(t,e,n,o,s,u){var l=1&n,c=t.length,h=e.length;if(c!=h&&!(l&&h>c))return!1;var f=u.get(t);if(f&&u.get(e))return f==e;var d=-1,p=!0,g=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++d<c;){var v=t[d],m=e[d];if(o)var y=l?o(m,v,d,e,t,u):o(v,m,d,t,e,u);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!i(e,function(t,e){if(!a(g,e)&&(v===t||s(v,t,n,o,u)))return g.push(e)})){p=!1;break}}else if(v!==m&&!s(v,m,n,o,u)){p=!1;break}}return u.delete(t),u.delete(e),p}},function(t,e,n){var r=n(206),i=n(11);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var a=e[n],o=t[a];e[n]=[a,o,r(o)]}return e}},function(t,e,n){var r=n(15);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(492);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(493),i=n(210);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(76),i=n(88),a=n(3),o=n(63),s=n(87),u=n(51);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,h=!1;++l<c;){var f=u(e[l]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++l!=c?h:!!(c=null==t?0:t.length)&&s(c)&&o(f,c)&&(a(t)||i(t))}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}},function(t,e,n){var r=n(501)();t.exports=r},function(t,e,n){var r=n(42);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(13),i=n(9),a=n(0),o=n(179),s=n(509);t.exports=function(t,e){if(r(t))return e?t:t();if(i(t)){if(a[t])return e?a[t]:a[t]();if(o[t])return e?o[t]:o[t]();if(s[t])return e?s[t]:s[t]()}return null}},function(t,e,n){"use strict";function r(){y.point=a}function i(){o(s,u)}function a(t,e){y.point=o,s=t,u=e,e*=d.r,l=t*=d.r,c=Object(d.g)(e=e/2+d.q),h=Object(d.t)(e)}function o(t,e){e=(e*=d.r)/2+d.q;var n=(t*=d.r)-l,r=n>=0?1:-1,i=r*n,a=Object(d.g)(e),o=Object(d.t)(e),s=h*o,u=c*a+s*Object(d.g)(i),f=s*r*Object(d.t)(i);v.add(Object(d.e)(f,u)),l=t,c=a,h=o}n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y});var s,u,l,c,h,f=n(53),d=n(6),p=n(32),g=n(33),v=Object(f.a)(),m=Object(f.a)(),y={point:p.a,lineStart:p.a,lineEnd:p.a,polygonStart:function(){v.reset(),y.lineStart=r,y.lineEnd=i},polygonEnd:function(){var t=+v;m.add(t<0?d.w+t:t),this.lineStart=this.lineEnd=this.point=p.a},sphere:function(){m.add(d.w)}};e.c=function(t){return m.reset(),Object(g.a)(t,y),2*m}},function(t,e,n){"use strict";function r(t,e,n,r,o,u){if(n){var l=Object(s.g)(e),c=Object(s.t)(e),h=r*n;null==o?(o=e+r*s.w,u=e-h/2):(o=i(l,o),u=i(l,u),(r>0?o<u:o>u)&&(o+=r*s.w));for(var f,d=o;r>0?d>u:d<u;d-=h)f=Object(a.g)([l,-c*Object(s.g)(d),-c*Object(s.t)(d)]),t.point(f[0],f[1])}}function i(t,e){(e=Object(a.a)(e))[0]-=t,Object(a.e)(e);var n=Object(s.b)(-e[1]);return((-e[2]<0?-n:n)+s.w-s.i)%s.w}e.a=r;var a=n(54),o=n(513),s=n(6),u=n(114);e.b=function(){function t(){var t=i.apply(this,arguments),o=a.apply(this,arguments)*s.r,h=l.apply(this,arguments)*s.r;return e=[],n=Object(u.b)(-t[0]*s.r,-t[1]*s.r,0).invert,r(c,o,h,1),t={type:"Polygon",coordinates:[e]},e=n=null,t}var e,n,i=Object(o.a)([0,0]),a=Object(o.a)(90),l=Object(o.a)(6),c={point:function(t,r){e.push(t=n(t,r)),t[0]*=s.h,t[1]*=s.h}};return t.center=function(e){return arguments.length?(i="function"==typeof e?e:Object(o.a)([+e[0],+e[1]]),t):i},t.radius=function(e){return arguments.length?(a="function"==typeof e?e:Object(o.a)(+e),t):a},t.precision=function(e){return arguments.length?(l="function"==typeof e?e:Object(o.a)(+e),t):l},t}},function(t,e,n){"use strict";e.a=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";function r(t,e,n,r){function h(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function f(i,a,o,s){var u=0,l=0;if(null==i||(u=d(i,o))!==(l=d(a,o))||g(i,a)<0^o>0)do{s.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+o+4)%4)!==l);else s.point(a[0],a[1])}function d(r,a){return Object(i.a)(r[0]-t)<i.i?a>0?0:3:Object(i.a)(r[0]-n)<i.i?a>0?2:1:Object(i.a)(r[1]-e)<i.i?a>0?1:0:a>0?3:2}function p(t,e){return g(t.x,e.x)}function g(t,e){var n=d(t,1),r=d(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function d(t,e){h(t,e)&&A.point(t,e)}function g(i,a){var s=h(i,a);if(m&&y.push([i,a]),O)x=i,b=a,_=s,O=!1,s&&(A.lineStart(),A.point(i,a));else if(s&&M)A.point(i,a);else{var u=[w=Math.max(c,Math.min(l,w)),S=Math.max(c,Math.min(l,S))],f=[i=Math.max(c,Math.min(l,i)),a=Math.max(c,Math.min(l,a))];Object(o.a)(u,f,t,e,n,r)?(M||(A.lineStart(),A.point(u[0],u[1])),A.point(f[0],f[1]),s||A.lineEnd(),C=!1):s&&(A.lineStart(),A.point(i,a),C=!1)}w=i,S=a,M=s}var v,m,y,x,b,_,w,S,M,O,C,A=i,I=Object(a.a)(),T={point:d,lineStart:function(){T.point=g,m&&m.push(y=[]),O=!0,M=!1,w=S=NaN},lineEnd:function(){v&&(g(x,b),_&&M&&I.rejoin(),v.push(I.result())),T.point=d,M&&A.lineEnd()},polygonStart:function(){A=I,v=[],m=[],C=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=m.length;n<i;++n)for(var a,o,s=m[n],u=1,l=s.length,c=s[0],h=c[0],f=c[1];u<l;++u)a=h,o=f,h=(c=s[u])[0],f=c[1],o<=r?f>r&&(h-a)*(r-o)>(f-o)*(t-a)&&++e:f<=r&&(h-a)*(r-o)<(f-o)*(t-a)&&--e;return e}(),n=C&&e,a=(v=Object(u.merge)(v)).length;(n||a)&&(i.polygonStart(),n&&(i.lineStart(),f(null,null,1,i),i.lineEnd()),a&&Object(s.a)(v,p,e,f,i),i.polygonEnd()),A=i,v=m=y=null}};return T}}e.a=r;var i=n(6),a=n(219),o=n(514),s=n(220),u=n(16),l=1e9,c=-l;e.b=function(){var t,e,n,i=0,a=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=r(i,a,o,s)(e=n)},extent:function(r){return arguments.length?(i=+r[0][0],a=+r[0][1],o=+r[1][0],s=+r[1][1],t=e=null,n):[[i,a],[o,s]]}}}},function(t,e,n){"use strict";var r=n(32);e.a=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},function(t,e,n){"use strict";function r(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function i(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var a=n(221);e.a=function(t,e,n,o,s){var u,l,c=[],h=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(Object(a.a)(i,o)){for(s.lineStart(),u=0;u<e;++u)s.point((i=t[u])[0],i[1]);s.lineEnd()}else c.push(n=new r(i,t,null,!0)),h.push(n.o=new r(i,null,n,!1)),c.push(n=new r(o,t,null,!1)),h.push(n.o=new r(o,null,n,!0))}}),c.length){for(h.sort(e),i(c),i(h),u=0,l=h.length;u<l;++u)h[u].e=n=!n;for(var f,d,p=c[0];;){for(var g=p,v=!0;g.v;)if((g=g.n)===p)return;f=g.z,s.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(u=0,l=f.length;u<l;++u)s.point((d=f[u])[0],d[1]);else o(g.x,g.n.x,1,s);g=g.n}else{if(v)for(u=(f=g.p.z).length-1;u>=0;--u)s.point((d=f[u])[0],d[1]);else o(g.x,g.p.x,-1,s);g=g.p}f=(g=g.o).z,v=!v}while(!g.v);s.lineEnd()}}}},function(t,e,n){"use strict";var r=n(6);e.a=function(t,e){return Object(r.a)(t[0]-e[0])<r.i&&Object(r.a)(t[1]-e[1])<r.i}},function(t,e,n){"use strict";function r(){p.point=p.lineEnd=h.a}function i(t,e){e*=c.r,o=t*=c.r,s=Object(c.t)(e),u=Object(c.g)(e),p.point=a}function a(t,e){t*=c.r,e*=c.r;var n=Object(c.t)(e),r=Object(c.g)(e),i=Object(c.a)(t-o),a=Object(c.g)(i),l=r*Object(c.t)(i),h=u*n-s*r*a,f=s*n+u*r*a;d.add(Object(c.e)(Object(c.u)(l*l+h*h),f)),o=t,s=n,u=r}var o,s,u,l=n(53),c=n(6),h=n(32),f=n(33),d=Object(l.a)(),p={sphere:h.a,point:h.a,lineStart:function(){p.point=i,p.lineEnd=r},lineEnd:h.a,polygonStart:h.a,polygonEnd:h.a};e.a=function(t){return d.reset(),Object(f.a)(t,p),+d}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(32),i=1/0,a=i,o=-i,s=o;e.a={point:function(t,e){t<i&&(i=t),t>o&&(o=t),e<a&&(a=e),e>s&&(s=e)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,a],[o,s]];return o=s=-(a=i=1/0),t}}},function(t,e,n){"use strict";var r=n(115);e.a=function(){return Object(r.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,e,n){"use strict";function r(t){return t.length>1}function i(t,e){return((t=t.x)[0]<0?t[1]-s.l-s.i:s.l-t[1])-((e=e.x)[0]<0?e[1]-s.l-s.i:s.l-e[1])}var a=n(219),o=n(220),s=n(6),u=n(524),l=n(16);e.a=function(t,e,n,s){return function(c,h){function f(e,n){var r=c(e,n);t(e=r[0],n=r[1])&&h.point(e,n)}function d(t,e){var n=c(t,e);w.point(n[0],n[1])}function p(){A.point=d,w.lineStart()}function g(){A.point=f,w.lineEnd()}function v(t,e){_.push([t,e]);var n=c(t,e);O.point(n[0],n[1])}function m(){O.lineStart(),_=[]}function y(){v(_[0][0],_[0][1]),O.lineEnd();var t,e,n,i,a=O.clean(),o=M.result(),s=o.length;if(_.pop(),x.push(_),_=null,s)if(1&a){if((e=(n=o[0]).length-1)>0){for(C||(h.polygonStart(),C=!0),h.lineStart(),t=0;t<e;++t)h.point((i=n[t])[0],i[1]);h.lineEnd()}}else s>1&&2&a&&o.push(o.pop().concat(o.shift())),b.push(o.filter(r))}var x,b,_,w=e(h),S=c.invert(s[0],s[1]),M=Object(a.a)(),O=e(M),C=!1,A={point:f,lineStart:p,lineEnd:g,polygonStart:function(){A.point=v,A.lineStart=m,A.lineEnd=y,b=[],x=[]},polygonEnd:function(){A.point=f,A.lineStart=p,A.lineEnd=g,b=Object(l.merge)(b);var t=Object(u.a)(x,S);b.length?(C||(h.polygonStart(),C=!0),Object(o.a)(b,i,t,n,h)):t&&(C||(h.polygonStart(),C=!0),h.lineStart(),n(null,null,1,h),h.lineEnd()),C&&(h.polygonEnd(),C=!1),b=x=null},sphere:function(){h.polygonStart(),h.lineStart(),n(null,null,1,h),h.lineEnd(),h.polygonEnd()}};return A}}},function(t,e,n){"use strict";function r(t,e,n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),Object(i.a)(n,t.stream(a.a));var u=a.a.result(),l=Math.min(r/(u[1][0]-u[0][0]),o/(u[1][1]-u[0][1])),c=+e[0][0]+(r-l*(u[1][0]+u[0][0]))/2,h=+e[0][1]+(o-l*(u[1][1]+u[0][1]))/2;return null!=s&&t.clipExtent(s),t.scale(150*l).translate([c,h])}e.b=function(t){return function(e,n){return r(t,[[0,0],e],n)}},e.a=function(t){return function(e,n){return r(t,e,n)}};var i=n(33),a=n(224)},function(t,e,n){"use strict";function r(t,e){return[t,e]}e.b=r;var i=n(22);r.invert=r,e.a=function(){return Object(i.a)(r).scale(152.63)}},function(t,e,n){var r=n(77);t.exports=function(t){return null!=t&&t.length?r(t,1/0):[]}},function(t,e,n){"use strict";var r=n(231);t.exports=function(t){if(1===t.length)return 0;var e=r(t);return Math.sqrt(e)}},function(t,e,n){"use strict";var r=n(121);t.exports=function(t){if(0===t.length)throw new Error("variance requires at least one data point");return r(t,2)/t.length}},function(t,e,n){"use strict";t.exports=function(t){if(0===t.length)return 0;for(var e,n=t[0],r=0,i=1;i<t.length;i++)e=n+t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e;return n+r}},function(t,e,n){"use strict";t.exports=function(t){return t.slice().sort(function(t,e){return t-e})}},function(t,e,n){"use strict";t.exports=function(t){if(0===t.length)throw new Error("mode requires at least one data point");if(1===t.length)return t[0];for(var e=t[0],n=NaN,r=0,i=1,a=1;a<t.length+1;a++)t[a]!==e?(i>r&&(r=i,n=e),i=1,e=t[a]):i++;return n}},function(t,e,n){"use strict";t.exports=function(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e}},function(t,e,n){"use strict";t.exports=function(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e}},function(t,e,n){"use strict";var r=n(122);t.exports=function(t){return+r(t,.5)}},function(t,e,n){"use strict";var r=n(239);t.exports=function(t,e){var n=t.slice();return r(n.slice(),e)}},function(t,e,n){"use strict";t.exports=function(t,e){e=e||Math.random;for(var n,r,i=t.length;i>0;)r=Math.floor(e()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}},function(t,e,n){"use strict";t.exports=function(t){for(var e,n=0,r=0;r<t.length;r++)0!==r&&t[r]===e||(e=t[r],n++);return n}},function(t,e,n){"use strict";var r=n(28);t.exports=function(t,e){if(t.length!==e.length)throw new Error("sampleCovariance requires samples with equal lengths");if(t.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var n=r(t),i=r(e),a=0,o=0;o<t.length;o++)a+=(t[o]-n)*(e[o]-i);return a/(t.length-1)}},function(t,e,n){"use strict";var r=n(124);t.exports=function(t){var e=r(t);return Math.sqrt(e)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){return(t*e+n*r)/(e+r)}},function(t,e,n){"use strict";function r(t){for(var e=t,n=t,r=1;r<15;r++)e+=n*=t*t/(2*r+1);return Math.round(1e4*(.5+e/i*Math.exp(-t*t/2)))/1e4}for(var i=Math.sqrt(2*Math.PI),a=[],o=0;o<=3.09;o+=.01)a.push(r(o));t.exports=a},function(t,e,n){"use strict";t.exports=function(t){var e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*e)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/e)-(2/(Math.PI*e)+Math.log(1-t*t)/2));return t>=0?n:-n}},function(t,e){t.exports=function(t){for(var e=1/t,n=[],r=0;r<=1;r+=e)n.push(r);return n}},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){function r(t,e,n){n.dataType=u;var r=a(t.features);return r.forEach(function(t){t.name=t.properties.name,t.longitude=[],t.latitude=[];var e=t.pathData=c(t);i(e)._path.forEach(function(e){t.longitude.push(e[1]),t.latitude.push(e[2])});var n=c.centroid(t);t.centroidX=n[0],t.centroidY=n[1]}),r}var i=n(249),a=n(75),o=n(0).geoPath,s=n(2),u=s.GEO,l=s.registerConnector,c=o();l("geo",r),l("geojson",r),l("GeoJSON",r),t.exports=r},function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);this._path=o(t)?t:a(t),this._path=s(this._path),this._path=function(t){for(var e=[],n=["L",0,0],r=0,i=t.length;r<i;r++){var a=t[r];switch(a[0]){case"M":n=["L",a[1],a[2]],e.push(a);break;case"Z":e.push(n);break;default:e.push(a)}}return e}(this._path)}function i(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}var a=n(601),o=n(602),s=n(603);t.exports=r,r.prototype.at=function(t,e){return this._walk(t,e).pos},r.prototype.length=function(){return this._walk(null).length},r.prototype._walk=function(t,e){var n=[0,0],r=[0,0,0],a=0;"number"==typeof t&&(t*=1.045);for(var o=0;o<this._path.length;o++){var s=this._path[o];if("M"===s[0]){if(n[0]=s[1],n[1]=s[2],0===t)return{length:a,pos:n}}else if("C"===s[0]){r[0]=n[0],r[1]=n[1],r[2]=a;for(var u=100,l=0;l<=u;l++){var c=function(t,e){return Math.pow(1-e,3)*n[0]+3*Math.pow(1-e,2)*e*t[1]+3*(1-e)*Math.pow(e,2)*t[3]+Math.pow(e,3)*t[5]}(s,f=l/u),h=function(t,e){return Math.pow(1-e,3)*n[1]+3*Math.pow(1-e,2)*e*t[2]+3*(1-e)*Math.pow(e,2)*t[4]+Math.pow(e,3)*t[6]}(s,f);if(a+=i(n[0],n[1],c,h),n[0]=c,n[1]=h,"number"==typeof t&&a>=t)return{length:a,pos:p=[n[0]*(1-(d=(a-t)/(a-r[2])))+r[0]*d,n[1]*(1-d)+r[1]*d]};r[0]=n[0],r[1]=n[1],r[2]=a}}else if("Q"===s[0])for(r[0]=n[0],r[1]=n[1],r[2]=a,u=100,l=0;l<=u;l++){var f=l/u;if(c=function(t,e){return Math.pow(1-e,2)*n[0]+2*(1-e)*e*t[1]+Math.pow(e,2)*t[3]}(s,f),h=function(t,e){return Math.pow(1-e,2)*n[1]+2*(1-e)*e*t[2]+Math.pow(e,2)*t[4]}(s,f),a+=i(n[0],n[1],c,h),n[0]=c,n[1]=h,"number"==typeof t&&a>=t)return{length:a,pos:p=[n[0]*(1-(d=(a-t)/(a-r[2])))+r[0]*d,n[1]*(1-d)+r[1]*d]};r[0]=n[0],r[1]=n[1],r[2]=a}else if("L"===s[0]){if(r[0]=n[0],r[1]=n[1],r[2]=a,a+=i(n[0],n[1],s[1],s[2]),n[0]=s[1],n[1]=s[2],"number"==typeof t&&a>=t){var d=(a-t)/(a-r[2]),p=[n[0]*(1-d)+r[0]*d,n[1]*(1-d)+r[1]*d];return{length:a,pos:p}}r[0]=n[0],r[1]=n[1],r[2]=a}}return{length:a/1.045,pos:n}}},function(t,e,n){"use strict";function r(t,e,n){var r=t.x,i=t.y,a=e.r+n.r,o=t.r+n.r,s=e.x-r,u=e.y-i,l=s*s+u*u;if(l){var c=.5+((o*=o)-(a*=a))/(2*l),h=Math.sqrt(Math.max(0,2*a*(o+l)-(o-=l)*o-a*a))/(2*l);n.x=r+c*s+h*u,n.y=i+c*u-h*s}else n.x=r+o,n.y=i}function i(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function a(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function o(t){this._=t,this.next=null,this.previous=null}function s(t){if(!(l=t.length))return 0;var e,n,s,l,c,h,f,d,p,g,v;if((e=t[0]).x=0,e.y=0,!(l>1))return e.r;if(e.x=-(n=t[1]).r,n.x=e.r,n.y=0,!(l>2))return e.r+n.r;r(n,e,s=t[2]),e=new o(e),n=new o(n),s=new o(s),e.next=s.previous=n,n.next=e.previous=s,s.next=n.previous=e;t:for(f=3;f<l;++f){r(e._,n._,s=t[f]),s=new o(s),d=n.next,p=e.previous,g=n._.r,v=e._.r;do{if(g<=v){if(i(d._,s._)){e.next=n=d,n.previous=e,--f;continue t}g+=d._.r,d=d.next}else{if(i(p._,s._)){(e=p).next=n,n.previous=e,--f;continue t}v+=p._.r,p=p.previous}}while(d!==p.next);for(s.previous=e,s.next=n,e.next=n.previous=n=s,c=a(e);(s=s.next)!==n;)(h=a(s))<c&&(e=s,c=h);n=e.next}for(e=[n._],s=n;(s=s.next)!==n;)e.push(s._);for(s=Object(u.a)(e),f=0;f<l;++f)(e=t[f]).x-=s.x,e.y-=s.y;return s.r}e.b=s;var u=n(251);e.a=function(t){return s(t),t}},function(t,e,n){"use strict";function r(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function i(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function a(t,e){for(var n=0;n<e.length;++n)if(!i(t,e[n]))return!1;return!0}function o(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,l=o-r,c=s-i,h=Math.sqrt(u*u+l*l);return{x:(n+a+u/h*c)/2,y:(r+o+l/h*c)/2,r:(h+i+s)/2}}function s(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=r-o,d=r-l,p=i-s,g=i-c,v=u-a,m=h-a,y=r*r+i*i-a*a,x=y-o*o-s*s+u*u,b=y-l*l-c*c+h*h,_=d*p-f*g,w=(p*b-g*x)/(2*_)-r,S=(g*v-p*m)/_,M=(d*x-f*b)/(2*_)-i,O=(f*m-d*v)/_,C=S*S+O*O-1,A=2*(a+w*S+M*O),I=w*w+M*M-a*a,T=-(C?(A+Math.sqrt(A*A-4*C*I))/(2*C):I/A);return{x:r+w+S*T,y:i+M+O*T,r:T}}var u=n(621);e.a=function(t){for(var e,n,l=0,c=(t=Object(u.a)(u.b.call(t))).length,h=[];l<c;)e=t[l],n&&i(n,e)?++l:(n=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return o(t[0],t[1]);case 3:return s(t[0],t[1],t[2])}}(h=function(t,e){var n,i;if(a(e,t))return[e];for(n=0;n<t.length;++n)if(r(e,t[n])&&a(o(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(r(o(t[n],t[i]),e)&&r(o(t[n],e),t[i])&&r(o(t[i],e),t[n])&&a(s(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}(h,e)),l=0);return n}},function(t,e,n){"use strict";e.a=function(){return 0},e.b=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(t,e,n){"use strict";var r=n(130);e.a=function(t){function e(t){(t=a(t))[0]<o&&(o=t[0]),t[0]>u&&(u=t[0]),t[1]<s&&(s=t[1]),t[1]>l&&(l=t[1])}function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}var i,a=Object(r.a)(t.transform),o=1/0,s=o,u=-o,l=-o;for(i in t.arcs.forEach(function(t){for(var e,n=-1,r=t.length;++n<r;)(e=a(t[n],n))[0]<o&&(o=e[0]),e[0]>u&&(u=e[0]),e[1]<s&&(s=e[1]),e[1]>l&&(l=e[1])}),t.objects)n(t.objects[i]);return[o,s,u,l]}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),o.push(i)}}var r={},i={},a={},o=[],s=-1;return e.forEach(function(n,r){var i,a=t.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=e[++s],e[s]=n,e[r]=i)}),e.forEach(function(e){var n,r,o=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=o[0],u=o[1];if(n=a[s])if(delete a[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=a[l.end=r.end]=l}else i[n.start]=a[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=s,r=a[s]){delete a[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=a[c.end=n.end]=c}else i[n.start]=a[n.end]=n;else i[(n=[e]).start=s]=a[n.end=u]=n}),n(a,i),n(i,a),e.forEach(function(t){r[t<0?~t:t]||o.push([t])}),o}},function(t,e,n){"use strict";var r=n(255);e.a=function(t){if(null==t)return r.a;var e,n,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var u=2,l=t.length,c=new Array(l),h=Math.round((t[0]-o)/i),f=Math.round((t[1]-s)/a);for(c[0]=h-e,e=h,c[1]=f-n,n=f;u<l;)c[u]=t[u],++u;return c}}},function(t,e,n){var r=n(642);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e){var n=Array.prototype.reverse;t.exports=function(t){return null==t?t:n.call(t)}},function(t,e,n){var r=n(120),i=n(24);t.exports=function(t,e){var n=-1,a=i(t)?Array(t.length):[];return r(t,function(t,r,i){a[++n]=e(t,r,i)}),a}},function(t,e,n){(function(t,r){var i;(function(){function a(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}function h(t,e){return!(null==t||!t.length)&&x(t,e,0)>-1}function f(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function m(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function y(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function x(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):y(t,b,n)}function b(t){return t!=t}function _(t,e){var n=null==t?0:t.length;return n?O(t,e)/n:ht}function w(t){return function(e){return null==e?F:e[t]}}function S(t){return function(e){return null==t?F:t[e]}}function M(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function O(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==F&&(n=n===F?a:n+a)}return n}function C(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function A(t){return function(e){return t(e)}}function I(t,e){return d(e,function(e){return t[e]})}function T(t,e){return t.has(e)}function E(t,e){for(var n=-1,r=t.length;++n<r&&x(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&x(e,t[n],0)>-1;);return n}function P(t){return"\\"+en[t]}function k(t){return Ze.test(t)}function D(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function L(t,e){return function(n){return t(e(n))}}function R(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n];o!==e&&o!==W||(t[n]=W,a[i++]=n)}return a}function N(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function z(t){return k(t)?function(t){for(var e=Ye.lastIndex=0;Ye.test(t);)++e;return e}(t):xn(t)}function B(t){return k(t)?function(t){return t.match(Ye)||[]}(t):function(t){return t.split("")}(t)}var F,V=200,G="Expected a function",H="__lodash_hash_undefined__",W="__lodash_placeholder__",q=1,U=2,Y=4,X=1,Z=2,$=1,Q=2,J=4,K=8,tt=16,et=32,nt=64,rt=128,it=256,at=512,ot=800,st=16,ut=1/0,lt=9007199254740991,ct=1.7976931348623157e308,ht=NaN,ft=4294967295,dt=ft-1,pt=ft>>>1,gt=[["ary",rt],["bind",$],["bindKey",Q],["curry",K],["curryRight",tt],["flip",at],["partial",et],["partialRight",nt],["rearg",it]],vt="[object Arguments]",mt="[object Array]",yt="[object AsyncFunction]",xt="[object Boolean]",bt="[object Date]",_t="[object DOMException]",wt="[object Error]",St="[object Function]",Mt="[object GeneratorFunction]",Ot="[object Map]",Ct="[object Number]",At="[object Null]",It="[object Object]",Tt="[object Proxy]",Et="[object RegExp]",jt="[object Set]",Pt="[object String]",kt="[object Symbol]",Dt="[object Undefined]",Lt="[object WeakMap]",Rt="[object ArrayBuffer]",Nt="[object DataView]",zt="[object Float32Array]",Bt="[object Float64Array]",Ft="[object Int8Array]",Vt="[object Int16Array]",Gt="[object Int32Array]",Ht="[object Uint8Array]",Wt="[object Uint8ClampedArray]",qt="[object Uint16Array]",Ut="[object Uint32Array]",Yt=/\b__p \+= '';/g,Xt=/\b(__p \+=) '' \+/g,Zt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$t=/&(?:amp|lt|gt|quot|#39);/g,Qt=/[&<>"']/g,Jt=RegExp($t.source),Kt=RegExp(Qt.source),te=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,ne=/<%=([\s\S]+?)%>/g,re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/,ae=/^\./,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/[\\^$.*+?()[\]{}|]/g,ue=RegExp(se.source),le=/^\s+|\s+$/g,ce=/^\s+/,he=/\s+$/,fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,pe=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ve=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ye=/\w*$/,xe=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,_e=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,Se=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oe=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Ae="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="["+Ie+"]",Ee="["+Ae+"]",je="\\d+",Pe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ke="[^\\ud800-\\udfff"+Ie+je+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",De="\\ud83c[\\udffb-\\udfff]",Le="[^\\ud800-\\udfff]",Re="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Be="(?:"+Pe+"|"+ke+")",Fe="(?:"+ze+"|"+ke+")",Ve="(?:"+Ee+"|"+De+")?",Ge="[\\ufe0e\\ufe0f]?"+Ve+"(?:\\u200d(?:"+[Le,Re,Ne].join("|")+")[\\ufe0e\\ufe0f]?"+Ve+")*",He="(?:"+["[\\u2700-\\u27bf]",Re,Ne].join("|")+")"+Ge,We="(?:"+[Le+Ee+"?",Ee,Re,Ne,"[\\ud800-\\udfff]"].join("|")+")",qe=RegExp("['\u2019]","g"),Ue=RegExp(Ee,"g"),Ye=RegExp(De+"(?="+De+")|"+We+Ge,"g"),Xe=RegExp([ze+"?"+Pe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Te,ze,"$"].join("|")+")",Fe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Te,ze+Be,"$"].join("|")+")",ze+"?"+Be+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ze+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",je,He].join("|"),"g"),Ze=RegExp("[\\u200d\\ud800-\\udfff"+Ae+"\\ufe0e\\ufe0f]"),$e=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ke={};Ke[zt]=Ke[Bt]=Ke[Ft]=Ke[Vt]=Ke[Gt]=Ke[Ht]=Ke[Wt]=Ke[qt]=Ke[Ut]=!0,Ke[vt]=Ke[mt]=Ke[Rt]=Ke[xt]=Ke[Nt]=Ke[bt]=Ke[wt]=Ke[St]=Ke[Ot]=Ke[Ct]=Ke[It]=Ke[Et]=Ke[jt]=Ke[Pt]=Ke[Lt]=!1;var tn={};tn[vt]=tn[mt]=tn[Rt]=tn[Nt]=tn[xt]=tn[bt]=tn[zt]=tn[Bt]=tn[Ft]=tn[Vt]=tn[Gt]=tn[Ot]=tn[Ct]=tn[It]=tn[Et]=tn[jt]=tn[Pt]=tn[kt]=tn[Ht]=tn[Wt]=tn[qt]=tn[Ut]=!0,tn[wt]=tn[St]=tn[Lt]=!1;var en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,an="object"==typeof t&&t&&t.Object===Object&&t,on="object"==typeof self&&self&&self.Object===Object&&self,sn=an||on||Function("return this")(),un="object"==typeof e&&e&&!e.nodeType&&e,ln=un&&"object"==typeof r&&r&&!r.nodeType&&r,cn=ln&&ln.exports===un,hn=cn&&an.process,fn=function(){try{return hn&&hn.binding&&hn.binding("util")}catch(t){}}(),dn=fn&&fn.isArrayBuffer,pn=fn&&fn.isDate,gn=fn&&fn.isMap,vn=fn&&fn.isRegExp,mn=fn&&fn.isSet,yn=fn&&fn.isTypedArray,xn=w("length"),bn=S({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),_n=S({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),wn=S({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Sn=function t(e){function n(t){if(Hi(t)&&!Ps(t)&&!(t instanceof S)){if(t instanceof i)return t;if(ja.call(t,"__wrapped__"))return gi(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=F}function S(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ft,this.__views__=[]}function Ae(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ie(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Te(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ee(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Te;++e<n;)this.add(t[e])}function je(t){var e=this.__data__=new Ie(t);this.size=e.size}function Pe(t,e){var n=Ps(t),r=!n&&js(t),i=!n&&!r&&Ds(t),a=!n&&!r&&!i&&Bs(t),o=n||r||i||a,s=o?C(t.length,Oa):[],u=s.length;for(var l in t)!e&&!ja.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ei(l,u))||s.push(l);return s}function ke(t){var e=t.length;return e?t[Wn(0,e-1)]:F}function De(t,e,n){(n===F||Li(t[e],n))&&(n!==F||e in t)||ze(t,e,n)}function Le(t,e,n){var r=t[e];ja.call(t,e)&&Li(r,n)&&(n!==F||e in t)||ze(t,e,n)}function Re(t,e){for(var n=t.length;n--;)if(Li(t[n][0],e))return n;return-1}function Ne(t,e){return t&&yr(e,ra(e),t)}function ze(t,e,n){"__proto__"==e&&Za?Za(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Be(t,e){for(var n=-1,r=e.length,i=ya(r),a=null==t;++n<r;)i[n]=a?F:ea(t,e[n]);return i}function Fe(t,e,n){return t==t&&(n!==F&&(t=t<=n?t:n),e!==F&&(t=t>=e?t:e)),t}function Ve(t,e,n,r,i,s){var l,c=e&q,h=e&U,f=e&Y;if(n&&(l=i?n(t,r,i,s):n(t)),l!==F)return l;if(!Gi(t))return t;var d=Ps(t);if(d){if(l=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&ja.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return mr(t,l)}else{var p=Go(t),v=p==St||p==Mt;if(Ds(t))return hr(t,c);if(p==It||p==vt||v&&!i){if(l=h||v?{}:Kr(t),!c)return h?function(t,e){return yr(t,Vo(t),e)}(t,function(e,n){return e&&yr(t,ia(t),e)}(l)):function(t,e){return yr(t,Fo(t),e)}(t,Ne(l,t))}else{if(!tn[p])return i?t:{};l=function(t,e,n,r){var i=t.constructor;switch(p){case Rt:return fr(t);case xt:case bt:return new i(+t);case Nt:return function(t,e){var n=r?fr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t);case zt:case Bt:case Ft:case Vt:case Gt:case Ht:case Wt:case qt:case Ut:return dr(t,r);case Ot:return function(t,e,n){return g(r?n(D(t),q):D(t),a,new t.constructor)}(t,0,n);case Ct:case Pt:return new i(t);case Et:return function(t){var e=new t.constructor(t.source,ye.exec(t));return e.lastIndex=t.lastIndex,e}(t);case jt:return function(t,e,n){return g(r?n(N(t),q):N(t),o,new t.constructor)}(t,0,n);case kt:return function(t){return Ao?Sa(Ao.call(t)):{}}(t)}}(t,0,Ve,c)}}s||(s=new je);var m=s.get(t);if(m)return m;s.set(t,l);var y=d?F:(f?h?qr:Wr:h?ia:ra)(t);return u(y||t,function(r,i){y&&(r=t[i=r]),Le(l,i,Ve(r,e,n,i,t,s))}),l}function Ge(t,e,n){var r=n.length;if(null==t)return!r;for(t=Sa(t);r--;){var i=n[r],a=t[i];if(a===F&&!(i in t)||!(0,e[i])(a))return!1}return!0}function He(t,e,n){if("function"!=typeof t)throw new Ca(G);return qo(function(){t.apply(F,n)},e)}function We(t,e,n,r){var i=-1,a=h,o=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=d(e,A(n))),r?(a=f,o=!1):e.length>=V&&(a=T,o=!1,e=new Ee(e));t:for(;++i<s;){var c=t[i],p=null==n?c:n(c);if(c=r||0!==c?c:0,o&&p==p){for(var g=l;g--;)if(e[g]===p)continue t;u.push(c)}else a(e,p,r)||u.push(c)}return u}function Ye(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(null!=o&&(s===F?o==o&&!Yi(o):n(o,s)))var s=o,u=a}return u}function Ze(t,e){var n=[];return Eo(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function en(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=ti),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?en(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function an(t,e){return t&&Po(t,e,ra)}function on(t,e){return t&&ko(t,e,ra)}function un(t,e){return c(e,function(e){return Bi(t[e])})}function ln(t,e){for(var n=0,r=(e=lr(e,t)).length;null!=t&&n<r;)t=t[di(e[n++])];return n&&n==r?t:F}function hn(t,e,n){var r=e(t);return Ps(t)?r:p(r,n(t))}function fn(t){return null==t?t===F?Dt:At:Xa&&Xa in Sa(t)?function(t){var e=ja.call(t,Xa),n=t[Xa];try{t[Xa]=F;var r=!0}catch(t){}var i=Da.call(t);return r&&(e?t[Xa]=n:delete t[Xa]),i}(t):function(t){return Da.call(t)}(t)}function xn(t,e){return t>e}function Mn(t,e){return null!=t&&ja.call(t,e)}function On(t,e){return null!=t&&e in Sa(t)}function Cn(t,e,n){for(var r=n?f:h,i=t[0].length,a=t.length,o=a,s=ya(a),u=1/0,l=[];o--;){var c=t[o];o&&e&&(c=d(c,A(e))),u=so(c.length,u),s[o]=!n&&(e||i>=120&&c.length>=120)?new Ee(o&&c):F}c=t[0];var p=-1,g=s[0];t:for(;++p<i&&l.length<u;){var v=c[p],m=e?e(v):v;if(v=n||0!==v?v:0,!(g?T(g,m):r(l,m,n))){for(o=a;--o;){var y=s[o];if(!(y?T(y,m):r(t[o],m,n)))continue t}g&&g.push(m),l.push(v)}}return l}function An(t,e,n){var r=null==(t=li(t,e=lr(e,t)))?t:t[di(bi(e))];return null==r?F:s(r,t,n)}function In(t){return Hi(t)&&fn(t)==vt}function Tn(t,e,n,r,i){return t===e||(null==t||null==e||!Hi(t)&&!Hi(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var o=Ps(t),s=Ps(e),u=o?mt:Go(t),l=s?mt:Go(e),c=(u=u==vt?It:u)==It,h=(l=l==vt?It:l)==It,f=u==l;if(f&&Ds(t)){if(!Ds(e))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new je),o||Bs(t)?Gr(t,e,n,r,i,a):function(t,e,n,r,i,a,o){switch(u){case Nt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Rt:return!(t.byteLength!=e.byteLength||!a(new Fa(t),new Fa(e)));case xt:case bt:case Ct:return Li(+t,+e);case wt:return t.name==e.name&&t.message==e.message;case Et:case Pt:return t==e+"";case Ot:var s=D;case jt:if(s||(s=N),t.size!=e.size&&!(r&X))return!1;var l=o.get(t);if(l)return l==e;r|=Z,o.set(t,e);var c=Gr(s(t),s(e),r,i,a,o);return o.delete(t),c;case kt:if(Ao)return Ao.call(t)==Ao.call(e)}return!1}(t,e,0,n,r,i,a);if(!(n&X)){var d=c&&ja.call(t,"__wrapped__"),p=h&&ja.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?e.value():e;return a||(a=new je),i(g,v,n,r,a)}}return!!f&&(a||(a=new je),function(t,e,n,r,i,a){var o=n&X,s=Wr(t),u=s.length;if(u!=Wr(e).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in e:ja.call(e,c)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var f=!0;a.set(t,e),a.set(e,t);for(var d=o;++l<u;){var p=t[c=s[l]],g=e[c];if(r)var v=o?r(g,p,c,e,t,a):r(p,g,c,t,e,a);if(!(v===F?p===g||i(p,g,n,r,a):v)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var m=t.constructor,y=e.constructor;m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(f=!1)}return a.delete(t),a.delete(e),f}(t,e,n,r,i,a))}(t,e,n,r,Tn,i))}function En(t,e,n,r){var i=n.length,a=i,o=!r;if(null==t)return!a;for(t=Sa(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){var u=(s=n[i])[0],l=t[u],c=s[1];if(o&&s[2]){if(l===F&&!(u in t))return!1}else{var h=new je;if(r)var f=r(l,c,u,t,e,h);if(!(f===F?Tn(c,l,X|Z,r,h):f))return!1}}return!0}function jn(t){return!(!Gi(t)||ka&&ka in t)&&(Bi(t)?Na:_e).test(pi(t))}function Pn(t){return"function"==typeof t?t:null==t?ha:"object"==typeof t?Ps(t)?Nn(t[0],t[1]):Rn(t):ga(t)}function kn(t){if(!ai(t))return ao(t);var e=[];for(var n in Sa(t))ja.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Dn(t,e){return t<e}function Ln(t,e){var n=-1,r=Ri(t)?ya(t.length):[];return Eo(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function Rn(t){var e=$r(t);return 1==e.length&&e[0][2]?si(e[0][0],e[0][1]):function(n){return n===t||En(n,t,e)}}function Nn(t,e){return ri(t)&&oi(e)?si(di(t),e):function(n){var r=ea(n,t);return r===F&&r===e?na(n,t):Tn(e,r,X|Z)}}function zn(t,e,n,r,i){t!==e&&Po(e,function(a,o){if(Gi(a))i||(i=new je),function(t,e,n,r,i,a,o){var s=t[n],u=e[n],l=o.get(u);if(l)De(t,n,l);else{var c=a?a(s,u,n+"",t,e,o):F,h=c===F;if(h){var f=Ps(u),d=!f&&Ds(u),p=!f&&!d&&Bs(u);c=u,f||d||p?Ps(s)?c=s:Ni(s)?c=mr(s):d?(h=!1,c=hr(u,!0)):p?(h=!1,c=dr(u,!0)):c=[]:qi(u)||js(u)?(c=s,js(s)?c=Ki(s):(!Gi(s)||r&&Bi(s))&&(c=Kr(u))):h=!1}h&&(o.set(u,c),i(c,u,r,a,o),o.delete(u)),De(t,n,c)}}(t,e,o,n,zn,r,i);else{var s=r?r(t[o],a,o+"",t,e,i):F;s===F&&(s=a),De(t,o,s)}},ia)}function Bn(t,e){var n=t.length;if(n)return ei(e+=e<0?n:0,n)?t[e]:F}function Fn(t,e,n){var r=-1;return e=d(e.length?e:[ha],A(Xr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Ln(t,function(t,n,i){return{criteria:d(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var u=pr(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)})}function Vn(t,e,n){for(var r=-1,i=e.length,a={};++r<i;){var o=e[r],s=ln(t,o);n(s,o)&&Yn(a,lr(o,t),s)}return a}function Gn(t,e,n,r){var i=r?function(t,e,n,r){for(var i=n-1,a=t.length;++i<a;)if(r(t[i],e))return i;return-1}:x,a=-1,o=e.length,s=t;for(t===e&&(e=mr(e)),n&&(s=d(t,A(n)));++a<o;)for(var u=0,l=e[a],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&qa.call(s,u,1),qa.call(t,u,1);return t}function Hn(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==a){var a=i;ei(i)?qa.call(t,i,1):er(t,i)}}return t}function Wn(t,e){return t+to(co()*(e-t+1))}function qn(t,e){var n="";if(!t||e<1||e>lt)return n;do{e%2&&(n+=t),(e=to(e/2))&&(t+=t)}while(e);return n}function Un(t,e){return Uo(ui(t,e,ha),t+"")}function Yn(t,e,n,r){if(!Gi(t))return t;for(var i=-1,a=(e=lr(e,t)).length,o=a-1,s=t;null!=s&&++i<a;){var u=di(e[i]),l=n;if(i!=o){var c=s[u];(l=r?r(c,u,s):F)===F&&(l=Gi(c)?c:ei(e[i+1])?[]:{})}Le(s,u,l),s=s[u]}return t}function Xn(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=ya(i);++r<i;)a[r]=t[r+e];return a}function Zn(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=pt){for(;r<i;){var a=r+i>>>1,o=t[a];null!==o&&!Yi(o)&&(n?o<=e:o<e)?r=a+1:i=a}return i}return $n(t,e,ha,n)}function $n(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,o=e!=e,s=null===e,u=Yi(e),l=e===F;i<a;){var c=to((i+a)/2),h=n(t[c]),f=h!==F,d=null===h,p=h==h,g=Yi(h);if(o)var v=r||p;else v=l?p&&(r||f):s?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):!d&&!g&&(r?h<=e:h<e);v?i=c+1:a=c}return so(a,dt)}function Qn(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n],s=e?e(o):o;if(!n||!Li(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Jn(t){return"number"==typeof t?t:Yi(t)?ht:+t}function Kn(t){if("string"==typeof t)return t;if(Ps(t))return d(t,Kn)+"";if(Yi(t))return Io?Io.call(t):"";var e=t+"";return"0"==e&&1/t==-ut?"-0":e}function tr(t,e,n){var r=-1,i=h,a=t.length,o=!0,s=[],u=s;if(n)o=!1,i=f;else if(a>=V){var l=e?null:zo(t);if(l)return N(l);o=!1,i=T,u=new Ee}else u=e?[]:s;t:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function er(t,e){return null==(t=li(t,e=lr(e,t)))||delete t[di(bi(e))]}function nr(t,e,n,r){return Yn(t,e,n(ln(t,e)),r)}function rr(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?Xn(t,r?0:a,r?a+1:i):Xn(t,r?a+1:0,r?i:a)}function ir(t,e){var n=t;return n instanceof S&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function ar(t,e,n){var r=t.length;if(r<2)return r?tr(t[0]):[];for(var i=-1,a=ya(r);++i<r;)for(var o=t[i],s=-1;++s<r;)s!=i&&(a[i]=We(a[i]||o,t[s],e,n));return tr(en(a,1),e,n)}function or(t,e,n){for(var r=-1,i=t.length,a=e.length,o={};++r<i;)n(o,t[r],r<a?e[r]:F);return o}function sr(t){return Ni(t)?t:[]}function ur(t){return"function"==typeof t?t:ha}function lr(t,e){return Ps(t)?t:ri(t,e)?[t]:Yo(ta(t))}function cr(t,e,n){var r=t.length;return n=n===F?r:n,!e&&n>=r?t:Xn(t,e,n)}function hr(t,e){if(e)return t.slice();var n=t.length,r=Va?Va(n):new t.constructor(n);return t.copy(r),r}function fr(t){var e=new t.constructor(t.byteLength);return new Fa(e).set(new Fa(t)),e}function dr(t,e){var n=e?fr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pr(t,e){if(t!==e){var n=t!==F,r=null===t,i=t==t,a=Yi(t),o=e!==F,s=null===e,u=e==e,l=Yi(e);if(!s&&!l&&!a&&t>e||a&&o&&u&&!s&&!l||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return-1}return 0}function gr(t,e,n,r){for(var i=-1,a=t.length,o=n.length,s=-1,u=e.length,l=oo(a-o,0),c=ya(u+l),h=!r;++s<u;)c[s]=e[s];for(;++i<o;)(h||i<a)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function vr(t,e,n,r){for(var i=-1,a=t.length,o=-1,s=n.length,u=-1,l=e.length,c=oo(a-s,0),h=ya(c+l),f=!r;++i<c;)h[i]=t[i];for(var d=i;++u<l;)h[d+u]=e[u];for(;++o<s;)(f||i<a)&&(h[d+n[o]]=t[i++]);return h}function mr(t,e){var n=-1,r=t.length;for(e||(e=ya(r));++n<r;)e[n]=t[n];return e}function yr(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=r?r(n[s],t[s],s,n,t):F;u===F&&(u=t[s]),i?ze(n,s,u):Le(n,s,u)}return n}function xr(t,e){return function(n,r){var i=Ps(n)?function(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}:function(t,e,n,r){return Eo(t,function(t,i,a){e(r,t,n(t),a)}),r},a=e?e():{};return i(n,t,Xr(r,2),a)}}function br(t){return Un(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:F,o=i>2?n[2]:F;for(a=t.length>3&&"function"==typeof a?(i--,a):F,o&&ni(n[0],n[1],o)&&(a=i<3?F:a,i=1),e=Sa(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}function _r(t,e){return function(n,r){if(null==n)return n;if(!Ri(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Sa(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function wr(t){return function(e,n,r){for(var i=-1,a=Sa(e),o=r(e),s=o.length;s--;){var u=o[t?s:++i];if(!1===n(a[u],u,a))break}return e}}function Sr(t){return function(e){var n=k(e=ta(e))?B(e):F,r=n?n[0]:e.charAt(0),i=n?cr(n,1).join(""):e.slice(1);return r[t]()+i}}function Mr(t){return function(e){return g(la(ua(e).replace(qe,"")),t,"")}}function Or(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=To(t.prototype),r=t.apply(n,e);return Gi(r)?r:n}}function Cr(t){return function(e,n,r){var i=Sa(e);if(!Ri(e)){var a=Xr(n,3);e=ra(e),n=function(t){return a(i[t],t,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:F}}function Ar(t){return Hr(function(e){var n=e.length,r=n,a=i.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new Ca(G);if(a&&!s&&"wrapper"==Ur(o))var s=new i([],!0)}for(r=s?r:n;++r<n;){var u=Ur(o=e[r]),l="wrapper"==u?Bo(o):F;s=l&&ii(l[0])&&l[1]==(rt|K|et|it)&&!l[4].length&&1==l[9]?s[Ur(l[0])].apply(s,l[3]):1==o.length&&ii(o)?s[u]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ps(r))return s.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}})}function Ir(t,e,n,r,i,a,o,s,u,l){var c=e&rt,h=e&$,f=e&Q,d=e&(K|tt),p=e&at,g=f?F:Or(t);return function v(){for(var m=arguments.length,y=ya(m),x=m;x--;)y[x]=arguments[x];if(d)var b=Yr(v),_=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(y,b);if(r&&(y=gr(y,r,i,d)),a&&(y=vr(y,a,o,d)),m-=_,d&&m<l){var w=R(y,b);return Lr(t,e,Ir,v.placeholder,n,y,w,s,u,l-m)}var S=h?n:this,M=f?S[t]:t;return m=y.length,s?y=function(t,e){for(var n=t.length,r=so(e.length,n),i=mr(t);r--;){var a=e[r];t[r]=ei(a,n)?i[a]:F}return t}(y,s):p&&m>1&&y.reverse(),c&&u<m&&(y.length=u),this&&this!==sn&&this instanceof v&&(M=g||Or(M)),M.apply(S,y)}}function Tr(t,e){return function(n,r){return function(t,e,n,r){return an(t,function(t,i,a){e(r,n(t),i,a)}),r}(n,t,e(r),{})}}function Er(t,e){return function(n,r){var i;if(n===F&&r===F)return e;if(n!==F&&(i=n),r!==F){if(i===F)return r;"string"==typeof n||"string"==typeof r?(n=Kn(n),r=Kn(r)):(n=Jn(n),r=Jn(r)),i=t(n,r)}return i}}function jr(t){return Hr(function(e){return e=d(e,A(Xr())),Un(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function Pr(t,e){var n=(e=e===F?" ":Kn(e)).length;if(n<2)return n?qn(e,t):e;var r=qn(e,Ka(t/z(e)));return k(e)?cr(B(r),0,t).join(""):r.slice(0,t)}function kr(t){return function(e,n,r){return r&&"number"!=typeof r&&ni(e,n,r)&&(n=r=F),e=Zi(e),n===F?(n=e,e=0):n=Zi(n),function(t,e,n,r){for(var i=-1,a=oo(Ka((e-t)/(n||1)),0),o=ya(a);a--;)o[r?a:++i]=t,t+=n;return o}(e,n,r=r===F?e<n?1:-1:Zi(r),t)}}function Dr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ji(e),n=Ji(n)),t(e,n)}}function Lr(t,e,n,r,i,a,o,s,u,l){var c=e&K;e|=c?et:nt,(e&=~(c?nt:et))&J||(e&=~($|Q));var h=[t,e,i,c?a:F,c?o:F,c?F:a,c?F:o,s,u,l],f=n.apply(F,h);return ii(t)&&Wo(f,h),f.placeholder=r,ci(f,t,e)}function Rr(t){var e=wa[t];return function(t,n){if(t=Ji(t),n=null==n?0:so($i(n),292)){var r=(ta(t)+"e").split("e");return+((r=(ta(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}function Nr(t){return function(e){var n=Go(e);return n==Ot?D(e):n==jt?function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}(e):function(t,e){return d(e,function(e){return[e,t[e]]})}(e,t(e))}}function zr(t,e,n,r,i,a,o,u){var l=e&Q;if(!l&&"function"!=typeof t)throw new Ca(G);var c=r?r.length:0;if(c||(e&=~(et|nt),r=i=F),o=o===F?o:oo($i(o),0),u=u===F?u:$i(u),c-=i?i.length:0,e&nt){var h=r,f=i;r=i=F}var d=l?F:Bo(t),p=[t,e,n,r,i,h,f,a,o,u];if(d&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<($|Q|rt)||r==rt&&n==K||r==rt&&n==it&&t[7].length<=e[8]||r==(rt|it)&&e[7].length<=e[8]&&n==K))return t;r&$&&(t[2]=e[2],i|=n&$?0:J);var a=e[3];if(a){var o=t[3];t[3]=o?gr(o,a,e[4]):a,t[4]=o?R(t[3],W):e[4]}(a=e[5])&&(t[5]=(o=t[5])?vr(o,a,e[6]):a,t[6]=o?R(t[5],W):e[6]),(a=e[7])&&(t[7]=a),r&rt&&(t[8]=null==t[8]?e[8]:so(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(p,d),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],!(u=p[9]=p[9]===F?l?0:t.length:oo(p[9]-c,0))&&e&(K|tt)&&(e&=~(K|tt)),e&&e!=$)g=e==K||e==tt?function(t,e,n){var r=Or(t);return function i(){for(var a=arguments.length,o=ya(a),u=a,l=Yr(i);u--;)o[u]=arguments[u];var c=a<3&&o[0]!==l&&o[a-1]!==l?[]:R(o,l);return(a-=c.length)<n?Lr(t,e,Ir,i.placeholder,F,o,c,F,F,n-a):s(this&&this!==sn&&this instanceof i?r:t,this,o)}}(t,e,u):e!=et&&e!=($|et)||i.length?Ir.apply(F,p):function(t,e,n,r){var i=e&$,a=Or(t);return function e(){for(var o=-1,u=arguments.length,l=-1,c=r.length,h=ya(c+u),f=this&&this!==sn&&this instanceof e?a:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++o];return s(f,i?n:this,h)}}(t,e,n,r);else var g=function(t,e,n){var r=e&$,i=Or(t);return function e(){return(this&&this!==sn&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return ci((d?Do:Wo)(g,p),t,e)}function Br(t,e,n,r){return t===F||Li(t,Ia[n])&&!ja.call(r,n)?e:t}function Fr(t,e,n,r,i,a){return Gi(t)&&Gi(e)&&(a.set(e,t),zn(t,e,F,Fr,a),a.delete(e)),t}function Vr(t){return qi(t)?F:t}function Gr(t,e,n,r,i,a){var o=n&X,s=t.length,u=e.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var c=-1,h=!0,f=n&Z?new Ee:F;for(a.set(t,e),a.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var g=o?r(p,d,c,e,t,a):r(d,p,c,t,e,a);if(g!==F){if(g)continue;h=!1;break}if(f){if(!v(e,function(t,e){if(!T(f,e)&&(d===t||i(d,t,n,r,a)))return f.push(e)})){h=!1;break}}else if(d!==p&&!i(d,p,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function Hr(t){return Uo(ui(t,F,yi),t+"")}function Wr(t){return hn(t,ra,Fo)}function qr(t){return hn(t,ia,Vo)}function Ur(t){for(var e=t.name+"",n=bo[e],r=ja.call(bo,e)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function Yr(t){return(ja.call(n,"placeholder")?n:t).placeholder}function Xr(){var t=n.iteratee||fa;return t=t===fa?Pn:t,arguments.length?t(arguments[0],arguments[1]):t}function Zr(t,e){var n=t.__data__;return function(t){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}()?n["string"==typeof e?"string":"hash"]:n.map}function $r(t){for(var e=ra(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,oi(i)]}return e}function Qr(t,e){var n=function(t,e){return null==t?F:t[e]}(t,e);return jn(n)?n:F}function Jr(t,e,n){for(var r=-1,i=(e=lr(e,t)).length,a=!1;++r<i;){var o=di(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&Vi(i)&&ei(o,i)&&(Ps(t)||js(t))}function Kr(t){return"function"!=typeof t.constructor||ai(t)?{}:To(Ga(t))}function ti(t){return Ps(t)||js(t)||!!(Ua&&t&&t[Ua])}function ei(t,e){return!!(e=null==e?lt:e)&&("number"==typeof t||Se.test(t))&&t>-1&&t%1==0&&t<e}function ni(t,e,n){if(!Gi(n))return!1;var r=typeof e;return!!("number"==r?Ri(n)&&ei(e,n.length):"string"==r&&e in n)&&Li(n[e],t)}function ri(t,e){if(Ps(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Yi(t))||ie.test(t)||!re.test(t)||null!=e&&t in Sa(e)}function ii(t){var e=Ur(t),r=n[e];if("function"!=typeof r||!(e in S.prototype))return!1;if(t===r)return!0;var i=Bo(r);return!!i&&t===i[0]}function ai(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ia)}function oi(t){return t==t&&!Gi(t)}function si(t,e){return function(n){return null!=n&&n[t]===e&&(e!==F||t in Sa(n))}}function ui(t,e,n){return e=oo(e===F?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=oo(r.length-e,0),o=ya(a);++i<a;)o[i]=r[e+i];i=-1;for(var u=ya(e+1);++i<e;)u[i]=r[i];return u[e]=n(o),s(t,this,u)}}function li(t,e){return e.length<2?t:ln(t,Xn(e,0,-1))}function ci(t,e,n){var r=e+"";return Uo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(fe,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return u(gt,function(n){var r="_."+n[0];e&n[1]&&!h(t,r)&&t.push(r)}),t.sort()}(function(t){var e=r.match(de);return e?e[1].split(pe):[]}(),n)))}function hi(t){var e=0,n=0;return function(){var r=uo(),i=st-(r-n);if(n=r,i>0){if(++e>=ot)return arguments[0]}else e=0;return t.apply(F,arguments)}}function fi(t,e){var n=-1,r=t.length,i=r-1;for(e=e===F?r:e;++n<e;){var a=Wn(n,i),o=t[a];t[a]=t[n],t[n]=o}return t.length=e,t}function di(t){if("string"==typeof t||Yi(t))return t;var e=t+"";return"0"==e&&1/t==-ut?"-0":e}function pi(t){if(null!=t){try{return Ea.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function gi(t){if(t instanceof S)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=mr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function vi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:$i(n);return i<0&&(i=oo(r+i,0)),y(t,Xr(e,3),i)}function mi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==F&&(i=$i(n),i=n<0?oo(r+i,0):so(i,r-1)),y(t,Xr(e,3),i,!0)}function yi(t){return null!=t&&t.length?en(t,1):[]}function xi(t){return t&&t.length?t[0]:F}function bi(t){var e=null==t?0:t.length;return e?t[e-1]:F}function _i(t,e){return t&&t.length&&e&&e.length?Gn(t,e):t}function wi(t){return null==t?t:ho.call(t)}function Si(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Ni(t))return e=oo(t.length,e),!0}),C(e,function(e){return d(t,w(e))})}function Mi(t,e){if(!t||!t.length)return[];var n=Si(t);return null==e?n:d(n,function(t){return s(e,F,t)})}function Oi(t){var e=n(t);return e.__chain__=!0,e}function Ci(t,e){return e(t)}function Ai(t,e){return(Ps(t)?u:Eo)(t,Xr(e,3))}function Ii(t,e){return(Ps(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:jo)(t,Xr(e,3))}function Ti(t,e){return(Ps(t)?d:Ln)(t,Xr(e,3))}function Ei(t,e,n){return e=n?F:e,zr(t,rt,F,F,F,F,e=t&&null==e?t.length:e)}function ji(t,e){var n;if("function"!=typeof e)throw new Ca(G);return t=$i(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=F),n}}function Pi(t,e,n){function r(e){var n=u,r=l;return u=l=F,p=e,h=t.apply(r,n)}function i(t){var n=t-d;return d===F||n>=e||n<0||v&&t-p>=c}function a(){var t=bs();if(i(t))return o(t);f=qo(a,function(t){var n=e-(t-d);return v?so(n,c-(t-p)):n}(t))}function o(t){return f=F,m&&u?r(t):(u=l=F,h)}function s(){var t=bs(),n=i(t);if(u=arguments,l=this,d=t,n){if(f===F)return function(t){return p=t,f=qo(a,e),g?r(t):h}(d);if(v)return f=qo(a,e),r(d)}return f===F&&(f=qo(a,e)),h}var u,l,c,h,f,d,p=0,g=!1,v=!1,m=!0;if("function"!=typeof t)throw new Ca(G);return e=Ji(e)||0,Gi(n)&&(g=!!n.leading,c=(v="maxWait"in n)?oo(Ji(n.maxWait)||0,e):c,m="trailing"in n?!!n.trailing:m),s.cancel=function(){f!==F&&No(f),p=0,u=d=l=f=F},s.flush=function(){return f===F?h:o(bs())},s}function ki(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ca(G);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ki.Cache||Te),n}function Di(t){if("function"!=typeof t)throw new Ca(G);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Li(t,e){return t===e||t!=t&&e!=e}function Ri(t){return null!=t&&Vi(t.length)&&!Bi(t)}function Ni(t){return Hi(t)&&Ri(t)}function zi(t){if(!Hi(t))return!1;var e=fn(t);return e==wt||e==_t||"string"==typeof t.message&&"string"==typeof t.name&&!qi(t)}function Bi(t){if(!Gi(t))return!1;var e=fn(t);return e==St||e==Mt||e==yt||e==Tt}function Fi(t){return"number"==typeof t&&t==$i(t)}function Vi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=lt}function Gi(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Hi(t){return null!=t&&"object"==typeof t}function Wi(t){return"number"==typeof t||Hi(t)&&fn(t)==Ct}function qi(t){if(!Hi(t)||fn(t)!=It)return!1;var e=Ga(t);if(null===e)return!0;var n=ja.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ea.call(n)==La}function Ui(t){return"string"==typeof t||!Ps(t)&&Hi(t)&&fn(t)==Pt}function Yi(t){return"symbol"==typeof t||Hi(t)&&fn(t)==kt}function Xi(t){if(!t)return[];if(Ri(t))return Ui(t)?B(t):mr(t);if(Ya&&t[Ya])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ya]());var e=Go(t);return(e==Ot?D:e==jt?N:oa)(t)}function Zi(t){return t?(t=Ji(t))===ut||t===-ut?(t<0?-1:1)*ct:t==t?t:0:0===t?t:0}function $i(t){var e=Zi(t),n=e%1;return e==e?n?e-n:e:0}function Qi(t){return t?Fe($i(t),0,ft):0}function Ji(t){if("number"==typeof t)return t;if(Yi(t))return ht;if(Gi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Gi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(le,"");var n=be.test(t);return n||we.test(t)?rn(t.slice(2),n?2:8):xe.test(t)?ht:+t}function Ki(t){return yr(t,ia(t))}function ta(t){return null==t?"":Kn(t)}function ea(t,e,n){var r=null==t?F:ln(t,e);return r===F?n:r}function na(t,e){return null!=t&&Jr(t,e,On)}function ra(t){return Ri(t)?Pe(t):kn(t)}function ia(t){return Ri(t)?Pe(t,!0):function(t){if(!Gi(t))return function(t){var e=[];if(null!=t)for(var n in Sa(t))e.push(n);return e}(t);var e=ai(t),n=[];for(var r in t)("constructor"!=r||!e&&ja.call(t,r))&&n.push(r);return n}(t)}function aa(t,e){if(null==t)return{};var n=d(qr(t),function(t){return[t]});return e=Xr(e),Vn(t,n,function(t,n){return e(t,n[0])})}function oa(t){return null==t?[]:I(t,ra(t))}function sa(t){return hu(ta(t).toLowerCase())}function ua(t){return(t=ta(t))&&t.replace(Me,bn).replace(Ue,"")}function la(t,e,n){return t=ta(t),(e=n?F:e)===F?function(t){return $e.test(t)}(t)?function(t){return t.match(Xe)||[]}(t):function(t){return t.match(ge)||[]}(t):t.match(e)||[]}function ca(t){return function(){return t}}function ha(t){return t}function fa(t){return Pn("function"==typeof t?t:Ve(t,q))}function da(t,e,n){var r=ra(e),i=un(e,r);null!=n||Gi(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=un(e,ra(e)));var a=!(Gi(n)&&"chain"in n&&!n.chain),o=Bi(t);return u(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=mr(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function pa(){}function ga(t){return ri(t)?w(di(t)):function(t){return function(e){return ln(e,t)}}(t)}function va(){return[]}function ma(){return!1}var ya=(e=null==e?sn:Sn.defaults(sn.Object(),e,Sn.pick(sn,Qe))).Array,xa=e.Date,ba=e.Error,_a=e.Function,wa=e.Math,Sa=e.Object,Ma=e.RegExp,Oa=e.String,Ca=e.TypeError,Aa=ya.prototype,Ia=Sa.prototype,Ta=e["__core-js_shared__"],Ea=_a.prototype.toString,ja=Ia.hasOwnProperty,Pa=0,ka=function(){var t=/[^.]+$/.exec(Ta&&Ta.keys&&Ta.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Da=Ia.toString,La=Ea.call(Sa),Ra=sn._,Na=Ma("^"+Ea.call(ja).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),za=cn?e.Buffer:F,Ba=e.Symbol,Fa=e.Uint8Array,Va=za?za.allocUnsafe:F,Ga=L(Sa.getPrototypeOf,Sa),Ha=Sa.create,Wa=Ia.propertyIsEnumerable,qa=Aa.splice,Ua=Ba?Ba.isConcatSpreadable:F,Ya=Ba?Ba.iterator:F,Xa=Ba?Ba.toStringTag:F,Za=function(){try{var t=Qr(Sa,"defineProperty");return t({},"",{}),t}catch(t){}}(),$a=e.clearTimeout!==sn.clearTimeout&&e.clearTimeout,Qa=xa&&xa.now!==sn.Date.now&&xa.now,Ja=e.setTimeout!==sn.setTimeout&&e.setTimeout,Ka=wa.ceil,to=wa.floor,eo=Sa.getOwnPropertySymbols,no=za?za.isBuffer:F,ro=e.isFinite,io=Aa.join,ao=L(Sa.keys,Sa),oo=wa.max,so=wa.min,uo=xa.now,lo=e.parseInt,co=wa.random,ho=Aa.reverse,fo=Qr(e,"DataView"),po=Qr(e,"Map"),go=Qr(e,"Promise"),vo=Qr(e,"Set"),mo=Qr(e,"WeakMap"),yo=Qr(Sa,"create"),xo=mo&&new mo,bo={},_o=pi(fo),wo=pi(po),So=pi(go),Mo=pi(vo),Oo=pi(mo),Co=Ba?Ba.prototype:F,Ao=Co?Co.valueOf:F,Io=Co?Co.toString:F,To=function(){function t(){}return function(e){if(!Gi(e))return{};if(Ha)return Ha(e);t.prototype=e;var n=new t;return t.prototype=F,n}}();n.templateSettings={escape:te,evaluate:ee,interpolate:ne,variable:"",imports:{_:n}},(n.prototype=r.prototype).constructor=n,(i.prototype=To(r.prototype)).constructor=i,(S.prototype=To(r.prototype)).constructor=S,Ae.prototype.clear=function(){this.__data__=yo?yo(null):{},this.size=0},Ae.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ae.prototype.get=function(t){var e=this.__data__;if(yo){var n=e[t];return n===H?F:n}return ja.call(e,t)?e[t]:F},Ae.prototype.has=function(t){var e=this.__data__;return yo?e[t]!==F:ja.call(e,t)},Ae.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yo&&e===F?H:e,this},Ie.prototype.clear=function(){this.__data__=[],this.size=0},Ie.prototype.delete=function(t){var e=this.__data__,n=Re(e,t);return!(n<0||(n==e.length-1?e.pop():qa.call(e,n,1),--this.size,0))},Ie.prototype.get=function(t){var e=this.__data__,n=Re(e,t);return n<0?F:e[n][1]},Ie.prototype.has=function(t){return Re(this.__data__,t)>-1},Ie.prototype.set=function(t,e){var n=this.__data__,r=Re(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Te.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(po||Ie),string:new Ae}},Te.prototype.delete=function(t){var e=Zr(this,t).delete(t);return this.size-=e?1:0,e},Te.prototype.get=function(t){return Zr(this,t).get(t)},Te.prototype.has=function(t){return Zr(this,t).has(t)},Te.prototype.set=function(t,e){var n=Zr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ee.prototype.add=Ee.prototype.push=function(t){return this.__data__.set(t,H),this},Ee.prototype.has=function(t){return this.__data__.has(t)},je.prototype.clear=function(){this.__data__=new Ie,this.size=0},je.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},je.prototype.get=function(t){return this.__data__.get(t)},je.prototype.has=function(t){return this.__data__.has(t)},je.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!po||r.length<V-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Te(r)}return n.set(t,e),this.size=n.size,this};var Eo=_r(an),jo=_r(on,!0),Po=wr(),ko=wr(!0),Do=xo?function(t,e){return xo.set(t,e),t}:ha,Lo=Za?function(t,e){return Za(t,"toString",{configurable:!0,enumerable:!1,value:ca(e),writable:!0})}:ha,Ro=Un,No=$a||function(t){return sn.clearTimeout(t)},zo=vo&&1/N(new vo([,-0]))[1]==ut?function(t){return new vo(t)}:pa,Bo=xo?function(t){return xo.get(t)}:pa,Fo=eo?function(t){return null==t?[]:(t=Sa(t),c(eo(t),function(e){return Wa.call(t,e)}))}:va,Vo=eo?function(t){for(var e=[];t;)p(e,Fo(t)),t=Ga(t);return e}:va,Go=fn;(fo&&Go(new fo(new ArrayBuffer(1)))!=Nt||po&&Go(new po)!=Ot||go&&"[object Promise]"!=Go(go.resolve())||vo&&Go(new vo)!=jt||mo&&Go(new mo)!=Lt)&&(Go=function(t){var e=fn(t),n=e==It?t.constructor:F,r=n?pi(n):"";if(r)switch(r){case _o:return Nt;case wo:return Ot;case So:return"[object Promise]";case Mo:return jt;case Oo:return Lt}return e});var Ho=Ta?Bi:ma,Wo=hi(Do),qo=Ja||function(t,e){return sn.setTimeout(t,e)},Uo=hi(Lo),Yo=function(t){var e=ki(function(t){var e=[];return ae.test(t)&&e.push(""),t.replace(oe,function(t,n,r,i){e.push(r?i.replace(ve,"$1"):n||t)}),e},function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(),Xo=Un(function(t,e){return Ni(t)?We(t,en(e,1,Ni,!0)):[]}),Zo=Un(function(t,e){var n=bi(e);return Ni(n)&&(n=F),Ni(t)?We(t,en(e,1,Ni,!0),Xr(n,2)):[]}),$o=Un(function(t,e){var n=bi(e);return Ni(n)&&(n=F),Ni(t)?We(t,en(e,1,Ni,!0),F,n):[]}),Qo=Un(function(t){var e=d(t,sr);return e.length&&e[0]===t[0]?Cn(e):[]}),Jo=Un(function(t){var e=bi(t),n=d(t,sr);return e===bi(n)?e=F:n.pop(),n.length&&n[0]===t[0]?Cn(n,Xr(e,2)):[]}),Ko=Un(function(t){var e=bi(t),n=d(t,sr);return(e="function"==typeof e?e:F)&&n.pop(),n.length&&n[0]===t[0]?Cn(n,F,e):[]}),ts=Un(_i),es=Hr(function(t,e){var n=null==t?0:t.length,r=Be(t,e);return Hn(t,d(e,function(t){return ei(t,n)?+t:t}).sort(pr)),r}),ns=Un(function(t){return tr(en(t,1,Ni,!0))}),rs=Un(function(t){var e=bi(t);return Ni(e)&&(e=F),tr(en(t,1,Ni,!0),Xr(e,2))}),is=Un(function(t){var e=bi(t);return e="function"==typeof e?e:F,tr(en(t,1,Ni,!0),F,e)}),as=Un(function(t,e){return Ni(t)?We(t,e):[]}),os=Un(function(t){return ar(c(t,Ni))}),ss=Un(function(t){var e=bi(t);return Ni(e)&&(e=F),ar(c(t,Ni),Xr(e,2))}),us=Un(function(t){var e=bi(t);return e="function"==typeof e?e:F,ar(c(t,Ni),F,e)}),ls=Un(Si),cs=Un(function(t){var e=t.length,n=e>1?t[e-1]:F;return n="function"==typeof n?(t.pop(),n):F,Mi(t,n)}),hs=Hr(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,a=function(e){return Be(e,t)};return!(e>1||this.__actions__.length)&&r instanceof S&&ei(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ci,args:[a],thisArg:F}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(F),t})):this.thru(a)}),fs=xr(function(t,e,n){ja.call(t,n)?++t[n]:ze(t,n,1)}),ds=Cr(vi),ps=Cr(mi),gs=xr(function(t,e,n){ja.call(t,n)?t[n].push(e):ze(t,n,[e])}),vs=Un(function(t,e,n){var r=-1,i="function"==typeof e,a=Ri(t)?ya(t.length):[];return Eo(t,function(t){a[++r]=i?s(e,t,n):An(t,e,n)}),a}),ms=xr(function(t,e,n){ze(t,n,e)}),ys=xr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),xs=Un(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ni(t,e[0],e[1])?e=[]:n>2&&ni(e[0],e[1],e[2])&&(e=[e[0]]),Fn(t,en(e,1),[])}),bs=Qa||function(){return sn.Date.now()},_s=Un(function(t,e,n){var r=$;if(n.length){var i=R(n,Yr(_s));r|=et}return zr(t,r,e,n,i)}),ws=Un(function(t,e,n){var r=$|Q;if(n.length){var i=R(n,Yr(ws));r|=et}return zr(e,r,t,n,i)}),Ss=Un(function(t,e){return He(t,1,e)}),Ms=Un(function(t,e,n){return He(t,Ji(e)||0,n)});ki.Cache=Te;var Os=Ro(function(t,e){var n=(e=1==e.length&&Ps(e[0])?d(e[0],A(Xr())):d(en(e,1),A(Xr()))).length;return Un(function(r){for(var i=-1,a=so(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),Cs=Un(function(t,e){var n=R(e,Yr(Cs));return zr(t,et,F,e,n)}),As=Un(function(t,e){var n=R(e,Yr(As));return zr(t,nt,F,e,n)}),Is=Hr(function(t,e){return zr(t,it,F,F,F,e)}),Ts=Dr(xn),Es=Dr(function(t,e){return t>=e}),js=In(function(){return arguments}())?In:function(t){return Hi(t)&&ja.call(t,"callee")&&!Wa.call(t,"callee")},Ps=ya.isArray,ks=dn?A(dn):function(t){return Hi(t)&&fn(t)==Rt},Ds=no||ma,Ls=pn?A(pn):function(t){return Hi(t)&&fn(t)==bt},Rs=gn?A(gn):function(t){return Hi(t)&&Go(t)==Ot},Ns=vn?A(vn):function(t){return Hi(t)&&fn(t)==Et},zs=mn?A(mn):function(t){return Hi(t)&&Go(t)==jt},Bs=yn?A(yn):function(t){return Hi(t)&&Vi(t.length)&&!!Ke[fn(t)]},Fs=Dr(Dn),Vs=Dr(function(t,e){return t<=e}),Gs=br(function(t,e){if(ai(e)||Ri(e))yr(e,ra(e),t);else for(var n in e)ja.call(e,n)&&Le(t,n,e[n])}),Hs=br(function(t,e){yr(e,ia(e),t)}),Ws=br(function(t,e,n,r){yr(e,ia(e),t,r)}),qs=br(function(t,e,n,r){yr(e,ra(e),t,r)}),Us=Hr(Be),Ys=Un(function(t){return t.push(F,Br),s(Ws,F,t)}),Xs=Un(function(t){return t.push(F,Fr),s(Ks,F,t)}),Zs=Tr(function(t,e,n){t[e]=n},ca(ha)),$s=Tr(function(t,e,n){ja.call(t,e)?t[e].push(n):t[e]=[n]},Xr),Qs=Un(An),Js=br(function(t,e,n){zn(t,e,n)}),Ks=br(function(t,e,n,r){zn(t,e,n,r)}),tu=Hr(function(t,e){var n={};if(null==t)return n;var r=!1;e=d(e,function(e){return e=lr(e,t),r||(r=e.length>1),e}),yr(t,qr(t),n),r&&(n=Ve(n,q|U|Y,Vr));for(var i=e.length;i--;)er(n,e[i]);return n}),eu=Hr(function(t,e){return null==t?{}:function(t,e){return Vn(t,e,function(e,n){return na(t,n)})}(t,e)}),nu=Nr(ra),ru=Nr(ia),iu=Mr(function(t,e,n){return e=e.toLowerCase(),t+(n?sa(e):e)}),au=Mr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ou=Mr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),su=Sr("toLowerCase"),uu=Mr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),lu=Mr(function(t,e,n){return t+(n?" ":"")+hu(e)}),cu=Mr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),hu=Sr("toUpperCase"),fu=Un(function(t,e){try{return s(t,F,e)}catch(t){return zi(t)?t:new ba(t)}}),du=Hr(function(t,e){return u(e,function(e){e=di(e),ze(t,e,_s(t[e],t))}),t}),pu=Ar(),gu=Ar(!0),vu=Un(function(t,e){return function(n){return An(n,t,e)}}),mu=Un(function(t,e){return function(n){return An(t,n,e)}}),yu=jr(d),xu=jr(l),bu=jr(v),_u=kr(),wu=kr(!0),Su=Er(function(t,e){return t+e},0),Mu=Rr("ceil"),Ou=Er(function(t,e){return t/e},1),Cu=Rr("floor"),Au=Er(function(t,e){return t*e},1),Iu=Rr("round"),Tu=Er(function(t,e){return t-e},0);return n.after=function(t,e){if("function"!=typeof e)throw new Ca(G);return t=$i(t),function(){if(--t<1)return e.apply(this,arguments)}},n.ary=Ei,n.assign=Gs,n.assignIn=Hs,n.assignInWith=Ws,n.assignWith=qs,n.at=Us,n.before=ji,n.bind=_s,n.bindAll=du,n.bindKey=ws,n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ps(t)?t:[t]},n.chain=Oi,n.chunk=function(t,e,n){e=(n?ni(t,e,n):e===F)?1:oo($i(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,a=0,o=ya(Ka(r/e));i<r;)o[a++]=Xn(t,i,i+=e);return o},n.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var a=t[e];a&&(i[r++]=a)}return i},n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=ya(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(Ps(n)?mr(n):[n],en(e,1))},n.cond=function(t){var e=null==t?0:t.length,n=Xr();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new Ca(G);return[n(t[0]),t[1]]}):[],Un(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})},n.conforms=function(t){return function(t){var e=ra(t);return function(n){return Ge(n,t,e)}}(Ve(t,q))},n.constant=ca,n.countBy=fs,n.create=function(t,e){var n=To(t);return null==e?n:Ne(n,e)},n.curry=function t(e,n,r){var i=zr(e,K,F,F,F,F,F,n=r?F:n);return i.placeholder=t.placeholder,i},n.curryRight=function t(e,n,r){var i=zr(e,tt,F,F,F,F,F,n=r?F:n);return i.placeholder=t.placeholder,i},n.debounce=Pi,n.defaults=Ys,n.defaultsDeep=Xs,n.defer=Ss,n.delay=Ms,n.difference=Xo,n.differenceBy=Zo,n.differenceWith=$o,n.drop=function(t,e,n){var r=null==t?0:t.length;return r?Xn(t,(e=n||e===F?1:$i(e))<0?0:e,r):[]},n.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Xn(t,0,(e=r-(e=n||e===F?1:$i(e)))<0?0:e):[]},n.dropRightWhile=function(t,e){return t&&t.length?rr(t,Xr(e,3),!0,!0):[]},n.dropWhile=function(t,e){return t&&t.length?rr(t,Xr(e,3),!0):[]},n.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ni(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=$i(n))<0&&(n=-n>i?0:i+n),(r=r===F||r>i?i:$i(r))<0&&(r+=i),r=n>r?0:Qi(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},n.filter=function(t,e){return(Ps(t)?c:Ze)(t,Xr(e,3))},n.flatMap=function(t,e){return en(Ti(t,e),1)},n.flatMapDeep=function(t,e){return en(Ti(t,e),ut)},n.flatMapDepth=function(t,e,n){return n=n===F?1:$i(n),en(Ti(t,e),n)},n.flatten=yi,n.flattenDeep=function(t){return null!=t&&t.length?en(t,ut):[]},n.flattenDepth=function(t,e){return null!=t&&t.length?en(t,e=e===F?1:$i(e)):[]},n.flip=function(t){return zr(t,at)},n.flow=pu,n.flowRight=gu,n.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},n.functions=function(t){return null==t?[]:un(t,ra(t))},n.functionsIn=function(t){return null==t?[]:un(t,ia(t))},n.groupBy=gs,n.initial=function(t){return null!=t&&t.length?Xn(t,0,-1):[]},n.intersection=Qo,n.intersectionBy=Jo,n.intersectionWith=Ko,n.invert=Zs,n.invertBy=$s,n.invokeMap=vs,n.iteratee=fa,n.keyBy=ms,n.keys=ra,n.keysIn=ia,n.map=Ti,n.mapKeys=function(t,e){var n={};return e=Xr(e,3),an(t,function(t,r,i){ze(n,e(t,r,i),t)}),n},n.mapValues=function(t,e){var n={};return e=Xr(e,3),an(t,function(t,r,i){ze(n,r,e(t,r,i))}),n},n.matches=function(t){return Rn(Ve(t,q))},n.matchesProperty=function(t,e){return Nn(t,Ve(e,q))},n.memoize=ki,n.merge=Js,n.mergeWith=Ks,n.method=vu,n.methodOf=mu,n.mixin=da,n.negate=Di,n.nthArg=function(t){return t=$i(t),Un(function(e){return Bn(e,t)})},n.omit=tu,n.omitBy=function(t,e){return aa(t,Di(Xr(e)))},n.once=function(t){return ji(2,t)},n.orderBy=function(t,e,n,r){return null==t?[]:(Ps(e)||(e=null==e?[]:[e]),Ps(n=r?F:n)||(n=null==n?[]:[n]),Fn(t,e,n))},n.over=yu,n.overArgs=Os,n.overEvery=xu,n.overSome=bu,n.partial=Cs,n.partialRight=As,n.partition=ys,n.pick=eu,n.pickBy=aa,n.property=ga,n.propertyOf=function(t){return function(e){return null==t?F:ln(t,e)}},n.pull=ts,n.pullAll=_i,n.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gn(t,e,Xr(n,2)):t},n.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gn(t,e,F,n):t},n.pullAt=es,n.range=_u,n.rangeRight=wu,n.rearg=Is,n.reject=function(t,e){return(Ps(t)?c:Ze)(t,Di(Xr(e,3)))},n.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;for(e=Xr(e,3);++r<a;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Hn(t,i),n},n.rest=function(t,e){if("function"!=typeof t)throw new Ca(G);return Un(t,e=e===F?e:$i(e))},n.reverse=wi,n.sampleSize=function(t,e,n){return e=(n?ni(t,e,n):e===F)?1:$i(e),(Ps(t)?function(t,e){return fi(mr(t),Fe(e,0,t.length))}:function(t,e){var n=oa(t);return fi(n,Fe(e,0,n.length))})(t,e)},n.set=function(t,e,n){return null==t?t:Yn(t,e,n)},n.setWith=function(t,e,n,r){return r="function"==typeof r?r:F,null==t?t:Yn(t,e,n,r)},n.shuffle=function(t){return(Ps(t)?function(t){return fi(mr(t))}:function(t){return fi(oa(t))})(t)},n.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ni(t,e,n)?(e=0,n=r):(e=null==e?0:$i(e),n=n===F?r:$i(n)),Xn(t,e,n)):[]},n.sortBy=xs,n.sortedUniq=function(t){return t&&t.length?Qn(t):[]},n.sortedUniqBy=function(t,e){return t&&t.length?Qn(t,Xr(e,2)):[]},n.split=function(t,e,n){return n&&"number"!=typeof n&&ni(t,e,n)&&(e=n=F),(n=n===F?ft:n>>>0)?(t=ta(t))&&("string"==typeof e||null!=e&&!Ns(e))&&!(e=Kn(e))&&k(t)?cr(B(t),0,n):t.split(e,n):[]},n.spread=function(t,e){if("function"!=typeof t)throw new Ca(G);return e=null==e?0:oo($i(e),0),Un(function(n){var r=n[e],i=cr(n,0,e);return r&&p(i,r),s(t,this,i)})},n.tail=function(t){var e=null==t?0:t.length;return e?Xn(t,1,e):[]},n.take=function(t,e,n){return t&&t.length?Xn(t,0,(e=n||e===F?1:$i(e))<0?0:e):[]},n.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Xn(t,(e=r-(e=n||e===F?1:$i(e)))<0?0:e,r):[]},n.takeRightWhile=function(t,e){return t&&t.length?rr(t,Xr(e,3),!1,!0):[]},n.takeWhile=function(t,e){return t&&t.length?rr(t,Xr(e,3)):[]},n.tap=function(t,e){return e(t),t},n.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ca(G);return Gi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pi(t,e,{leading:r,maxWait:e,trailing:i})},n.thru=Ci,n.toArray=Xi,n.toPairs=nu,n.toPairsIn=ru,n.toPath=function(t){return Ps(t)?d(t,di):Yi(t)?[t]:mr(Yo(ta(t)))},n.toPlainObject=Ki,n.transform=function(t,e,n){var r=Ps(t),i=r||Ds(t)||Bs(t);if(e=Xr(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:Gi(t)&&Bi(a)?To(Ga(t)):{}}return(i?u:an)(t,function(t,r,i){return e(n,t,r,i)}),n},n.unary=function(t){return Ei(t,1)},n.union=ns,n.unionBy=rs,n.unionWith=is,n.uniq=function(t){return t&&t.length?tr(t):[]},n.uniqBy=function(t,e){return t&&t.length?tr(t,Xr(e,2)):[]},n.uniqWith=function(t,e){return e="function"==typeof e?e:F,t&&t.length?tr(t,F,e):[]},n.unset=function(t,e){return null==t||er(t,e)},n.unzip=Si,n.unzipWith=Mi,n.update=function(t,e,n){return null==t?t:nr(t,e,ur(n))},n.updateWith=function(t,e,n,r){return r="function"==typeof r?r:F,null==t?t:nr(t,e,ur(n),r)},n.values=oa,n.valuesIn=function(t){return null==t?[]:I(t,ia(t))},n.without=as,n.words=la,n.wrap=function(t,e){return Cs(ur(e),t)},n.xor=os,n.xorBy=ss,n.xorWith=us,n.zip=ls,n.zipObject=function(t,e){return or(t||[],e||[],Le)},n.zipObjectDeep=function(t,e){return or(t||[],e||[],Yn)},n.zipWith=cs,n.entries=nu,n.entriesIn=ru,n.extend=Hs,n.extendWith=Ws,da(n,n),n.add=Su,n.attempt=fu,n.camelCase=iu,n.capitalize=sa,n.ceil=Mu,n.clamp=function(t,e,n){return n===F&&(n=e,e=F),n!==F&&(n=(n=Ji(n))==n?n:0),e!==F&&(e=(e=Ji(e))==e?e:0),Fe(Ji(t),e,n)},n.clone=function(t){return Ve(t,Y)},n.cloneDeep=function(t){return Ve(t,q|Y)},n.cloneDeepWith=function(t,e){return Ve(t,q|Y,e="function"==typeof e?e:F)},n.cloneWith=function(t,e){return Ve(t,Y,e="function"==typeof e?e:F)},n.conformsTo=function(t,e){return null==e||Ge(t,e,ra(e))},n.deburr=ua,n.defaultTo=function(t,e){return null==t||t!=t?e:t},n.divide=Ou,n.endsWith=function(t,e,n){t=ta(t),e=Kn(e);var r=t.length,i=n=n===F?r:Fe($i(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},n.eq=Li,n.escape=function(t){return(t=ta(t))&&Kt.test(t)?t.replace(Qt,_n):t},n.escapeRegExp=function(t){return(t=ta(t))&&ue.test(t)?t.replace(se,"\\$&"):t},n.every=function(t,e,n){var r=Ps(t)?l:function(t,e){var n=!0;return Eo(t,function(t,r,i){return n=!!e(t,r,i)}),n};return n&&ni(t,e,n)&&(e=F),r(t,Xr(e,3))},n.find=ds,n.findIndex=vi,n.findKey=function(t,e){return m(t,Xr(e,3),an)},n.findLast=ps,n.findLastIndex=mi,n.findLastKey=function(t,e){return m(t,Xr(e,3),on)},n.floor=Cu,n.forEach=Ai,n.forEachRight=Ii,n.forIn=function(t,e){return null==t?t:Po(t,Xr(e,3),ia)},n.forInRight=function(t,e){return null==t?t:ko(t,Xr(e,3),ia)},n.forOwn=function(t,e){return t&&an(t,Xr(e,3))},n.forOwnRight=function(t,e){return t&&on(t,Xr(e,3))},n.get=ea,n.gt=Ts,n.gte=Es,n.has=function(t,e){return null!=t&&Jr(t,e,Mn)},n.hasIn=na,n.head=xi,n.identity=ha,n.includes=function(t,e,n,r){t=Ri(t)?t:oa(t),n=n&&!r?$i(n):0;var i=t.length;return n<0&&(n=oo(i+n,0)),Ui(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&x(t,e,n)>-1},n.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:$i(n);return i<0&&(i=oo(r+i,0)),x(t,e,i)},n.inRange=function(t,e,n){return e=Zi(e),n===F?(n=e,e=0):n=Zi(n),function(t,e,n){return t>=so(e,n)&&t<oo(e,n)}(t=Ji(t),e,n)},n.invoke=Qs,n.isArguments=js,n.isArray=Ps,n.isArrayBuffer=ks,n.isArrayLike=Ri,n.isArrayLikeObject=Ni,n.isBoolean=function(t){return!0===t||!1===t||Hi(t)&&fn(t)==xt},n.isBuffer=Ds,n.isDate=Ls,n.isElement=function(t){return Hi(t)&&1===t.nodeType&&!qi(t)},n.isEmpty=function(t){if(null==t)return!0;if(Ri(t)&&(Ps(t)||"string"==typeof t||"function"==typeof t.splice||Ds(t)||Bs(t)||js(t)))return!t.length;var e=Go(t);if(e==Ot||e==jt)return!t.size;if(ai(t))return!kn(t).length;for(var n in t)if(ja.call(t,n))return!1;return!0},n.isEqual=function(t,e){return Tn(t,e)},n.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:F)?n(t,e):F;return r===F?Tn(t,e,F,n):!!r},n.isError=zi,n.isFinite=function(t){return"number"==typeof t&&ro(t)},n.isFunction=Bi,n.isInteger=Fi,n.isLength=Vi,n.isMap=Rs,n.isMatch=function(t,e){return t===e||En(t,e,$r(e))},n.isMatchWith=function(t,e,n){return n="function"==typeof n?n:F,En(t,e,$r(e),n)},n.isNaN=function(t){return Wi(t)&&t!=+t},n.isNative=function(t){if(Ho(t))throw new ba("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jn(t)},n.isNil=function(t){return null==t},n.isNull=function(t){return null===t},n.isNumber=Wi,n.isObject=Gi,n.isObjectLike=Hi,n.isPlainObject=qi,n.isRegExp=Ns,n.isSafeInteger=function(t){return Fi(t)&&t>=-lt&&t<=lt},n.isSet=zs,n.isString=Ui,n.isSymbol=Yi,n.isTypedArray=Bs,n.isUndefined=function(t){return t===F},n.isWeakMap=function(t){return Hi(t)&&Go(t)==Lt},n.isWeakSet=function(t){return Hi(t)&&"[object WeakSet]"==fn(t)},n.join=function(t,e){return null==t?"":io.call(t,e)},n.kebabCase=au,n.last=bi,n.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==F&&(i=(i=$i(n))<0?oo(r+i,0):so(i,r-1)),e==e?function(t,e,n){for(var r=i+1;r--;)if(t[r]===e)return r;return r}(t,e):y(t,b,i,!0)},n.lowerCase=ou,n.lowerFirst=su,n.lt=Fs,n.lte=Vs,n.max=function(t){return t&&t.length?Ye(t,ha,xn):F},n.maxBy=function(t,e){return t&&t.length?Ye(t,Xr(e,2),xn):F},n.mean=function(t){return _(t,ha)},n.meanBy=function(t,e){return _(t,Xr(e,2))},n.min=function(t){return t&&t.length?Ye(t,ha,Dn):F},n.minBy=function(t,e){return t&&t.length?Ye(t,Xr(e,2),Dn):F},n.stubArray=va,n.stubFalse=ma,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Au,n.nth=function(t,e){return t&&t.length?Bn(t,$i(e)):F},n.noConflict=function(){return sn._===this&&(sn._=Ra),this},n.noop=pa,n.now=bs,n.pad=function(t,e,n){t=ta(t);var r=(e=$i(e))?z(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Pr(to(i),n)+t+Pr(Ka(i),n)},n.padEnd=function(t,e,n){t=ta(t);var r=(e=$i(e))?z(t):0;return e&&r<e?t+Pr(e-r,n):t},n.padStart=function(t,e,n){t=ta(t);var r=(e=$i(e))?z(t):0;return e&&r<e?Pr(e-r,n)+t:t},n.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),lo(ta(t).replace(ce,""),e||0)},n.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ni(t,e,n)&&(e=n=F),n===F&&("boolean"==typeof e?(n=e,e=F):"boolean"==typeof t&&(n=t,t=F)),t===F&&e===F?(t=0,e=1):(t=Zi(t),e===F?(e=t,t=0):e=Zi(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=co();return so(t+i*(e-t+nn("1e-"+((i+"").length-1))),e)}return Wn(t,e)},n.reduce=function(t,e,n){var r=Ps(t)?g:M,i=arguments.length<3;return r(t,Xr(e,4),n,i,Eo)},n.reduceRight=function(t,e,n){var r=Ps(t)?function(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}:M,i=arguments.length<3;return r(t,Xr(e,4),n,i,jo)},n.repeat=function(t,e,n){return e=(n?ni(t,e,n):e===F)?1:$i(e),qn(ta(t),e)},n.replace=function(){var t=arguments,e=ta(t[0]);return t.length<3?e:e.replace(t[1],t[2])},n.result=function(t,e,n){var r=-1,i=(e=lr(e,t)).length;for(i||(i=1,t=F);++r<i;){var a=null==t?F:t[di(e[r])];a===F&&(r=i,a=n),t=Bi(a)?a.call(t):a}return t},n.round=Iu,n.runInContext=t,n.sample=function(t){return(Ps(t)?ke:function(t){return ke(oa(t))})(t)},n.size=function(t){if(null==t)return 0;if(Ri(t))return Ui(t)?z(t):t.length;var e=Go(t);return e==Ot||e==jt?t.size:kn(t).length},n.snakeCase=uu,n.some=function(t,e,n){var r=Ps(t)?v:function(t,e){var n;return Eo(t,function(t,r,i){return!(n=e(t,r,i))}),!!n};return n&&ni(t,e,n)&&(e=F),r(t,Xr(e,3))},n.sortedIndex=function(t,e){return Zn(t,e)},n.sortedIndexBy=function(t,e,n){return $n(t,e,Xr(n,2))},n.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Zn(t,e);if(r<n&&Li(t[r],e))return r}return-1},n.sortedLastIndex=function(t,e){return Zn(t,e,!0)},n.sortedLastIndexBy=function(t,e,n){return $n(t,e,Xr(n,2),!0)},n.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Zn(t,e,!0)-1;if(Li(t[n],e))return n}return-1},n.startCase=lu,n.startsWith=function(t,e,n){return t=ta(t),n=null==n?0:Fe($i(n),0,t.length),e=Kn(e),t.slice(n,n+e.length)==e},n.subtract=Tu,n.sum=function(t){return t&&t.length?O(t,ha):0},n.sumBy=function(t,e){return t&&t.length?O(t,Xr(e,2)):0},n.template=function(t,e,r){var i=n.templateSettings;r&&ni(t,e,r)&&(e=F),t=ta(t),e=Ws({},e,i,Br);var a,o,s=Ws({},e.imports,i.imports,Br),u=ra(s),l=I(s,u),c=0,h=e.interpolate||Oe,f="__p += '",d=Ma((e.escape||Oe).source+"|"+h.source+"|"+(h===ne?me:Oe).source+"|"+(e.evaluate||Oe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Je+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(c,u).replace(Ce,P),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var g=e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(Yt,""):f).replace(Xt,"$1").replace(Zt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=fu(function(){return _a(u,p+"return "+f).apply(F,l)});if(v.source=f,zi(v))throw v;return v},n.times=function(t,e){if((t=$i(t))<1||t>lt)return[];var n=ft,r=so(t,ft);e=Xr(e),t-=ft;for(var i=C(r,e);++n<t;)e(n);return i},n.toFinite=Zi,n.toInteger=$i,n.toLength=Qi,n.toLower=function(t){return ta(t).toLowerCase()},n.toNumber=Ji,n.toSafeInteger=function(t){return t?Fe($i(t),-lt,lt):0===t?t:0},n.toString=ta,n.toUpper=function(t){return ta(t).toUpperCase()},n.trim=function(t,e,n){if((t=ta(t))&&(n||e===F))return t.replace(le,"");if(!t||!(e=Kn(e)))return t;var r=B(t),i=B(e);return cr(r,E(r,i),j(r,i)+1).join("")},n.trimEnd=function(t,e,n){if((t=ta(t))&&(n||e===F))return t.replace(he,"");if(!t||!(e=Kn(e)))return t;var r=B(t);return cr(r,0,j(r,B(e))+1).join("")},n.trimStart=function(t,e,n){if((t=ta(t))&&(n||e===F))return t.replace(ce,"");if(!t||!(e=Kn(e)))return t;var r=B(t);return cr(r,E(r,B(e))).join("")},n.truncate=function(t,e){var n=30,r="...";if(Gi(e)){var i="separator"in e?e.separator:i;n="length"in e?$i(e.length):n,r="omission"in e?Kn(e.omission):r}var a=(t=ta(t)).length;if(k(t)){var o=B(t);a=o.length}if(n>=a)return t;var s=n-z(r);if(s<1)return r;var u=o?cr(o,0,s).join(""):t.slice(0,s);if(i===F)return u+r;if(o&&(s+=u.length-s),Ns(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=Ma(i.source,ta(ye.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===F?s:h)}}else if(t.indexOf(Kn(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},n.unescape=function(t){return(t=ta(t))&&Jt.test(t)?t.replace($t,wn):t},n.uniqueId=function(t){var e=++Pa;return ta(t)+e},n.upperCase=cu,n.upperFirst=hu,n.each=Ai,n.eachRight=Ii,n.first=xi,da(n,function(){var t={};return an(n,function(e,r){ja.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),u(["drop","take"],function(t,e){S.prototype[t]=function(n){n=n===F?1:oo($i(n),0);var r=this.__filtered__&&!e?new S(this):this.clone();return r.__filtered__?r.__takeCount__=so(n,r.__takeCount__):r.__views__.push({size:so(n,ft),type:t+(r.__dir__<0?"Right":"")}),r},S.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;S.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xr(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");S.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");S.prototype[t]=function(){return this.__filtered__?new S(this):this[n](1)}}),S.prototype.compact=function(){return this.filter(ha)},S.prototype.find=function(t){return this.filter(t).head()},S.prototype.findLast=function(t){return this.reverse().find(t)},S.prototype.invokeMap=Un(function(t,e){return"function"==typeof t?new S(this):this.map(function(n){return An(n,t,e)})}),S.prototype.reject=function(t){return this.filter(Di(Xr(t)))},S.prototype.slice=function(t,e){t=$i(t);var n=this;return n.__filtered__&&(t>0||e<0)?new S(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==F&&(n=(e=$i(e))<0?n.dropRight(-e):n.take(e-t)),n)},S.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},S.prototype.toArray=function(){return this.take(ft)},an(S.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),o=n[a?"take"+("last"==e?"Right":""):e],s=a||/^find/.test(e);o&&(n.prototype[e]=function(){var e=this.__wrapped__,u=a?[1]:arguments,l=e instanceof S,c=u[0],h=l||Ps(e),f=function(t){var e=o.apply(n,p([t],u));return a&&d?e[0]:e};h&&r&&"function"==typeof c&&1!=c.length&&(l=h=!1);var d=this.__chain__,g=s&&!d,v=l&&!this.__actions__.length;if(!s&&h){e=v?e:new S(this);var m=t.apply(e,u);return m.__actions__.push({func:Ci,args:[f],thisArg:F}),new i(m,d)}return g&&v?t.apply(this,u):(m=this.thru(f),g?a?m.value()[0]:m.value():m)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var e=Aa[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(Ps(n)?n:[],t)}return this[r](function(n){return e.apply(Ps(n)?n:[],t)})}}),an(S.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(bo[i]||(bo[i]=[])).push({name:e,func:r})}}),bo[Ir(F,Q).name]=[{name:"wrapper",func:F}],S.prototype.clone=function(){var t=new S(this.__wrapped__);return t.__actions__=mr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mr(this.__views__),t},S.prototype.reverse=function(){if(this.__filtered__){var t=new S(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},S.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ps(t),r=e<0,i=n?t.length:0,a=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=so(e,t+o);break;case"takeRight":t=oo(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,h=c.length,f=0,d=so(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ir(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[l+=e];++g<h;){var m=c[g],y=m.type,x=(0,m.iteratee)(v);if(2==y)v=x;else if(!x){if(1==y)continue t;break t}}p[f++]=v}return p},n.prototype.at=hs,n.prototype.chain=function(){return Oi(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===F&&(this.__values__=Xi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?F:this.__values__[this.__index__++]}},n.prototype.plant=function(t){for(var e,n=this;n instanceof r;){var i=gi(n);i.__index__=0,i.__values__=F,e?a.__wrapped__=i:e=i;var a=i;n=n.__wrapped__}return a.__wrapped__=t,e},n.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof S){var e=t;return this.__actions__.length&&(e=new S(this)),(e=e.reverse()).__actions__.push({func:Ci,args:[wi],thisArg:F}),new i(e,this.__chain__)}return this.thru(wi)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,Ya&&(n.prototype[Ya]=function(){return this}),n}();sn._=Sn,(i=(function(){return Sn}).call(e,n,e,r))!==F&&(r.exports=i)}).call(this)}).call(e,n(146),n(65)(t))},function(t,e,n){var r=n(14),i=n(264);t.exports=function(t,e,n,r){return function(t,e,n,r){var a,o,s={},u=new i,l=function(t){var e=t.v!==a?t.v:t.w,r=s[e],i=n(t),l=o.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=a,u.decrease(e,l))};for(t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)});u.size()>0&&(a=u.removeMin(),(o=s[a]).distance!==Number.POSITIVE_INFINITY);)r(a).forEach(l);return s}(t,String(e),n||a,r||function(e){return t.outEdges(e)})};var a=r.constant(1)},function(t,e,n){function r(){this._arr=[],this._keyIndices={}}var i=n(14);t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return i.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!i.has(n,t)){var r=this._arr,a=r.length;return n[t]=a,r.push({key:t,priority:e}),this._decrease(a),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},r.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],a=n[e];n[t]=a,n[e]=i,r[a.key]=t,r[i.key]=e}},function(t,e,n){var r=n(14);t.exports=function(t){function e(s){var u=a[s]={onStack:!0,lowlink:n,index:n++};if(i.push(s),t.successors(s).forEach(function(t){r.has(a,t)?a[t].onStack&&(u.lowlink=Math.min(u.lowlink,a[t].index)):(e(t),u.lowlink=Math.min(u.lowlink,a[t].lowlink))}),u.lowlink===u.index){var l,c=[];do{l=i.pop(),a[l].onStack=!1,c.push(l)}while(s!==l);o.push(c)}}var n=0,i=[],a={},o=[];return t.nodes().forEach(function(t){r.has(a,t)||e(t)}),o}},function(t,e,n){function r(t){var e={},n={},r=[];if(a.each(t.sinks(),function o(s){if(a.has(n,s))throw new i;a.has(e,s)||(n[s]=!0,e[s]=!0,a.each(t.predecessors(s),o),delete n[s],r.push(s))}),a.size(e)!==t.nodeCount())throw new i;return r}function i(){}var a=n(14);t.exports=r,r.CycleException=i},function(t,e,n){var r=n(14);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],o={};return r.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,i,a,o,s){r.has(a,n)||(a[n]=!0,i||s.push(n),r.each(o(n),function(n){t(e,n,i,a,o,s)}),i&&s.push(n))}(t,e,"post"===n,o,i,a)}),a}},function(t,e,n){"use strict";var r=n(8),i=n(17).Graph,a=n(80).slack;t.exports=function(t){var e,n=new i({directed:!1}),o=t.nodes()[0],s=t.nodeCount();for(n.setNode(o,{});function(t,e){return r.forEach(t.nodes(),function n(i){r.forEach(e.nodeEdges(i),function(r){var o=r.v,s=i===o?r.w:o;t.hasNode(s)||a(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))})}),t.nodeCount()}(n,t)<s;)e=function(t,e){return r.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return a(e,n)})}(n,t),function(t,e,n){r.forEach(t.nodes(),function(t){e.node(t).rank+=n})}(n,t,n.hasNode(e.v)?a(t,e):-a(t,e));return n}},function(t,e,n){"use strict";function r(t){return t.target.depth}e.c=function(t){return t.depth},e.d=function(t,e){return e-1-t.height},e.b=function(t,e){return t.sourceLinks.length?t.depth:e-1},e.a=function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(i.min)(t.sourceLinks,r)-1:0};var i=n(16)},function(t,e,n){"use strict";var r=n(39),i=n(34),a=n(81),o=n(137),s=n(138);e.a=function(){function t(t){var e,i,a,o,s,g=t.length,v=!1,m=new Array(g),y=new Array(g);for(null==f&&(p=d(s=Object(r.path)())),e=0;e<=g;++e){if(!(e<g&&h(o=t[e],e,t))===v)if(v=!v)i=e,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),a=e-1;a>=i;--a)p.point(m[a],y[a]);p.lineEnd(),p.areaEnd()}v&&(m[e]=+n(o,e,t),y[e]=+l(o,e,t),p.point(u?+u(o,e,t):m[e],c?+c(o,e,t):y[e]))}if(s)return p=null,s+""||null}function e(){return Object(o.a)().defined(h).curve(d).context(f)}var n=s.a,u=null,l=Object(i.a)(0),c=s.b,h=Object(i.a)(!0),f=null,d=a.a,p=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),u=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.x1=function(e){return arguments.length?(u=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):u},t.y=function(e){return arguments.length?(l="function"==typeof e?e:Object(i.a)(+e),c=null,t):l},t.y0=function(e){return arguments.length?(l="function"==typeof e?e:Object(i.a)(+e),t):l},t.y1=function(e){return arguments.length?(c=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):c},t.lineX0=t.lineY0=function(){return e().x(n).y(l)},t.lineY1=function(){return e().x(n).y(c)},t.lineX1=function(){return e().x(u).y(l)},t.defined=function(e){return arguments.length?(h="function"==typeof e?e:Object(i.a)(!!e),t):h},t.curve=function(e){return arguments.length?(d=e,null!=f&&(p=d(f)),t):d},t.context=function(e){return arguments.length?(null==e?f=p=null:p=d(f=e),t):f},t}},function(t,e,n){"use strict";function r(t){this._curve=t}function i(t){function e(e){return new r(t(e))}return e._curve=t,e}n.d(e,"a",function(){return a}),e.b=i;var a=i(n(81).a);r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}},function(t,e,n){"use strict";e.a=function(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t};var r=n(271);n(137)},function(t,e,n){"use strict";e.a=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(57);e.a={draw:function(t,e){var n=Math.sqrt(e/r.j);t.moveTo(n,0),t.arc(0,0,n,0,r.m)}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}},function(t,e,n){"use strict";var r=Math.sqrt(1/3),i=2*r;e.a={draw:function(t,e){var n=Math.sqrt(e/i),a=n*r;t.moveTo(0,-n),t.lineTo(a,0),t.lineTo(0,n),t.lineTo(-a,0),t.closePath()}}},function(t,e,n){"use strict";var r=n(57),i=Math.sin(r.j/10)/Math.sin(7*r.j/10),a=Math.sin(r.m/10)*i,o=-Math.cos(r.m/10)*i;e.a={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=a*n,s=o*n;t.moveTo(0,-n),t.lineTo(i,s);for(var u=1;u<5;++u){var l=r.m*u/5,c=Math.cos(l),h=Math.sin(l);t.lineTo(h*n,-c*n),t.lineTo(c*i-h*s,h*i+c*s)}t.closePath()}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}},function(t,e,n){"use strict";var r=Math.sqrt(3);e.a={draw:function(t,e){var n=-Math.sqrt(e/(3*r));t.moveTo(0,2*n),t.lineTo(-r*n,-n),t.lineTo(r*n,-n),t.closePath()}}},function(t,e,n){"use strict";var r=-.5,i=Math.sqrt(3)/2,a=1/Math.sqrt(12),o=3*(a/2+1);e.a={draw:function(t,e){var n=Math.sqrt(e/o),s=n/2,u=n*a,l=s,c=n*a+n,h=-l,f=c;t.moveTo(s,u),t.lineTo(l,c),t.lineTo(h,f),t.lineTo(r*s-i*u,i*s+r*u),t.lineTo(r*l-i*c,i*l+r*c),t.lineTo(r*h-i*f,i*h+r*f),t.lineTo(r*s+i*u,r*u-i*s),t.lineTo(r*l+i*c,r*c-i*l),t.lineTo(r*h+i*f,r*f-i*h),t.closePath()}}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(82),a=n(84);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(a.b)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(84);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.b)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function i(t,e){return e[+(e.left!==t.site)]}function a(t,e){return e[+(e.left===t.site)]}e.c=function(t){return s.b[t.index]={site:t,halfedges:[]}},e.a=i,e.d=function(){for(var t,e,n,i,a=0,o=s.b.length;a<o;++a)if((t=s.b[a])&&(i=(e=t.halfedges).length)){var u=new Array(i),l=new Array(i);for(n=0;n<i;++n)u[n]=n,l[n]=r(t,s.e[e[n]]);for(u.sort(function(t,e){return l[e]-l[t]}),n=0;n<i;++n)l[n]=e[u[n]];for(n=0;n<i;++n)e[n]=l[n]}},e.b=function(t,e,n,r){var u,l,c,h,f,d,p,g,v,m,y,x,b=s.b.length,_=!0;for(u=0;u<b;++u)if(l=s.b[u]){for(c=l.site,h=(f=l.halfedges).length;h--;)s.e[f[h]]||f.splice(h,1);for(h=0,d=f.length;h<d;)y=(m=a(l,s.e[f[h]]))[0],x=m[1],g=(p=i(l,s.e[f[++h%d]]))[0],v=p[1],(Math.abs(y-g)>s.f||Math.abs(x-v)>s.f)&&(f.splice(h,0,s.e.push(Object(o.b)(c,m,Math.abs(y-t)<s.f&&r-x>s.f?[t,Math.abs(g-t)<s.f?v:r]:Math.abs(x-r)<s.f&&n-y>s.f?[Math.abs(v-r)<s.f?g:n,r]:Math.abs(y-n)<s.f&&x-e>s.f?[n,Math.abs(g-n)<s.f?v:e]:Math.abs(x-e)<s.f&&y-t>s.f?[Math.abs(v-e)<s.f?g:t,e]:null))-1),++d);d&&(_=!1)}if(_){var w,S,M,O=1/0;for(u=0,_=null;u<b;++u)(l=s.b[u])&&(M=(w=(c=l.site)[0]-t)*w+(S=c[1]-e)*S)<O&&(O=M,_=l);if(_){var C=[t,e],A=[t,r],I=[n,r],T=[n,e];_.halfedges.push(s.e.push(Object(o.b)(c=_.site,C,A))-1,s.e.push(Object(o.b)(c,A,I))-1,s.e.push(Object(o.b)(c,I,T))-1,s.e.push(Object(o.b)(c,T,C))-1)}}for(u=0;u<b;++u)(l=s.b[u])&&(l.halfedges.length||delete s.b[u])};var o=n(142),s=n(60)},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),e.a=function(t){var e=t.P,n=t.N;if(e&&n){var s=e.site,u=t.site,l=n.site;if(s!==l){var c=u[0],h=u[1],f=s[0]-c,d=s[1]-h,p=l[0]-c,g=l[1]-h,v=2*(f*g-d*p);if(!(v>=-a.g)){var m=f*f+d*d,y=p*p+g*g,x=(g*m-d*y)/v,b=(f*y-p*m)/v,_=o.pop()||new function(){Object(i.a)(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=t,_.site=u,_.x=x+c,_.y=(_.cy=b+h)+Math.sqrt(x*x+b*b),t.circle=_;for(var w=null,S=a.c._;S;)if(_.y<S.y||_.y===S.y&&_.x<=S.x){if(!S.L){w=S.P;break}S=S.L}else{if(!S.R){w=S;break}S=S.R}a.c.insert(w,_),w||(r=_)}}}},e.b=function(t){var e=t.circle;e&&(e.P||(r=e.N),a.c.remove(e),o.push(e),Object(i.a)(e),t.circle=null)};var r,i=n(141),a=n(60),o=[]},function(t,e){function n(t){return Math.abs(t)<=1?.5:0}t.exports={boxcar:n,cosine:function(t){return Math.abs(t)<=1?Math.PI/4*Math.cos(Math.PI/2*t):0},epanechnikov:function(t){return Math.abs(t)<1?.75*(1-t*t):0},gaussian:function(t){return.3989422804*Math.exp(-.5*t*t)},quartic:function(t){if(Math.abs(t)<1){var e=1-t*t;return.9375*e*e}return 0},triangular:function(t){var e=Math.abs(t);return e<1?1-e:0},tricube:function(t){return Math.abs(t)<1?70/81*function(t){var e=1-Math.pow(Math.abs(t),3);return Math.pow(e,3)}(t):0},triweight:function(t){if(Math.abs(t)<1){var e=1-t*t;return 35/32*e*e*e}return 0},uniform:n}},function(t,e,n){n(288),n(537),n(538),n(547),n(594),n(596),n(600),n(248),n(604),n(605),n(607),n(629),n(637),n(638),n(639),n(646),n(647),n(648),n(649),n(650),n(651),n(653),n(654),n(655),n(661),n(662),n(663),n(667),n(672),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(721),n(757),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(771),n(773),n(777),n(778),t.exports=n(2)},function(t,e,n){var r=n(4),i=n(0),a=i.geoArea,o=i.geoCentroid,s=i.geoContains,u=i.geoDistance,l=i.geoLength,c=n(179).geoProject,h=n(47),f=n(214);r(h.prototype,{geoArea:function(t){return a(t)},geoAreaByName:function(t){return a(this.geoFeatureByName(t))},geoCentroid:function(t){return o(t)},geoCentroidByName:function(t){return o(this.geoFeatureByName(t))},geoDistance:function(t,e){return u(t,e)},geoLength:function(t){return l(t)},geoLengthByName:function(t){return l(this.geoFeatureByName(t))},geoContains:function(t,e){return s(t,e)},geoFeatureByName:function(t){var e=void 0;return this.rows.some(function(n){return n.name===t&&(e=n,!0)}),e},geoFeatureByPosition:function(t){var e=void 0;return this.rows.some(function(n){return!!s(n,t)&&(e=n,!0)}),e},geoNameByPosition:function(t){var e=this.geoFeatureByPosition(t);if(e)return e.name},getGeoProjection:f,geoProject:function(t,e,n){return e=f(e,n),c(t,e)},geoProjectByName:function(t,e,n){return e=f(e,n),c(this.geoFeatureByName(t),e)},geoProjectPosition:function(t,e,n){return(e=f(e,n))(t)},geoProjectInvert:function(t,e,n){return(e=f(e,n)).invert(t)}})},function(t,e,n){var r=n(13),i=n(292),a=n(15),o=n(147),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=RegExp("^"+u.toString.call(l.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||i(t))&&(r(t)?c:s).test(o(t))}},function(t,e,n){var r=n(35),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=o.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(293),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(18)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(86),i=n(150);t.exports=function(t){return r(function(e,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),e=Object(e);++r<a;){var u=n[r];u&&t(e,u,r,o)}return e})}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(298),i=n(144),a=n(42);t.exports=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),a=16-(i-r);if(r=i,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(23),i=n(20);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(23),i=n(87),a=n(20),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&i(t.length)&&!!o[r(t)]}},function(t,e,n){(function(t){var r=n(145),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i&&r.process,s=function(){try{return o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s}).call(e,n(65)(t))},function(t,e,n){var r=n(64),i=n(306),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(153)(Object.keys,Object);t.exports=r},function(t,e,n){"use strict";function r(t,e){_.push(w=[d=t,g=t]),e<p&&(p=e),e>v&&(v=e)}function i(t,e){var n=Object(O.a)([t*C.r,e*C.r]);if(b){var r=Object(O.c)(b,n),i=[r[1],-r[0],0],a=Object(O.c)(i,r);Object(O.e)(a),a=Object(O.g)(a);var o,s=t-m,u=s>0?1:-1,l=a[0]*C.h*u,h=Object(C.a)(s)>180;h^(u*m<l&&l<u*t)?(o=a[1]*C.h)>v&&(v=o):h^(u*m<(l=(l+360)%360-180)&&l<u*t)?(o=-a[1]*C.h)<p&&(p=o):(e<p&&(p=e),e>v&&(v=e)),h?t<m?c(d,t)>c(d,g)&&(g=t):c(t,g)>c(d,g)&&(d=t):g>=d?(t<d&&(d=t),t>g&&(g=t)):t>m?c(d,t)>c(d,g)&&(g=t):c(t,g)>c(d,g)&&(d=t)}else _.push(w=[d=t,g=t]);e<p&&(p=e),e>v&&(v=e),b=n,m=t}function a(){T.point=i}function o(){w[0]=d,w[1]=g,T.point=r,b=null}function s(t,e){if(b){var n=t-m;I.add(Object(C.a)(n)>180?n+(n>0?360:-360):n)}else y=t,x=e;M.b.point(t,e),i(t,e)}function u(){M.b.lineStart()}function l(){s(y,x),M.b.lineEnd(),Object(C.a)(I)>C.i&&(d=-(g=180)),w[0]=d,w[1]=g,b=null}function c(t,e){return(e-=t)<0?e+360:e}function h(t,e){return t[0]-e[0]}function f(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var d,p,g,v,m,y,x,b,_,w,S=n(36),M=n(154),O=n(43),C=n(5),A=n(30),I=Object(S.a)(),T={point:r,lineStart:a,lineEnd:o,polygonStart:function(){T.point=s,T.lineStart=u,T.lineEnd=l,I.reset(),M.b.polygonStart()},polygonEnd:function(){M.b.polygonEnd(),T.point=r,T.lineStart=a,T.lineEnd=o,M.a<0?(d=-(g=180),p=-(v=90)):I>C.i?v=90:I<-C.i&&(p=-90),w[0]=d,w[1]=g}};e.a=function(t){var e,n,r,i,a,o,s;if(v=g=-(d=p=1/0),_=[],Object(A.a)(t,T),n=_.length){for(_.sort(h),e=1,a=[r=_[0]];e<n;++e)f(r,(i=_[e])[0])||f(r,i[1])?(c(r[0],i[1])>c(r[0],r[1])&&(r[1]=i[1]),c(i[0],r[1])>c(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)(s=c(r[1],(i=a[e])[0]))>o&&(o=s,d=i[0],g=r[1])}return _=w=null,d===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,p],[g,v]]}},function(t,e,n){"use strict";function r(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e);i(n*Object(T.g)(t),n*Object(T.t)(t),Object(T.t)(e))}function i(t,e,n){g+=(t-g)/++d,v+=(e-v)/d,m+=(n-m)/d}function a(){P.point=o}function o(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e);C=n*Object(T.g)(t),A=n*Object(T.t)(t),I=Object(T.t)(e),P.point=s,i(C,A,I)}function s(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e),r=n*Object(T.g)(t),a=n*Object(T.t)(t),o=Object(T.t)(e),s=Object(T.e)(Object(T.u)((s=A*o-I*a)*s+(s=I*r-C*o)*s+(s=C*a-A*r)*s),C*r+A*a+I*o);p+=s,y+=s*(C+(C=r)),x+=s*(A+(A=a)),b+=s*(I+(I=o)),i(C,A,I)}function u(){P.point=r}function l(){P.point=h}function c(){f(M,O),P.point=r}function h(t,e){M=t,O=e,t*=T.r,e*=T.r,P.point=f;var n=Object(T.g)(e);C=n*Object(T.g)(t),A=n*Object(T.t)(t),I=Object(T.t)(e),i(C,A,I)}function f(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e),r=n*Object(T.g)(t),a=n*Object(T.t)(t),o=Object(T.t)(e),s=A*o-I*a,u=I*r-C*o,l=C*a-A*r,c=Object(T.u)(s*s+u*u+l*l),h=Object(T.c)(c),f=c&&-h/c;_+=f*s,w+=f*u,S+=f*l,p+=h,y+=h*(C+(C=r)),x+=h*(A+(A=a)),b+=h*(I+(I=o)),i(C,A,I)}var d,p,g,v,m,y,x,b,_,w,S,M,O,C,A,I,T=n(5),E=n(25),j=n(30),P={sphere:E.a,point:r,lineStart:a,lineEnd:u,polygonStart:function(){P.lineStart=l,P.lineEnd=c},polygonEnd:function(){P.lineStart=a,P.lineEnd=u}};e.a=function(t){d=p=g=v=m=y=x=b=_=w=S=0,Object(j.a)(t,P);var e=_,n=w,r=S,i=e*e+n*n+r*r;return i<T.j&&(e=y,n=x,r=b,p<T.i&&(e=g,n=v,r=m),(i=e*e+n*n+r*r)<T.j)?[NaN,NaN]:[Object(T.e)(n,e)*T.h,Object(T.c)(r/Object(T.u)(i))*T.h]}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,a){var o,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>l&&(l=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<c&&(c=o)}if(o=r-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=a-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}return l>0&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}}},function(t,e,n){"use strict";var r=n(162);e.a=function(t,e,n){var i,a,o,s,u=t.length,l=e.length,c=new Array(u*l);for(null==n&&(n=r.b),i=o=0;i<u;++i)for(s=t[i],a=0;a<l;++a,++o)c[o]=n(s,e[a]);return c}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";var r=n(166),i=n(160),a=n(314),o=n(165),s=n(315),u=n(167),l=n(168),c=n(169);e.a=function(){function t(t){var r,a,o=t.length,s=new Array(o);for(r=0;r<o;++r)s[r]=e(t[r],r,t);var c=n(s),f=c[0],d=c[1],p=h(s,f,d);Array.isArray(p)||(p=Object(l.c)(f,d,p),p=Object(u.a)(Math.ceil(f/p)*p,Math.floor(d/p)*p,p));for(var g=p.length;p[0]<=f;)p.shift(),--g;for(;p[g-1]>d;)p.pop(),--g;var v,m=new Array(g+1);for(r=0;r<=g;++r)(v=m[r]=[]).x0=r>0?p[r-1]:f,v.x1=r<g?p[r]:d;for(r=0;r<o;++r)f<=(a=s[r])&&a<=d&&m[Object(i.c)(p,a,0,g)].push(t[r]);return m}var e=s.a,n=o.a,h=c.a;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Object(a.a)(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:Object(a.a)([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(h="function"==typeof e?e:Array.isArray(e)?Object(a.a)(r.b.call(e)):Object(a.a)(e),t):h},t}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(166),i=n(37),a=n(44),o=n(92);e.a=function(t,e,n){return t=r.a.call(t,a.a).sort(i.a),Math.ceil((n-e)/(2*(Object(o.a)(t,.75)-Object(o.a)(t,.25))*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";var r=n(163);e.a=function(t,e,n){return Math.ceil((n-e)/(3.5*Object(r.a)(t)*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}},function(t,e,n){"use strict";var r=n(44);e.a=function(t,e){var n,i=t.length,a=i,o=-1,s=0;if(null==e)for(;++o<i;)isNaN(n=Object(r.a)(t[o]))?--a:s+=n;else for(;++o<i;)isNaN(n=Object(r.a)(e(t[o],o,t)))?--a:s+=n;if(a)return s/a}},function(t,e,n){"use strict";var r=n(37),i=n(44),a=n(92);e.a=function(t,e){var n,o=t.length,s=-1,u=[];if(null==e)for(;++s<o;)isNaN(n=Object(i.a)(t[s]))||u.push(n);else for(;++s<o;)isNaN(n=Object(i.a)(e(t[s],s,t)))||u.push(n);return Object(a.a)(u.sort(r.a),.5)}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}},function(t,e,n){"use strict";var r=n(37);e.a=function(t,e){if(n=t.length){var n,i,a=0,o=0,s=t[o];for(null==e&&(e=r.a);++a<n;)(e(i=t[a],s)<0||0!==e(s,s))&&(s=i,o=a);return 0===e(s,s)?o:void 0}}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t}},function(t,e,n){"use strict";e.a=function(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a}},function(t,e,n){"use strict";var r=n(171);e.a=function(){return Object(r.a)(arguments)}},function(t,e,n){"use strict";function r(t,e){return!(!t||!d.hasOwnProperty(t.type))&&d[t.type](t,e)}function i(t,e){return 0===Object(c.a)(t,e)}function a(t,e){var n=Object(c.a)(t[0],t[1]);return Object(c.a)(t[0],e)+Object(c.a)(e,t[1])<=n+h.i}function o(t,e){return!!Object(l.a)(t.map(s),u(e))}function s(t){return(t=t.map(u)).pop(),t}function u(t){return[t[0]*h.r,t[1]*h.r]}var l=n(172),c=n(173),h=n(5),f={Feature:function(t,e){return r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,a=n.length;++i<a;)if(r(n[i].geometry,e))return!0;return!1}},d={Sphere:function(){return!0},Point:function(t,e){return i(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)if(i(n[r],e))return!0;return!1},LineString:function(t,e){return a(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(a(n[r],e))return!0;return!1},Polygon:function(t,e){return o(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(o(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,a=n.length;++i<a;)if(r(n[i],e))return!0;return!1}};e.a=function(t,e){return(t&&f.hasOwnProperty(t.type)?f[t.type]:r)(t,e)}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(o.range)(t,e-s.i,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function i(t,e,n){var r=Object(o.range)(t,e-s.i,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function a(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Object(o.range)(Object(s.f)(l/b)*b,u,b).map(v).concat(Object(o.range)(Object(s.f)(d/_)*_,f,_).map(m)).concat(Object(o.range)(Object(s.f)(a/y)*y,n,y).filter(function(t){return Object(s.a)(t%b)>s.i}).map(p)).concat(Object(o.range)(Object(s.f)(h/x)*x,c,x).filter(function(t){return Object(s.a)(t%_)>s.i}).map(g))}var n,a,u,l,c,h,f,d,p,g,v,m,y=10,x=y,b=90,_=360,w=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[v(l).concat(m(f).slice(1),v(u).reverse().slice(1),m(d).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(d=+e[0][1],f=+e[1][1],(l=+e[0][0])>(u=+e[1][0])&&(e=l,l=u,u=e),d>f&&(e=d,d=f,f=e),t.precision(w)):[[l,d],[u,f]]},t.extentMinor=function(e){return arguments.length?(h=+e[0][1],c=+e[1][1],(a=+e[0][0])>(n=+e[1][0])&&(e=a,a=n,n=e),h>c&&(e=h,h=c,c=e),t.precision(w)):[[a,h],[n,c]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(b=+e[0],_=+e[1],t):[b,_]},t.stepMinor=function(e){return arguments.length?(y=+e[0],x=+e[1],t):[y,x]},t.precision=function(e){return arguments.length?(w=+e,p=r(h,c,90),g=i(a,n,w),v=r(d,f,90),m=i(l,u,w),t):w},t.extentMajor([[-180,-90+s.i],[180,90-s.i]]).extentMinor([[-180,-80-s.i],[180,80+s.i]])}e.a=a,e.b=function(){return a()()};var o=n(16),s=n(5)},function(t,e,n){"use strict";var r=n(5);e.a=function(t,e){var n=t[0]*r.r,i=t[1]*r.r,a=e[0]*r.r,o=e[1]*r.r,s=Object(r.g)(i),u=Object(r.t)(i),l=Object(r.g)(o),c=Object(r.t)(o),h=s*Object(r.g)(n),f=s*Object(r.t)(n),d=l*Object(r.g)(a),p=l*Object(r.t)(a),g=2*Object(r.c)(Object(r.u)(Object(r.m)(o-i)+s*l*Object(r.m)(a-n))),v=Object(r.t)(g),m=g?function(t){var e=Object(r.t)(t*=g)/v,n=Object(r.t)(g-t)/v,i=n*h+e*d,a=n*f+e*p,o=n*u+e*c;return[Object(r.e)(a,i)*r.h,Object(r.e)(o,Object(r.u)(i*i+a*a))*r.h]}:function(){return[n*r.h,i*r.h]};return m.distance=g,m}},function(t,e,n){"use strict";var r=n(93),i=n(30),a=n(331),o=n(175),s=n(332),u=n(333),l=n(334),c=n(335);e.a=function(t,e){function n(t){return t&&("function"==typeof d&&f.pointRadius(+d.apply(this,arguments)),Object(i.a)(t,h(f))),f.result()}var h,f,d=4.5;return n.area=function(t){return Object(i.a)(t,h(a.a)),a.a.result()},n.measure=function(t){return Object(i.a)(t,h(l.a)),l.a.result()},n.bounds=function(t){return Object(i.a)(t,h(o.a)),o.a.result()},n.centroid=function(t){return Object(i.a)(t,h(s.a)),s.a.result()},n.projection=function(e){return arguments.length?(h=null==e?(t=null,r.a):(t=e).stream,n):t},n.context=function(t){return arguments.length?(f=null==t?(e=null,new c.a):new u.a(e=t),"function"!=typeof d&&f.pointRadius(d),n):e},n.pointRadius=function(t){return arguments.length?(d="function"==typeof t?t:(f.pointRadius(+t),+t),n):d},n.projection(t).context(e)}},function(t,e,n){"use strict";function r(){v.point=i}function i(t,e){v.point=a,s=l=t,u=c=e}function a(t,e){g.add(c*t-l*e),l=t,c=e}function o(){a(s,u)}var s,u,l,c,h=n(36),f=n(5),d=n(25),p=Object(h.a)(),g=Object(h.a)(),v={point:d.a,lineStart:d.a,lineEnd:d.a,polygonStart:function(){v.lineStart=r,v.lineEnd=o},polygonEnd:function(){v.lineStart=v.lineEnd=v.point=d.a,p.add(Object(f.a)(g)),g.reset()},result:function(){var t=p/2;return p.reset(),t}};e.a=v},function(t,e,n){"use strict";function r(t,e){m+=t,y+=e,++x}function i(){C.point=a}function a(t,e){C.point=o,r(p=t,g=e)}function o(t,e){var n=t-p,i=e-g,a=Object(v.u)(n*n+i*i);b+=a*(p+t)/2,_+=a*(g+e)/2,w+=a,r(p=t,g=e)}function s(){C.point=r}function u(){C.point=c}function l(){h(f,d)}function c(t,e){C.point=h,r(f=p=t,d=g=e)}function h(t,e){var n=t-p,i=e-g,a=Object(v.u)(n*n+i*i);b+=a*(p+t)/2,_+=a*(g+e)/2,w+=a,S+=(a=g*t-p*e)*(p+t),M+=a*(g+e),O+=3*a,r(p=t,g=e)}var f,d,p,g,v=n(5),m=0,y=0,x=0,b=0,_=0,w=0,S=0,M=0,O=0,C={point:r,lineStart:i,lineEnd:s,polygonStart:function(){C.lineStart=u,C.lineEnd=l},polygonEnd:function(){C.point=r,C.lineStart=i,C.lineEnd=s},result:function(){var t=O?[S/O,M/O]:w?[b/w,_/w]:x?[m/x,y/x]:[NaN,NaN];return m=y=x=b=_=w=S=M=O=0,t}};e.a=C},function(t,e,n){"use strict";function r(t){this._context=t}e.a=r;var i=n(5),a=n(25);r.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,i.w)}},result:a.a}},function(t,e,n){"use strict";function r(t,e){p.point=i,o=u=t,s=l=e}function i(t,e){u-=t,l-=e,d.add(Object(h.u)(u*u+l*l)),u=t,l=e}var a,o,s,u,l,c=n(36),h=n(5),f=n(25),d=Object(c.a)(),p={point:f.a,lineStart:function(){p.point=r},lineEnd:function(){a&&i(o,s),p.point=f.a},polygonStart:function(){a=!0},polygonEnd:function(){a=null},result:function(){var t=+d;return d.reset(),t}};e.a=p},function(t,e,n){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}e.a=r,r.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,e,n){"use strict";var r=n(177),i=n(5);e.a=Object(r.a)(function(){return!0},function(t){var e,n=NaN,r=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var u=o>0?i.o:-i.o,l=Object(i.a)(o-n);Object(i.a)(l-i.o)<i.i?(t.point(n,r=(r+s)/2>0?i.l:-i.l),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):a!==u&&l>=i.o&&(Object(i.a)(n-a)<i.i&&(n-=a*i.i),Object(i.a)(o-u)<i.i&&(o-=u*i.i),r=function(t,e,n,r){var a,o,s=Object(i.t)(t-n);return Object(i.a)(s)>i.i?Object(i.d)((Object(i.t)(e)*(o=Object(i.g)(r))*Object(i.t)(n)-Object(i.t)(r)*(a=Object(i.g)(e))*Object(i.t)(t))/(a*o*s)):(e+r)/2}(n,r,o,s),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=s),a=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var a;if(null==t)r.point(-i.o,a=n*i.l),r.point(0,a),r.point(i.o,a),r.point(i.o,0),r.point(i.o,-a),r.point(0,-a),r.point(-i.o,-a),r.point(-i.o,0),r.point(-i.o,a);else if(Object(i.a)(t[0]-e[0])>i.i){var o=t[0]<e[0]?i.o:-i.o;r.point(-o,a=n*o/2),r.point(0,a),r.point(o,a)}else r.point(e[0],e[1])},[-i.o,-i.l])},function(t,e,n){"use strict";var r=n(43),i=n(155),a=n(5),o=n(159),s=n(177);e.a=function(t,e){function n(t,e){return Object(a.g)(t)*Object(a.g)(e)>c}function u(t,e,n){var i=Object(r.a)(t),o=Object(r.a)(e),s=[1,0,0],u=Object(r.c)(i,o),l=Object(r.d)(u,u),h=u[0],f=l-h*h;if(!f)return!n&&t;var d=c*l/f,p=-c*h/f,g=Object(r.c)(s,u),v=Object(r.f)(s,d),m=Object(r.f)(u,p);Object(r.b)(v,m);var y=g,x=Object(r.d)(v,y),b=Object(r.d)(y,y),_=x*x-b*(Object(r.d)(v,v)-1);if(!(_<0)){var w=Object(a.u)(_),S=Object(r.f)(y,(-x-w)/b);if(Object(r.b)(S,v),S=Object(r.g)(S),!n)return S;var M,O=t[0],C=e[0],A=t[1],I=e[1];C<O&&(M=O,O=C,C=M);var T=C-O,E=Object(a.a)(T-a.o)<a.i;if(!E&&I<A&&(M=A,A=I,I=M),E||T<a.i?E?A+I>0^S[1]<(Object(a.a)(S[0]-O)<a.i?A:I):A<=S[1]&&S[1]<=I:T>a.o^(O<=S[0]&&S[0]<=C)){var j=Object(r.f)(y,(-x+w)/b);return Object(r.b)(j,v),[S,Object(r.g)(j)]}}}function l(e,n){var r=h?t:a.o-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var c=Object(a.g)(t),h=c>0,f=Object(a.a)(c)>a.i;return Object(s.a)(n,function(t){var e,r,i,s,c;return{lineStart:function(){s=i=!1,c=1},point:function(d,p){var g,v=[d,p],m=n(d,p),y=h?m?0:l(d,p):m?l(d+(d<0?a.o:-a.o),p):0;if(!e&&(s=i=m)&&t.lineStart(),m!==i&&(!(g=u(e,v))||Object(o.a)(e,g)||Object(o.a)(v,g))&&(v[0]+=a.i,v[1]+=a.i,m=n(v[0],v[1])),m!==i)c=0,m?(t.lineStart(),g=u(v,e),t.point(g[0],g[1])):(g=u(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(f&&e&&h^m){var x;y&r||!(x=u(v,e,!0))||(c=0,h?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!m||e&&Object(o.a)(e,v)||t.point(v[0],v[1]),e=v,i=m,r=y},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return c|(s&&i)<<1}}},function(n,r,a,o){Object(i.a)(o,t,e,a,n,r)},h?[0,-t]:[-a.o,t-a.o])}},function(t,e,n){"use strict";var r=n(43),i=n(5),a=n(67),o=16,s=Object(i.g)(30*i.r);e.a=function(t,e){return+e?function(t,e){function n(r,a,o,u,l,c,h,f,d,p,g,v,m,y){var x=h-r,b=f-a,_=x*x+b*b;if(_>4*e&&m--){var w=u+p,S=l+g,M=c+v,O=Object(i.u)(w*w+S*S+M*M),C=Object(i.c)(M/=O),A=Object(i.a)(Object(i.a)(M)-1)<i.i||Object(i.a)(o-d)<i.i?(o+d)/2:Object(i.e)(S,w),I=t(A,C),T=I[0],E=I[1],j=T-r,P=E-a,k=b*j-x*P;(k*k/_>e||Object(i.a)((x*j+b*P)/_-.5)>.3||u*p+l*g+c*v<s)&&(n(r,a,o,u,l,c,T,E,A,w/=O,S/=O,M,m,y),y.point(T,E),n(T,E,A,w,S,M,h,f,d,p,g,v,m,y))}}return function(e){function i(n,r){n=t(n,r),e.point(n[0],n[1])}function a(){x=NaN,M.point=s,e.lineStart()}function s(i,a){var s=Object(r.a)([i,a]),u=t(i,a);n(x,b,y,_,w,S,x=u[0],b=u[1],y=i,_=s[0],w=s[1],S=s[2],o,e),e.point(x,b)}function u(){M.point=i,e.lineEnd()}function l(){a(),M.point=c,M.lineEnd=h}function c(t,e){s(f=t,e),d=x,p=b,g=_,v=w,m=S,M.point=s}function h(){n(x,b,y,_,w,S,d,p,f,g,v,m,o,e),M.lineEnd=u,u()}var f,d,p,g,v,m,y,x,b,_,w,S,M={point:i,lineStart:a,lineEnd:u,polygonStart:function(){e.polygonStart(),M.lineStart=l},polygonEnd:function(){e.polygonEnd(),M.lineStart=a}};return M}}(t,e):function(t){return Object(a.b)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}},function(t,e,n){"use strict";e.a=function(t){function e(t,e){return[t*n,Object(r.t)(e)/n]}var n=Object(r.g)(t);return e.invert=function(t,e){return[t/n,Object(r.c)(e*n)]},e};var r=n(5)},function(t,e,n){"use strict";var r=n(5),i=n(176),a=n(94),o=n(96);e.a=function(){function t(t){var e=t[0],n=t[1];return h=null,u.point(e,n),h||(l.point(e,n),h)||(c.point(e,n),h)}function e(){return n=s=null,t}var n,s,u,l,c,h,f=Object(i.a)(),d=Object(a.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Object(a.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g={point:function(t,e){h=[t,e]}};return t.invert=function(t){var e=f.scale(),n=f.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?d:i>=.166&&i<.234&&r>=-.214&&r<-.115?p:f).invert(t)},t.stream=function(t){return n&&s===t?n:n=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([f.stream(s=t),d.stream(t),p.stream(t)])},t.precision=function(t){return arguments.length?(f.precision(t),d.precision(t),p.precision(t),e()):f.precision()},t.scale=function(e){return arguments.length?(f.scale(e),d.scale(.35*e),p.scale(e),t.translate(f.translate())):f.scale()},t.translate=function(t){if(!arguments.length)return f.translate();var n=f.scale(),i=+t[0],a=+t[1];return u=f.translate(t).clipExtent([[i-.455*n,a-.238*n],[i+.455*n,a+.238*n]]).stream(g),l=d.translate([i-.307*n,a+.201*n]).clipExtent([[i-.425*n+r.i,a+.12*n+r.i],[i-.214*n-r.i,a+.234*n-r.i]]).stream(g),c=p.translate([i-.205*n,a+.212*n]).clipExtent([[i-.214*n+r.i,a+.166*n+r.i],[i-.115*n-r.i,a+.234*n-r.i]]).stream(g),e()},t.fitExtent=function(e,n){return Object(o.a)(t,e,n)},t.fitSize=function(e,n){return Object(o.b)(t,e,n)},t.scale(1070)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(5),i=n(45),a=n(21),o=Object(i.b)(function(t){return Object(r.u)(2/(1+t))});o.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)}),e.b=function(){return Object(a.a)(o).scale(124.75).clipAngle(179.999)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(5),i=n(45),a=n(21),o=Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)});o.invert=Object(i.a)(function(t){return t}),e.b=function(){return Object(a.a)(o).scale(79.4188).clipAngle(179.999)}},function(t,e,n){"use strict";function r(t){return Object(a.v)((a.l+t)/2)}function i(t,e){function n(t,e){u>0?e<-a.l+a.i&&(e=-a.l+a.i):e>a.l-a.i&&(e=a.l-a.i);var n=u/Object(a.p)(r(e),o);return[n*Object(a.t)(o*t),u-n*Object(a.g)(o*t)]}var i=Object(a.g)(t),o=t===e?Object(a.t)(t):Object(a.n)(i/Object(a.g)(e))/Object(a.n)(r(e)/r(t)),u=i*Object(a.p)(r(t),o)/o;return o?(n.invert=function(t,e){var n=u-e,r=Object(a.s)(o)*Object(a.u)(t*t+n*n);return[Object(a.e)(t,Object(a.a)(n))/o*Object(a.s)(n),2*Object(a.d)(Object(a.p)(u/r,1/o))-a.l]},n):s.c}e.a=i;var a=n(5),o=n(95),s=n(97);e.b=function(){return Object(o.a)(i).scale(109.5).parallels([30,30])}},function(t,e,n){"use strict";function r(t,e){function n(t,e){var n=s-e,r=a*t;return[n*Object(i.t)(r),s-n*Object(i.g)(r)]}var r=Object(i.g)(t),a=t===e?Object(i.t)(t):(r-Object(i.g)(e))/(e-t),s=r/a+t;return Object(i.a)(a)<i.i?o.b:(n.invert=function(t,e){var n=s-e;return[Object(i.e)(t,Object(i.a)(n))/a*Object(i.s)(n),s-Object(i.s)(a)*Object(i.u)(t*t+n*n)]},n)}e.a=r;var i=n(5),a=n(95),o=n(178);e.b=function(){return Object(a.a)(r).scale(131.154).center([0,13.9389])}},function(t,e,n){"use strict";function r(t,e){var n=Object(i.g)(e),r=Object(i.g)(t)*n;return[n*Object(i.t)(t)/r,Object(i.t)(e)/r]}e.b=r;var i=n(5),a=n(45),o=n(21);r.invert=Object(a.a)(i.d),e.a=function(){return Object(o.a)(r).scale(144.049).clipAngle(60)}},function(t,e,n){"use strict";function r(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?a.a:Object(o.b)({point:function(i,a){this.stream.point(i*t+n,a*e+r)}})}var i=n(91),a=n(93),o=n(67),s=n(96);e.a=function(){function t(){return u=l=null,c}var e,n,o,u,l,c,h=1,f=0,d=0,p=1,g=1,v=a.a,m=null,y=a.a;return c={stream:function(t){return u&&l===t?u:u=v(y(l=t))},clipExtent:function(r){return arguments.length?(y=null==r?(m=e=n=o=null,a.a):Object(i.a)(m=+r[0][0],e=+r[0][1],n=+r[1][0],o=+r[1][1]),t()):null==m?null:[[m,e],[n,o]]},scale:function(e){return arguments.length?(v=r((h=+e)*p,h*g,f,d),t()):h},translate:function(e){return arguments.length?(v=r(h*p,h*g,f=+e[0],d=+e[1]),t()):[f,d]},reflectX:function(e){return arguments.length?(v=r(h*(p=e?-1:1),h*g,f,d),t()):p<0},reflectY:function(e){return arguments.length?(v=r(h*p,h*(g=e?-1:1),f,d),t()):g<0},fitExtent:function(t,e){return Object(s.a)(c,t,e)},fitSize:function(t,e){return Object(s.b)(c,t,e)}}}},function(t,e,n){"use strict";function r(t,e){return[Object(i.g)(e)*Object(i.t)(t),Object(i.t)(e)]}e.b=r;var i=n(5),a=n(45),o=n(21);r.invert=Object(a.a)(i.c),e.a=function(){return Object(o.a)(r).scale(249.5).clipAngle(90+i.i)}},function(t,e,n){"use strict";function r(t,e){var n=Object(i.g)(e),r=1+Object(i.g)(t)*n;return[n*Object(i.t)(t)/r,Object(i.t)(e)/r]}e.b=r;var i=n(5),a=n(45),o=n(21);r.invert=Object(a.a)(function(t){return 2*Object(i.d)(t)}),e.a=function(){return Object(o.a)(r).scale(250).clipAngle(142)}},function(t,e,n){"use strict";function r(t,e){return[Object(i.n)(Object(i.v)((i.l+e)/2)),-t]}e.b=r;var i=n(5),a=n(97);r.invert=function(t,e){return[-e,2*Object(i.d)(Object(i.k)(t))-i.l]},e.a=function(){var t=Object(a.b)(r),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";function r(t){function e(t,e){var n=Object(a.h)(t),i=Object(a.h)(e),o=Object(a.y)(e),s=i*n,u=-((1-s?Object(a.p)((1+s)/2)/(1-s):-.5)+r/(1+s));return[u*i*Object(a.y)(t),u*o]}var n=Object(a.F)(t/2),r=2*Object(a.p)(Object(a.h)(t/2))/(n*n);return e.invert=function(e,n){var i,o=Object(a.B)(e*e+n*n),s=-t/2,u=50;if(!o)return[0,0];do{var l=s/2,c=Object(a.h)(l),h=Object(a.y)(l),f=Object(a.F)(l),d=Object(a.p)(1/c);s-=i=(2/f*d-r*f-o)/(-d/(h*h)+1-r/(2*c*c))}while(Object(a.a)(i)>a.k&&--u>0);var p=Object(a.y)(s);return[Object(a.g)(e*p,o*Object(a.h)(s)),Object(a.e)(n*p/o)]},e}e.a=r;var i=n(0),a=n(1);e.b=function(){var t=a.o,e=Object(i.geoProjectionMutator)(r),n=e(t);return n.radius=function(n){return arguments.length?e(t=n*a.v):t*a.j},n.scale(179.976).clipAngle(147)}},function(t,e,n){"use strict";function r(t){function e(t,e){var u=Object(a.h)(e),l=Object(a.h)(t/=2);return[(1+u)*Object(a.y)(t),(i*e>-Object(a.g)(l,o)-.001?0:10*-i)+s+Object(a.y)(e)*r-(1+u)*n*l]}var n=Object(a.y)(t),r=Object(a.h)(t),i=t>=0?1:-1,o=Object(a.F)(i*t),s=(1+n-r)/2;return e.invert=function(t,e){var u=0,l=0,c=50;do{var h=Object(a.h)(u),f=Object(a.y)(u),d=Object(a.h)(l),p=Object(a.y)(l),g=1+d,v=g*f-t,m=s+p*r-g*n*h-e,y=g*h/2,x=-f*p,b=n*g*f/2,_=r*d+n*h*p,w=x*b-_*y,S=(m*x-v*_)/w/2,M=(v*b-m*y)/w;u-=S,l-=M}while((Object(a.a)(S)>a.k||Object(a.a)(M)>a.k)&&--c>0);return i*l>-Object(a.g)(Object(a.h)(u),o)-.001?[2*u,l]:null},e}e.a=r;var i=n(0),a=n(1);e.b=function(){var t=20*a.v,e=t>=0?1:-1,n=Object(a.F)(e*t),o=Object(i.geoProjectionMutator)(r),s=o(t),u=s.stream;return s.parallel=function(r){return arguments.length?(n=Object(a.F)((e=(t=r*a.v)>=0?1:-1)*t),o(t)):t*a.j},s.stream=function(r){var i=s.rotate(),o=u(r),l=(s.rotate([0,0]),u(r));return s.rotate(i),o.sphere=function(){l.polygonStart(),l.lineStart();for(var r=-180*e;e*r<180;r+=90*e)l.point(r,90*e);for(;e*(r-=t)>=-180;)l.point(r,e*-Object(a.g)(Object(a.h)(r*a.v/2),n)*a.j);l.lineEnd(),l.polygonEnd()},o},s.scale(218.695).center([0,28.0974])}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.a)(e);return n<a.u?[t,Object(a.p)(Object(a.F)(a.u+e/2))]:[t*Object(a.h)(n)*(2*a.D-1/Object(a.y)(n)),Object(a.x)(e)*(2*a.D*(n-a.u)-Object(a.p)(Object(a.F)(n/2)))]}e.a=r;var i=n(0),a=n(1),o=Object(a.B)(8),s=Object(a.p)(1+a.D);r.invert=function(t,e){if((r=Object(a.a)(e))<s)return[t,2*Object(a.f)(Object(a.m)(e))-a.o];var n,r,i=a.u,u=25;do{var l=Object(a.h)(i/2),c=Object(a.F)(i/2);i-=n=(o*(i-a.u)-Object(a.p)(c)-r)/(o-l*l/(2*c))}while(Object(a.a)(n)>a.l&&--u>0);return[t/(Object(a.h)(i)*(o-1/Object(a.y)(i))),Object(a.x)(e)*i]},e.b=function(){return Object(i.geoProjection)(r).scale(112.314)}},function(t,e,n){"use strict";function r(t){function e(t,e){var r=Object(i.geoAzimuthalEquidistantRaw)(t,e);if(Object(a.a)(t)>a.o){var o=Object(a.g)(r[1],r[0]),s=Object(a.B)(r[0]*r[0]+r[1]*r[1]),u=n*Object(a.w)((o-a.o)/n)+a.o,l=Object(a.g)(Object(a.y)(o-=u),2-Object(a.h)(o));o=u+Object(a.e)(a.s/s*Object(a.y)(l))-l,r[0]=s*Object(a.h)(o),r[1]=s*Object(a.y)(o)}return r}var n=2*a.s/t;return e.invert=function(t,e){var r=Object(a.B)(t*t+e*e);if(r>a.o){var o=Object(a.g)(e,t),s=n*Object(a.w)((o-a.o)/n)+a.o,u=o>s?-1:1,l=r*Object(a.h)(s-o),c=1/Object(a.F)(u*Object(a.b)((l-a.s)/Object(a.B)(a.s*(a.s-2*l)+r*r)));o=s+2*Object(a.f)((c+u*Object(a.B)(c*c-3))/3),t=r*Object(a.h)(o),e=r*Object(a.y)(o)}return i.geoAzimuthalEquidistantRaw.invert(t,e)},e}e.a=r;var i=n(0),a=n(1);e.b=function(){var t=5,e=Object(i.geoProjectionMutator)(r),n=e(t),o=n.stream,s=-Object(a.h)(.01*a.v),u=Object(a.y)(.01*a.v);return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var r=n.rotate(),i=o(e),l=(n.rotate([0,0]),o(e));return n.rotate(r),i.sphere=function(){l.polygonStart(),l.lineStart();for(var e=0,n=360/t,r=2*a.s/t,i=90-180/t,o=a.o;e<t;++e,i-=n,o-=r)l.point(Object(a.g)(u*Object(a.h)(o),s)*a.j,Object(a.e)(u*Object(a.y)(o))*a.j),i<-90?(l.point(-90,-180-i-.01),l.point(-90,-180-i+.01)):(l.point(90,i+.01),l.point(90,i-.01));l.lineEnd(),l.polygonEnd()},i},n.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}},function(t,e,n){"use strict";function r(t){function e(e,r){var i=n+t-r,o=i?e*Object(a.h)(r)/i:i;return[i*Object(a.y)(o),n-i*Object(a.h)(o)]}if(!t)return o.b;var n=1/Object(a.F)(t);return e.invert=function(e,r){var i=Object(a.B)(e*e+(r=n-r)*r),o=n+t-i;return[i/Object(a.h)(o)*Object(a.g)(e,r),o]},e}e.a=r;var i=n(38),a=n(1),o=n(46);e.b=function(){return Object(i.a)(r).scale(123.082).center([0,26.1441]).parallel(45)}},function(t,e,n){"use strict";function r(t){function e(e,n){var r=a.o-n,i=r?e*t*Object(a.y)(r)/r:r;return[r*Object(a.y)(i)/t,a.o-r*Object(a.h)(i)]}return e.invert=function(e,n){var r=e*t,i=a.o-n,o=Object(a.B)(r*r+i*i),s=Object(a.g)(r,i);return[(o?o/Object(a.y)(o):1)*s/t,a.o-o]},e}e.a=r;var i=n(0),a=n(1);e.b=function(){var t=.5,e=Object(i.geoProjectionMutator)(r),n=e(t);return n.fraction=function(n){return arguments.length?e(t=+n):t},n.scale(158.837)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(1),a=n(26),o=Object(a.b)(1,4/i.s,i.s);e.b=function(){return Object(r.geoProjection)(o).scale(152.63)}},function(t,e,n){"use strict";function r(t,e,n,r,i,a){var o,s=Object(c.h)(a);if(Object(c.a)(t)>1||Object(c.a)(a)>1)o=Object(c.b)(n*i+e*r*s);else{var u=Object(c.y)(t/2),l=Object(c.y)(a/2);o=2*Object(c.e)(Object(c.B)(u*u+e*r*l*l))}return Object(c.a)(o)>c.k?[o,Object(c.g)(r*Object(c.y)(a),e*i-n*r*s)]:[0,0]}function i(t,e,n){return Object(c.b)((t*t+e*e-n*n)/(2*t*e))}function a(t){return t-2*c.s*Object(c.n)((t+c.s)/(2*c.s))}function o(t,e,n){for(var o,s=[[t[0],t[1],Object(c.y)(t[1]),Object(c.h)(t[1])],[e[0],e[1],Object(c.y)(e[1]),Object(c.h)(e[1])],[n[0],n[1],Object(c.y)(n[1]),Object(c.h)(n[1])]],u=s[2],l=0;l<3;++l,u=o)u.v=r((o=s[l])[1]-u[1],u[3],u[2],o[3],o[2],o[0]-u[0]),u.point=[0,0];var h=i(s[0].v[0],s[2].v[0],s[1].v[0]),f=i(s[0].v[0],s[1].v[0],s[2].v[0]),d=c.s-h;s[2].point[1]=0,s[0].point[0]=-(s[1].point[0]=s[0].v[0]/2);var p=[s[2].point[0]=s[0].point[0]+s[2].v[0]*Object(c.h)(h),2*(s[0].point[1]=s[1].point[1]=s[2].v[0]*Object(c.y)(h))];return function(t,e){var n,o=Object(c.y)(e),u=Object(c.h)(e),l=new Array(3);for(n=0;n<3;++n){var h=s[n];if(l[n]=r(e-h[1],h[3],h[2],u,o,t-h[0]),!l[n][0])return h.point;l[n][1]=a(l[n][1]-h.v[1])}var g=p.slice();for(n=0;n<3;++n){var v=i(s[n].v[0],l[n][0],l[2==n?0:n+1][0]);l[n][1]<0&&(v=-v),n?1==n?(v=f-v,g[0]-=l[n][0]*Object(c.h)(v),g[1]-=l[n][0]*Object(c.y)(v)):(v=d-v,g[0]+=l[n][0]*Object(c.h)(v),g[1]+=l[n][0]*Object(c.y)(v)):(g[0]+=l[n][0]*Object(c.h)(v),g[1]-=l[n][0]*Object(c.y)(v))}return g[0]/=3,g[1]/=3,g}}function s(t){return t[0]*=c.v,t[1]*=c.v,t}function u(t,e,n){var r=Object(l.geoCentroid)({type:"MultiPoint",coordinates:[t,e,n]}),i=[-r[0],-r[1]],a=Object(l.geoRotation)(i),u=Object(l.geoProjection)(o(s(a(t)),s(a(e)),s(a(n)))).rotate(i),c=u.center;return delete u.rotate,u.center=function(t){return arguments.length?c(a(t)):a.invert(c())},u.clipAngle(90)}e.b=o,e.a=function(){return u([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},e.c=u;var l=n(0),c=n(1)},function(t,e,n){"use strict";function r(t){function e(t,e){return[t,(t?t/Object(i.y)(t):1)*(Object(i.y)(e)*Object(i.h)(t)-n*Object(i.h)(e))]}var n=Object(i.F)(t);return e.invert=n?function(t,e){t&&(e*=Object(i.y)(t)/t);var r=Object(i.h)(t);return[t,2*Object(i.g)(Object(i.B)(r*r+n*n-e*e)-r,n-e)]}:function(t,e){return[t,Object(i.e)(t?e*Object(i.F)(t)/t:e)]},e}e.a=r;var i=n(1),a=n(38);e.b=function(){return Object(a.a)(r).scale(249.828).clipAngle(90)}},function(t,e,n){"use strict";function r(t,e){return[o*t*(2*Object(a.h)(2*e/3)-1)/a.E,o*a.E*Object(a.y)(e/3)]}e.a=r;var i=n(0),a=n(1),o=Object(a.B)(3);r.invert=function(t,e){var n=3*Object(a.e)(e/(o*a.E));return[a.E*t/(o*(2*Object(a.h)(2*n/3)-1)),n]},e.b=function(){return Object(i.geoProjection)(r).scale(156.19)}},function(t,e,n){"use strict";function r(t){function e(t,e){return[t*n,(1+n)*Object(i.F)(e/2)]}var n=Object(i.h)(t);return e.invert=function(t,e){return[t/n,2*Object(i.f)(e/(1+n))]},e}e.a=r;var i=n(1),a=n(38);e.b=function(){return Object(a.a)(r).scale(124.75)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.B)(8/(3*a.s));return[n*t*(1-Object(a.a)(e)/a.s),n*e]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=Object(a.B)(8/(3*a.s)),r=e/n;return[t/(n*(1-Object(a.a)(r)/a.s)),r]},e.a=function(){return Object(i.geoProjection)(r).scale(165.664)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.B)(4-3*Object(a.y)(Object(a.a)(e)));return[2/Object(a.B)(6*a.s)*t*n,Object(a.x)(e)*Object(a.B)(2*a.s/3)*(2-n)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=2-Object(a.a)(e)/Object(a.B)(2*a.s/3);return[t*Object(a.B)(6*a.s)/(2*n),Object(a.x)(e)*Object(a.e)((4-n*n)/3)]},e.a=function(){return Object(i.geoProjection)(r).scale(165.664)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.B)(a.s*(4+a.s));return[2/n*t*(1+Object(a.B)(1-4*e*e/(a.s*a.s))),4/n*e]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=Object(a.B)(a.s*(4+a.s))/2;return[t*n/(1+Object(a.B)(1-e*e*(4+a.s)/(4*a.s))),e*n/2]},e.a=function(){return Object(i.geoProjection)(r).scale(180.739)}},function(t,e,n){"use strict";function r(t,e){var n=(2+a.o)*Object(a.y)(e);e/=2;for(var r=0,i=1/0;r<10&&Object(a.a)(i)>a.k;r++){var o=Object(a.h)(e);e-=i=(e+Object(a.y)(e)*(o+2)-n)/(2*o*(1+o))}return[2/Object(a.B)(a.s*(4+a.s))*t*(1+Object(a.h)(e)),2*Object(a.B)(a.s/(4+a.s))*Object(a.y)(e)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=e*Object(a.B)((4+a.s)/a.s)/2,r=Object(a.e)(n),i=Object(a.h)(r);return[t/(2/Object(a.B)(a.s*(4+a.s))*(1+i)),Object(a.e)((r+n*(i+2))/(2+a.o))]},e.a=function(){return Object(i.geoProjection)(r).scale(180.739)}},function(t,e,n){"use strict";function r(t,e){return[t*(1+Object(a.h)(e))/Object(a.B)(2+a.s),2*e/Object(a.B)(2+a.s)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=Object(a.B)(2+a.s),r=e*n/2;return[n*t/(1+Object(a.h)(r)),r]},e.a=function(){return Object(i.geoProjection)(r).scale(173.044)}},function(t,e,n){"use strict";function r(t,e){for(var n=(1+a.o)*Object(a.y)(e),r=0,i=1/0;r<10&&Object(a.a)(i)>a.k;r++)e-=i=(e+Object(a.y)(e)-n)/(1+Object(a.h)(e));return n=Object(a.B)(2+a.s),[t*(1+Object(a.h)(e))/n,2*e/n]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=1+a.o,r=Object(a.B)(n/2);return[2*t*r/(1+Object(a.h)(e*=r)),Object(a.e)((e+Object(a.y)(e))/n)]},e.a=function(){return Object(i.geoProjection)(r).scale(173.044)}},function(t,e,n){"use strict";function r(t,e){var n=Object(o.y)(t/=2),r=Object(o.h)(t),i=Object(o.B)(Object(o.h)(e)),a=Object(o.h)(e/=2),u=Object(o.y)(e)/(a+o.D*r*i),l=Object(o.B)(2/(1+u*u)),c=Object(o.B)((o.D*a+(r+n)*i)/(o.D*a+(r-n)*i));return[s*(l*(c-1/c)-2*Object(o.p)(c)),s*(l*u*(c+1/c)-2*Object(o.f)(u))]}e.b=r;var i=n(0),a=n(181),o=n(1),s=3+2*o.D;r.invert=function(t,e){if(!(n=a.a.invert(t/1.2,1.065*e)))return null;var n,r=n[0],i=n[1],u=20;t/=s,e/=s;do{var l=r/2,c=i/2,h=Object(o.y)(l),f=Object(o.h)(l),d=Object(o.y)(c),p=Object(o.h)(c),g=Object(o.h)(i),v=Object(o.B)(g),m=d/(p+o.D*f*v),y=m*m,x=Object(o.B)(2/(1+y)),b=(o.D*p+(f+h)*v)/(o.D*p+(f-h)*v),_=Object(o.B)(b),w=_-1/_,S=_+1/_,M=x*w-2*Object(o.p)(_)-t,O=x*m*S-2*Object(o.f)(m)-e,C=d&&o.C*v*h*y/d,A=(o.D*f*p+v)/(2*(p+o.D*f*v)*(p+o.D*f*v)*v),I=-.5*m*x*x*x,T=I*C,E=I*A,j=(j=2*p+o.D*v*(f-h))*j*_,P=(o.D*f*p*v+g)/j,k=-o.D*h*d/(v*j),D=w*T-2*P/_+x*(P+P/b),L=w*E-2*k/_+x*(k+k/b),R=m*S*T-2*C/(1+y)+x*S*C+x*m*(P-P/b),N=m*S*E-2*A/(1+y)+x*S*A+x*m*(k-k/b),z=L*R-N*D;if(!z)break;var B=(O*L-M*N)/z,F=(M*R-O*D)/z;r-=B,i=Object(o.q)(-o.o,Object(o.r)(o.o,i-F))}while((Object(o.a)(B)>o.k||Object(o.a)(F)>o.k)&&--u>0);return Object(o.a)(Object(o.a)(i)-o.o)<o.k?[0,i]:u&&[r,i]},e.a=function(){return Object(i.geoProjection)(r).scale(62.5271)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.F)(e/2);return[t*o*Object(a.B)(1-n*n),(1+o)*n]}e.b=r;var i=n(0),a=n(1),o=Object(a.h)(35*a.v);r.invert=function(t,e){var n=e/(1+o);return[t&&t/(o*Object(a.B)(1-n*n)),2*Object(a.f)(n)]},e.a=function(){return Object(i.geoProjection)(r).scale(137.152)}},function(t,e,n){"use strict";function r(t,e){var n=e/2,r=Object(a.h)(n);return[2*t/a.E*Object(a.h)(e)*r*r,a.E*Object(a.F)(n)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=Object(a.f)(e/a.E),r=Object(a.h)(n),i=2*n;return[t*a.E/2/(Object(a.h)(i)*r*r),i]},e.a=function(){return Object(i.geoProjection)(r).scale(135.264)}},function(t,e,n){"use strict";function r(t){return[t[0]/2,Object(o.e)(Object(o.F)(t[1]/2*o.v))*o.j]}function i(t){return[2*t[0],2*Object(o.f)(Object(o.y)(t[1]*o.v))*o.j]}var a=n(0),o=n(1);e.a=function(t){function e(t){return s(r(t))}function n(t){e[t]=function(n){return arguments.length?(s[t](n),e):s[t]()}}null==t&&(t=a.geoOrthographic);var s=t(),u=Object(a.geoEquirectangular)().scale(o.j).precision(0).clipAngle(null).translate([0,0]);return s.invert&&(e.invert=function(t){return i(s.invert(t))}),e.stream=function(t){var e=s.stream(t),n=u.stream({point:function(t,n){e.point(t/2,Object(o.e)(Object(o.F)(-n/2*o.v))*o.j)},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}});return n.sphere=e.sphere,n},e.rotate=function(t){return arguments.length?(u.rotate(t),e):u.rotate()},e.center=function(t){return arguments.length?(s.center(r(t)),e):i(s.center())},n("clipAngle"),n("clipExtent"),n("scale"),n("translate"),n("precision"),e.scale(249.5)}},function(t,e,n){"use strict";function r(t,e){function n(e,n){var l=Object(o.geoAzimuthalEquidistantRaw)(e,n),c=l[0],h=l[1],f=c*c+h*h;if(f>u){var d=Object(s.B)(f),p=Object(s.g)(h,c),g=r*Object(s.w)(p/r),v=p-g,m=t*Object(s.h)(v),y=(t*Object(s.y)(v)-v*Object(s.y)(m))/(s.o-m),x=i(v,y),b=(s.s-t)/a(x,m,s.s);c=d;var _,w=50;do{c-=_=(t+a(x,m,c)*b-d)/(x(c)*b)}while(Object(s.a)(_)>s.k&&--w>0);h=v*Object(s.y)(c),c<s.o&&(h-=y*(c-s.o));var S=Object(s.y)(g),M=Object(s.h)(g);l[0]=c*M-h*S,l[1]=c*S+h*M}return l}var r=2*s.s/e,u=t*t;return n.invert=function(e,n){var l=e*e+n*n;if(l>u){var c=Object(s.B)(l),h=Object(s.g)(n,e),f=r*Object(s.w)(h/r),d=h-f;e=c*Object(s.h)(d),n=c*Object(s.y)(d);for(var p=e-s.o,g=Object(s.y)(e),v=n/g,m=e<s.o?1/0:0,y=10;;){var x=t*Object(s.y)(v),b=t*Object(s.h)(v),_=Object(s.y)(b),w=s.o-b,S=(x-v*_)/w,M=i(v,S);if(Object(s.a)(m)<s.l||!--y)break;v-=m=(v*g-S*p-n)/(g-2*p*(w*(b+v*x*Object(s.h)(b)-_)-x*(x-v*_))/(w*w))}h=f+v,e=(c=t+a(M,b,e)*(s.s-t)/a(M,b,s.s))*Object(s.h)(h),n=c*Object(s.y)(h)}return o.geoAzimuthalEquidistantRaw.invert(e,n)},n}function i(t,e){return function(n){var r=t*Object(s.h)(n);return n<s.o&&(r-=e),Object(s.B)(1+r*r)}}function a(t,e,n){for(var r=(n-e)/50,i=t(e)+t(n),a=1,o=e;a<50;++a)i+=2*t(o+=r);return.5*i*r}e.b=r;var o=n(0),s=n(1);e.a=function(){var t=6,e=30*s.v,n=Object(s.h)(e),i=Object(s.y)(e),a=Object(o.geoProjectionMutator)(r),u=a(e,t),l=u.stream,c=-Object(s.h)(.01*s.v),h=Object(s.y)(.01*s.v);return u.radius=function(r){return arguments.length?(n=Object(s.h)(e=r*s.v),i=Object(s.y)(e),a(e,t)):e*s.j},u.lobes=function(n){return arguments.length?a(e,t=+n):t},u.stream=function(e){var r=u.rotate(),a=l(e),o=(u.rotate([0,0]),l(e));return u.rotate(r),a.sphere=function(){o.polygonStart(),o.lineStart();for(var e=0,r=2*s.s/t,a=0;e<t;++e,a-=r)o.point(Object(s.g)(h*Object(s.h)(a),c)*s.j,Object(s.e)(h*Object(s.y)(a))*s.j),o.point(Object(s.g)(i*Object(s.h)(a-r/2),n)*s.j,Object(s.e)(i*Object(s.y)(a-r/2))*s.j);o.lineEnd(),o.polygonEnd()},a},u.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(0),i=n(68),a=Object(i.a)(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);e.a=function(){return Object(r.geoProjection)(a).scale(149.995)}},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(0),i=n(68),a=Object(i.a)(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);e.a=function(){return Object(r.geoProjection)(a).scale(153.93)}},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(0),i=n(68),a=n(1),o=Object(i.a)(5/6*a.s,-.62636,-.0344,0,1.3493,-.05524,0,.045);e.a=function(){return Object(r.geoProjection)(o).scale(130.945)}},function(t,e,n){"use strict";function r(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n,r=t,i=e,o=50;do{var s=i*i;i-=n=(i*(1+s/12)-e)/(1+s/4)}while(Object(a.a)(n)>a.k&&--o>0);o=50,t/=1-.162388*s;do{var u=(u=r*r)*u;r-=n=(r*(.87-952426e-9*u)-t)/(.87-.00476213*u)}while(Object(a.a)(n)>a.k&&--o>0);return[r,i]},e.a=function(){return Object(i.geoProjection)(r).scale(131.747)}},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(0),i=n(68),a=Object(i.a)(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);e.a=function(){return Object(r.geoProjection)(a).scale(131.087)}},function(t,e,n){"use strict";function r(t,e){var n,r,i,o,s;if(e<a.k)return[(o=Object(a.y)(t))-(n=e*(t-o*(r=Object(a.h)(t)))/4)*r,r+n*o,1-e*o*o/2,t-n];if(e>=1-a.k)return n=(1-e)/4,i=1/(r=Object(a.i)(t)),[(o=Object(a.G)(t))+n*((s=r*Object(a.A)(t))-t)/(r*r),i-n*o*i*(s-t),i+n*o*i*(s+t),2*Object(a.f)(Object(a.m)(t))-a.o+n*(s-t)/r];var u=[1,0,0,0,0,0,0,0,0],l=[Object(a.B)(e),0,0,0,0,0,0,0,0],c=0;for(r=Object(a.B)(1-e),s=1;Object(a.a)(l[c]/u[c])>a.k&&c<8;)n=u[c++],l[c]=(n-r)/2,u[c]=(n+r)/2,r=Object(a.B)(n*r),s*=2;i=s*u[c]*t;do{o=l[c]*Object(a.y)(r=i)/u[c],i=(Object(a.e)(o)+i)/2}while(--c);return[Object(a.y)(i),o=Object(a.h)(i),o/Object(a.h)(i-r),i]}function i(t,e){if(!e)return t;if(1===e)return Object(a.p)(Object(a.F)(t/2+a.u));for(var n=1,r=Object(a.B)(1-e),i=Object(a.B)(e),o=0;Object(a.a)(i)>a.k;o++){if(t%a.s){var s=Object(a.f)(r*Object(a.F)(t)/n);s<0&&(s+=a.s),t+=s+~~(t/a.s)*a.s}else t+=t;i=(n+r)/2,r=Object(a.B)(n*r),i=((n=i)-r)/2}return t/(Object(a.t)(2,o)*n)}e.c=function(t,e,n){var i,a,o;return t?(i=r(t,n),e?(a=r(e,1-n),[[i[0]*a[2]/(o=a[1]*a[1]+n*i[0]*i[0]*a[0]*a[0]),i[1]*i[2]*a[0]*a[1]/o],[i[1]*a[1]/o,-i[0]*i[2]*a[0]*a[2]/o],[i[2]*a[1]*a[2]/o,-n*i[0]*i[1]*a[0]/o]]):[[i[0],0],[i[1],0],[i[2],0]]):[[0,(a=r(e,1-n))[0]/a[1]],[1/a[1],0],[a[2]/a[1],0]]},e.b=function(t,e,n){var r=Object(a.a)(t),o=Object(a.a)(e),s=Object(a.A)(o);if(r){var u=1/Object(a.y)(r),l=1/(Object(a.F)(r)*Object(a.F)(r)),c=-(l+n*(s*s*u*u)-1+n),h=(n-1)*l,f=(-c+Object(a.B)(c*c-4*h))/2;return[i(Object(a.f)(1/Object(a.B)(f)),n)*Object(a.x)(t),i(Object(a.f)(Object(a.B)((f/l-1)/n)),1-n)*Object(a.x)(e)]}return[0,i(Object(a.f)(s),1-n)*Object(a.x)(e)]},e.a=i;var a=n(1)},function(t,e,n){"use strict";function r(t,e){function n(n,r){var i=Object(a.geoAzimuthalEqualAreaRaw)(n/e,r);return i[0]*=t,i}return arguments.length<2&&(e=t),1===e?a.geoAzimuthalEqualAreaRaw:e===1/0?i:(n.invert=function(n,r){var i=a.geoAzimuthalEqualAreaRaw.invert(n/t,r);return i[0]*=e,i},n)}function i(t,e){return[t*Object(o.h)(e)/Object(o.h)(e/=2),2*Object(o.y)(e)]}e.b=r;var a=n(0),o=n(1);i.invert=function(t,e){var n=2*Object(o.e)(e/2);return[t*Object(o.h)(n/2)/Object(o.h)(n),n]},e.a=function(){var t=2,e=Object(a.geoProjectionMutator)(r),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n.scale(169.529)}},function(t,e,n){"use strict";function r(t){function e(t,e){var i=a(t,e);t=i[0],e=i[1];var s=Object(o.y)(e),u=Object(o.h)(e),l=Object(o.h)(t),c=Object(o.b)(n*s+r*u*l),h=Object(o.y)(c),f=Object(o.a)(h)>o.k?c/h:1;return[f*r*Object(o.y)(t),(Object(o.a)(t)>o.o?f:-f)*(n*u-r*s*l)]}var n=Object(o.y)(t),r=Object(o.h)(t),a=i(t);return a.invert=i(-t),e.invert=function(t,e){var r=Object(o.B)(t*t+e*e),i=-Object(o.y)(r),s=Object(o.h)(r),u=r*s,l=-e*i,c=r*n,h=Object(o.B)(u*u+l*l-c*c),f=Object(o.g)(u*c+l*h,l*c-u*h),d=(r>o.o?-1:1)*Object(o.g)(t*i,r*Object(o.h)(f)*s+e*Object(o.y)(f)*i);return a.invert(d,f)},e}function i(t){var e=Object(o.y)(t),n=Object(o.h)(t);return function(t,r){var i=Object(o.h)(r),a=Object(o.h)(t)*i,s=Object(o.y)(t)*i,u=Object(o.y)(r);return[Object(o.g)(s,a*n-u*e),Object(o.e)(u*n+a*e)]}}e.b=r;var a=n(0),o=n(1);e.a=function(){var t=0,e=Object(a.geoProjectionMutator)(r),n=e(t),i=n.rotate,s=n.stream,u=Object(a.geoCircle)();return n.parallel=function(r){if(!arguments.length)return t*o.j;var i=n.rotate();return e(t=r*o.v).rotate(i)},n.rotate=function(e){return arguments.length?(i.call(n,[e[0],e[1]-t*o.j]),u.center([-e[0],-e[1]]),n):((e=i.call(n))[1]+=t*o.j,e)},n.stream=function(t){return(t=s(t)).sphere=function(){t.polygonStart();var e,n=u.radius(89.99)().coordinates[0],r=n.length-1,i=-1;for(t.lineStart();++i<r;)t.point((e=n[i])[0],e[1]);for(t.lineEnd(),r=(n=u.radius(90.01)().coordinates[0]).length-1,t.lineStart();--i>=0;)t.point((e=n[i])[0],e[1]);t.lineEnd(),t.polygonEnd()},t},n.scale(79.4187).parallel(45).clipAngle(179.999)}},function(t,e,n){"use strict";function r(t){function e(e,l){var p,g=Object(u.a)(l);if(g>n){var v=Object(u.r)(t-1,Object(u.q)(0,Object(u.n)((e+u.s)/h)));e+=u.s*(t-1)/t-v*h,(p=Object(o.a)(e,g))[0]=p[0]*u.H/r-u.H*(t-1)/(2*t)+v*u.H/t,p[1]=i+4*(p[1]-a)*s/u.H,l<0&&(p[1]=-p[1])}else p=c(e,l);return p[0]*=f,p[1]/=d,p}var n=l*u.v,r=Object(o.a)(u.s,n)[0]-Object(o.a)(-u.s,n)[0],i=c(0,n)[1],a=Object(o.a)(0,n)[1],s=u.E-a,h=u.H/t,f=4/u.H,d=i+s*s*4/u.H;return e.invert=function(e,n){e/=f,n*=d;var l=Object(u.a)(n);if(l>i){var p=Object(u.r)(t-1,Object(u.q)(0,Object(u.n)((e+u.s)/h))),g=o.a.invert(e=(e+u.s*(t-1)/t-p*h)*r/u.H,.25*(l-i)*u.H/s+a);return g[0]-=u.s*(t-1)/t-p*h,n<0&&(g[1]=-g[1]),g}return c.invert(e,n)},e}e.b=r;var i=n(16),a=n(0),o=n(98),s=n(183),u=n(1),l=41+48/36+37/3600,c=Object(s.a)(0);e.a=function(){var t=4,e=Object(a.geoProjectionMutator)(r),n=e(t),o=n.stream;return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var r=n.rotate(),s=o(e),u=(n.rotate([0,0]),o(e));return n.rotate(r),s.sphere=function(){Object(a.geoStream)(function(t){return{type:"Polygon",coordinates:[Object(i.range)(-180,180+t/2,t).map(function(t,e){return[t,1&e?90-1e-6:l]}).concat(Object(i.range)(180,-180-t/2,-t).map(function(t,e){return[t,1&e?1e-6-90:-l]}))]}}(180/t),u)},s},n.scale(239.75)}},function(t,e,n){"use strict";function r(t){function e(e,i){var h,f,d=1-Object(a.y)(i);if(d&&d<2){var p,g=a.o-i,v=25;do{var m=Object(a.y)(g),y=Object(a.h)(g),x=o+Object(a.g)(m,r-y),b=1+c-2*r*y;g-=p=(g-l*o-r*m+b*x-.5*d*n)/(2*r*m*x)}while(Object(a.a)(p)>a.l&&--v>0);h=s*Object(a.B)(b),f=e*x/a.s}else h=s*(t+d),f=e*o/a.s;return[h*Object(a.y)(f),u-h*Object(a.h)(f)]}var n,r=1+t,i=Object(a.y)(1/r),o=Object(a.e)(i),s=2*Object(a.B)(a.s/(n=a.s+4*o*r)),u=.5*s*(r+Object(a.B)(t*(2+t))),l=t*t,c=r*r;return e.invert=function(t,e){var i=t*t+(e-=u)*e,h=(1+c-i/(s*s))/(2*r),f=Object(a.b)(h),d=Object(a.y)(f),p=o+Object(a.g)(d,r-h);return[Object(a.e)(t/Object(a.B)(i))*a.s/p,Object(a.e)(1-2*(f-l*o-r*d+(1+c-2*r*h)*p)/n)]},e}e.b=r;var i=n(0),a=n(1);e.a=function(){var t=1,e=Object(i.geoProjectionMutator)(r),n=e(t);return n.ratio=function(n){return arguments.length?e(t=+n):t},n.scale(167.774).center([0,18.67])}},function(t,e,n){"use strict";var r=n(182),i=n(31),a=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];e.a=function(){return Object(i.a)(r.a,a).scale(160.857)}},function(t,e,n){"use strict";var r=n(187),i=n(31),a=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];e.a=function(){return Object(i.a)(r.b,a).scale(152.63)}},function(t,e,n){"use strict";var r=n(26),i=n(31),a=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];e.a=function(){return Object(i.a)(r.d,a).scale(169.529)}},function(t,e,n){"use strict";var r=n(26),i=n(31),a=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];e.a=function(){return Object(i.a)(r.d,a).scale(169.529).rotate([20,0])}},function(t,e,n){"use strict";var r=n(99),i=n(31),a=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];e.a=function(){return Object(i.a)(r.c,a).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}},function(t,e,n){"use strict";var r=n(46),i=n(31),a=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];e.a=function(){return Object(i.a)(r.b,a).scale(152.63).rotate([-20,0])}},function(t,e,n){"use strict";function r(t,e){return[3/a.H*t*Object(a.B)(a.s*a.s/3-e*e),e]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){return[a.H/3*t/Object(a.B)(a.s*a.s/3-e*e),e]},e.a=function(){return Object(i.geoProjection)(r).scale(158.837)}},function(t,e,n){"use strict";function r(t){function e(e,n){if(Object(a.a)(Object(a.a)(n)-a.o)<a.k)return[0,n<0?-2:2];var r=Object(a.y)(n),i=Object(a.t)((1+r)/(1-r),t/2),o=.5*(i+1/i)+Object(a.h)(e*=t);return[2*Object(a.y)(e)/o,(i-1/i)/o]}return e.invert=function(e,n){var r=Object(a.a)(n);if(Object(a.a)(r-2)<a.k)return e?null:[0,Object(a.x)(n)*a.o];if(r>2)return null;var i=(e/=2)*e,o=(n/=2)*n,s=2*n/(1+i+o);return s=Object(a.t)((1+s)/(1-s),1/t),[Object(a.g)(2*e,1-i-o)/t,Object(a.e)((s-1)/(s+1))]},e}e.b=r;var i=n(0),a=n(1);e.a=function(){var t=.5,e=Object(i.geoProjectionMutator)(r),n=e(t);return n.spacing=function(n){return arguments.length?e(t=+n):t},n.scale(124.75)}},function(t,e,n){"use strict";function r(t,e){return[t*(1+Object(a.B)(Object(a.h)(e)))/2,e/(Object(a.h)(e/2)*Object(a.h)(t/6))]}e.b=r;var i=n(0),a=n(1),o=a.s/a.D;r.invert=function(t,e){var n=Object(a.a)(t),r=Object(a.a)(e),i=a.k,s=a.o;r<o?s*=r/o:i+=6*Object(a.b)(o/r);for(var u=0;u<25;u++){var l=Object(a.y)(s),c=Object(a.B)(Object(a.h)(s)),h=Object(a.y)(s/2),f=Object(a.h)(s/2),d=Object(a.y)(i/6),p=Object(a.h)(i/6),g=.5*i*(1+c)-n,v=s/(f*p)-r,m=c?-.25*i*l/c:0,y=.5*(1+c),x=(1+.5*s*h/f)/(f*p),b=s/f*(d/6)/(p*p),_=m*b-x*y,w=(g*b-v*y)/_,S=(v*m-g*x)/_;if(s-=w,i-=S,Object(a.a)(w)<a.k&&Object(a.a)(S)<a.k)break}return[t<0?-i:i,e<0?-s:s]},e.a=function(){return Object(i.geoProjection)(r).scale(97.2672)}},function(t,e,n){"use strict";function r(t,e){var n=t*t,r=e*e;return[t*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),e*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=Object(a.x)(t)*a.s,r=e/2,i=50;do{var o=n*n,s=r*r,u=n*r,l=n*(.975534+s*(-.0143059*o-.119161+-.0547009*s))-t,c=r*(1.00384+o*(.0802894+-.02855*s+199025e-9*o)+s*(.0998909+-.0491032*s))-e,h=.975534-s*(.119161+3*o*.0143059+.0547009*s),f=-u*(.238322+.2188036*s+.0286118*o),d=u*(.1605788+7961e-7*o+-.0571*s),p=1.00384+o*(.0802894+199025e-9*o)+s*(3*(.0998909-.02855*o)-.245516*s),g=f*d-p*h,v=(c*f-l*p)/g,m=(l*d-c*h)/g;n-=v,r-=m}while((Object(a.a)(v)>a.k||Object(a.a)(m)>a.k)&&--i>0);return i&&[n,r]},e.a=function(){return Object(i.geoProjection)(r).scale(139.98)}},function(t,e,n){"use strict";function r(t,e){return[Object(a.y)(t)/Object(a.h)(e),Object(a.F)(e)*Object(a.h)(t)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=t*t,r=e*e,i=r+1,o=t?a.C*Object(a.B)((i-Object(a.B)(n*n+2*n*(r-1)+i*i))/n+1):1/Object(a.B)(i);return[Object(a.e)(t*o),Object(a.x)(e)*Object(a.b)(o)]},e.a=function(){return Object(i.geoProjection)(r).scale(144.049).clipAngle(89.999)}},function(t,e,n){"use strict";function r(t){function e(e,i){var o=i-t,s=Object(a.a)(o)<a.k?e*n:Object(a.a)(s=a.u+i/2)<a.k||Object(a.a)(Object(a.a)(s)-a.o)<a.k?0:e*o/Object(a.p)(Object(a.F)(s)/r);return[s,o]}var n=Object(a.h)(t),r=Object(a.F)(a.u+t/2);return e.invert=function(e,i){var o,s=i+t;return[Object(a.a)(i)<a.k?e/n:Object(a.a)(o=a.u+s/2)<a.k||Object(a.a)(Object(a.a)(o)-a.o)<a.k?0:e*Object(a.p)(Object(a.F)(o)/r)/i,s]},e}e.b=r;var i=n(38),a=n(1);e.a=function(){return Object(i.a)(r).parallel(40).scale(158.837)}},function(t,e,n){"use strict";function r(t,e){return[t,1.25*Object(a.p)(Object(a.F)(a.u+.4*e))]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){return[t,2.5*Object(a.f)(Object(a.m)(.8*e))-.625*a.s]},e.a=function(){return Object(i.geoProjection)(r).scale(108.318)}},function(t,e,n){"use strict";function r(t){function e(e,r){for(var i,a=Object(o.h)(r),s=2/(1+a*Object(o.h)(e)),u=s*a*Object(o.y)(e),l=s*Object(o.y)(r),c=n,h=t[c],f=h[0],d=h[1];--c>=0;)f=(h=t[c])[0]+u*(i=f)-l*d,d=h[1]+u*d+l*i;return[f=u*(i=f)-l*d,d=u*d+l*i]}var n=t.length-1;return e.invert=function(e,r){var i=20,a=e,s=r;do{for(var u,l=n,c=t[l],h=c[0],f=c[1],d=0,p=0;--l>=0;)d=h+a*(u=d)-s*p,p=f+a*p+s*u,h=(c=t[l])[0]+a*(u=h)-s*f,f=c[1]+a*f+s*u;var g,v,m=(d=h+a*(u=d)-s*p)*d+(p=f+a*p+s*u)*p;a-=g=((h=a*(u=h)-s*f-e)*d+(f=a*f+s*u-r)*p)/m,s-=v=(f*d-h*p)/m}while(Object(o.a)(g)+Object(o.a)(v)>o.k*o.k&&--i>0);if(i){var y=Object(o.B)(a*a+s*s),x=2*Object(o.f)(.5*y),b=Object(o.y)(x);return[Object(o.g)(a*b,y*Object(o.h)(x)),y?Object(o.e)(s*b/y):0]}},e}function i(t,e){var n=Object(a.geoProjection)(r(t)).rotate(e).clipAngle(90),i=Object(a.geoRotation)(e),o=n.center;return delete n.rotate,n.center=function(t){return arguments.length?o(i(t)):i.invert(o())},n}e.g=r,e.b=function(){return i(s,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},e.c=function(){return i(u,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},e.d=function(){return i(l,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},e.f=function(){return i(c,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},e.e=function(){return i(h,[165,10]).scale(250).clipAngle(130).center([-165,-10])},e.a=i;var a=n(0),o=n(1),s=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],u=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],l=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],c=[[.9245,0],[0,0],[.01943,0]],h=[[.721316,0],[0,0],[-.00881625,-.00617325]]},function(t,e,n){"use strict";function r(t,e){var n=Object(a.e)(7*Object(a.y)(e)/(3*o));return[o*t*(2*Object(a.h)(2*n/3)-1)/s,9*Object(a.y)(n/3)/s]}e.b=r;var i=n(0),a=n(1),o=Object(a.B)(6),s=Object(a.B)(7);r.invert=function(t,e){var n=3*Object(a.e)(e*s/9);return[t*s/(o*(2*Object(a.h)(2*n/3)-1)),Object(a.e)(3*Object(a.y)(n)*o/7)]},e.a=function(){return Object(i.geoProjection)(r).scale(164.859)}},function(t,e,n){"use strict";function r(t,e){for(var n,r=(1+a.C)*Object(a.y)(e),i=e,o=0;o<25&&(i-=n=(Object(a.y)(i/2)+Object(a.y)(i)-r)/(.5*Object(a.h)(i/2)+Object(a.h)(i)),!(Object(a.a)(n)<a.k));o++);return[t*(1+2*Object(a.h)(i)/Object(a.h)(i/2))/(3*a.D),2*Object(a.B)(3)*Object(a.y)(i/2)/Object(a.B)(2+a.D)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=e*Object(a.B)(2+a.D)/(2*Object(a.B)(3)),r=2*Object(a.e)(n);return[3*a.D*t/(1+2*Object(a.h)(r)/Object(a.h)(r/2)),Object(a.e)((n+Object(a.y)(r))/(1+a.C))]},e.a=function(){return Object(i.geoProjection)(r).scale(188.209)}},function(t,e,n){"use strict";function r(t,e){for(var n,r=Object(a.B)(6/(4+a.s)),i=(1+a.s/4)*Object(a.y)(e),o=e/2,s=0;s<25&&(o-=n=(o/2+Object(a.y)(o)-i)/(.5+Object(a.h)(o)),!(Object(a.a)(n)<a.k));s++);return[r*(.5+Object(a.h)(o))*t/1.5,r*o]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=Object(a.B)(6/(4+a.s)),r=e/n;return Object(a.a)(Object(a.a)(r)-a.o)<a.k&&(r=r<0?-a.o:a.o),[1.5*t/(n*(.5+Object(a.h)(r))),Object(a.e)((r/2+Object(a.y)(r))/(1+a.s/4))]},e.a=function(){return Object(i.geoProjection)(r).scale(166.518)}},function(t,e,n){"use strict";function r(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Object(a.a)(n)>a.k&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},e.a=function(){return Object(i.geoProjection)(r).scale(175.295)}},function(t,e,n){"use strict";function r(t,e){var n=e*e,r=n*n,i=n*r;return[t*(.84719-.13063*n+i*i*(.05494*n-.04515-.02326*r+.00331*i)),e*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n,r,i,o,s=e,u=25;do{s-=n=(s*(1.01183+(i=(r=s*s)*r)*i*(.01926*r-.02625-.00396*i))-e)/(1.01183+i*i*(.21186*r-.23625+-.05148*i))}while(Object(a.a)(n)>a.l&&--u>0);return[t/(.84719-.13063*(r=s*s)+(o=r*(i=r*r))*o*(.05494*r-.04515-.02326*i+.00331*o)),s]},e.a=function(){return Object(i.geoProjection)(r).scale(175.295)}},function(t,e,n){"use strict";function r(t,e){return[t*(1+Object(a.h)(e))/2,2*(e-Object(a.F)(e/2))]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){for(var n=e/2,r=0,i=1/0;r<10&&Object(a.a)(i)>a.k;++r){var o=Object(a.h)(e/2);e-=i=(e-Object(a.F)(e/2)-n)/(1-.5/(o*o))}return[2*t/(1+Object(a.h)(e)),e]},e.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,e,n){"use strict";function r(t,e){var n=e*e;return[t,e*(o+n*n*(s+n*(u+l*n)))]}e.b=r;var i=n(0),a=n(1),o=1.0148,s=.23185,u=-.14499,l=.02406,c=o,h=5*s,f=7*u,d=9*l;r.invert=function(t,e){e>1.790857183?e=1.790857183:e<-1.790857183&&(e=-1.790857183);var n,r=e;do{var i=r*r;r-=n=(r*(o+i*i*(s+i*(u+l*i)))-e)/(c+i*i*(h+i*(f+d*i)))}while(Object(a.a)(n)>a.k);return[t,r]},e.a=function(){return Object(i.geoProjection)(r).scale(139.319)}},function(t,e,n){"use strict";function r(t,e){if(Object(a.a)(e)<a.k)return[t,0];var n=Object(a.F)(e),r=t*Object(a.y)(e);return[Object(a.y)(r)/n,e+(1-Object(a.h)(r))/n]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){if(Object(a.a)(e)<a.k)return[t,0];var n,r=t*t+e*e,i=.5*e,o=10;do{var s=Object(a.F)(i),u=1/Object(a.h)(i),l=r-2*e*i+i*i;i-=n=(s*l+2*(i-e))/(2+l*u*u+2*(i-e)*s)}while(Object(a.a)(n)>a.k&&--o>0);return s=Object(a.F)(i),[(Object(a.a)(e)<Object(a.a)(i+1/s)?Object(a.e)(t*s):Object(a.x)(t)*(Object(a.b)(Object(a.a)(t*s))+a.o))/Object(a.y)(i),i]},e.a=function(){return Object(i.geoProjection)(r).scale(103.74)}},function(t,e,n){"use strict";function r(t,e){return[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}function i(t,e){return[t[0]-e[0],t[1]-e[1]]}function a(t){return Object(o.B)(t[0]*t[0]+t[1]*t[1])}e.b=function(t){var e=1/(t[0]*t[4]-t[1]*t[3]);return[e*t[4],-e*t[1],e*(t[1]*t[5]-t[2]*t[4]),-e*t[3],e*t[0],e*(t[2]*t[3]-t[0]*t[5])]},e.c=r;var o=n(1);e.a=function(t,e){var n=i(t[1],t[0]),s=i(e[1],e[0]),u=function(t,e){return Object(o.g)(t[0]*e[1]-t[1]*e[0],t[0]*e[0]+t[1]*e[1])}(n,s),l=a(n)/a(s);return r([1,0,t[0][0],0,1,t[0][1]],r([l,0,0,0,l,0],r([Object(o.h)(u),Object(o.y)(u),0,-Object(o.y)(u),Object(o.h)(u),0],[1,0,-e[0][0],0,1,-e[0][1]])))}},function(t,e,n){"use strict";var r=n(0),i=n(1),a=n(69),o=n(100);e.a=function(t){t=t||function(t){var e=Object(r.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(r.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=o.a.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])}),Object(a.a)(e[0],function(t,n){return e[t<-i.s/2?n<0?6:4:t<0?n<0?2:0:t<i.s/2?n<0?3:1:n<0?7:5]}).scale(101.858).center([0,45])}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.a)(t,e);return[n[0]*l,n[1]]}var i=n(0),a=n(98),o=n(1),s=n(69),u=n(100),l=2/Object(o.B)(3);r.invert=function(t,e){return a.a.invert(t/l,e)},e.a=function(t){t=t||function(t){var e=Object(i.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(i.geoProjection)(r).translate([0,0]).scale(1).rotate(e[1]>0?[-e[0],0]:[180-e[0],180])};var e=u.a.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])}),Object(s.a)(e[0],function(t,n){return e[t<-o.s/2?n<0?6:4:t<0?n<0?2:0:t<o.s/2?n<0?3:1:n<0?7:5]}).scale(121.906).center([0,48.5904])}},function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.length,i=0;n<r;++n)i+=t[n]*e[n];return i}function i(t){return[Object(s.g)(t[1],t[0])*s.j,Object(s.e)(Object(s.q)(-1,Object(s.r)(1,t[2])))*s.j]}function a(t){var e=t[0]*s.v,n=t[1]*s.v,r=Object(s.h)(n);return[r*Object(s.h)(e),r*Object(s.y)(e),Object(s.y)(n)]}var o=n(0),s=n(1),u=n(69),l=n(100);e.a=function(t){t=t||function(t){var e=6===t.length?Object(o.geoCentroid)({type:"MultiPoint",coordinates:t}):t[0];return Object(o.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=l.a.map(function(t){for(var e,n=t.map(a),r=n.length,o=n[r-1],s=[],u=0;u<r;++u)s.push(i([.9486832980505138*o[0]+.31622776601683794*(e=n[u])[0],.9486832980505138*o[1]+.31622776601683794*e[1],.9486832980505138*o[2]+.31622776601683794*e[2]]),i([.9486832980505138*e[0]+.31622776601683794*o[0],.9486832980505138*e[1]+.31622776601683794*o[1],.9486832980505138*e[2]+.31622776601683794*o[2]])),o=e;return s}),n=[],c=[-1,0,0,1,0,1,4,5];e.forEach(function(t,r){for(var i=l.a[r],o=i.length,s=n[r]=[],u=0;u<o;++u)e.push([i[u],t[(2*u+2)%(2*o)],t[(2*u+1)%(2*o)]]),c.push(r),s.push(function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}(a(t[(2*u+2)%(2*o)]),a(t[(2*u+1)%(2*o)])))});var h=e.map(function(e){return{project:t(e),face:e}});return c.forEach(function(t,e){var n=h[t];n&&(n.children||(n.children=[])).push(h[e])}),Object(u.a)(h[0],function(t,e){var i=Object(s.h)(e),a=[i*Object(s.h)(t),i*Object(s.y)(t),Object(s.y)(e)],o=t<-s.s/2?e<0?6:4:t<0?e<0?2:0:t<s.s/2?e<0?3:1:e<0?7:5,u=n[o];return h[r(u[0],a)<0?8+3*o:r(u[1],a)<0?8+3*o+1:r(u[2],a)<0?8+3*o+2:o]}).scale(110.625).center([0,45])}},function(t,e,n){"use strict";function r(t,e){return{type:"FeatureCollection",features:t.features.map(function(t){return i(t,e)})}}function i(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:a(t.geometry,e)}}function a(t,e){if(!t)return null;if("GeometryCollection"===t.type)return function(t,e){return{type:"GeometryCollection",geometries:t.geometries.map(function(t){return a(t,e)})}}(t,e);var n;switch(t.type){case"Point":case"MultiPoint":n=f;break;case"LineString":case"MultiLineString":n=d;break;case"Polygon":case"MultiPolygon":case"Sphere":n=p;break;default:return null}return Object(o.geoStream)(t,e(n)),n.result()}var o=n(0),s=n(409),u=n(410),l=n(411);e.a=function(t,e){var n,o=e.stream;if(!o)throw new Error("invalid projection");switch(t&&t.type){case"Feature":n=i;break;case"FeatureCollection":n=r;break;default:n=a}return n(t,o)};var c=[],h=[],f={point:function(t,e){c.push([t,e])},result:function(){var t=c.length?c.length<2?{type:"Point",coordinates:c[0]}:{type:"MultiPoint",coordinates:c}:null;return c=[],t}},d={lineStart:s.a,point:function(t,e){c.push([t,e])},lineEnd:function(){c.length&&(h.push(c),c=[])},result:function(){var t=h.length?h.length<2?{type:"LineString",coordinates:h[0]}:{type:"MultiLineString",coordinates:h}:null;return h=[],t}},p={polygonStart:s.a,lineStart:s.a,point:function(t,e){c.push([t,e])},lineEnd:function(){var t=c.length;if(t){do{c.push(c[0].slice())}while(++t<4);h.push(c),c=[]}},polygonEnd:s.a,result:function(){if(!h.length)return null;var t=[],e=[];return h.forEach(function(n){Object(u.a)(n)?t.push([n]):e.push(n)}),e.forEach(function(e){var n=e[0];t.some(function(t){if(Object(l.a)(t[0],n))return t.push(e),!0})||t.push([e])}),h=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";e.a=function(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=e[0],r=e[1],i=!1,a=0,o=t.length,s=o-1;a<o;s=a++){var u=t[a],l=u[0],c=u[1],h=t[s],f=h[1];c>r^f>r&&n<(h[0]-l)*(r-c)/(f-c)+l&&(i=!i)}return i}},function(t,e,n){"use strict";var r=n(184),i=n(101);e.a=function(){return Object(i.a)(r.b).scale(176.423)}},function(t,e,n){"use strict";e.a=function(t,e){function n(t){var n=t.length,r=2,i=new Array(n);for(i[0]=+t[0].toFixed(e),i[1]=+t[1].toFixed(e);r<n;)i[r]=t[r],++r;return i}function r(t){return t.map(n)}function i(t){return t.map(r)}function a(t){if(null==t)return t;var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(a)};break;case"Point":e={type:"Point",coordinates:n(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:r(t.coordinates)};break;case"MultiLineString":case"Polygon":e={type:t.type,coordinates:i(t.coordinates)};break;case"MultiPolygon":e={type:"MultiPolygon",coordinates:t.coordinates.map(i)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}function o(t){var e={type:"Feature",properties:t.properties,geometry:a(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),e}if(!(0<=(e=+e)&&e<=20))throw new Error("invalid digits");if(null!=t)switch(t.type){case"Feature":return o(t);case"FeatureCollection":var s={type:"FeatureCollection",features:t.features.map(o)};return null!=t.bbox&&(s.bbox=t.bbox),s;default:return a(t)}return t}},function(t,e,n){"use strict";function r(t){function e(e,r){var a=n?Object(i.F)(e*n/2)/n:e/2;if(!r)return[2*a,-t];var o=2*Object(i.f)(a*Object(i.y)(r)),s=1/Object(i.F)(r);return[Object(i.y)(o)*s,r+(1-Object(i.h)(o))*s-t]}var n=Object(i.y)(t);return e.invert=function(e,r){if(Object(i.a)(r+=t)<i.k)return[n?2*Object(i.f)(n*e/2)/n:e,0];var a,o=e*e+r*r,s=0,u=10;do{var l=Object(i.F)(s),c=1/Object(i.h)(s),h=o-2*r*s+s*s;s-=a=(l*h+2*(s-r))/(2+h*c*c+2*(s-r)*l)}while(Object(i.a)(a)>i.k&&--u>0);var f=e*(l=Object(i.F)(s)),d=Object(i.F)(Object(i.a)(r)<Object(i.a)(s+1/l)?.5*Object(i.e)(f):.5*Object(i.b)(f)+i.s/4)/Object(i.y)(s);return[n?2*Object(i.f)(n*d)/n:2*d,s]},e}e.b=r;var i=n(1),a=n(38);e.a=function(){return Object(a.a)(r).scale(131.215)}},function(t,e,n){"use strict";function r(t,e){var n,r=Object(a.r)(18,36*Object(a.a)(e)/a.s),i=Object(a.n)(r),s=r-i,u=(n=o[i])[0],l=n[1],c=(n=o[++i])[0],h=n[1],f=(n=o[Object(a.r)(19,++i)])[0],d=n[1];return[t*(c+s*(f-u)/2+s*s*(f-2*c+u)/2),(e>0?a.o:-a.o)*(h+s*(d-l)/2+s*s*(d-2*h+l)/2)]}e.b=r;var i=n(0),a=n(1),o=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];o.forEach(function(t){t[1]*=1.0144}),r.invert=function(t,e){var n=e/a.o,r=90*n,i=Object(a.r)(18,Object(a.a)(r/5)),s=Object(a.q)(0,Object(a.n)(i));do{var u=o[s][1],l=o[s+1][1],c=o[Object(a.r)(19,s+2)][1],h=c-u,f=c-2*l+u,d=2*(Object(a.a)(n)-l)/h,p=f/h,g=d*(1-p*d*(1-2*p*d));if(g>=0||1===s){r=(e>=0?5:-5)*(g+i);var v,m=50;do{g=(i=Object(a.r)(18,Object(a.a)(r)/5))-(s=Object(a.n)(i)),u=o[s][1],l=o[s+1][1],c=o[Object(a.r)(19,s+2)][1],r-=(v=(e>=0?a.o:-a.o)*(l+g*(c-u)/2+g*g*(c-2*l+u)/2)-e)*a.j}while(Object(a.a)(v)>a.l&&--m>0);break}}while(--s>=0);var y=o[s][0],x=o[s+1][0],b=o[Object(a.r)(19,s+2)][0];return[t/(x+g*(b-y)/2+g*g*(b-2*x+y)/2),r*a.v]},e.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,e,n){"use strict";function r(t,e){function n(e,n){var a=r(e,n),s=a[1],u=s*o/(t-1)+i;return[a[0]*i/u,s/u]}var r=function(t){function e(e,n){var r=Object(a.h)(n),i=(t-1)/(t-r*Object(a.h)(e));return[i*r*Object(a.y)(e),i*Object(a.y)(n)]}return e.invert=function(e,n){var r=e*e+n*n,i=Object(a.B)(r),o=(t-Object(a.B)(1-r*(t+1)/(t-1)))/((t-1)/i+i/(t-1));return[Object(a.g)(e*o,i*Object(a.B)(1-o*o)),i?Object(a.e)(n*o/i):0]},e}(t);if(!e)return r;var i=Object(a.h)(e),o=Object(a.y)(e);return n.invert=function(e,n){var a=(t-1)/(t-1-n*o);return r.invert(a*e,a*n*i)},n}e.b=r;var i=n(0),a=n(1);e.a=function(){var t=2,e=0,n=Object(i.geoProjectionMutator)(r),o=n(t,e);return o.distance=function(r){return arguments.length?n(t=+r,e):t},o.tilt=function(r){return arguments.length?n(t,e=r*a.v):e*a.j},o.scale(432.147).clipAngle(Object(a.b)(1/t)*a.j-1e-6)}},function(t,e,n){"use strict";function r(t){return t.length>0}function i(t){return t===v||t===y?[0,t]:[f,function(t){return Math.floor(t*h)/h}(t)]}function a(t){var e=t[0],n=t[1],r=!1;return e<=d?(e=f,r=!0):e>=g&&(e=p,r=!0),n<=m?(n=v,r=!0):n>=x&&(n=y,r=!0),r?[e,n]:t}function o(t){return t.map(a)}function s(t,e,n){for(var r=0,o=t.length;r<o;++r){var s=t[r].slice();n.push({index:-1,polygon:e,ring:s});for(var u=0,l=s.length;u<l;++u){var c=s[u],h=c[0],f=c[1];if(h<=d||h>=g||f<=m||f>=x){s[u]=a(c);for(var p=u+1;p<l;++p){var v=s[p],y=v[0],b=v[1];if(y>d&&y<g&&b>m&&b<x)break}if(p===u+1)continue;if(u){var _={index:-1,polygon:e,ring:s.slice(0,u+1)};_.ring[_.ring.length-1]=i(f),n[n.length-1]=_}else n.pop();if(p>=l)break;n.push({index:-1,polygon:e,ring:s=s.slice(p-1)}),s[0]=i(s[0][1]),u=-1,l=s.length}}}}function u(t){var e,n,r,i,a,o,s=t.length,u={},l={};for(e=0;e<s;++e)(r=(n=t[e]).ring[0])[0]!==(a=n.ring[n.ring.length-1])[0]||r[1]!==a[1]?(n.index=e,u[r]=l[a]=n):(n.polygon.push(n.ring),t[e]=null);for(e=0;e<s;++e)if(n=t[e]){if(i=l[r=n.ring[0]],o=u[a=n.ring[n.ring.length-1]],delete u[r],delete l[a],r[0]===a[0]&&r[1]===a[1]){n.polygon.push(n.ring);continue}i?(delete l[r],delete u[i.ring[0]],i.ring.pop(),t[i.index]=null,n={index:-1,polygon:i.polygon,ring:i.ring.concat(n.ring)},i===o?n.polygon.push(n.ring):(n.index=s++,t.push(u[n.ring[0]]=l[n.ring[n.ring.length-1]]=n))):o?(delete u[a],delete l[o.ring[o.ring.length-1]],n.ring.pop(),n={index:s++,polygon:o.polygon,ring:n.ring.concat(o.ring)},t[o.index]=null,t.push(u[n.ring[0]]=l[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function l(t){var e={type:"Feature",geometry:c(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function c(t){if(null==t)return t;var e,n,i,l;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(c)};break;case"Point":e={type:"Point",coordinates:a(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:o(t.coordinates)};break;case"MultiLineString":e={type:"MultiLineString",coordinates:t.coordinates.map(o)};break;case"Polygon":var h=[];s(t.coordinates,h,n=[]),u(n),e={type:"Polygon",coordinates:h};break;case"MultiPolygon":n=[],i=-1,l=t.coordinates.length;for(var f=new Array(l);++i<l;)s(t.coordinates[i],f[i]=[],n);u(n),e={type:"MultiPolygon",coordinates:f.filter(r)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}var h=1e4,f=-180,d=f+1e-4,p=180,g=p-1e-4,v=-90,m=v+1e-4,y=90,x=y-1e-4;e.a=function(t){if(null==t)return t;switch(t.type){case"Feature":return l(t);case"FeatureCollection":var e={type:"FeatureCollection",features:t.features.map(l)};return null!=t.bbox&&(e.bbox=t.bbox),e;default:return c(t)}}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.F)(e/2),r=Object(a.y)(a.u*n);return[t*(.74482-.34588*r*r),1.70711*n]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=e/1.70711,r=Object(a.y)(a.u*n);return[t/(.74482-.34588*r*r),2*Object(a.f)(n)]},e.a=function(){return Object(i.geoProjection)(r).scale(146.153)}},function(t,e,n){"use strict";function r(t){function e(t,e){var r=Object(a.geoGnomonicRaw)(t,e);return r[0]*=n,r}var n=Object(o.h)(t);return e.invert=function(t,e){return a.geoGnomonicRaw.invert(t/n,e)},e}function i(t,e){return Object(s.a)(r,t,e)}e.b=r,e.c=function(){return i([-158,21.5],[-77,39]).clipAngle(60).scale(400)},e.a=i;var a=n(0),o=n(1),s=n(189)},function(t,e,n){"use strict";function r(t){function e(e,a){var s=Object(o.b)(Object(o.h)(a)*Object(o.h)(e-n)),u=Object(o.b)(Object(o.h)(a)*Object(o.h)(e-r));return[((s*=s)-(u*=u))/(2*t),(a<0?-1:1)*Object(o.B)(4*i*u-(i-s+u)*(i-s+u))/(2*t)]}if(!(t*=2))return a.geoAzimuthalEquidistantRaw;var n=-t/2,r=-n,i=t*t,s=Object(o.F)(r),u=.5/Object(o.y)(r);return e.invert=function(t,e){var i,a,l=e*e,c=Object(o.h)(Object(o.B)(l+(i=t+n)*i)),h=Object(o.h)(Object(o.B)(l+(i=t+r)*i));return[Object(o.g)(a=c-h,i=(c+h)*s),(e<0?-1:1)*Object(o.b)(Object(o.B)(i*i+a*a)*u)]},e}function i(t,e){return Object(s.a)(r,t,e)}e.b=r,e.c=function(){return i([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},e.a=i;var a=n(0),o=n(1),s=n(189)},function(t,e,n){"use strict";function r(t,e){if(Object(a.a)(e)<a.k)return[t,0];var n=Object(a.a)(e/a.o),r=Object(a.e)(n);if(Object(a.a)(t)<a.k||Object(a.a)(Object(a.a)(e)-a.o)<a.k)return[0,Object(a.x)(e)*a.s*Object(a.F)(r/2)];var i=Object(a.h)(r),o=Object(a.a)(a.s/t-t/a.s)/2,s=o*o,u=i/(n+i-1),l=u*(2/n-1),c=l*l,h=c+s,f=u-c,d=s+u;return[Object(a.x)(t)*a.s*(o*f+Object(a.B)(s*f*f-h*(u*u-c)))/h,Object(a.x)(e)*a.s*(l*d-o*Object(a.B)((s+1)*h-d*d))/h]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){if(Object(a.a)(e)<a.k)return[t,0];if(Object(a.a)(t)<a.k)return[0,a.o*Object(a.y)(2*Object(a.f)(e/a.s))];var n=(t/=a.s)*t,r=(e/=a.s)*e,i=n+r,o=i*i,s=-Object(a.a)(e)*(1+i),u=s-2*r+n,l=-2*s+1+2*r+o,c=r/l+(2*u*u*u/(l*l*l)-9*s*u/(l*l))/27,h=(s-u*u/(3*l))/l,f=2*Object(a.B)(-h/3),d=Object(a.b)(3*c/(h*f))/3;return[a.s*(i-1+Object(a.B)(1+2*(n-r)+o))/(2*t),Object(a.x)(e)*a.s*(-f*Object(a.h)(d+a.s/3)-u/(3*l))]},e.a=function(){return Object(i.geoProjection)(r).scale(79.4183)}},function(t,e,n){"use strict";function r(t,e){if(Object(a.a)(e)<a.k)return[t,0];var n=Object(a.a)(e/a.o),r=Object(a.e)(n);if(Object(a.a)(t)<a.k||Object(a.a)(Object(a.a)(e)-a.o)<a.k)return[0,Object(a.x)(e)*a.s*Object(a.F)(r/2)];var i=Object(a.h)(r),o=Object(a.a)(a.s/t-t/a.s)/2,s=o*o,u=i*(Object(a.B)(1+s)-o*i)/(1+s*n*n);return[Object(a.x)(t)*a.s*u,Object(a.x)(e)*a.s*Object(a.B)(1-u*(2*o+u))]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){if(!t)return[0,a.o*Object(a.y)(2*Object(a.f)(e/a.s))];var n=Object(a.a)(t/a.s),r=(1-n*n-(e/=a.s)*e)/(2*n),i=r*r,o=Object(a.B)(i+1);return[Object(a.x)(t)*a.s*(o-r),Object(a.x)(e)*a.o*Object(a.y)(2*Object(a.g)(Object(a.B)((1-2*r*n)*(r+o)-n),Object(a.B)(o+r+n)))]},e.a=function(){return Object(i.geoProjection)(r).scale(79.4183)}},function(t,e,n){"use strict";function r(t,e){if(Object(a.a)(e)<a.k)return[t,0];var n=e/a.o,r=Object(a.e)(n);if(Object(a.a)(t)<a.k||Object(a.a)(Object(a.a)(e)-a.o)<a.k)return[0,a.s*Object(a.F)(r/2)];var i=(a.s/t-t/a.s)/2,o=n/(1+Object(a.h)(r));return[a.s*(Object(a.x)(t)*Object(a.B)(i*i+1-o*o)-i),a.s*o]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){if(!e)return[t,0];var n=e/a.s,r=(a.s*a.s*(1-n*n)-t*t)/(2*a.s*t);return[t?a.s*(Object(a.x)(t)*Object(a.B)(r*r+1)-r):0,a.o*Object(a.y)(2*Object(a.f)(n))]},e.a=function(){return Object(i.geoProjection)(r).scale(79.4183)}},function(t,e,n){"use strict";function r(t,e){if(!e)return[t,0];var n=Object(a.a)(e);if(!t||n===a.o)return[0,e];var r=n/a.o,i=r*r,o=(8*r-i*(i+2)-5)/(2*i*(r-1)),s=o*o,u=r*o,l=i+s+2*u,c=r+3*o,h=t/a.o,f=h+1/h,d=Object(a.x)(Object(a.a)(t)-a.o)*Object(a.B)(f*f-4),p=d*d,g=l*(i+s*p-1)+(1-i)*(i*(c*c+4*s)+12*u*s+4*s*s),v=(d*(l+s-1)+2*Object(a.B)(g))/(4*l+p);return[Object(a.x)(t)*a.o*v,Object(a.x)(e)*a.o*Object(a.B)(1+d*Object(a.a)(v)-v*v)]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n;if(!t||!e)return[t,e];e/=a.s;var r=Object(a.x)(t)*t/a.o,i=(r*r-1+4*e*e)/Object(a.a)(r),o=i*i,s=2*e,u=50;do{var l=s*s,c=(8*s-l*(l+2)-5)/(2*l*(s-1)),h=(3*s-l*s-10)/(2*l*s),f=c*c,d=s*c,p=s+c,g=p*p,v=s+3*c,m=g*(l+f*o-1)+(1-l)*(l*(v*v+4*f)+f*(12*d+4*f)),y=-2*p*(4*d*f+(1-4*l+3*l*l)*(1+h)+f*(14*l-6-o+(8*l-8-2*o)*h)+d*(12*l-8+(10*l-10-o)*h)),x=Object(a.B)(m);s-=n=(i*(g+f-1)+2*x-r*(4*g+o))/(i*(2*c*h+2*p*(1+h))+y/x-8*p*(i*(-1+f+g)+2*x)*(1+h)/(o+4*g))}while(n>a.k&&--u>0);return[Object(a.x)(t)*(Object(a.B)(i*i+4)+i)*a.s/4,a.o*s]},e.a=function(){return Object(i.geoProjection)(r).scale(127.16)}},function(t,e,n){"use strict";n.d(e,"b",function(){return u});var r=n(0),i=n(1),a=n(26),o=4*i.s+3*Object(i.B)(3),s=2*Object(i.B)(2*i.s*Object(i.B)(3)/o),u=Object(a.b)(s*Object(i.B)(3)/i.s,s,o/6);e.a=function(){return Object(r.geoProjection)(u).scale(176.84)}},function(t,e,n){"use strict";function r(t,e){return[t*Object(a.B)(1-3*e*e/(a.s*a.s)),e]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){return[t/Object(a.B)(1-3*e*e/(a.s*a.s)),e]},e.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,e,n){"use strict";function r(t,e){var n=.90631*Object(a.y)(e),r=Object(a.B)(1-n*n),i=Object(a.B)(2/(1+r*Object(a.h)(t/=3)));return[2.66723*r*i*Object(a.y)(t),1.24104*n*i]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=t/2.66723,r=e/1.24104,i=Object(a.B)(n*n+r*r),o=2*Object(a.e)(i/2);return[3*Object(a.g)(t*Object(a.F)(o),2.66723*i),i&&Object(a.e)(e*Object(a.y)(o)/(1.24104*.90631*i))]},e.a=function(){return Object(i.geoProjection)(r).scale(172.632)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.h)(e),r=Object(a.h)(t)*n,i=1-r,o=Object(a.h)(t=Object(a.g)(Object(a.y)(t)*n,-Object(a.y)(e))),s=Object(a.y)(t);return[s*(n=Object(a.B)(1-r*r))-o*i,-o*n-s*i]}e.b=r;var i=n(0),a=n(1);r.invert=function(t,e){var n=(t*t+e*e)/-2,r=Object(a.B)(-n*(2+n)),i=e*n+t*r,o=t*n-e*r,s=Object(a.B)(o*o+i*i);return[Object(a.g)(r*i,s*(1+n)),s?-Object(a.e)(r*o/s):0]},e.a=function(){return Object(i.geoProjection)(r).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.a)(t,e);return[(n[0]+t/o.o)/2,(n[1]+e)/2]}e.b=r;var i=n(0),a=n(180),o=n(1);r.invert=function(t,e){var n=t,r=e,i=25;do{var a,s=Object(o.h)(r),u=Object(o.y)(r),l=Object(o.y)(2*r),c=u*u,h=s*s,f=Object(o.y)(n),d=Object(o.h)(n/2),p=Object(o.y)(n/2),g=p*p,v=1-h*d*d,m=v?Object(o.b)(s*d)*Object(o.B)(a=1/v):a=0,y=.5*(2*m*s*p+n/o.o)-t,x=.5*(m*u+r)-e,b=.5*a*(h*g+m*s*d*c)+.5/o.o,_=a*(f*l/4-m*u*p),w=.125*a*(l*p-m*u*h*f),S=.5*a*(c*d+m*g*s)+.5,M=_*w-S*b,O=(x*_-y*S)/M,C=(y*w-x*b)/M;n-=O,r-=C}while((Object(o.a)(O)>o.k||Object(o.a)(C)>o.k)&&--i>0);return[n,r]},e.a=function(){return Object(i.geoProjection)(r).scale(158.837)}},function(t,e,n){var r=n(191);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(71),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(71);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(71);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(71);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(70);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(70),i=n(103),a=n(104);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(442),i=n(70),a=n(103);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(443),a=n(444),o=n(445),s=n(446),u=n(447);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(72);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(72),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(72),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(72);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(73);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(73);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(73);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(73);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(41),i=n(11);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(41),i=n(105);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(15),i=n(64),a=n(456),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return a(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&o.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(18),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(e,n(65)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(41),i=n(106);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}},function(t,e,n){var r=n(41),i=n(194);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(196),i=n(194),a=n(105);t.exports=function(t){return r(t,a,i)}},function(t,e,n){var r=n(29)(n(18),"DataView");t.exports=r},function(t,e,n){var r=n(29)(n(18),"Promise");t.exports=r},function(t,e,n){var r=n(29)(n(18),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(109),i=n(468),a=n(469),o=n(471),s=n(472),u=n(474),l=n(475);t.exports=function(t,e,n,c){var h=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new h(+t);case"[object DataView]":return i(t,c);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(t,c);case"[object Map]":return a(t,c,n);case"[object Number]":case"[object String]":return new h(t);case"[object RegExp]":return o(t);case"[object Set]":return s(t,c,n);case"[object Symbol]":return u(t)}}},function(t,e,n){var r=n(109);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e,n){var r=n(470),i=n(200),a=n(201);t.exports=function(t,e,n){var o=e?n(a(t),1):a(t);return i(o,r,new t.constructor)}},function(t,e){t.exports=function(t,e){return t.set(e[0],e[1]),t}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(473),i=n(200),a=n(74);t.exports=function(t,e,n){var o=e?n(a(t),1):a(t);return i(o,r,new t.constructor)}},function(t,e){t.exports=function(t,e){return t.add(e),t}},function(t,e,n){var r=n(35),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;t.exports=function(t){return a?Object(a.call(t)):{}}},function(t,e,n){var r=n(109);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(477),i=n(108),a=n(64);t.exports=function(t){return"function"!=typeof t.constructor||a(t)?{}:r(i(t))}},function(t,e,n){var r=n(15),i=Object.create,a=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=a},function(t,e,n){var r=n(479)(n(497));t.exports=r},function(t,e,n){var r=n(48),i=n(24),a=n(11);t.exports=function(t){return function(e,n,o){var s=Object(e);if(!i(e)){var u=r(n,3);e=a(e),n=function(t){return u(s[t],t,s)}}var l=t(e,n,o);return l>-1?s[u?e[l]:l]:void 0}}},function(t,e,n){var r=n(202),i=n(205),a=n(207);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(102),i=n(204),a=n(485),o=n(486),s=n(197),u=n(3),l=n(89),c=n(152),h="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,v,m){var y=u(t),x=u(e),b=y?f:s(t),_=x?f:s(e),w=(b=b==h?d:b)==d,S=(_=_==h?d:_)==d,M=b==_;if(M&&l(t)){if(!l(e))return!1;y=!0,w=!1}if(M&&!w)return m||(m=new r),y||c(t)?i(t,e,n,g,v,m):a(t,e,b,n,g,v,m);if(!(1&n)){var O=w&&p.call(t,"__wrapped__"),C=S&&p.call(e,"__wrapped__");if(O||C){var A=O?t.value():t,I=C?e.value():e;return m||(m=new r),v(A,I,n,g,m)}}return!!M&&(m||(m=new r),o(t,e,n,g,v,m))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(35),i=n(199),a=n(62),o=n(204),s=n(201),u=n(74),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":if(d||(d=u),t.size!=e.size&&!(1&r))return!1;var p=f.get(t);if(p)return p==e;r|=2,f.set(t,e);var g=o(d(t),d(e),r,l,h,f);return f.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e,n){var r=n(195),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,o,s){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var h=c;h--;){var f=l[h];if(!(u?f in e:i.call(e,f)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);for(var g=u;++h<c;){var v=t[f=l[h]],m=e[f];if(a)var y=u?a(m,v,f,e,t,s):a(v,m,f,t,e,s);if(!(void 0===y?v===m||o(v,m,n,a,s):y)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b)&&(p=!1)}return s.delete(t),s.delete(e),p}},function(t,e,n){var r=n(203),i=n(488),a=n(209),o=n(113),s=n(206),u=n(207),l=n(51);t.exports=function(t,e){return o(t)&&s(e)?u(l(t),e):function(n){var o=i(n,t);return void 0===o&&o===e?a(n,t):r(e,o,3)}}},function(t,e,n){var r=n(112);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n(490)(function(t){var e=[];return r.test(t)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(491);t.exports=function(t){var e=r(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(a);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(r.Cache||i),n}var i=n(104),a="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){var r=n(35),i=n(50),a=n(3),o=n(49),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return i(e,t)+"";if(o(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(495),i=n(496),a=n(113),o=n(51);t.exports=function(t){return a(t)?r(o(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(112);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(211),i=n(48),a=n(498),o=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:a(n);return u<0&&(u=o(s+u,0)),r(t,i(e,3),u)}},function(t,e,n){var r=n(499);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(500);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(15),i=n(49),a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=s.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):o.test(t)?NaN:+t}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var u=o[t?s:++i];if(!1===n(a[u],u,a))break}return e}}},function(t,e,n){var r=n(202),i=n(205);t.exports=function(t,e){return t===e||r(t,e,i(e))}},function(t,e,n){var r=n(504),i=n(209);t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},function(t,e,n){var r=n(112),i=n(505),a=n(76);t.exports=function(t,e,n){for(var o=-1,s=e.length,u={};++o<s;){var l=e[o],c=r(t,l);n(c,l)&&i(u,a(l,t),c)}return u}},function(t,e,n){var r=n(61),i=n(76),a=n(63),o=n(15),s=n(51);t.exports=function(t,e,n,u){if(!o(t))return t;for(var l=-1,c=(e=i(e,t)).length,h=c-1,f=t;null!=f&&++l<c;){var d=s(e[l]),p=n;if(l!=h){var g=f[d];void 0===(p=u?u(g,d,f):void 0)&&(p=o(g)?g:a(e[l+1])?[]:{})}r(f,d,p),f=f[d]}return t}},function(t,e,n){var r=n(507),i=n(148),a=n(149);t.exports=function(t){return a(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(77);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(35),i=n(88),a=n(3),o=r?r.isConcatSpreadable:void 0;t.exports=function(t){return a(t)||i(t)||!!(o&&t&&t[o])}},function(t,e,n){!function(t,e,n){"use strict";function r(){}function i(t,n,r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),e.geoStream(r,t.stream(h));var s=h.result(),u=Math.min(i/(s[1][0]-s[0][0]),a/(s[1][1]-s[0][1])),l=+n[0][0]+(i-u*(s[1][0]+s[0][0]))/2,c=+n[0][1]+(a-u*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([l,c])}function a(t,e,n){return i(t,[[0,0],e],n)}var o=1e-6,s=1/0,u=s,l=-s,c=l,h={point:function(t,e){t<s&&(s=t),t>l&&(l=t),e<u&&(u=e),e>c&&(c=e)},lineStart:r,lineEnd:r,polygonStart:r,polygonEnd:r,result:function(){var t=[[s,u],[l,c]];return l=c=-(u=s=1/0),t}};t.geoAlbersUsa=function(){function t(t){var e=t[0],n=t[1];return f=null,l.point(e,n),f||(c.point(e,n),f)||(h.point(e,n),f)}function r(){return s=u=null,t}var s,u,l,c,h,f,d=e.geoAlbers(),p=e.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=e.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(t,e){f=[t,e]}};return t.invert=function(t){var e=d.scale(),n=d.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?p:i>=.166&&i<.234&&r>=-.214&&r<-.115?g:d).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([d.stream(u=t),p.stream(t),g.stream(t)])},t.precision=function(t){return arguments.length?(d.precision(t),p.precision(t),g.precision(t),r()):d.precision()},t.scale=function(e){return arguments.length?(d.scale(e),p.scale(.35*e),g.scale(e),t.translate(d.translate())):d.scale()},t.translate=function(t){if(!arguments.length)return d.translate();var e=d.scale(),n=+t[0],i=+t[1];return l=d.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(v),c=p.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+o,i+.12*e+o],[n-.214*e-o,i+.234*e-o]]).stream(v),h=g.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+o,i+.166*e+o],[n-.115*e-o,i+.234*e-o]]).stream(v),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=d([-102.91,26.3]),n=d([-104,27.5]),r=d([-108,29.1]),i=d([-110,29.1]),a=d([-110,26.7]),o=d([-112.8,27.6]),s=d([-114.3,30.6]),u=d([-119.3,30.1]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1])},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(1070)},t.geoAlbersUsaTerritories=function(){function t(t){var e=t[0],n=t[1];return g=null,l.point(e,n),g||(c.point(e,n),g)||(h.point(e,n),g)||(f.point(e,n),g)||(d.point(e,n),g)||(p.point(e,n),g)}function r(){return s=u=null,t}var s,u,l,c,h,f,d,p,g,v=e.geoAlbers(),m=e.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),y=e.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),x=e.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),b=e.geoEquirectangular().rotate([173,14]),_=e.geoEquirectangular().rotate([-145,-16.8]),w={point:function(t,e){g=[t,e]}};return t.invert=function(t){var e=v.scale(),n=v.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?m:i>=.166&&i<.234&&r>=-.214&&r<-.115?y:i>=.2064&&i<.2413&&r>=.312&&r<.385?x:i>=.09&&i<.1197&&r>=-.4243&&r<-.3232?b:i>=-.0518&&i<.0895&&r>=-.4243&&r<-.3824?_:v).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([v.stream(u=t),m.stream(t),y.stream(t),x.stream(t),b.stream(t),_.stream(t)])},t.precision=function(t){return arguments.length?(v.precision(t),m.precision(t),y.precision(t),x.precision(t),b.precision(t),_.precision(t),r()):v.precision()},t.scale=function(e){return arguments.length?(v.scale(e),m.scale(.35*e),y.scale(e),x.scale(e),b.scale(2*e),_.scale(e),t.translate(v.translate())):v.scale()},t.translate=function(t){if(!arguments.length)return v.translate();var e=v.scale(),n=+t[0],i=+t[1];return l=v.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(w),c=m.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+o,i+.12*e+o],[n-.214*e-o,i+.233*e-o]]).stream(w),h=y.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+o,i+.166*e+o],[n-.115*e-o,i+.233*e-o]]).stream(w),f=x.translate([n+.35*e,i+.224*e]).clipExtent([[n+.312*e+o,i+.2064*e+o],[n+.385*e-o,i+.233*e-o]]).stream(w),d=b.translate([n-.492*e,i+.09*e]).clipExtent([[n-.4243*e+o,i+.0903*e+o],[n-.3233*e-o,i+.1197*e-o]]).stream(w),p=_.translate([n-.408*e,i+.018*e]).clipExtent([[n-.4244*e+o,i-.0519*e+o],[n-.3824*e-o,i+.0895*e-o]]).stream(w),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=v([-110.4641,28.2805]),n=v([-104.0597,28.9528]),r=v([-103.7049,25.1031]),i=v([-109.8337,24.4531]),a=v([-124.4745,28.1407]),o=v([-110.931,30.8844]),s=v([-109.8337,24.4531]),u=v([-122.4628,21.8562]),l=v([-76.8579,25.1544]),c=v([-72.429,24.2097]),h=v([-72.8265,22.7056]),f=v([-77.1852,23.6392]),d=v([-125.0093,29.7791]),p=v([-118.5193,31.3262]),g=v([-118.064,29.6912]),m=v([-124.4369,28.169]),y=v([-128.1314,37.4582]),x=v([-125.2132,38.214]),b=v([-122.3616,30.5115]),_=v([-125.0315,29.8211]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1]),t.closePath(),t.moveTo(l[0],l[1]),t.lineTo(c[0],c[1]),t.lineTo(h[0],h[1]),t.lineTo(h[0],h[1]),t.lineTo(f[0],f[1]),t.closePath(),t.moveTo(d[0],d[1]),t.lineTo(p[0],p[1]),t.lineTo(g[0],g[1]),t.lineTo(g[0],g[1]),t.lineTo(m[0],m[1]),t.closePath(),t.moveTo(y[0],y[1]),t.lineTo(x[0],x[1]),t.lineTo(b[0],b[1]),t.lineTo(b[0],b[1]),t.lineTo(_[0],_[1]),t.closePath()},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(1070)},t.geoConicConformalSpain=function(){function t(t){var e=t[0],n=t[1];return h=null,l.point(e,n),h||(c.point(e,n),h)}function r(){return s=u=null,t}var s,u,l,c,h,f=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),d=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),p={point:function(t,e){h=[t,e]}};return t.invert=function(t){var e=f.scale(),n=f.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.05346&&i<.0897&&r>=-.13388&&r<-.0322?d:f).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([f.stream(u=t),d.stream(t)])},t.precision=function(t){return arguments.length?(f.precision(t),d.precision(t),r()):f.precision()},t.scale=function(e){return arguments.length?(f.scale(e),d.scale(e),t.translate(f.translate())):f.scale()},t.translate=function(t){if(!arguments.length)return f.translate();var e=f.scale(),n=+t[0],i=+t[1];return l=f.translate(t).clipExtent([[n-.06857*e,i-.1288*e],[n+.13249*e,i+.06*e]]).stream(p),c=d.translate([n+.1*e,i-.094*e]).clipExtent([[n-.1331*e+o,i+.053457*e+o],[n-.0354*e-o,i+.08969*e-o]]).stream(p),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=f([-14.034675,34.965007]),n=f([-7.4208899,35.536988]),r=f([-7.3148275,33.54359]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1])},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2700)},t.geoConicConformalPortugal=function(){function t(t){var e=t[0],n=t[1];return f=null,l.point(e,n),f||(c.point(e,n),f)||(h.point(e,n),f)}function r(){return s=u=null,t}var s,u,l,c,h,f,d=e.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),p=e.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),g=e.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),v={point:function(t,e){f=[t,e]}};return t.invert=function(t){var e=d.scale(),n=d.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.0093&&i<.03678&&r>=-.03875&&r<-.0116?p:i>=-.0412&&i<.0091&&r>=-.07782&&r<-.01166?g:d).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([d.stream(u=t),p.stream(t),g.stream(t)])},t.precision=function(t){return arguments.length?(d.precision(t),p.precision(t),g.precision(t),r()):d.precision()},t.scale=function(e){return arguments.length?(d.scale(e),p.scale(e),g.scale(.6*e),t.translate(d.translate())):d.scale()},t.translate=function(t){if(!arguments.length)return d.translate();var e=d.scale(),n=+t[0],i=+t[1];return l=d.translate(t).clipExtent([[n-.0115*e,i-.1138*e],[n+.2105*e,i+.0673*e]]).stream(v),c=p.translate([n-.0265*e,i+.025*e]).clipExtent([[n-.0388*e+o,i+.0093*e+o],[n-.0116*e-o,i+.0368*e-o]]).stream(v),h=g.translate([n-.045*e,i+-.02*e]).clipExtent([[n-.0778*e+o,i-.0413*e+o],[n-.0117*e-o,i+.0091*e-o]]).stream(v),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=d([-12.8351,38.7113]),n=d([-10.8482,38.7633]),r=d([-10.8181,37.2072]),i=d([-12.7345,37.1573]),a=d([-16.0753,41.4436]),o=d([-10.9168,41.6861]),s=d([-10.8557,38.7747]),u=d([-15.6728,38.5505]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1]),t.closePath()},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(4200)},t.geoMercatorEcuador=function(){function t(t){var e=t[0],n=t[1];return h=null,l.point(e,n),h||(c.point(e,n),h)}function r(){return s=u=null,t}var s,u,l,c,h,f=e.geoMercator().rotate([80,1.5]),d=e.geoMercator().rotate([90.73,1]),p={point:function(t,e){h=[t,e]}};return t.invert=function(t){var e=f.scale(),n=f.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.0676&&i<-.026&&r>=-.0857&&r<-.0263?d:f).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([f.stream(u=t),d.stream(t)])},t.precision=function(t){return arguments.length?(f.precision(t),d.precision(t),r()):f.precision()},t.scale=function(e){return arguments.length?(f.scale(e),d.scale(e),t.translate(f.translate())):f.scale()},t.translate=function(t){if(!arguments.length)return f.translate();var e=f.scale(),n=+t[0],i=+t[1];return l=f.translate(t).clipExtent([[n-.0262*e,i-.0734*e],[n+.1741*e,i+.079*e]]).stream(p),c=d.translate([n-.06*e,i-.04*e]).clipExtent([[n-.0857*e+o,i-.0676*e+o],[n-.0263*e-o,i-.026*e-o]]).stream(p),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=f([-84.9032,2.3757]),n=f([-81.5047,2.3708]),r=f([-81.5063,-.01]),i=f([-84.9086,-.005]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(3500)},t.geoTransverseMercatorChile=function(){function t(t){var e=t[0],n=t[1];return d=null,l.point(e,n),d||(c.point(e,n),d)||(h.point(e,n),d)||(f.point(e,n),d)}function r(){return s=u=null,t}var s,u,l,c,h,f,d,p=e.geoTransverseMercator().rotate([72,37]),g=e.geoStereographic().rotate([72,0]),v=e.geoMercator().rotate([80,33.5]),m=e.geoMercator().rotate([110,25]),y={point:function(t,e){d=[t,e]}};return t.invert=function(t){var e=p.scale(),n=p.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.2582&&i<.32&&r>=-.1036&&r<-.087?g:i>=-.01298&&i<.0133&&r>=-.11396&&r<-.05944?v:i>=.01539&&i<.03911&&r>=-.089&&r<-.0588?m:p).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([p.stream(u=t),g.stream(t),v.stream(t),m.stream(t)])},t.precision=function(t){return arguments.length?(p.precision(t),g.precision(t),v.precision(t),m.precision(t),r()):p.precision()},t.scale=function(e){return arguments.length?(p.scale(e),g.scale(.15*e),v.scale(1.5*e),m.scale(1.5*e),t.translate(p.translate())):p.scale()},t.translate=function(t){if(!arguments.length)return p.translate();var e=p.scale(),n=+t[0],i=+t[1];return l=p.translate(t).clipExtent([[n-.059*e,i-.3835*e],[n+.4498*e,i+.3375*e]]).stream(y),c=g.translate([n-.087*e,i+.17*e]).clipExtent([[n-.1166*e+o,i+.2582*e+o],[n-.06*e-o,i+.32*e-o]]).stream(y),h=v.translate([n-.092*e,i-0*e]).clipExtent([[n-.114*e+o,i-.013*e+o],[n-.0594*e-o,i+.0133*e-o]]).stream(y),f=m.translate([n-.089*e,i-.0265*e]).clipExtent([[n-.089*e+o,i+.0154*e+o],[n-.0588*e-o,i+.0391*e-o]]).stream(y),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=p([-82.6999,-51.3043]),n=p([-77.5442,-51.6631]),r=p([-78.0254,-55.186]),i=p([-83.6106,-54.7785]),a=p([-80.0638,-35.984]),o=p([-76.2153,-36.1811]),s=p([-76.2994,-37.6839]),u=p([-80.2231,-37.4757]),l=p([-78.442,-37.706]),c=p([-76.263,-37.8054]),h=p([-76.344,-39.1595]),f=p([-78.5638,-39.0559]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1]),t.closePath(),t.moveTo(l[0],l[1]),t.lineTo(c[0],c[1]),t.lineTo(h[0],h[1]),t.lineTo(h[0],h[1]),t.lineTo(f[0],f[1]),t.closePath()},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(700)},t.geoConicEquidistantJapan=function(){function t(t){var e=t[0],n=t[1];return f=null,l.point(e,n),f||(c.point(e,n),f)||(h.point(e,n),f)}function r(){return s=u=null,t}var s,u,l,c,h,f,d=e.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),p=e.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),g=e.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),v={point:function(t,e){f=[t,e]}};return t.invert=function(t){var e=d.scale(),n=d.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.10925&&i<-.02701&&r>=-.135&&r<-.0397?p:i>=.04713&&i<.11138&&r>=-.03986&&r<.051?g:d).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([d.stream(u=t),p.stream(t),g.stream(t)])},t.precision=function(t){return arguments.length?(d.precision(t),p.precision(t),g.precision(t),r()):d.precision()},t.scale=function(e){return arguments.length?(d.scale(e),p.scale(e),g.scale(.7*e),t.translate(d.translate())):d.scale()},t.translate=function(t){if(!arguments.length)return d.translate();var e=d.scale(),n=+t[0],i=+t[1];return l=d.translate(t).clipExtent([[n-.1352*e,i-.1091*e],[n+.117*e,i+.098*e]]).stream(v),c=p.translate([n-.0425*e,i-.005*e]).clipExtent([[n-.135*e+o,i-.1093*e+o],[n-.0397*e-o,i-.027*e-o]]).stream(v),h=g.translate(t).clipExtent([[n-.0399*e+o,i+.0471*e+o],[n+.051*e-o,i+.1114*e-o]]).stream(v),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=d([126.01320483689143,41.621090310215585]),n=d([133.04304387025903,42.15087523707186]),r=d([133.3021766080688,37.43975444725098]),i=d([126.87889168628224,36.95488945159779]),a=d([132.9,29.8]),o=d([134,33]),s=d([139.3,33.2]),u=d([139.16,30.5]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1])},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2200)},t.geoConicConformalFrance=function(){function t(t){var e=t[0],n=t[1];return _=null,l.point(e,n),_||(c.point(e,n),_)||(h.point(e,n),_)||(f.point(e,n),_)||(d.point(e,n),_)||(p.point(e,n),_)||(g.point(e,n),_)||(v.point(e,n),_)||(m.point(e,n),_)||(y.point(e,n),_)||(x.point(e,n),_)||(b.point(e,n),_)}function r(){return s=u=null,t}var s,u,l,c,h,f,d,p,g,v,m,y,x,b,_,w=e.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),S=e.geoMercator().center([-53.2,3.9]),M=e.geoMercator().center([-61.03,14.67]),O=e.geoMercator().center([-61.46,16.14]),C=e.geoMercator().center([-62.85,17.92]),A=e.geoMercator().center([-56.23,46.93]),I=e.geoMercator().center([45.16,-12.8]),T=e.geoMercator().center([55.52,-21.13]),E=e.geoMercator().center([165.8,-21.07]),j=e.geoMercator().center([-178.1,-14.3]),P=e.geoMercator().center([-150.55,-17.11]),k=e.geoMercator().center([-150.55,-17.11]),D={point:function(t,e){_=[t,e]}};return t.invert=function(t){var e=w.scale(),n=w.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.029&&i<.0864&&r>=-.14&&r<-.0996?S:i>=0&&i<.029&&r>=-.14&&r<-.0996?M:i>=-.032&&i<0&&r>=-.14&&r<-.0996?O:i>=-.052&&i<-.032&&r>=-.14&&r<-.0996?C:i>=-.076&&i<.052&&r>=-.14&&r<-.0996?A:i>=-.076&&i<-.052&&r>=.0967&&r<.1371?I:i>=-.052&&i<-.02&&r>=.0967&&r<.1371?T:i>=-.02&&i<.012&&r>=.0967&&r<.1371?E:i>=.012&&i<.033&&r>=.0967&&r<.1371?j:i>=.033&&i<.0864&&r>=.0967&&r<.1371?P:w).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([w.stream(u=t),S.stream(t),M.stream(t),O.stream(t),C.stream(t),A.stream(t),I.stream(t),T.stream(t),E.stream(t),j.stream(t),P.stream(t),k.stream(t)])},t.precision=function(t){return arguments.length?(w.precision(t),S.precision(t),M.precision(t),O.precision(t),C.precision(t),A.precision(t),I.precision(t),T.precision(t),E.precision(t),j.precision(t),P.precision(t),k.precision(t),r()):w.precision()},t.scale=function(e){return arguments.length?(w.scale(e),S.scale(.6*e),M.scale(1.6*e),O.scale(1.4*e),C.scale(5*e),A.scale(1.3*e),I.scale(1.6*e),T.scale(1.2*e),E.scale(.3*e),j.scale(2.7*e),P.scale(.5*e),k.scale(.06*e),t.translate(w.translate())):w.scale()},t.translate=function(t){if(!arguments.length)return w.translate();var e=w.scale(),n=+t[0],i=+t[1];return l=w.translate(t).clipExtent([[n-.0996*e,i-.0908*e],[n+.0967*e,i+.0864*e]]).stream(D),c=S.translate([n-.12*e,i+.0575*e]).clipExtent([[n-.14*e+o,i+.029*e+o],[n-.0996*e-o,i+.0864*e-o]]).stream(D),h=M.translate([n-.12*e,i+.013*e]).clipExtent([[n-.14*e+o,i+0*e+o],[n-.0996*e-o,i+.029*e-o]]).stream(D),f=O.translate([n-.12*e,i-.014*e]).clipExtent([[n-.14*e+o,i-.032*e+o],[n-.0996*e-o,i+0*e-o]]).stream(D),d=C.translate([n-.12*e,i-.044*e]).clipExtent([[n-.14*e+o,i-.052*e+o],[n-.0996*e-o,i-.032*e-o]]).stream(D),p=A.translate([n-.12*e,i-.065*e]).clipExtent([[n-.14*e+o,i-.076*e+o],[n-.0996*e-o,i-.052*e-o]]).stream(D),g=I.translate([n+.117*e,i-.064*e]).clipExtent([[n+.0967*e+o,i-.076*e+o],[n+.1371*e-o,i-.052*e-o]]).stream(D),v=T.translate([n+.116*e,i-.0355*e]).clipExtent([[n+.0967*e+o,i-.052*e+o],[n+.1371*e-o,i-.02*e-o]]).stream(D),m=E.translate([n+.116*e,i-.0048*e]).clipExtent([[n+.0967*e+o,i-.02*e+o],[n+.1371*e-o,i+.012*e-o]]).stream(D),y=j.translate([n+.116*e,i+.022*e]).clipExtent([[n+.0967*e+o,i+.012*e+o],[n+.1371*e-o,i+.033*e-o]]).stream(D),b=k.translate([n+.11*e,i+.045*e]).clipExtent([[n+.0967*e+o,i+.033*e+o],[n+.1371*e-o,i+.06*e-o]]).stream(D),x=P.translate([n+.115*e,i+.075*e]).clipExtent([[n+.0967*e+o,i+.06*e+o],[n+.1371*e-o,i+.0864*e-o]]).stream(D),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e,n,r,i;e=w([-7.938886725111036,43.7219460918835]),n=w([-4.832080896458295,44.12930268549372]),r=w([-4.205299743793263,40.98096346967365]),i=w([-7.071796453126152,40.610037319181444]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([-8.42751373617692,45.32889452553031]),n=w([-5.18599305777107,45.7566442062976]),r=w([-4.832080905154431,44.129302726751426]),i=w([-7.938886737126192,43.72194613263854]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([-9.012656899657046,47.127733821030176]),n=w([-5.6105244772793155,47.579777861410626]),r=w([-5.185993067168585,45.756644248170346]),i=w([-8.427513749141811,45.32889456686326]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([-9.405747558985553,48.26506375557457]),n=w([-5.896175018439575,48.733352850851624]),r=w([-5.610524487556043,47.57977790393761]),i=w([-9.012656913808351,47.127733862971255]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([-9.908436061346974,49.642448789505856]),n=w([-6.262026716233124,50.131426841787174]),r=w([-5.896175029331232,48.73335289377258]),i=w([-9.40574757396393,48.26506379787767]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([11.996907706504462,50.16039028163579]),n=w([15.649907879773343,49.68279246765253]),r=w([15.156712840526632,48.30371557625831]),i=w([11.64122661754411,48.761078240546816]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([11.641226606955788,48.7610781975889]),n=w([15.156712825832164,48.30371553390465]),r=w([14.549932166241172,46.4866532486199]),i=w([11.204443787952183,46.91899233914248]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([11.204443778297161,46.918992296823646]),n=w([14.549932152815039,46.486653206856396]),r=w([13.994409796764009,44.695833444323256]),i=w([10.805306599253848,45.105133870684924]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([10.805306590412085,45.10513382903308]),n=w([13.99440978444733,44.695833403183606]),r=w([13.654633799024392,43.53552468558152]),i=w([10.561516803980956,43.930671459798624]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([10.561516795617383,43.93067141859757]),n=w([13.654633787361952,43.5355246448671]),r=w([12.867691604239901,40.640701985019405]),i=w([9.997809515987688,41.00288343254471]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([10.8,42.4]),n=w([12.8,42.13]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1])},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2700)},t.geoConicConformalEurope=function(){function t(t){var e=t[0],n=t[1];return _=null,l.point(e,n),_||(h.point(e,n),_)||(m.point(e,n),_)||(c.point(e,n),_)||(v.point(e,n),_)||(g.point(e,n),_)||(y.point(e,n),_)||(x.point(e,n),_)||(b.point(e,n),_)||(f.point(e,n),_)||(d.point(e,n),_)||(p.point(e,n),_)}function r(){return s=u=null,t}var s,u,l,c,h,f,d,p,g,v,m,y,x,b,_,w=e.geoConicConformal().rotate([-10,-53]).parallels([0,60]),S=e.geoMercator().center([-61.46,16.14]),M=e.geoMercator().center([-53.2,3.9]),O=e.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),C=e.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),A=e.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),I=e.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),T=e.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),E=e.geoMercator().center([-61.03,14.67]),j=e.geoMercator().center([45.16,-12.8]),P=e.geoMercator().center([55.52,-21.13]),k=e.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),D={point:function(t,e){_=[t,e]}};return t.invert=function(t){var e=w.scale(),n=w.translate(),r=(t[0]-(n[0]+.08*e))/e,i=(t[1]-n[1])/e;return(i>=-.31&&i<-.24&&r>=.14&&r<.24?S:i>=-.24&&i<-.17&&r>=.14&&r<.24?M:i>=-.17&&i<-.12&&r>=.21&&r<.24?C:i>=-.17&&i<-.14&&r>=.14&&r<.165?A:i>=-.17&&i<-.1&&r>=.14&&r<.24?O:i>=-.1&&i<-.03&&r>=.14&&r<.24?I:i>=-.03&&i<.04&&r>=.14&&r<.24?T:i>=-.31&&i<-.24&&r>=.24&&r<.34?E:i>=-.24&&i<-.17&&r>=.24&&r<.34?j:i>=-.17&&i<-.1&&r>=.24&&r<.34?P:i>=-.1&&i<-.03&&r>=.24&&r<.34?k:w).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([w.stream(u=t),M.stream(t),E.stream(t),S.stream(t),T.stream(t),I.stream(t),j.stream(t),P.stream(t),k.stream(t),O.stream(t),C.stream(t),A.stream(t)])},t.precision=function(t){return arguments.length?(w.precision(t),M.precision(t),E.precision(t),S.precision(t),T.precision(t),I.precision(t),j.precision(t),P.precision(t),k.precision(t),O.precision(t),C.precision(t),A.precision(t),r()):w.precision()},t.scale=function(e){return arguments.length?(w.scale(e),S.scale(3*e),M.scale(.8*e),E.scale(3.5*e),P.scale(2.7*e),O.scale(2*e),C.scale(2*e),A.scale(2*e),I.scale(3*e),T.scale(e),j.scale(5.5*e),k.scale(6*e),t.translate(w.translate())):w.scale()},t.translate=function(t){if(!arguments.length)return w.translate();var e=w.scale(),n=+t[0],i=+t[1];return l=w.translate([n-.08*e,i]).clipExtent([[n-.51*e,i-.33*e],[n+.5*e,i+.33*e]]).stream(D),c=S.translate([n+.19*e,i-.275*e]).clipExtent([[n+.14*e+o,i-.31*e+o],[n+.24*e-o,i-.24*e-o]]).stream(D),h=M.translate([n+.19*e,i-.205*e]).clipExtent([[n+.14*e+o,i-.24*e+o],[n+.24*e-o,i-.17*e-o]]).stream(D),f=O.translate([n+.19*e,i-.135*e]).clipExtent([[n+.14*e+o,i-.17*e+o],[n+.24*e-o,i-.1*e-o]]).stream(D),d=C.translate([n+.225*e,i-.147*e]).clipExtent([[n+.21*e+o,i-.17*e+o],[n+.24*e-o,i-.12*e-o]]).stream(D),p=A.translate([n+.153*e,i-.15*e]).clipExtent([[n+.14*e+o,i-.17*e+o],[n+.165*e-o,i-.14*e-o]]).stream(D),g=I.translate([n+.19*e,i-.065*e]).clipExtent([[n+.14*e+o,i-.1*e+o],[n+.24*e-o,i-.03*e-o]]).stream(D),v=T.translate([n+.19*e,i+.005*e]).clipExtent([[n+.14*e+o,i-.03*e+o],[n+.24*e-o,i+.04*e-o]]).stream(D),m=E.translate([n+.29*e,i-.275*e]).clipExtent([[n+.24*e+o,i-.31*e+o],[n+.34*e-o,i-.24*e-o]]).stream(D),y=j.translate([n+.29*e,i-.205*e]).clipExtent([[n+.24*e+o,i-.24*e+o],[n+.34*e-o,i-.17*e-o]]).stream(D),x=P.translate([n+.29*e,i-.135*e]).clipExtent([[n+.24*e+o,i-.17*e+o],[n+.34*e-o,i-.1*e-o]]).stream(D),b=k.translate([n+.29*e,i-.065*e]).clipExtent([[n+.24*e+o,i-.1*e+o],[n+.34*e-o,i-.03*e-o]]).stream(D),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e,n,r,i;e=w([42.45755610828648,63.343658547914934]),n=w([52.65837266667029,59.35045080290929]),r=w([47.19754502247785,56.12653496548117]),i=w([37.673034273363044,59.61638268506111]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([59.41110754003403,62.35069727399336]),n=w([66.75050228640794,57.11797303636038]),r=w([60.236065725110436,54.63331433818992]),i=w([52.65837313153311,59.350450804599355]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([48.81091130080243,66.93353402634641]),n=w([59.41110730654679,62.35069740653086]),r=w([52.6583728974441,59.3504509222445]),i=w([42.45755631675751,63.34365868805821]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([31.054198418446475,52.1080673766184]),n=w([39.09869284884117,49.400700047190554]),r=w([36.0580811499175,46.02944174908498]),i=w([28.690508588835726,48.433126979386415]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([33.977877745912025,55.849945501331]),n=w([42.75328432167726,52.78455122462353]),r=w([39.09869297540224,49.400700176148625]),i=w([31.05419851807008,52.10806751810923]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([52.658372900759296,59.35045068526415]),n=w([60.23606549583304,54.63331423800264]),r=w([54.6756370953122,51.892298789399455]),i=w([47.19754524788189,56.126534861222794]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([47.19754506082455,56.126534735591456]),n=w([54.675636900123514,51.892298681337095]),r=w([49.94448648951486,48.98775484983285]),i=w([42.75328468716108,52.78455126060818]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([42.75328453416769,52.78455113209101]),n=w([49.94448632339758,48.98775473706457]),r=w([45.912339990394315,45.99361784987003]),i=w([39.09869317356607,49.40070009378711]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([37.673034114296634,59.61638254183119]),n=w([47.197544835420544,56.126534839849846]),r=w([42.75328447467064,52.78455135314068]),i=w([33.977877870363905,55.849945644671145]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([44.56748486446032,57.26489367845818]),r=w([43.9335791193588,53.746540942601726]),i=w([43,56]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=w([37.673034114296634,59.61638254183119]),n=w([40.25902691953466,58.83002044222639]),r=w([38.458270492742024,57.26232178028002]),i=w([35.97754948030156,58.00266637992386]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(750)},t.geoMercatorMalaysia=function(){function t(t){var e=t[0],n=t[1];return h=null,l.point(e,n),h||(c.point(e,n),h)}function r(){return s=u=null,t}var s,u,l,c,h,f=e.geoMercator().center([105.25,4]),d=e.geoMercator().center([118.65,2.86]),p={point:function(t,e){h=[t,e]}};return t.invert=function(t){var e=f.scale(),n=f.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.0521&&i<.0229&&r>=-.0111&&r<.1?d:f).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([f.stream(u=t),d.stream(t)])},t.precision=function(t){return arguments.length?(f.precision(t),d.precision(t),r()):f.precision()},t.scale=function(e){return arguments.length?(f.scale(e),d.scale(.615*e),t.translate(f.translate())):f.scale()},t.translate=function(t){if(!arguments.length)return f.translate();var e=f.scale(),n=+t[0],i=+t[1];return l=f.translate(t).clipExtent([[n-.11*e,i-.0521*e],[n-.0111*e,i+.0521*e]]).stream(p),c=d.translate([n+.09*e,i-0*e]).clipExtent([[n-.0111*e+o,i-.0521*e+o],[n+.1*e-o,i+.024*e-o]]).stream(p),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e=f([106.3214,2.0228]),n=f([105.1843,2.3761]),r=f([104.2151,3.3618]),i=f([104.215,4.5651]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1])},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(4800)},t.geoMercatorEquatorialGuinea=function(){function t(t){var e=t[0],n=t[1];return f=null,l.point(e,n),f||(c.point(e,n),f)||(h.point(e,n),f)}function r(){return s=u=null,t}var s,u,l,c,h,f,d=e.geoMercator().rotate([-9.5,-1.5]),p=e.geoMercator().rotate([-8.6,-3.5]),g=e.geoMercator().rotate([-5.6,1.45]),v={point:function(t,e){f=[t,e]}};return t.invert=function(t){var e=d.scale(),n=d.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.02&&i<0&&r>=-.038&&r<-.005?p:i>=0&&i<.02&&r>=-.038&&r<-.005?g:d).invert(t)},t.stream=function(t){return s&&u===t?s:s=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([d.stream(u=t),p.stream(t),g.stream(t)])},t.precision=function(t){return arguments.length?(d.precision(t),p.precision(t),g.precision(t),r()):d.precision()},t.scale=function(e){return arguments.length?(d.scale(e),p.scale(1.5*e),g.scale(4*e),t.translate(d.translate())):d.scale()},t.translate=function(t){if(!arguments.length)return d.translate();var e=d.scale(),n=+t[0],i=+t[1];return l=d.translate(t).clipExtent([[n-.005*e,i-.02*e],[n+.038*e,i+.02*e]]).stream(v),c=p.translate([n-.025*e,i-.01*e]).clipExtent([[n-.038*e+o,i-.02*e+o],[n-.005*e-o,i+0*e-o]]).stream(v),h=g.translate([n-.025*e,i+.01*e]).clipExtent([[n-.038*e+o,i-0*e+o],[n-.005*e-o,i+.02*e-o]]).stream(v),r()},t.fitExtent=function(e,n){return i(t,e,n)},t.fitSize=function(e,n){return a(t,e,n)},t.drawCompositionBorders=function(t){var e,n,r,i;e=d([9.21327272751682,2.645820439454123]),n=d([11.679126293239872,2.644755519268689]),r=d([11.676845389029227,.35307824637606433]),i=d([9.213572917774014,.35414205204417754]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=d([7.320873711543669,2.64475551449975]),n=d([9.213272722738658,2.645820434679803]),r=d([9.213422896480349,1.4999812505283054]),i=d([7.322014760520787,1.4989168878985566]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=d([7.3220147605302905,1.4989168783492766]),n=d([9.213422896481598,1.499981240979021]),r=d([9.213572912999604,.354142056817247]),i=d([7.323154615739809,.353078251154504]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(12e3)},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(510),n(39))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(215);n.d(e,"geoArea",function(){return r.c});var i=n(511);n.d(e,"geoBounds",function(){return i.a});var a=n(512);n.d(e,"geoCentroid",function(){return a.a});var o=n(216);n.d(e,"geoCircle",function(){return o.b});var s=n(218);n.d(e,"geoClipExtent",function(){return s.b});var u=n(515);n.d(e,"geoDistance",function(){return u.a});var l=n(516);n.d(e,"geoGraticule",function(){return l.a});var c=n(517);n.d(e,"geoInterpolate",function(){return c.a});var h=n(222);n.d(e,"geoLength",function(){return h.a});var f=n(518);n.d(e,"geoPath",function(){return f.a});var d=n(225);n.d(e,"geoAlbers",function(){return d.a});var p=n(527);n.d(e,"geoAlbersUsa",function(){return p.a});var g=n(528);n.d(e,"geoAzimuthalEqualArea",function(){return g.b}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return g.a});var v=n(529);n.d(e,"geoAzimuthalEquidistant",function(){return v.b}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return v.a});var m=n(530);n.d(e,"geoConicConformal",function(){return m.b}),n.d(e,"geoConicConformalRaw",function(){return m.a});var y=n(115);n.d(e,"geoConicEqualArea",function(){return y.b}),n.d(e,"geoConicEqualAreaRaw",function(){return y.a});var x=n(531);n.d(e,"geoConicEquidistant",function(){return x.b}),n.d(e,"geoConicEquidistantRaw",function(){return x.a});var b=n(228);n.d(e,"geoEquirectangular",function(){return b.a}),n.d(e,"geoEquirectangularRaw",function(){return b.b});var _=n(532);n.d(e,"geoGnomonic",function(){return _.a}),n.d(e,"geoGnomonicRaw",function(){return _.b});var w=n(22);n.d(e,"geoProjection",function(){return w.a}),n.d(e,"geoProjectionMutator",function(){return w.b});var S=n(118);n.d(e,"geoMercator",function(){return S.a}),n.d(e,"geoMercatorRaw",function(){return S.c});var M=n(533);n.d(e,"geoOrthographic",function(){return M.a}),n.d(e,"geoOrthographicRaw",function(){return M.b});var O=n(534);n.d(e,"geoStereographic",function(){return O.a}),n.d(e,"geoStereographicRaw",function(){return O.b});var C=n(535);n.d(e,"geoTransverseMercator",function(){return C.a}),n.d(e,"geoTransverseMercatorRaw",function(){return C.b});var A=n(114);n.d(e,"geoRotation",function(){return A.a});var I=n(33);n.d(e,"geoStream",function(){return I.a});var T=n(117);n.d(e,"geoTransform",function(){return T.a})},function(t,e,n){"use strict";function r(t,e){_.push(w=[d=t,g=t]),e<p&&(p=e),e>v&&(v=e)}function i(t,e){var n=Object(O.a)([t*C.r,e*C.r]);if(b){var i=Object(O.c)(b,n),a=[i[1],-i[0],0],o=Object(O.c)(a,i);Object(O.e)(o),o=Object(O.g)(o);var s,u=t-m,l=u>0?1:-1,h=o[0]*C.h*l,f=Object(C.a)(u)>180;f^(l*m<h&&h<l*t)?(s=o[1]*C.h)>v&&(v=s):f^(l*m<(h=(h+360)%360-180)&&h<l*t)?(s=-o[1]*C.h)<p&&(p=s):(e<p&&(p=e),e>v&&(v=e)),f?t<m?c(d,t)>c(d,g)&&(g=t):c(t,g)>c(d,g)&&(d=t):g>=d?(t<d&&(d=t),t>g&&(g=t)):t>m?c(d,t)>c(d,g)&&(g=t):c(t,g)>c(d,g)&&(d=t)}else r(t,e);b=n,m=t}function a(){T.point=i}function o(){w[0]=d,w[1]=g,T.point=r,b=null}function s(t,e){if(b){var n=t-m;I.add(Object(C.a)(n)>180?n+(n>0?360:-360):n)}else y=t,x=e;M.b.point(t,e),i(t,e)}function u(){M.b.lineStart()}function l(){s(y,x),M.b.lineEnd(),Object(C.a)(I)>C.i&&(d=-(g=180)),w[0]=d,w[1]=g,b=null}function c(t,e){return(e-=t)<0?e+360:e}function h(t,e){return t[0]-e[0]}function f(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var d,p,g,v,m,y,x,b,_,w,S=n(53),M=n(215),O=n(54),C=n(6),A=n(33),I=Object(S.a)(),T={point:r,lineStart:a,lineEnd:o,polygonStart:function(){T.point=s,T.lineStart=u,T.lineEnd=l,I.reset(),M.b.polygonStart()},polygonEnd:function(){M.b.polygonEnd(),T.point=r,T.lineStart=a,T.lineEnd=o,M.a<0?(d=-(g=180),p=-(v=90)):I>C.i?v=90:I<-C.i&&(p=-90),w[0]=d,w[1]=g}};e.a=function(t){var e,n,r,i,a,o,s;if(v=g=-(d=p=1/0),_=[],Object(A.a)(t,T),n=_.length){for(_.sort(h),e=1,a=[r=_[0]];e<n;++e)f(r,(i=_[e])[0])||f(r,i[1])?(c(r[0],i[1])>c(r[0],r[1])&&(r[1]=i[1]),c(i[0],r[1])>c(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)(s=c(r[1],(i=a[e])[0]))>o&&(o=s,d=i[0],g=r[1])}return _=w=null,d===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,p],[g,v]]}},function(t,e,n){"use strict";function r(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e);i(n*Object(T.g)(t),n*Object(T.t)(t),Object(T.t)(e))}function i(t,e,n){g+=(t-g)/++d,v+=(e-v)/d,m+=(n-m)/d}function a(){P.point=o}function o(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e);C=n*Object(T.g)(t),A=n*Object(T.t)(t),I=Object(T.t)(e),P.point=s,i(C,A,I)}function s(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e),r=n*Object(T.g)(t),a=n*Object(T.t)(t),o=Object(T.t)(e),s=Object(T.e)(Object(T.u)((s=A*o-I*a)*s+(s=I*r-C*o)*s+(s=C*a-A*r)*s),C*r+A*a+I*o);p+=s,y+=s*(C+(C=r)),x+=s*(A+(A=a)),b+=s*(I+(I=o)),i(C,A,I)}function u(){P.point=r}function l(){P.point=h}function c(){f(M,O),P.point=r}function h(t,e){M=t,O=e,t*=T.r,e*=T.r,P.point=f;var n=Object(T.g)(e);C=n*Object(T.g)(t),A=n*Object(T.t)(t),I=Object(T.t)(e),i(C,A,I)}function f(t,e){t*=T.r,e*=T.r;var n=Object(T.g)(e),r=n*Object(T.g)(t),a=n*Object(T.t)(t),o=Object(T.t)(e),s=A*o-I*a,u=I*r-C*o,l=C*a-A*r,c=Object(T.u)(s*s+u*u+l*l),h=C*r+A*a+I*o,f=c&&-Object(T.b)(h)/c,d=Object(T.e)(c,h);_+=f*s,w+=f*u,S+=f*l,p+=d,y+=d*(C+(C=r)),x+=d*(A+(A=a)),b+=d*(I+(I=o)),i(C,A,I)}var d,p,g,v,m,y,x,b,_,w,S,M,O,C,A,I,T=n(6),E=n(32),j=n(33),P={sphere:E.a,point:r,lineStart:a,lineEnd:u,polygonStart:function(){P.lineStart=l,P.lineEnd=c},polygonEnd:function(){P.lineStart=a,P.lineEnd=u}};e.a=function(t){d=p=g=v=m=y=x=b=_=w=S=0,Object(j.a)(t,P);var e=_,n=w,r=S,i=e*e+n*n+r*r;return i<T.j&&(e=y,n=x,r=b,p<T.i&&(e=g,n=v,r=m),(i=e*e+n*n+r*r)<T.j)?[NaN,NaN]:[Object(T.e)(n,e)*T.h,Object(T.c)(r/Object(T.u)(i))*T.h]}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,a){var o,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>l&&(l=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<c&&(c=o)}if(o=r-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=a-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}return l>0&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}}},function(t,e,n){"use strict";var r=n(222),i=[null,null],a={type:"LineString",coordinates:i};e.a=function(t,e){return i[0]=t,i[1]=e,Object(r.a)(a)}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(a.range)(t,e-o.i,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function i(t,e,n){var r=Object(a.range)(t,e-o.i,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}var a=n(16),o=n(6);e.a=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Object(a.range)(Object(o.f)(l/b)*b,u,b).map(v).concat(Object(a.range)(Object(o.f)(d/_)*_,f,_).map(m)).concat(Object(a.range)(Object(o.f)(s/y)*y,n,y).filter(function(t){return Object(o.a)(t%b)>o.i}).map(p)).concat(Object(a.range)(Object(o.f)(h/x)*x,c,x).filter(function(t){return Object(o.a)(t%_)>o.i}).map(g))}var n,s,u,l,c,h,f,d,p,g,v,m,y=10,x=y,b=90,_=360,w=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[v(l).concat(m(f).slice(1),v(u).reverse().slice(1),m(d).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(d=+e[0][1],f=+e[1][1],(l=+e[0][0])>(u=+e[1][0])&&(e=l,l=u,u=e),d>f&&(e=d,d=f,f=e),t.precision(w)):[[l,d],[u,f]]},t.extentMinor=function(e){return arguments.length?(h=+e[0][1],c=+e[1][1],(s=+e[0][0])>(n=+e[1][0])&&(e=s,s=n,n=e),h>c&&(e=h,h=c,c=e),t.precision(w)):[[s,h],[n,c]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(b=+e[0],_=+e[1],t):[b,_]},t.stepMinor=function(e){return arguments.length?(y=+e[0],x=+e[1],t):[y,x]},t.precision=function(e){return arguments.length?(w=+e,p=r(h,c,90),g=i(s,n,w),v=r(d,f,90),m=i(l,u,w),t):w},t.extentMajor([[-180,-90+o.i],[180,90-o.i]]).extentMinor([[-180,-80-o.i],[180,80+o.i]])}},function(t,e,n){"use strict";var r=n(6);e.a=function(t,e){var n=t[0]*r.r,i=t[1]*r.r,a=e[0]*r.r,o=e[1]*r.r,s=Object(r.g)(i),u=Object(r.t)(i),l=Object(r.g)(o),c=Object(r.t)(o),h=s*Object(r.g)(n),f=s*Object(r.t)(n),d=l*Object(r.g)(a),p=l*Object(r.t)(a),g=2*Object(r.c)(Object(r.u)(Object(r.m)(o-i)+s*l*Object(r.m)(a-n))),v=Object(r.t)(g),m=g?function(t){var e=Object(r.t)(t*=g)/v,n=Object(r.t)(g-t)/v,i=n*h+e*d,a=n*f+e*p,o=n*u+e*c;return[Object(r.e)(a,i)*r.h,Object(r.e)(o,Object(r.u)(i*i+a*a))*r.h]}:function(){return[n*r.h,i*r.h]};return m.distance=g,m}},function(t,e,n){"use strict";var r=n(223),i=n(33),a=n(519),o=n(224),s=n(520),u=n(521),l=n(522);e.a=function(){function t(t){return t&&("function"==typeof f&&h.pointRadius(+f.apply(this,arguments)),Object(i.a)(t,n(h))),h.result()}var e,n,c,h,f=4.5;return t.area=function(t){return Object(i.a)(t,n(a.a)),a.a.result()},t.bounds=function(t){return Object(i.a)(t,n(o.a)),o.a.result()},t.centroid=function(t){return Object(i.a)(t,n(s.a)),s.a.result()},t.projection=function(i){return arguments.length?(n=null==(e=i)?r.a:i.stream,t):e},t.context=function(e){return arguments.length?(h=null==(c=e)?new l.a:new u.a(e),"function"!=typeof f&&h.pointRadius(f),t):c},t.pointRadius=function(e){return arguments.length?(f="function"==typeof e?e:(h.pointRadius(+e),+e),t):f},t.projection(null).context(null)}},function(t,e,n){"use strict";function r(){v.point=i}function i(t,e){v.point=a,s=l=t,u=c=e}function a(t,e){g.add(c*t-l*e),l=t,c=e}function o(){a(s,u)}var s,u,l,c,h=n(53),f=n(6),d=n(32),p=Object(h.a)(),g=Object(h.a)(),v={point:d.a,lineStart:d.a,lineEnd:d.a,polygonStart:function(){v.lineStart=r,v.lineEnd=o},polygonEnd:function(){v.lineStart=v.lineEnd=v.point=d.a,p.add(Object(f.a)(g)),g.reset()},result:function(){var t=p/2;return p.reset(),t}};e.a=v},function(t,e,n){"use strict";function r(t,e){m+=t,y+=e,++x}function i(){C.point=a}function a(t,e){C.point=o,r(p=t,g=e)}function o(t,e){var n=t-p,i=e-g,a=Object(v.u)(n*n+i*i);b+=a*(p+t)/2,_+=a*(g+e)/2,w+=a,r(p=t,g=e)}function s(){C.point=r}function u(){C.point=c}function l(){h(f,d)}function c(t,e){C.point=h,r(f=p=t,d=g=e)}function h(t,e){var n=t-p,i=e-g,a=Object(v.u)(n*n+i*i);b+=a*(p+t)/2,_+=a*(g+e)/2,w+=a,S+=(a=g*t-p*e)*(p+t),M+=a*(g+e),O+=3*a,r(p=t,g=e)}var f,d,p,g,v=n(6),m=0,y=0,x=0,b=0,_=0,w=0,S=0,M=0,O=0,C={point:r,lineStart:i,lineEnd:s,polygonStart:function(){C.lineStart=u,C.lineEnd=l},polygonEnd:function(){C.point=r,C.lineStart=i,C.lineEnd=s},result:function(){var t=O?[S/O,M/O]:w?[b/w,_/w]:x?[m/x,y/x]:[NaN,NaN];return m=y=x=b=_=w=S=M=O=0,t}};e.a=C},function(t,e,n){"use strict";function r(t){this._context=t}e.a=r;var i=n(6),a=n(32);r.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,i.w)}},result:a.a}},function(t,e,n){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}e.a=r,r.prototype={_circle:i(4.5),pointRadius:function(t){return this._circle=i(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}}},function(t,e,n){"use strict";var r=n(226),i=n(6);e.a=Object(r.a)(function(){return!0},function(t){var e,n=NaN,r=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var u=o>0?i.o:-i.o,l=Object(i.a)(o-n);Object(i.a)(l-i.o)<i.i?(t.point(n,r=(r+s)/2>0?i.l:-i.l),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):a!==u&&l>=i.o&&(Object(i.a)(n-a)<i.i&&(n-=a*i.i),Object(i.a)(o-u)<i.i&&(o-=u*i.i),r=function(t,e,n,r){var a,o,s=Object(i.t)(t-n);return Object(i.a)(s)>i.i?Object(i.d)((Object(i.t)(e)*(o=Object(i.g)(r))*Object(i.t)(n)-Object(i.t)(r)*(a=Object(i.g)(e))*Object(i.t)(t))/(a*o*s)):(e+r)/2}(n,r,o,s),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=s),a=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var a;if(null==t)r.point(-i.o,a=n*i.l),r.point(0,a),r.point(i.o,a),r.point(i.o,0),r.point(i.o,-a),r.point(0,-a),r.point(-i.o,-a),r.point(-i.o,0),r.point(-i.o,a);else if(Object(i.a)(t[0]-e[0])>i.i){var o=t[0]<e[0]?i.o:-i.o;r.point(-o,a=n*o/2),r.point(0,a),r.point(o,a)}else r.point(e[0],e[1])},[-i.o,-i.l])},function(t,e,n){"use strict";var r=n(53),i=n(54),a=n(6),o=Object(r.a)();e.a=function(t,e){var n=e[0],r=e[1],s=[Object(a.t)(n),-Object(a.g)(n),0],u=0,l=0;o.reset();for(var c=0,h=t.length;c<h;++c)if(d=(f=t[c]).length)for(var f,d,p=f[d-1],g=p[0],v=p[1]/2+a.q,m=Object(a.t)(v),y=Object(a.g)(v),x=0;x<d;++x,g=_,m=S,y=M,p=b){var b=f[x],_=b[0],w=b[1]/2+a.q,S=Object(a.t)(w),M=Object(a.g)(w),O=_-g,C=O>=0?1:-1,A=C*O,I=A>a.o,T=m*S;if(o.add(Object(a.e)(T*C*Object(a.t)(A),y*M+T*Object(a.g)(A))),u+=I?O+C*a.w:O,I^g>=n^_>=n){var E=Object(i.c)(Object(i.a)(p),Object(i.a)(b));Object(i.e)(E);var j=Object(i.c)(s,E);Object(i.e)(j);var P=(I^O>=0?-1:1)*Object(a.c)(j[2]);(r>P||r===P&&(E[0]||E[1]))&&(l+=I^O>=0?1:-1)}}return(u<-a.i||u<a.i&&o<-a.i)^1&l}},function(t,e,n){"use strict";var r=n(54),i=n(216),a=n(6),o=n(221),s=n(226);e.a=function(t,e){function n(t,e){return Object(a.g)(t)*Object(a.g)(e)>c}function u(t,e,n){var i=Object(r.a)(t),o=Object(r.a)(e),s=[1,0,0],u=Object(r.c)(i,o),l=Object(r.d)(u,u),h=u[0],f=l-h*h;if(!f)return!n&&t;var d=c*l/f,p=-c*h/f,g=Object(r.c)(s,u),v=Object(r.f)(s,d),m=Object(r.f)(u,p);Object(r.b)(v,m);var y=g,x=Object(r.d)(v,y),b=Object(r.d)(y,y),_=x*x-b*(Object(r.d)(v,v)-1);if(!(_<0)){var w=Object(a.u)(_),S=Object(r.f)(y,(-x-w)/b);if(Object(r.b)(S,v),S=Object(r.g)(S),!n)return S;var M,O=t[0],C=e[0],A=t[1],I=e[1];C<O&&(M=O,O=C,C=M);var T=C-O,E=Object(a.a)(T-a.o)<a.i;if(!E&&I<A&&(M=A,A=I,I=M),E||T<a.i?E?A+I>0^S[1]<(Object(a.a)(S[0]-O)<a.i?A:I):A<=S[1]&&S[1]<=I:T>a.o^(O<=S[0]&&S[0]<=C)){var j=Object(r.f)(y,(-x+w)/b);return Object(r.b)(j,v),[S,Object(r.g)(j)]}}}function l(e,n){var r=h?t:a.o-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var c=Object(a.g)(t),h=c>0,f=Object(a.a)(c)>a.i;return Object(s.a)(n,function(t){var e,r,i,s,c;return{lineStart:function(){s=i=!1,c=1},point:function(d,p){var g,v=[d,p],m=n(d,p),y=h?m?0:l(d,p):m?l(d+(d<0?a.o:-a.o),p):0;if(!e&&(s=i=m)&&t.lineStart(),m!==i&&(g=u(e,v),(Object(o.a)(e,g)||Object(o.a)(v,g))&&(v[0]+=a.i,v[1]+=a.i,m=n(v[0],v[1]))),m!==i)c=0,m?(t.lineStart(),g=u(v,e),t.point(g[0],g[1])):(g=u(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(f&&e&&h^m){var x;y&r||!(x=u(v,e,!0))||(c=0,h?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!m||e&&Object(o.a)(e,v)||t.point(v[0],v[1]),e=v,i=m,r=y},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return c|(s&&i)<<1}}},function(n,r,a,o){Object(i.a)(o,t,e,a,n,r)},h?[0,-t]:[-a.o,t-a.o])}},function(t,e,n){"use strict";var r=n(54),i=n(6),a=n(117),o=16,s=Object(i.g)(30*i.r);e.a=function(t,e){return+e?function(t,e){function n(r,a,o,u,l,c,h,f,d,p,g,v,m,y){var x=h-r,b=f-a,_=x*x+b*b;if(_>4*e&&m--){var w=u+p,S=l+g,M=c+v,O=Object(i.u)(w*w+S*S+M*M),C=Object(i.c)(M/=O),A=Object(i.a)(Object(i.a)(M)-1)<i.i||Object(i.a)(o-d)<i.i?(o+d)/2:Object(i.e)(S,w),I=t(A,C),T=I[0],E=I[1],j=T-r,P=E-a,k=b*j-x*P;(k*k/_>e||Object(i.a)((x*j+b*P)/_-.5)>.3||u*p+l*g+c*v<s)&&(n(r,a,o,u,l,c,T,E,A,w/=O,S/=O,M,m,y),y.point(T,E),n(T,E,A,w,S,M,h,f,d,p,g,v,m,y))}}return function(e){function i(n,r){n=t(n,r),e.point(n[0],n[1])}function a(){x=NaN,M.point=s,e.lineStart()}function s(i,a){var s=Object(r.a)([i,a]),u=t(i,a);n(x,b,y,_,w,S,x=u[0],b=u[1],y=i,_=s[0],w=s[1],S=s[2],o,e),e.point(x,b)}function u(){M.point=i,e.lineEnd()}function l(){a(),M.point=c,M.lineEnd=h}function c(t,e){s(f=t,e),d=x,p=b,g=_,v=w,m=S,M.point=s}function h(){n(x,b,y,_,w,S,d,p,f,g,v,m,o,e),M.lineEnd=u,u()}var f,d,p,g,v,m,y,x,b,_,w,S,M={point:i,lineStart:a,lineEnd:u,polygonStart:function(){e.polygonStart(),M.lineStart=l},polygonEnd:function(){e.polygonEnd(),M.lineStart=a}};return M}}(t,e):function(t){return Object(a.b)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}},function(t,e,n){"use strict";var r=n(6),i=n(225),a=n(115),o=n(227);e.a=function(){function t(t){var e=t[0],n=t[1];return c=null,s.point(e,n),c||(u.point(e,n),c)||(l.point(e,n),c)}var e,n,s,u,l,c,h=Object(i.a)(),f=Object(a.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=Object(a.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),p={point:function(t,e){c=[t,e]}};return t.invert=function(t){var e=h.scale(),n=h.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?f:i>=.166&&i<.234&&r>=-.214&&r<-.115?d:h).invert(t)},t.stream=function(t){return e&&n===t?e:e=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([h.stream(n=t),f.stream(t),d.stream(t)])},t.precision=function(e){return arguments.length?(h.precision(e),f.precision(e),d.precision(e),t):h.precision()},t.scale=function(e){return arguments.length?(h.scale(e),f.scale(.35*e),d.scale(e),t.translate(h.translate())):h.scale()},t.translate=function(e){if(!arguments.length)return h.translate();var n=h.scale(),i=+e[0],a=+e[1];return s=h.translate(e).clipExtent([[i-.455*n,a-.238*n],[i+.455*n,a+.238*n]]).stream(p),u=f.translate([i-.307*n,a+.201*n]).clipExtent([[i-.425*n+r.i,a+.12*n+r.i],[i-.214*n-r.i,a+.234*n-r.i]]).stream(p),l=d.translate([i-.205*n,a+.212*n]).clipExtent([[i-.214*n+r.i,a+.166*n+r.i],[i-.115*n-r.i,a+.234*n-r.i]]).stream(p),t},t.fitExtent=Object(o.a)(t),t.fitSize=Object(o.b)(t),t.scale(1070)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(6),i=n(55),a=n(22),o=Object(i.b)(function(t){return Object(r.u)(2/(1+t))});o.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)}),e.b=function(){return Object(a.a)(o).scale(124.75).clipAngle(179.999)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(6),i=n(55),a=n(22),o=Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)});o.invert=Object(i.a)(function(t){return t}),e.b=function(){return Object(a.a)(o).scale(79.4188).clipAngle(179.999)}},function(t,e,n){"use strict";function r(t){return Object(a.v)((a.l+t)/2)}function i(t,e){function n(t,e){u>0?e<-a.l+a.i&&(e=-a.l+a.i):e>a.l-a.i&&(e=a.l-a.i);var n=u/Object(a.p)(r(e),o);return[n*Object(a.t)(o*t),u-n*Object(a.g)(o*t)]}var i=Object(a.g)(t),o=t===e?Object(a.t)(t):Object(a.n)(i/Object(a.g)(e))/Object(a.n)(r(e)/r(t)),u=i*Object(a.p)(r(t),o)/o;return o?(n.invert=function(t,e){var n=u-e,r=Object(a.s)(o)*Object(a.u)(t*t+n*n);return[Object(a.e)(t,n)/o,2*Object(a.d)(Object(a.p)(u/r,1/o))-a.l]},n):s.c}e.a=i;var a=n(6),o=n(116),s=n(118);e.b=function(){return Object(o.a)(i).scale(109.5).parallels([30,30])}},function(t,e,n){"use strict";function r(t,e){function n(t,e){var n=s-e,r=a*t;return[n*Object(i.t)(r),s-n*Object(i.g)(r)]}var r=Object(i.g)(t),a=t===e?Object(i.t)(t):(r-Object(i.g)(e))/(e-t),s=r/a+t;return Object(i.a)(a)<i.i?o.b:(n.invert=function(t,e){var n=s-e;return[Object(i.e)(t,n)/a,s-Object(i.s)(a)*Object(i.u)(t*t+n*n)]},n)}e.a=r;var i=n(6),a=n(116),o=n(228);e.b=function(){return Object(a.a)(r).scale(131.154).center([0,13.9389])}},function(t,e,n){"use strict";function r(t,e){var n=Object(i.g)(e),r=Object(i.g)(t)*n;return[n*Object(i.t)(t)/r,Object(i.t)(e)/r]}e.b=r;var i=n(6),a=n(55),o=n(22);r.invert=Object(a.a)(i.d),e.a=function(){return Object(o.a)(r).scale(144.049).clipAngle(60)}},function(t,e,n){"use strict";function r(t,e){return[Object(i.g)(e)*Object(i.t)(t),Object(i.t)(e)]}e.b=r;var i=n(6),a=n(55),o=n(22);r.invert=Object(a.a)(i.c),e.a=function(){return Object(o.a)(r).scale(249.5).clipAngle(90+i.i)}},function(t,e,n){"use strict";function r(t,e){var n=Object(i.g)(e),r=1+Object(i.g)(t)*n;return[n*Object(i.t)(t)/r,Object(i.t)(e)/r]}e.b=r;var i=n(6),a=n(55),o=n(22);r.invert=Object(a.a)(function(t){return 2*Object(i.d)(t)}),e.a=function(){return Object(o.a)(r).scale(250).clipAngle(142)}},function(t,e,n){"use strict";function r(t,e){return[Object(i.n)(Object(i.v)((i.l+e)/2)),-t]}e.b=r;var i=n(6),a=n(118);r.invert=function(t,e){return[-e,2*Object(i.d)(Object(i.k)(t))-i.l]},e.a=function(){var t=Object(a.b)(r),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}var a=Math.PI,o=2*a,s=o-1e-6;r.prototype=i.prototype={constructor:r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){var o=this._x1,s=this._y1,u=(n=+n)-(t=+t),l=(r=+r)-(e=+e),c=o-t,h=s-e,f=c*c+h*h;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*u-l*c)>1e-6&&i){var d=n-o,p=r-s,g=u*u+l*l,v=d*d+p*p,m=Math.sqrt(g),y=Math.sqrt(f),x=i*Math.tan((a-Math.acos((g+f-v)/(2*m*y)))/2),b=x/y,_=x/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*h)),this._+="A"+i+","+i+",0,0,"+ +(h*d>c*p)+","+(this._x1=t+_*u)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,u){t=+t,e=+e;var l=(n=+n)*Math.cos(r),c=n*Math.sin(r),h=t+l,f=e+c,d=1^u,p=u?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(p<0&&(p=p%o+o),p>s?this._+="A"+n+","+n+",0,1,"+d+","+(t-l)+","+(e-c)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=a)+","+d+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.a=i},function(t,e,n){var r=n(4),i=n(47);r(i.prototype,{getAllNodes:function(){var t=[];return this.root.each(function(e){t.push(e)}),t},getAllLinks:function(){for(var t=[],e=[this.root],n=void 0;n=e.pop();){var r=n.children;r&&r.forEach(function(r){t.push({source:n,target:r}),e.push(r)})}return t}}),r(i.prototype,{getAllEdges:i.prototype.getAllLinks})},function(t,e,n){var r=n(4),i=n(119),a=n(19);r(n(47).prototype,{partition:function(){return a(this.rows,arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},group:function(t,e){var n=this.partition(t,e);return i(n)},groups:function(t,e){return this.group(t,e)}})},function(t,e,n){var r=n(50);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e,n){var r=n(85),i=n(541),a=Object.prototype.hasOwnProperty,o=i(function(t,e,n){a.call(t,n)?t[n].push(e):r(t,n,[e])});t.exports=o},function(t,e,n){var r=n(542),i=n(543),a=n(48),o=n(3);t.exports=function(t,e){return function(n,s){var u=o(n)?r:i,l=e?e():{};return u(n,t,a(s,2),l)}}},function(t,e){t.exports=function(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}},function(t,e,n){var r=n(120);t.exports=function(t,e,n,i){return r(t,function(t,r,a){e(i,t,n(t),a)}),i}},function(t,e,n){var r=n(212),i=n(11);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(24);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var a=n.length,o=e?a:-1,s=Object(n);(e?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},function(t,e,n){var r=n(3),i=n(13),a=n(9);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=void 0;return i(e)?n=e:r(e)?n=function(t,n){for(var r=0;r<e.length;r++){var i=e[r];if(t[i]<n[i])return-1;if(t[i]>n[i])return 1}return 0}:a(e)&&(n=function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}),t.sort(n)}},function(t,e,n){function r(t,e){var n=t.getColumn(e);return o(n)&&o(n[0])&&(n=a(n)),n}var i=n(4),a=n(229),o=n(3),s=n(27),u=n(47),l=n(246);n(125).STATISTICS_METHODS.forEach(function(t){u.prototype[t]=function(e){return s[t](r(this,e))}});var c=s.quantile;i(u.prototype,{average:u.prototype.mean,quantile:function(t,e){return c(r(this,t),e)},quantiles:function(t,e){var n=r(this,t);return e.map(function(t){return c(n,t)})},quantilesByFraction:function(t,e){return this.quantiles(t,l(e))},range:function(t){return[this.min(t),this.max(t)]},extent:function(t){return this.range(t)}})},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=t.length;if(1===r)e=0,n=t[0][1];else{for(var i,a,o,s=0,u=0,l=0,c=0,h=0;h<r;h++)s+=a=(i=t[h])[0],u+=o=i[1],l+=a*a,c+=a*o;n=u/r-(e=(r*c-s*u)/(r*l-s*s))*s/r}return{m:e,b:n}}},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.b+t.m*e}}},function(t,e,n){"use strict";t.exports=function(t,e){if(t.length<2)return 1;for(var n,r=0,i=0;i<t.length;i++)r+=t[i][1];n=r/t.length;for(var a=0,o=0;o<t.length;o++)a+=Math.pow(n-t[o][1],2);for(var s=0,u=0;u<t.length;u++)s+=Math.pow(t[u][1]-e(t[u][0]),2);return 1-s/a}},function(t,e,n){"use strict";var r=n(233),i=n(234);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";t.exports=function(t){for(var e,n=new Map,r=0,i=0;i<t.length;i++){var a=n.get(t[i]);void 0===a?a=1:a++,a>r&&(e=t[i],r=a),n.set(t[i],a)}if(0===r)throw new Error("mode requires at last one data point");return e}},function(t,e,n){"use strict";t.exports=function(t){return t[0]}},function(t,e,n){"use strict";t.exports=function(t){return t[t.length-1]}},function(t,e,n){"use strict";t.exports=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}},function(t,e,n){"use strict";t.exports=function(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e}},function(t,e,n){"use strict";function r(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}t.exports=function t(e,n,i,a){for(i=i||0,a=a||e.length-1;a>i;){if(a-i>600){var o=a-i+1,s=n-i+1,u=Math.log(o),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(o-l)/o);s-o/2<0&&(c*=-1),t(e,n,Math.max(i,Math.floor(n-s*l/o+c)),Math.min(a,Math.floor(n+(o-s)*l/o+c)))}var h=e[n],f=i,d=a;for(r(e,i,n),e[a]>h&&r(e,i,a);f<d;){for(r(e,f,d),f++,d--;e[f]<h;)f++;for(;e[d]>h;)d--}e[i]===h?r(e,i,d):r(e,++d,a),d<=n&&(i=d+1),n<=d&&(a=d-1)}}},function(t,e,n){"use strict";var r=n(122);t.exports=function(t){var e=r(t,.75),n=r(t,.25);if("number"==typeof e&&"number"==typeof n)return e-n}},function(t,e,n){"use strict";var r=n(237);t.exports=function(t){for(var e=r(t),n=[],i=0;i<t.length;i++)n.push(Math.abs(t[i]-e));return r(n)}},function(t,e,n){"use strict";t.exports=function(t,e){var n=[];if(e<1)throw new Error("chunk size must be a positive number");if(Math.floor(e)!==e)throw new Error("chunk size must be an integer");for(var r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}},function(t,e,n){"use strict";t.exports=function(t,e,n){if(0===t.length)return[];n=n||Math.random;for(var r=t.length,i=[],a=0;a<e;a++){var o=Math.floor(n()*r);i.push(t[o])}return i}},function(t,e,n){"use strict";var r=n(238);t.exports=function(t,e,n){return r(t,n).slice(0,e)}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t;r++){for(var i=[],a=0;a<e;a++)i.push(0);n.push(i)}return n}function i(t,e,n,r){var i;if(t>0){var a=(n[e]-n[t-1])/(e-t+1);i=r[e]-r[t-1]-(e-t+1)*a*a}else i=r[e]-n[e]*n[e]/(e+1);return i<0?0:i}function a(t,e,n,r,o,s,u){if(!(t>e)){var l=Math.floor((t+e)/2);r[n][l]=r[n-1][l-1],o[n][l]=l;var c=n;t>n&&(c=Math.max(c,o[n][t-1]||0)),c=Math.max(c,o[n-1][l]||0);var h=l-1;e<r.length-1&&(h=Math.min(h,o[n][e+1]||0));for(var f,d,p,g=h;g>=c&&!((f=i(g,l,s,u))+r[n-1][c-1]>=r[n][l]);--g)(d=i(c,l,s,u)+r[n-1][c-1])<r[n][l]&&(r[n][l]=d,o[n][l]=c),c++,(p=f+r[n-1][g-1])<r[n][l]&&(r[n][l]=p,o[n][l]=g);a(t,l-1,n,r,o,s,u),a(l+1,e,n,r,o,s,u)}}var o=n(240),s=n(233);t.exports=function(t,e){if(e>t.length)throw new Error("cannot generate more classes than there are data values");var n=s(t);if(1===o(n))return[n];var u=r(e,n.length),l=r(e,n.length);!function(t,e,n){for(var r,o=e[0].length,s=t[Math.floor(o/2)],u=[],l=[],c=0;c<o;++c)r=t[c]-s,0===c?(u.push(r),l.push(r*r)):(u.push(u[c-1]+r),l.push(l[c-1]+r*r)),e[0][c]=i(0,c,u,l),n[0][c]=0;for(var h=1;h<e.length;++h)a(h<e.length-1?h:o-1,o-1,h,e,n,u,l)}(n,u,l);for(var c=[],h=l[0].length-1,f=l.length-1;f>=0;f--){var d=l[f][h];c[f]=n.slice(d,h+1),f>0&&(h=d-1)}return c}},function(t,e,n){"use strict";var r=n(236),i=n(235);t.exports=function(t,e){if(t.length<2)return t;for(var n=i(t),a=r(t),o=[n],s=(a-n)/e,u=1;u<e;u++)o.push(o[0]+s*u);return o.push(a),o}},function(t,e,n){"use strict";var r=n(241),i=n(242);t.exports=function(t,e){return r(t,e)/i(t)/i(e)}},function(t,e,n){"use strict";var r=n(28);t.exports=function(t){if(t.length<3)throw new Error("sampleSkewness requires at least three data points");for(var e,n=r(t),i=0,a=0,o=0;o<t.length;o++)i+=(e=t[o]-n)*e,a+=e*e*e;var s=Math.sqrt(i/(t.length-1)),u=t.length;return u*a/((u-1)*(u-2)*Math.pow(s,3))}},function(t,e,n){"use strict";var r=n(28);t.exports=function(t){var e=t.length;if(e<4)throw new Error("sampleKurtosis requires at least four data points");for(var n,i=r(t),a=0,o=0,s=0;s<e;s++)a+=(n=t[s]-i)*n,o+=n*n*n*n;return(e-1)/((e-2)*(e-3))*(e*(e+1)*o/(a*a)-3*(e-1))}},function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t.length),n=[t.slice()],r=0;r<t.length;r++)e[r]=0;for(r=0;r<t.length;)if(e[r]<r){var i=0;r%2!=0&&(i=e[r]);var a=t[i];t[i]=t[r],t[r]=a,n.push(t.slice()),e[r]++,r=0}else e[r]=0,r++;return n}},function(t,e,n){"use strict";t.exports=function t(e,n){var r,i,a,o,s=[];for(r=0;r<e.length;r++)if(1===n)s.push([e[r]]);else for(a=t(e.slice(r+1,e.length),n-1),i=0;i<a.length;i++)(o=a[i]).unshift(e[r]),s.push(o);return s}},function(t,e,n){"use strict";t.exports=function t(e,n){for(var r=[],i=0;i<e.length;i++)if(1===n)r.push([e[i]]);else for(var a=t(e.slice(i,e.length),n-1),o=0;o<a.length;o++)r.push([e[i]].concat(a[o]));return r}},function(t,e,n){"use strict";t.exports=function(t,e,n){return t+(n-t)/(e+1)}},function(t,e,n){"use strict";var r=n(243);t.exports=function(t,e,n,i,a,o){var s=r(e,n,a,o);return(n*(t+Math.pow(e-s,2))+o*(i+Math.pow(a-s,2)))/(n+o)}},function(t,e,n){"use strict";t.exports=function(t){if(0===t.length)throw new Error("geometricMean requires at least one data point");for(var e=1,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("geometricMean requires only positive numbers as input");e*=t[n]}return Math.pow(e,1/t.length)}},function(t,e,n){"use strict";t.exports=function(t){if(0===t.length)throw new Error("harmonicMean requires at least one data point");for(var e=0,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");e+=1/t[n]}return t.length/e}},function(t,e,n){"use strict";var r=n(123);t.exports=function(t){return r(t,.5)}},function(t,e,n){"use strict";t.exports=function(t,e,n){return(t*e-n)/(e-1)}},function(t,e,n){"use strict";t.exports=function(t){if(0===t.length)throw new Error("rootMeanSquare requires at least one data point");for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.sqrt(e/t.length)}},function(t,e,n){"use strict";var r=n(230),i=n(28);t.exports=function(t,e){return(i(t)-e)/(r(t)/Math.sqrt(t.length))}},function(t,e,n){"use strict";var r=n(28),i=n(124);t.exports=function(t,e,n){var a=t.length,o=e.length;if(!a||!o)return null;n||(n=0);var s=r(t),u=r(e),l=i(t),c=i(e);return"number"==typeof s&&"number"==typeof u&&"number"==typeof l&&"number"==typeof c?(s-u-n)/Math.sqrt(((a-1)*l+(o-1)*c)/(a+o-2)*(1/a+1/o)):void 0}},function(t,e,n){"use strict";function r(){this.totalCount=0,this.data={}}r.prototype.train=function(t,e){for(var n in this.data[e]||(this.data[e]={}),t){var r=t[n];void 0===this.data[e][n]&&(this.data[e][n]={}),void 0===this.data[e][n][r]&&(this.data[e][n][r]=0),this.data[e][n][r]++}this.totalCount++},r.prototype.score=function(t){var e,n={};for(var r in t){var i=t[r];for(e in this.data)n[e]={},n[e][r+"_"+i]=this.data[e][r]?(this.data[e][r][i]||0)/this.totalCount:0}var a={};for(e in n)for(var o in a[e]=0,n[e])a[e]+=n[e][o];return a},t.exports=r},function(t,e,n){"use strict";function r(){this.weights=[],this.bias=0}r.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,n=0;n<this.weights.length;n++)e+=this.weights[n]*t[n];return(e+=this.bias)>0?1:0},r.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var n=this.predict(t);if(n!==e){for(var r=e-n,i=0;i<this.weights.length;i++)this.weights[i]+=r*t[i];this.bias+=r}return this},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){if(t<0)throw new Error("factorial requires a non-negative value");if(Math.floor(t)!==t)throw new Error("factorial requires an integer input");for(var e=1,n=2;n<=t;n++)e*=n;return e}},function(t,e,n){"use strict";t.exports=function(t){if(t<0||t>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-t,t]}},function(t,e,n){"use strict";var r=n(78);t.exports=function(t,e){if(!(e<0||e>1||t<=0||t%1!=0)){var n=0,i=0,a=[],o=1;do{a[n]=o*Math.pow(e,n)*Math.pow(1-e,t-n),i+=a[n],o=o*(t-++n+1)/n}while(i<1-r);return a}}},function(t,e,n){"use strict";var r=n(78);t.exports=function(t){if(!(t<=0)){var e=0,n=0,i=[],a=1;do{i[e]=Math.exp(-t)*Math.pow(t,e)/a,n+=i[e],a*=++e}while(n<1-r);return i}}},function(t,e,n){"use strict";var r=n(28),i=n(587);t.exports=function(t,e,n){for(var a,o=0,s=e(r(t)),u=[],l=[],c=0;c<t.length;c++)void 0===u[t[c]]&&(u[t[c]]=0),u[t[c]]++;for(c=0;c<u.length;c++)void 0===u[c]&&(u[c]=0);for(a in s)a in u&&(l[+a]=s[a]*t.length);for(a=l.length-1;a>=0;a--)l[a]<3&&(l[a-1]+=l[a],l.pop(),u[a-1]+=u[a],u.pop());for(a=0;a<u.length;a++)o+=Math.pow(u[a]-l[a],2)/l[a];return i[u.length-1-1][n]<o}},function(t,e,n){"use strict";t.exports={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}}},function(t,e,n){"use strict";t.exports=function(t,e,n){return(t-e)/n}},function(t,e,n){"use strict";var r=n(244);t.exports=function(t){var e=Math.abs(t),n=Math.min(Math.round(100*e),r.length-1);return t>=0?r[n]:+(1-r[n]).toFixed(4)}},function(t,e,n){"use strict";t.exports=function(t){var e=1/(1+.5*Math.abs(t)),n=e*Math.exp(-Math.pow(t,2)-1.26551223+1.00002368*e+.37409196*Math.pow(e,2)+.09678418*Math.pow(e,3)-.18628806*Math.pow(e,4)+.27886807*Math.pow(e,5)-1.13520398*Math.pow(e,6)+1.48851587*Math.pow(e,7)-.82215223*Math.pow(e,8)+.17087277*Math.pow(e,9));return t>=0?1-n:n-1}},function(t,e,n){"use strict";var r=n(78),i=n(245);t.exports=function(t){return 0===t?t=r:t>=1&&(t=1-r),Math.sqrt(2)*i(2*t-1)}},function(t,e,n){"use strict";var r=n(593);t.exports=function(t,e,n,i,a){if("function"!=typeof t)throw new TypeError("func must be a function");for(var o=0;o<i;o++){var s=(e+n)/2;if(0===t(s)||Math.abs((n-e)/2)<a)return s;r(t(s))===r(t(e))?e=s:n=s}throw new Error("maximum number of iterations exceeded")}},function(t,e,n){"use strict";t.exports=function(t){if("number"==typeof t)return t<0?-1:0===t?0:1;throw new TypeError("not a number")}},function(t,e,n){var r=n(9),i=n(75);(0,n(2).registerConnector)("default",function(t,e){if(r(t)&&(t=e.getView(t)),!t)throw new TypeError("Invalid dataView");return i(t.rows)})},function(t,e,n){var r=n(208),i=0;t.exports=function(t){var e=++i;return r(t)+e}},function(t,e,n){var r=n(9),i=n(597),a=i.dsvFormat,o=i.csvParse,s=i.tsvParse,u=n(2).registerConnector;u("dsv",function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delimiter||",";if(!r(e))throw new TypeError("Invalid delimiter: must be a string!");return a(e).parse(t)}),u("csv",function(t){return o(t)}),u("tsv",function(t){return s(t)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(126);n.d(e,"dsvFormat",function(){return r.a});var i=n(598);n.d(e,"csvParse",function(){return i.c}),n.d(e,"csvParseRows",function(){return i.d}),n.d(e,"csvFormat",function(){return i.a}),n.d(e,"csvFormatRows",function(){return i.b});var a=n(599);n.d(e,"tsvParse",function(){return a.c}),n.d(e,"tsvParseRows",function(){return a.d}),n.d(e,"tsvFormat",function(){return a.a}),n.d(e,"tsvFormatRows",function(){return a.b})},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(126),i=Object(r.a)(","),a=i.parse,o=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(126),i=Object(r.a)("\t"),a=i.parse,o=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){function r(t,e){e.dataType="geo-graticule";var n=i().lines();return n.map(function(t,e){return t.index=""+e,t}),e.rows=n,n}var i=n(0).geoGraticule;(0,n(2).registerConnector)("geo-graticule",r),t.exports=r},function(t,e){t.exports=function(t){var e=[];return t.replace(r,function(t,r,a){var o=r.toLowerCase();for(a=function(t){var e=a.match(i);return e?e.map(Number):[]}(),"m"==o&&a.length>2&&(e.push([r].concat(a.splice(0,2))),o="l",r="m"==r?"l":"L");;){if(a.length==n[o])return a.unshift(r),e.push(a);if(a.length<n[o])throw new Error("malformed path data");e.push([r].concat(a.splice(0,n[o])))}}),e};var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t){var e=0,n=0,r=0,i=0;return t.map(function(t){var a=(t=t.slice())[0],o=a.toUpperCase();if(a!=o)switch(t[0]=o,a){case"a":t[6]+=r,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=r;break;default:for(var s=1;s<t.length;)t[s++]+=r,t[s++]+=i}switch(o){case"Z":r=e,i=n;break;case"H":r=t[1];break;case"V":i=t[1];break;case"M":r=e=t[1],i=n=t[2];break;default:r=t[t.length-2],i=t[t.length-1]}return t})}},function(t,e,n){function r(t,e,n){e=i({},l,e),n.dataType=s;var r=e.nodes,o=e.edges;if(r&&!a(r))throw new TypeError("Invalid nodes: must be a function!");if(o&&!a(o))throw new TypeError("Invalid edges: must be a function!");return n.rows=n.graph={nodes:r(t),edges:o(t)},i(n,n.graph),n.rows}var i=n(4),a=n(13),o=n(2),s=o.GRAPH,u=o.registerConnector,l={nodes:function(t){return t.nodes},edges:function(t){return t.edges}};u("graph",r),u("diagram",r)},function(t,e,n){function r(t){return t.cx=t.x,t.cy=t.y,t.x=[],t.y=[],t.vertices.forEach(function(e){t.x.push(e.x+t.cx),t.y.push(e.y+t.cy)}),t}function i(t,e,n){n.dataType=h;var i=e=a({},d,e),s=i.width,c=i.height,f=o(t);n._HexJSON=f;var p=n._GridHexJSON=u(f),g=n.rows=l(f,s,c).map(r);return n._gridRows=l(p,s,c).map(r),g}var a=n(4),o=n(75),s=n(606),u=s.getGridForHexJSON,l=s.renderHexJSON,c=n(2),h=c.HEX,f=c.registerConnector,d={width:1,height:1};f("hex",i),f("hexjson",i),f("hex-json",i),f("HexJSON",i),t.exports=i},function(t,e,n){!function(t,e){"use strict";t.renderHexJSON=function(t,n,r){var i,a=t.layout,o=[];Object.keys(t.hexes).forEach(function(e){t.hexes[e].key=e,o.push(t.hexes[e])});var s=e.max(o,function(t){return+t.q}),u=e.min(o,function(t){return+t.q}),l=e.max(o,function(t){return+t.r}),c=e.min(o,function(t){return+t.r}),h=s-u+1,f=l-c+1,d=(i=e.min("odd-r"===a||"even-r"===a?[n/((h+.5)*Math.sqrt(3)),r/(1.5*(f+1/3))]:[r/((f+.5)*Math.sqrt(3)),n/(1.5*(h+1/3))]))*Math.sqrt(3),p=[],g=function(t){var e="";return p.forEach(function(t){e+=t.x+","+t.y+" "}),e.substring(0,e.length-1)}();return o.forEach(function(t){t.qc=t.q-u,t.rc=l-t.r,t.x=function(t,e,n,r){var i=0;switch(e){case"odd-r":i=t.qc*n+(t.rc%2==1?n:n/2);break;case"even-r":i=t.qc*n+(t.rc%2==0?n:n/2);break;case"odd-q":case"even-q":i=t.qc*r*1.5+r}return i}(t,a,d,i),t.y=function(t,e,n,r){var i=0;switch(e){case"odd-r":case"even-r":i=t.rc*r*1.5+r;break;case"odd-q":i=t.rc*n+(t.qc%2==1?n:n/2);break;case"even-q":i=t.rc*n+(t.qc%2==0?n:n/2)}return i}(t,a,d,i),t.vertices=p,t.points=g}),o},t.getGridForHexJSON=function(t){var n={};n.layout=t.layout,n.hexes={};var r=[];Object.keys(t.hexes).forEach(function(e){r.push(t.hexes[e])});var i,a,o=e.max(r,function(t){return+t.q}),s=e.min(r,function(t){return+t.q}),u=e.max(r,function(t){return+t.r}),l=e.min(r,function(t){return+t.r});for(i=s;i<=o;i++)for(a=l;a<=u;a++)n.hexes["Q"+i+"R"+a]={q:i,r:a};return n},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(16))},function(t,e,n){function r(t,e,n){n.dataType=s;var r=e&&e.children?e.children:null;if(r&&!i(r))throw new TypeError("Invalid children: must be a function!");return n.rows=n.root=e.pureData?t:a(t,r),t}var i=n(13),a=n(40).hierarchy,o=n(2),s=o.HIERARCHY,u=o.registerConnector;u("hierarchy",r),u("tree",r)},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t,e){return t+e.x}function a(t,e){return Math.max(t,e.y)}e.a=function(){function t(t){var r,u=0;t.eachAfter(function(t){var n=t.children;n?(t.x=function(t){return t.reduce(i,0)/t.length}(n),t.y=1+n.reduce(a,0)):(t.x=r?u+=e(t,r):0,t.y=0,r=t)});var l=function(t){for(var e;e=t.children;)t=e[0];return t}(t),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(t),h=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return t.eachAfter(s?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*o}:function(e){e.x=(e.x-h)/(f-h)*n,e.y=(1-(t.y?e.y/t.y:1))*o})}var e=r,n=1,o=1,s=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(s=!1,n=+e[0],o=+e[1],t):s?null:[n,o]},t.nodeSize=function(e){return arguments.length?(s=!0,n=+e[0],o=+e[1],t):s?[n,o]:null},t}},function(t,e,n){"use strict";function r(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}e.a=function(){return this.eachAfter(r)}},function(t,e,n){"use strict";e.a=function(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this}},function(t,e,n){"use strict";e.a=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}},function(t,e,n){"use strict";e.a=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}},function(t,e,n){"use strict";e.a=function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}},function(t,e,n){"use strict";e.a=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.each(function(e){t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}},function(t,e,n){"use strict";function r(t){return Math.sqrt(t.value)}function i(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function a(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,u=t(n)*e||0;if(u)for(i=0;i<o;++i)r[i].r+=u;if(a=Object(s.b)(r),u)for(i=0;i<o;++i)r[i].r-=u;n.r=a+u}}}function o(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var s=n(250),u=n(128),l=n(252);e.a=function(){function t(t){return t.x=n/2,t.y=s/2,e?t.eachBefore(i(e)).eachAfter(a(c,.5)).eachBefore(o(1)):t.eachBefore(i(r)).eachAfter(a(l.a,1)).eachAfter(a(c,t.r/Math.min(n,s))).eachBefore(o(Math.min(n,s)/(2*t.r))),t}var e=null,n=1,s=1,c=l.a;return t.radius=function(n){return arguments.length?(e=Object(u.a)(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],s=+e[1],t):[n,s]},t.padding=function(e){return arguments.length?(c="function"==typeof e?e:Object(l.b)(+e),t):c},t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),e.a=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t};var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(253),i=n(56);e.a=function(){function t(t){var s=t.height+1;return t.x0=t.y0=a,t.x1=e,t.y1=n/s,t.eachBefore(function(t,e){return function(n){n.children&&Object(i.a)(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,s=n.x1-a,u=n.y1-a;s<r&&(r=s=(r+s)/2),u<o&&(o=u=(o+u)/2),n.x0=r,n.y0=o,n.x1=s,n.y1=u}}(n,s)),o&&t.eachBefore(r.a),t}var e=1,n=1,a=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(r){return arguments.length?(e=+r[0],n=+r[1],t):[e,n]},t.padding=function(e){return arguments.length?(a=+e,t):a},t}},function(t,e,n){"use strict";function r(t){return t.id}function i(t){return t.parentId}var a=n(128),o=n(127),s="$",u={depth:-1},l={};e.a=function(){function t(t){var r,i,a,c,h,f,d,p=t.length,g=new Array(p),v={};for(i=0;i<p;++i)h=g[i]=new o.a(r=t[i]),null!=(f=e(r,i,t))&&(f+="")&&(v[d=s+(h.id=f)]=d in v?l:h);for(i=0;i<p;++i)if(h=g[i],null!=(f=n(t[i],i,t))&&(f+="")){if(!(c=v[s+f]))throw new Error("missing: "+f);if(c===l)throw new Error("ambiguous: "+f);c.children?c.children.push(h):c.children=[h],h.parent=c}else{if(a)throw new Error("multiple roots");a=h}if(!a)throw new Error("no root");if(a.parent=u,a.eachBefore(function(t){t.depth=t.parent.depth+1,--p}).eachBefore(o.b),a.parent=null,p>0)throw new Error("cycle");return a}var e=r,n=i;return t.id=function(n){return arguments.length?(e=Object(a.b)(n),t):e},t.parentId=function(e){return arguments.length?(n=Object(a.b)(e),t):n},t}},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t){var e=t.children;return e?e[0]:t.t}function a(t){var e=t.children;return e?e[e.length-1]:t.t}function o(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function s(t,e,n){return t.a.parent===e.parent?t.a:n}function u(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}var l=n(127);u.prototype=Object.create(l.a.prototype),e.a=function(){function t(t){var r=function(t){for(var e,n,r,i,a,o=new u(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new u(r[i],i)),n.parent=e;return(o.parent=new u(null,0)).children=[o],o}(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),d)t.eachBefore(l);else{var i=t,a=t,o=t;t.eachBefore(function(t){t.x<i.x&&(i=t),t.x>a.x&&(a=t),t.depth>o.depth&&(o=t)});var s=i===a?1:c(i,a)/2,p=s-i.x,g=h/(a.x+s+p),v=f/(o.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*g,t.y=t.depth*v})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var u=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+c(t._,r._),t.m=t.z-u):t.z=u}else r&&(t.z=r.z+c(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,u=t,l=t,h=e,f=u.parent.children[0],d=u.m,p=l.m,g=h.m,v=f.m;h=a(h),u=i(u),h&&u;)f=i(f),(l=a(l)).a=t,(r=h.z+g-u.z-d+c(h._,u._))>0&&(o(s(h,t,n),t,r),d+=r,p+=r),g+=h.m,d+=u.m,v+=f.m,p+=l.m;h&&!a(l)&&(l.t=h,l.m+=g-p),u&&!i(f)&&(f.t=u,f.m+=d-v,n=t)}return n}(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=h,t.y=t.depth*f}var c=r,h=1,f=1,d=null;return t.separation=function(e){return arguments.length?(c=e,t):c},t.size=function(e){return arguments.length?(d=!1,h=+e[0],f=+e[1],t):d?null:[h,f]},t.nodeSize=function(e){return arguments.length?(d=!0,h=+e[0],f=+e[1],t):d?[h,f]:null},t}},function(t,e,n){"use strict";var r=n(253),i=n(129),a=n(128),o=n(252);e.a=function(){function t(t){return t.x0=t.y0=0,t.x1=u,t.y1=l,t.eachBefore(e),c=[0],s&&t.eachBefore(r.a),t}function e(t){var e=c[t.depth],r=t.x0+e,i=t.y0+e,a=t.x1-e,o=t.y1-e;a<r&&(r=a=(r+a)/2),o<i&&(i=o=(i+o)/2),t.x0=r,t.y0=i,t.x1=a,t.y1=o,t.children&&(e=c[t.depth+1]=h(t)/2,r+=g(t)-e,i+=f(t)-e,(a-=d(t)-e)<r&&(r=a=(r+a)/2),(o-=p(t)-e)<i&&(i=o=(i+o)/2),n(t,r,i,a,o))}var n=i.a,s=!1,u=1,l=1,c=[0],h=o.a,f=o.a,d=o.a,p=o.a,g=o.a;return t.round=function(e){return arguments.length?(s=!!e,t):s},t.size=function(e){return arguments.length?(u=+e[0],l=+e[1],t):[u,l]},t.tile=function(e){return arguments.length?(n=Object(a.b)(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(h="function"==typeof e?e:Object(o.b)(+e),t):h},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(f="function"==typeof e?e:Object(o.b)(+e),t):f},t.paddingRight=function(e){return arguments.length?(d="function"==typeof e?e:Object(o.b)(+e),t):d},t.paddingBottom=function(e){return arguments.length?(p="function"==typeof e?e:Object(o.b)(+e),t):p},t.paddingLeft=function(e){return arguments.length?(g="function"==typeof e?e:Object(o.b)(+e),t):g},t}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){var a,o,s=t.children,u=s.length,l=new Array(u+1);for(l[0]=o=a=0;a<u;++a)l[a+1]=o+=s[a].value;!function t(e,n,r,i,a,o,u){if(e>=n-1){var c=s[e];return c.x0=i,c.y0=a,c.x1=o,void(c.y1=u)}for(var h=l[e],f=r/2+h,d=e+1,p=n-1;d<p;){var g=d+p>>>1;l[g]<f?d=g+1:p=g}f-l[d-1]<l[d]-f&&e+1<d&&--d;var v=l[d]-h,m=r-v;if(o-i>u-a){var y=(i*m+o*v)/r;t(e,d,v,i,a,y,u),t(d,n,m,y,a,o,u)}else{var x=(a*m+u*v)/r;t(e,d,v,i,a,o,x),t(d,n,m,i,x,o,u)}}(0,u,t.value,e,n,r,i)}},function(t,e,n){"use strict";var r=n(56),i=n(79);e.a=function(t,e,n,a,o){(1&t.depth?i.a:r.a)(t,e,n,a,o)}},function(t,e,n){"use strict";var r=n(56),i=n(79),a=n(129);e.a=function t(e){function n(t,n,o,s,u){if((l=t._squarify)&&l.ratio===e)for(var l,c,h,f,d,p=-1,g=l.length,v=t.value;++p<g;){for(h=(c=l[p]).children,f=c.value=0,d=h.length;f<d;++f)c.value+=h[f].value;c.dice?Object(r.a)(c,n,o,s,o+=(u-o)*c.value/v):Object(i.a)(c,n,o,n+=(s-n)*c.value/v,u),v-=c.value}else t._squarify=l=Object(a.c)(e,t,n,o,s,u),l.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(a.b)},function(t,e,n){function r(t,e,n){var r=e.object;if(!i(r))throw new TypeError("Invalid object: must be a string!");var s=a(t,t.objects[r]);return o(s,e,n)}var i=n(9),a=n(630).feature,o=n(248),s=n(2).registerConnector;s("topojson",r),s("TopoJSON",r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(254);n.d(e,"bbox",function(){return r.a});var i=n(131);n.d(e,"feature",function(){return i.a});var a=n(632);n.d(e,"mesh",function(){return a.a}),n.d(e,"meshArcs",function(){return a.b});var o=n(633);n.d(e,"merge",function(){return o.a}),n.d(e,"mergeArcs",function(){return o.b});var s=n(634);n.d(e,"neighbors",function(){return s.a});var u=n(636);n.d(e,"quantize",function(){return u.a});var l=n(130);n.d(e,"transform",function(){return l.a});var c=n(257);n.d(e,"untransform",function(){return c.a})},function(t,e,n){"use strict";e.a=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o;if(arguments.length>1)r=function(t,e,n){function r(t){var e=t<0?~t:t;(u[e]||(u[e]=[])).push({i:t,g:o})}function i(t){t.forEach(r)}function a(t){t.forEach(i)}var o,s=[],u=[];return function t(e){switch(o=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":a(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(a)}(e.arcs)}}(e),u.forEach(null==n?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}(0,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Object(a.a)(t,r)}}e.b=r;var i=n(131),a=n(256);e.a=function(t){return Object(i.b)(t,r.apply(this,arguments))}},function(t,e,n){"use strict";function r(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)})}),s.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)a+=(e=i)[0]*(i=t[n])[1]-e[1]*i[0];return Math.abs(a)}(Object(i.b)(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var o={},s=[],u=[];return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),s.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,u.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),s.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:u.map(function(e){var n,i=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].length<2&&i.push(t)})})}),(n=(i=Object(a.a)(t,i)).length)>1)for(var s,u,l=1,c=r(i[0]);l<n;++l)(s=r(i[l]))>c&&(u=i[0],i[0]=i[l],i[l]=u,c=s);return i})}}e.b=r;var i=n(131),a=n(256);e.a=function(t){return Object(i.b)(t,r.apply(this,arguments))}},function(t,e,n){"use strict";var r=n(635);e.a=function(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=i[t];n?n.push(e):i[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}var i={},a=t.map(function(){return[]}),o={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};for(var s in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in o&&o[e.type](e.arcs,n)}),i)for(var u=i[s],l=u.length,c=0;c<l;++c)for(var h=c+1;h<l;++h){var f,d=u[c],p=u[h];(f=a[d])[s=Object(r.a)(f,p)]!==p&&f.splice(s,0,p),(f=a[p])[s=Object(r.a)(f,d)]!==d&&f.splice(s,0,d)}return a}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n}},function(t,e,n){"use strict";var r=n(254),i=n(257);e.a=function(t,e){function n(t){return d(t)}function a(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(a)};break;case"Point":e={type:"Point",coordinates:n(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(n)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}if(t.transform)throw new Error("already quantized");if(e&&e.scale)h=t.bbox;else{if(!((o=Math.floor(e))>=2))throw new Error("n must be \u22652");var o,s=(h=t.bbox||Object(r.a)(t))[0],u=h[1],l=h[2],c=h[3];e={scale:[l-s?(l-s)/(o-1):1,c-u?(c-u)/(o-1):1],translate:[s,u]}}var h,f,d=Object(i.a)(e),p=t.objects,g={};for(f in p)g[f]=a(p[f]);return{type:"Topology",bbox:h,transform:e,objects:g,arcs:t.arcs.map(function(t){var e,n=0,r=1,i=t.length,a=new Array(i);for(a[0]=d(t[0],0);++n<i;)((e=d(t[n],n))[0]||e[1])&&(a[r++]=e);return 1===r&&(a[r++]=[0,0]),a.length=r,a})}}},function(t,e,n){(0,n(2).registerTransform)("default",function(t){return t})},function(t,e,n){(0,n(2).registerTransform)("filter",function(t){t.rows=t.rows.filter((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback||function(t){return!!t})})},function(t,e,n){var r=n(4),i=n(640),a=n(52),o=n(2).registerTransform,s=n(7).getFields,u={fields:[],key:"key",retains:[],value:"value"};o("fold",function(t,e){var n=t.getColumnNames();e=r({},u,e);var o=s(e);0===o.length&&(console.warn("warning: option fields is not specified, will fold all columns."),o=n);var l=e.key,c=e.value,h=e.retains;0===h.length&&(h=i(n,o));var f=[];t.rows.forEach(function(t){o.forEach(function(e){var n=a(t,h);n[l]=e,n[c]=t[e],f.push(n)})}),t.rows=f})},function(t,e,n){var r=n(641),i=n(77),a=n(86),o=n(645),s=a(function(t,e){return o(t)?r(t,i(e,1,o,!0)):[]});t.exports=s},function(t,e,n){var r=n(110),i=n(258),a=n(259),o=n(50),s=n(90),u=n(111);t.exports=function(t,e,n,l){var c=-1,h=i,f=!0,d=t.length,p=[],g=e.length;if(!d)return p;n&&(e=o(e,s(n))),l?(h=a,f=!1):e.length>=200&&(h=u,f=!1,e=new r(e));t:for(;++c<d;){var v=t[c],m=null==n?v:n(v);if(v=l||0!==v?v:0,f&&m==m){for(var y=g;y--;)if(e[y]===m)continue t;p.push(v)}else h(e,m,l)||p.push(v)}return p}},function(t,e,n){var r=n(211),i=n(643),a=n(644);t.exports=function(t,e,n){return e==e?a(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(24),i=n(20);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){(0,n(2).registerTransform)("map",function(t){t.rows=t.rows.map((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).callback||function(t){return t})})},function(t,e,n){function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=i({},u,e),t.rows=a(o(t.rows,e.groupBy,e.orderBy))}var i=n(4),a=n(119),o=n(19),s=n(2).registerTransform,u={groupBy:[],orderBy:[]};s("partition",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=i({},u,e),t.rows=o(t.rows,e.groupBy,e.orderBy)}),s("group",r),s("groups",r)},function(t,e,n){var r=n(4),i=n(12),a=n(3),o=n(9),s=n(27).sum,u=n(19),l=n(2).registerTransform,c=n(7).getField,h={groupBy:[],as:"_percent"};l("percent",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=r({},h,e);var n=c(e),l=e.dimension,f=e.groupBy,d=e.as;if(!o(l))throw new TypeError("Invalid dimension: must be a string!");if(a(d)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),d=d[0]),!o(d))throw new TypeError("Invalid as: must be a string!");var p=[],g=u(t.rows,f);i(g,function(t){var e=s(t.map(function(t){return t[n]}));0===e&&console.warn("Invalid data: total sum of field "+n+" is 0!");var r=u(t,[l]);i(r,function(t){var r=s(t.map(function(t){return t[n]})),i=t[0],a=i[l];i[n]=r,i[l]=a,i[d]=0===e?0:r/e,p.push(i)})}),t.rows=p})},function(t,e,n){var r=n(52),i=n(2).registerTransform,a=n(7).getFields;i("pick",function(t){var e=a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t.getColumnNames());t.rows=t.rows.map(function(t){return r(t,e)})})},function(t,e,n){var r=n(4),i=n(12),a=n(3),o=n(9),s=n(19),u=n(2).registerTransform,l=n(7).getField,c={groupBy:[],as:"_proportion"};u("proportion",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=r({},c,e);var n=l(e),u=e.dimension,h=e.groupBy,f=e.as;if(!o(u))throw new TypeError("Invalid dimension: must be a string!");if(a(f)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),f=f[0]),!o(f))throw new TypeError("Invalid as: must be a string!");var d=[],p=s(t.rows,h);i(p,function(t){var e=t.length,r=s(t,[u]);i(r,function(t){var r=t.length,i=t[0],a=i[u];i[n]=r,i[u]=a,i[f]=r/e,d.push(i)})}),t.rows=d})},function(t,e,n){function r(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).map||{},n={};a(e)&&i(e,function(t,e){o(t)&&o(e)&&(n[e]=t)}),t.rows.forEach(function(t){i(e,function(e,n){var r=t[n];delete t[n],t[e]=r})})}var i=n(12),a=n(652),o=n(9),s=n(2).registerTransform;s("rename",r),s("rename-fields",r)},function(t,e,n){var r=n(23),i=n(108),a=n(20),o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=u.call(Object);t.exports=function(t){if(!a(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},function(t,e,n){var r=n(260);(0,n(2).registerTransform)("reverse",function(t){t.rows=r(t.rows)})},function(t,e,n){(0,n(2).registerTransform)("sort",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getColumnName(0);t.rows.sort(e.callback||function(t,e){return t[n]-e[n]})})},function(t,e,n){function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e,[t.getColumnName(0)]);if(!i(n))throw new TypeError("Invalid fields: must be an array with strings!");t.rows=o(t.rows,n);var r=e.order;if(r&&-1===l.indexOf(r))throw new TypeError("Invalid order: "+r+" must be one of "+l.join(", "));"DESC"===r&&(t.rows=a(t.rows))}var i=n(3),a=n(260),o=n(656),s=n(2).registerTransform,u=n(7).getFields,l=["ASC","DESC"];s("sort-by",r),s("sortBy",r)},function(t,e,n){var r=n(77),i=n(657),a=n(86),o=n(150),s=a(function(t,e){if(null==t)return[];var n=e.length;return n>1&&o(t,e[0],e[1])?e=[]:n>2&&o(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=s},function(t,e,n){var r=n(50),i=n(48),a=n(261),o=n(658),s=n(90),u=n(659),l=n(42);t.exports=function(t,e,n){var c=-1;e=r(e.length?e:[l],s(i));var h=a(t,function(t,n,i){return{criteria:r(e,function(e){return e(t)}),index:++c,value:t}});return o(h,function(t,e){return u(t,e,n)})}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(660);t.exports=function(t,e,n){for(var i=-1,a=t.criteria,o=e.criteria,s=a.length,u=n.length;++i<s;){var l=r(a[i],o[i]);if(l)return i>=u?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(49);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,a=t==t,o=r(t),s=void 0!==e,u=null===e,l=e==e,c=r(e);if(!u&&!c&&!o&&t>e||o&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!a)return 1;if(!i&&!o&&!c&&t<e||c&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}},function(t,e,n){var r=n(2).registerTransform,i=n(7).getFields;r("subset",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.startRowIndex||0,r=e.endRowIndex||t.rows.length-1,a=i(e,t.getColumnNames());t.rows=t.getSubset(n,r,a)})},function(t,e,n){function r(t,e){var n=t.map(function(t){return t});return e.forEach(function(t){var e=n.indexOf(t);e>-1&&n.splice(e,1)}),n}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=a({},l,e);var n=t.rows,i=e.groupBy,u=e.orderBy,c=s(n,i,u),h=0,f=[];o(c,function(t){t.length>h&&(h=t.length,f=t)});var d=[],p={};if(f.forEach(function(t){var e=u.map(function(e){return t[e]}).join("-");d.push(e),p[e]=t}),"order"===e.fillBy){var g=f[0],v=[],m={};n.forEach(function(t){var e=u.map(function(e){return t[e]}).join("-");-1===v.indexOf(e)&&(v.push(e),m[e]=t)}),r(v,d).forEach(function(t){var e={};i.forEach(function(t){e[t]=g[t]}),u.forEach(function(n){e[n]=m[t][n]}),n.push(e),f.push(e),d.push(t),p[t]=e}),h=f.length}o(c,function(t){if(t!==f&&t.length<h){var e=t[0],a=[];t.forEach(function(t){a.push(u.map(function(e){return t[e]}).join("-"))}),r(d,a).some(function(r,a){if(a>=h-t.length)return!0;var o=p[r],s={};return i.forEach(function(t){s[t]=e[t]}),u.forEach(function(t){s[t]=o[t]}),n.push(s),!1})}})}var a=n(4),o=n(12),s=n(19),u=n(2).registerTransform,l={fillBy:"group",groupBy:[],orderBy:[]};u("fill-rows",i),u("fillRows",i)},function(t,e,n){function r(t){return t.filter(function(t){return!u(t)})}var i=n(4),a=n(12),o=n(664),s=n(13),u=n(666),l=n(9),c=n(27),h=n(19),f=n(2).registerTransform,d=n(7).getField,p={groupBy:[]},g=["mean","median","max","min"],v={};g.forEach(function(t){v[t]=function(e,n){return c[t](n)}}),v.value=function(t,e,n){return n},f("impute",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rows;e=i({},p,e);var c=d(e),f=e.method,m=e.groupBy;if(!f)throw new TypeError("Invalid method!");if("value"===f&&!o(e,"value"))throw new TypeError("Invalid value: it is nil.");var y=r(t.getColumn(c)),x=h(n,m);a(x,function(t){var n=r(t.map(function(t){return t[c]}));0===n.length&&(n=y),t.forEach(function(r){if(u(r[c]))if(s(f))r[c]=f(r,n,e.value,t);else{if(!l(f))throw new TypeError("Invalid method: must be a function or one of "+g.join(", "));r[c]=v[f](r,n,e.value)}})})})},function(t,e,n){var r=n(665),i=n(210);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){function r(t,e){e=i({},v,e);var n=t.rows,r=e.groupBy,a=g(e);if(!s(a))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var l=e.as||[];u(l)&&(l=[l]);var c=e.operations;u(c)&&(c=[c]);var h=[m];if(s(c)&&c.length||(console.warn('operations is not defined, will use [ "count" ] directly.'),l=c=h),1!==c.length||c[0]!==m){if(c.length!==a.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(l.length!==a.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var d=f(n,r),p=[];o(d,function(t){var e=t[0];c.forEach(function(n,r){e[l[r]]=y[n](t,a[r])}),p.push(e)}),t.rows=p}var i=n(4),a=n(229),o=n(12),s=n(3),u=n(9),l=n(11),c=n(668),h=n(27),f=n(19),d=n(2).registerTransform,p=n(125).STATISTICS_METHODS,g=n(7).getFields,v={as:[],fields:[],groupBy:[],operations:[]},m="count",y={count:function(t){return t.length},distinct:function(t,e){return c(t.map(function(t){return t[e]})).length}};p.forEach(function(t){y[t]=function(e,n){var r=e.map(function(t){return t[n]});return s(r)&&s(r[0])&&(r=a(r)),h[t](r)}}),y.average=y.mean,d("aggregate",r),d("summary",r),t.exports={VALID_AGGREGATES:l(y)}},function(t,e,n){var r=n(669);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(110),i=n(258),a=n(259),o=n(111),s=n(670),u=n(74);t.exports=function(t,e,n){var l=-1,c=i,h=t.length,f=!0,d=[],p=d;if(n)f=!1,c=a;else if(h>=200){var g=e?null:s(t);if(g)return u(g);f=!1,c=o,p=new r}else p=e?[]:d;t:for(;++l<h;){var v=t[l],m=e?e(v):v;if(v=n||0!==v?v:0,f&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue t;e&&p.push(m),d.push(v)}else c(p,m,n)||(p!==d&&p.push(m),d.push(v))}return d}},function(t,e,n){var r=n(198),i=n(671),a=n(74),o=r&&1/a(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=o},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(4),i=n(3),a=n(132),o=n(673),s=n(133),u=n(2).registerTransform,l=n(7).getFields,c=n(134).silverman,h={as:["x","y"],method:"linear",order:2,precision:2},f=["linear","exponential","logarithmic","power","polynomial"];u("regression",function(t,e){e=r({},h,e);var n=l(e);if(!i(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var u=n[0],d=n[1],p=e.method;if(-1===f.indexOf(p))throw new TypeError("invalid method: "+p+". Must be one of "+f.join(", "));var g=t.rows.map(function(t){return[t[u],t[d]]}),v=o[p](g,e),m=e.extent;i(m)&&2===m.length||(m=t.range(u));var y=e.bandwidth;(!a(y)||y<=0)&&(y=c(t.getColumn(u)));var x=s(m,y),b=[],_=e.as,w=_[0],S=_[1];x.forEach(function(t){var e={},n=v.predict(t),r=n[1];e[w]=n[0],e[S]=r,isFinite(r)&&b.push(e)}),t.rows=b}),t.exports={REGRESSION_METHODS:f}},function(t,e,n){var r,i;void 0!==(i="function"==typeof(r=function(t){"use strict";function e(t,e){var n=[],r=[];t.forEach(function(t,i){null!==t[1]&&(r.push(t),n.push(e[i]))});var i=r.reduce(function(t,e){return t+e[1]},0)/r.length,a=r.reduce(function(t,e){var n=e[1]-i;return t+n*n},0);return 1-r.reduce(function(t,e,r){var i=e[1]-n[r][1];return t+i*i},0)/a}function n(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i={order:2,precision:2,period:null},a={linear:function(t,r){for(var i=[0,0,0,0,0],a=0,o=0;o<t.length;o++)null!==t[o][1]&&(a++,i[0]+=t[o][0],i[1]+=t[o][1],i[2]+=t[o][0]*t[o][0],i[3]+=t[o][0]*t[o][1],i[4]+=t[o][1]*t[o][1]);var s=a*i[2]-i[0]*i[0],u=0===s?0:n((a*i[3]-i[0]*i[1])/s,r.precision),l=n(i[1]/a-u*i[0]/a,r.precision),c=function(t){return[n(t,r.precision),n(u*t+l,r.precision)]},h=t.map(function(t){return c(t[0])});return{points:h,predict:c,equation:[u,l],r2:n(e(t,h),r.precision),string:0===l?"y = "+u+"x":"y = "+u+"x + "+l}},exponential:function(t,r){for(var i=[0,0,0,0,0,0],a=0;a<t.length;a++)null!==t[a][1]&&(i[0]+=t[a][0],i[1]+=t[a][1],i[2]+=t[a][0]*t[a][0]*t[a][1],i[3]+=t[a][1]*Math.log(t[a][1]),i[4]+=t[a][0]*t[a][1]*Math.log(t[a][1]),i[5]+=t[a][0]*t[a][1]);var o=i[1]*i[2]-i[5]*i[5],s=Math.exp((i[2]*i[3]-i[5]*i[4])/o),u=(i[1]*i[4]-i[5]*i[3])/o,l=n(s,r.precision),c=n(u,r.precision),h=function(t){return[n(t,r.precision),n(l*Math.exp(c*t),r.precision)]},f=t.map(function(t){return h(t[0])});return{points:f,predict:h,equation:[l,c],string:"y = "+l+"e^("+c+"x)",r2:n(e(t,f),r.precision)}},logarithmic:function(t,r){for(var i=[0,0,0,0],a=t.length,o=0;o<a;o++)null!==t[o][1]&&(i[0]+=Math.log(t[o][0]),i[1]+=t[o][1]*Math.log(t[o][0]),i[2]+=t[o][1],i[3]+=Math.pow(Math.log(t[o][0]),2));var s=n((a*i[1]-i[2]*i[0])/(a*i[3]-i[0]*i[0]),r.precision),u=n((i[2]-s*i[0])/a,r.precision),l=function(t){return[n(t,r.precision),n(n(u+s*Math.log(t),r.precision),r.precision)]},c=t.map(function(t){return l(t[0])});return{points:c,predict:l,equation:[u,s],string:"y = "+u+" + "+s+" ln(x)",r2:n(e(t,c),r.precision)}},power:function(t,r){for(var i=[0,0,0,0,0],a=t.length,o=0;o<a;o++)null!==t[o][1]&&(i[0]+=Math.log(t[o][0]),i[1]+=Math.log(t[o][1])*Math.log(t[o][0]),i[2]+=Math.log(t[o][1]),i[3]+=Math.pow(Math.log(t[o][0]),2));var s=(a*i[1]-i[0]*i[2])/(a*i[3]-Math.pow(i[0],2)),u=n(Math.exp((i[2]-s*i[0])/a),r.precision),l=n(s,r.precision),c=function(t){return[n(t,r.precision),n(n(u*Math.pow(t,l),r.precision),r.precision)]},h=t.map(function(t){return c(t[0])});return{points:h,predict:c,equation:[u,l],string:"y = "+u+"x^"+l,r2:n(e(t,h),r.precision)}},polynomial:function(t,r){for(var i=[],a=[],o=0,s=0,u=t.length,l=r.order+1,c=0;c<l;c++){for(var h=0;h<u;h++)null!==t[h][1]&&(o+=Math.pow(t[h][0],c)*t[h][1]);i.push(o),o=0;for(var f=[],d=0;d<l;d++){for(var p=0;p<u;p++)null!==t[p][1]&&(s+=Math.pow(t[p][0],c+d));f.push(s),s=0}a.push(f)}a.push(i);for(var g=function(t,e){for(var n=t,r=t.length-1,i=[e],a=0;a<r;a++){for(var o=a,s=a+1;s<r;s++)Math.abs(n[a][s])>Math.abs(n[a][o])&&(o=s);for(var u=a;u<r+1;u++){var l=n[u][a];n[u][a]=n[u][o],n[u][o]=l}for(var c=a+1;c<r;c++)for(var h=r;h>=a;h--)n[h][c]-=n[h][a]*n[a][c]/n[a][a]}for(var f=r-1;f>=0;f--){for(var d=0,p=f+1;p<r;p++)d+=n[p][f]*i[p];i[f]=(n[r][f]-d)/n[f][f]}return i}(a,l).map(function(t){return n(t,r.precision)}),v=function(t){return[n(t,r.precision),n(g.reduce(function(e,n,r){return e+n*Math.pow(t,r)},0),r.precision)]},m=t.map(function(t){return v(t[0])}),y="y = ",x=g.length-1;x>=0;x--)y+=x>1?g[x]+"x^"+x+" + ":1===x?g[x]+"x + ":g[x];return{string:y,points:m,predict:v,equation:[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(g)).reverse(),r2:n(e(t,m),r.precision)}}};t.exports=Object.keys(a).reduce(function(t,e){return r({_round:n},t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,function(t,n){return a[e](t,r({},i,n))}))},{})})?r.apply(e,[t]):r)&&(t.exports=i)},function(t,e,n){function r(t,e,n,r){return Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))}function i(t,e,n){e/=2;var r=Math.floor((t-n)/e);return[e*(r+(1===Math.abs(r%2)?1:0))+n,e*(r+(1===Math.abs(r%2)?0:1))+n]}function a(t,e){e=o({},h,e);var n=c(e);if(!u(n)||2!==n.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var a=n[0],l=n[1],d=t.range(a),g=t.range(l),v=d[1]-d[0],m=g[1]-g[0],y=e.binWidth||[];if(2!==y.length){var x=e.bins,b=x[0],_=x[1];if(b<=0||_<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");y=[v/b,m/_]}var w=e.offset,S=w[0],M=w[1],O=3*y[0]/(f*y[1]),C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],a={},o=e[0],s=e[1],u=n[0],l=n[1];return t.forEach(function(t){var e=t[0],n=t[1],c=i(e,o,u),h=c[0],f=c[1],d=i(n,s,l),p=d[0],g=d[1],v=void 0,m=void 0,y=void 0;r(e,n,h,p)<r(e,n,f,g)?(v="x"+h+"y"+p,m=h,y=p):(v="x"+f+"y"+g,m=f,y=g),a[v]=a[v]||{x:m,y:y,count:0},a[v].count++}),a}(t.rows.map(function(t){return[t[a],O*t[l]]}),[y[0],O*y[1]],[S,O*M]),A=e.as,I=A[0],T=A[1],E=A[2];if(!I||!T||!E)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var j=y[0]/f,P=p.map(function(t){return[Math.sin(t)*j,-Math.cos(t)*j]}),k=[],D=0;e.sizeByCount&&s(C,function(t){t.count>D&&(D=t.count)}),s(C,function(t){var n=t.x,r=t.y,i={};i[E]=t.count,e.sizeByCount?(i[I]=P.map(function(e){return n+t.count/D*e[0]}),i[T]=P.map(function(e){return(r+t.count/D*e[1])/O})):(i[I]=P.map(function(t){return n+t[0]}),i[T]=P.map(function(t){return(r+t[1])/O})),k.push(i)}),t.rows=k}var o=n(4),s=n(12),u=n(3),l=n(2).registerTransform,c=n(7).getFields,h={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},f=Math.sqrt(3),d=Math.PI/3,p=[0,d,2*d,3*d,4*d,5*d];l("bin.hexagon",a),l("bin.hex",a),l("hexbin",a)},function(t,e,n){function r(t,e){e=i({},c,e);var n=l(e);if(0!==t.rows.length){var r=t.range(n),u=r[1]-r[0],h=e.binWidth;if(!h){var f=e.bins;if(f<=0)throw new TypeError("Invalid bins: it must be a positive number!");h=u/f}var d=e.offset%h,p=[],g=e.groupBy,v=s(t.rows,g);a(v,function(t){var r={};t.map(function(t){return t[n]}).forEach(function(t){var e=function(t,e,n){var r=Math.floor((t-n)/e);return[r*e+n,(r+1)*e+n]}(t,h,d),n=e[0],i=e[1],a=n+"-"+i;r[a]=r[a]||{x0:n,x1:i,count:0},r[a].count++});var s=e.as,u=s[0],l=s[1];if(!u||!l)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var c=o(t[0],g);a(r,function(t){var e=i({},c);e[u]=[t.x0,t.x1],e[l]=t.count,p.push(e)})}),t.rows=p}}var i=n(4),a=n(12),o=n(52),s=n(19),u=n(2).registerTransform,l=n(7).getField,c={as:["x","count"],bins:30,offset:0,groupBy:[]};u("bin.histogram",r),u("bin.dot",r)},function(t,e,n){var r=n(4),i=n(12),a=n(3),o=n(9),s=n(27).quantile,u=n(19),l=n(246),c=n(2).registerTransform,h=n(7).getField,f={as:"_bin",groupBy:[],fraction:4};c("bin.quantile",function(t,e){e=r({},f,e);var n=h(e),c=e.as;if(!o(c))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var d=e.p,p=e.fraction;a(d)&&0!==d.length||(d=l(p));var g=u(t.rows,e.groupBy),v=[];i(g,function(t){var e=t[0],r=t.map(function(t){return t[n]}),i=d.map(function(t){return s(r,t)});e[c]=i,v.push(e)}),t.rows=v})},function(t,e,n){function r(t,e,n){var r=Math.floor((t-n)/e);return[r*e+n,(r+1)*e+n]}function i(t,e){e=a({},l,e);var n=u(e),i=n[0],s=n[1];if(!i||!s)throw new TypeError("Invalid fields: must be an array with 2 strings!");var c=t.range(i),h=t.range(s),f=c[1]-c[0],d=h[1]-h[0],p=e.binWidth||[];if(2!==p.length){var g=e.bins,v=g[0],m=g[1];if(v<=0||m<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");p=[f/v,d/m]}var y=t.rows.map(function(t){return[t[i],t[s]]}),x={},b=e.offset,_=b[0],w=b[1];y.forEach(function(t){var e=r(t[0],p[0],_),n=e[0],i=e[1],a=r(t[1],p[1],w),o=a[0],s=a[1],u=n+"-"+i+"-"+o+"-"+s;x[u]=x[u]||{x0:n,x1:i,y0:o,y1:s,count:0},x[u].count++});var S=[],M=e.as,O=M[0],C=M[1],A=M[2];if(!O||!C||!A)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(e.sizeByCount){var I=0;o(x,function(t){t.count>I&&(I=t.count)}),o(x,function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1,a=t.count,o=a/I,s=(e+n)/2,u=(r+i)/2,l=(n-e)*o/2,c=(i-r)*o/2,h=s-l,f=s+l,d=u-c,p=u+c,g={};g[O]=[h,f,f,h],g[C]=[d,d,p,p],g[A]=a,S.push(g)})}else o(x,function(t){var e={};e[O]=[t.x0,t.x1,t.x1,t.x0],e[C]=[t.y0,t.y0,t.y1,t.y1],e[A]=t.count,S.push(e)});t.rows=S}var a=n(4),o=n(12),s=n(2).registerTransform,u=n(7).getFields,l={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};s("bin.rectangle",i),s("bin.rect",i)},function(t,e,n){var r=n(4),i=n(3),a=n(9),o=n(2).registerTransform,s=n(7).getField,u={as:["_centroid_x","_centroid_y"]};o("geo.centroid",function(t,e){e=r({},u,e);var n=s(e),o=e.geoView||e.geoDataView;if(a(o)&&(o=t.dataSet.getView(o)),!o||"geo"!==o.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var l=e.as;if(!i(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var c=l[0],h=l[1];t.rows.forEach(function(t){var e=o.geoFeatureByName(t[n]);e&&(o._projectedAs?(t[c]=e[o._projectedAs[2]],t[h]=e[o._projectedAs[3]]):(t[c]=e.centroidX,t[h]=e.centroidY))})})},function(t,e,n){var r=n(4),i=n(0),a=n(249),o=n(3),s=n(2).registerTransform,u=n(214),l=i.geoPath,c={as:["_x","_y","_centroid_x","_centroid_y"]};s("geo.projection",function(t,e){if("geo"!==t.dataType&&"geo-graticule"!==t.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");var n=(e=r({},c,e)).projection;if(!n)throw new TypeError("Invalid projection!");n=u(n);var i=l(n),s=e.as;if(!o(s)||4!==s.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');t._projectedAs=s;var h=s[0],f=s[1],d=s[2],p=s[3];t.rows.forEach(function(t){t[h]=[],t[f]=[];var e=i(t);if(e){a(e)._path.forEach(function(e){t[h].push(e[1]),t[f].push(e[2])});var n=i.centroid(t);t[d]=n[0],t[p]=n[1]}}),t.rows=t.rows.filter(function(t){return 0!==t[h].length})})},function(t,e,n){var r=n(4),i=n(3),a=n(9),o=n(2).registerTransform,s=n(7).getField,u={as:["_x","_y"]};o("geo.region",function(t,e){e=r({},u,e);var n=s(e),o=e.geoView||e.geoDataView;if(a(o)&&(o=t.dataSet.getView(o)),!o||"geo"!==o.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var l=e.as;if(!i(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var c=l[0],h=l[1];t.rows.forEach(function(t){var e=o.geoFeatureByName(t[n]);e&&(o._projectedAs?(t[c]=e[o._projectedAs[0]],t[h]=e[o._projectedAs[1]]):(t[c]=e.longitude,t[h]=e.latitude))})})},function(t,e,n){function r(t,e){e=i({},c,e);var n={},r=t.nodes,l=t.edges;o(r)&&0!==r.length||(r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.forEach(function(t){var r=e.edgeSource(t),i=e.edgeTarget(t);n[r]||(n[r]={id:r}),n[i]||(n[i]={id:i})}),s(n)}(l,e,n)),r.forEach(function(t){var r=e.id(t);n[r]=t}),function(t,e,n){a(t,function(t,r){t.inEdges=e.filter(function(t){return""+n.target(t)==""+r}),t.outEdges=e.filter(function(t){return""+n.source(t)==""+r}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(e){t.value+=n.targetWeight(e)}),t.outEdges.forEach(function(e){t.value+=n.sourceWeight(e)})})}(n,l,e),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return(""+e.id(t)).localeCompare(""+e.id(n))}}[e.sortBy];!n&&u(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}(r,e),function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.marginRatio;if(r<0||r>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=r/(2*n),a=e.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;t.forEach(function(t){o+=t.value}),t.forEach(function(t){t.weight=t.value/o,t.width=t.weight*(1-r),t.height=a}),t.forEach(function(n,r){for(var o=0,s=r-1;s>=0;s--)o+=t[s].width+2*i;var u=n.minX=i+o,l=n.maxX=n.minX+n.width,c=n.minY=e.y-a/2,h=n.maxY=c+a;n.x=[u,l,l,u],n.y=[c,c,h,h]})}else{var s=1/n;t.forEach(function(t,n){t.x=(n+.5)*s,t.y=e.y})}}(r,e),function(t,e,n){if(n.weight){var r={};a(t,function(t,e){r[e]=t.value}),e.forEach(function(e){var i=n.source(e),a=n.target(e),o=t[i],s=t[a];if(o&&s){var u=r[i],l=n.sourceWeight(e),c=o.minX+(o.value-u)/o.value*o.width,h=c+l/o.value*o.width;r[i]-=l;var f=r[a],d=n.targetWeight(e),p=s.minX+(s.value-f)/s.value*s.width,g=p+d/s.value*s.width;r[a]-=d;var v=n.y;e.x=[c,h,p,g],e.y=[v,v,v,v]}})}else e.forEach(function(e){var r=t[n.source(e)],i=t[n.target(e)];r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y])})}(n,l,e),t.nodes=r,t.edges=l}var i=n(4),a=n(12),o=n(3),s=n(119),u=n(13),l=n(2).registerTransform,c={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};l("diagram.arc",r),l("arc",r)},function(t,e,n){function r(t,e){e=i({},s,e);var n=new a.graphlib.Graph;n.setGraph({}),n.setDefaultEdgeLabel(function(){return{}}),t.nodes.forEach(function(t){var r=e.nodeId?e.nodeId(t):t.id;t.height||t.width||(t.height=t.width=e.edgesep),n.setNode(r,t)}),t.edges.forEach(function(t){n.setEdge(e.source(t),e.target(t))}),a.layout(n);var r=[],o=[];n.nodes().forEach(function(t){var e=n.node(t),i=e.x,a=e.y,o=e.height,s=e.width;e.x=[i-s/2,i+s/2,i+s/2,i-s/2],e.y=[a+o/2,a+o/2,a-o/2,a-o/2],r.push(e)}),n.edges().forEach(function(t){var e=n.edge(t).points,r={};r.x=e.map(function(t){return t.x}),r.y=e.map(function(t){return t.y}),o.push(r)}),t.nodes=r,t.edges=o}var i=n(4),a=n(683),o=n(2).registerTransform,s={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(t){return t.source},target:function(t){return t.target}};o("diagram.dagre",r),o("dagre",r)},function(t,e,n){t.exports={graphlib:n(17),layout:n(697),debug:n(719),util:{time:n(10).time,notime:n(10).notime},version:n(720)}},function(t,e,n){var r=n(685);t.exports={Graph:r.Graph,json:n(687),alg:n(688),version:r.version}},function(t,e,n){t.exports={Graph:n(135),version:n(686)}},function(t,e){t.exports="2.1.5"},function(t,e,n){var r=n(14),i=n(135);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return r.map(t.nodes(),function(e){var n=t.node(e),i=t.parent(e),a={v:e};return r.isUndefined(n)||(a.value=n),r.isUndefined(i)||(a.parent=i),a})}(t),edges:function(t){return r.map(t.edges(),function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i})}(t)};return r.isUndefined(t.graph())||(e.value=r.clone(t.graph())),e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),r.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(689),dijkstra:n(263),dijkstraAll:n(690),findCycles:n(691),floydWarshall:n(692),isAcyclic:n(693),postorder:n(694),preorder:n(695),prim:n(696),tarjan:n(265),topsort:n(266)}},function(t,e,n){var r=n(14);t.exports=function(t){function e(a){r.has(i,a)||(i[a]=!0,n.push(a),r.each(t.successors(a),e),r.each(t.predecessors(a),e))}var n,i={},a=[];return r.each(t.nodes(),function(t){n=[],e(t),n.length&&a.push(n)}),a}},function(t,e,n){var r=n(263),i=n(14);t.exports=function(t,e,n){return i.transform(t.nodes(),function(i,a){i[a]=r(t,a,e,n)},{})}},function(t,e,n){var r=n(14),i=n(265);t.exports=function(t){return r.filter(i(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},function(t,e,n){var r=n(14);t.exports=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,a=e(n);r[t][i]={distance:a,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var a=r[n];i.forEach(function(n){var r=e[n],i=a[n],o=a[t].distance+r.distance;o<i.distance&&(i.distance=o,i.predecessor=r.predecessor)})})}),r}(t,e||i,n||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(266);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(267);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(267);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(14),i=n(135),a=n(264);t.exports=function(t,e){function n(t){var n=t.v===o?t.w:t.v,r=l.priority(n);if(void 0!==r){var i=e(t);i<r&&(u[n]=o,l.decrease(n,i))}}var o,s=new i,u={},l=new a;if(0===t.nodeCount())return s;r.each(t.nodes(),function(t){l.add(t,Number.POSITIVE_INFINITY),s.setNode(t)}),l.decrease(t.nodes()[0],0);for(var c=!1;l.size()>0;){if(o=l.removeMin(),r.has(u,o))s.setEdge(o,u[o]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(o).forEach(n)}return s}},function(t,e,n){"use strict";function r(t,e){return a.mapValues(a.pick(t,e),Number)}function i(t){var e={};return a.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}var a=n(8),o=n(698),s=n(701),u=n(702),l=n(10).normalizeRanks,c=n(704),h=n(10).removeEmptyRanks,f=n(705),d=n(706),p=n(707),g=n(708),v=n(717),m=n(10),y=n(17).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?m.time:m.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new y({multigraph:!0,compound:!0}),n=i(t.graph());return e.setGraph(a.merge({},b,r(n,x),a.pick(n,_))),a.forEach(t.nodes(),function(n){var o=i(t.node(n));e.setNode(n,a.defaults(r(o,w),S)),e.setParent(n,t.parent(n))}),a.forEach(t.edges(),function(n){var o=i(t.edge(n));e.setEdge(n,a.merge({},O,r(o,M),a.pick(o,C)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,a.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){a.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){o.run(t)}),e("    nestingGraph.run",function(){f.run(t)}),e("    rank",function(){u(m.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){a.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};m.addDummyNode(t,"edge-proxy",i,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){h(t)}),e("    nestingGraph.cleanup",function(){f.cleanup(t)}),e("    normalizeRanks",function(){l(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;a.forEach(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=a.max(e,r.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){a.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){s.run(t)}),e("    parentDummyChains",function(){c(t)}),e("    addBorderSegments",function(){d(t)}),e("    order",function(){g(t)}),e("    insertSelfEdges",function(){!function(t){var e=m.buildLayerMatrix(t);a.forEach(e,function(e){var n=0;a.forEach(e,function(e,r){var i=t.node(e);i.order=r+n,a.forEach(i.selfEdges,function(e){m.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){p.adjust(t)}),e("    position",function(){v(t)}),e("    positionSelfEdges",function(){!function(t){a.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,a=r.y,o=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){a.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(a.last(n.borderLeft)),s=t.node(a.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),a.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){s.undo(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){a.forEach(t.edges(),function(e){var n=t.edge(e);if(a.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){p.undo(t)}),e("    translateGraph",function(){!function(t){function e(t){var e=t.x,a=t.y,s=t.width,u=t.height;n=Math.min(n,e-s/2),r=Math.max(r,e+s/2),i=Math.min(i,a-u/2),o=Math.max(o,a+u/2)}var n=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,o=0,s=t.graph(),u=s.marginx||0,l=s.marginy||0;a.forEach(t.nodes(),function(n){e(t.node(n))}),a.forEach(t.edges(),function(n){var r=t.edge(n);a.has(r,"x")&&e(r)}),n-=u,i-=l,a.forEach(t.nodes(),function(e){var r=t.node(e);r.x-=n,r.y-=i}),a.forEach(t.edges(),function(e){var r=t.edge(e);a.forEach(r.points,function(t){t.x-=n,t.y-=i}),a.has(r,"x")&&(r.x-=n),a.has(r,"y")&&(r.y-=i)}),s.width=r-n+u,s.height=o-i+l}(t)}),e("    assignNodeIntersects",function(){!function(t){a.forEach(t.edges(),function(e){var n,r,i=t.edge(e),a=t.node(e.v),o=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=o,r=a),i.points.unshift(m.intersectRect(a,n)),i.points.push(m.intersectRect(o,r))})}(t)}),e("    reversePoints",function(){!function(t){a.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){o.undo(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){a.forEach(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),a.forEach(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,a.has(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})};var x=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],w=["width","height"],S={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"]},function(t,e,n){"use strict";var r=n(8),i=n(699);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},i={};return r.forEach(t.nodes(),function a(o){r.has(i,o)||(i[o]=!0,n[o]=!0,r.forEach(t.outEdges(o),function(t){r.has(n,t.w)?e.push(t):a(t.w)}),delete n[o])}),e}(t);r.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))})},undo:function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}}},function(t,e,n){function r(t,e,n,r,o){var s=o?[]:void 0;return a.forEach(t.inEdges(r.v),function(r){var a=t.edge(r),u=t.node(r.v);o&&s.push({v:r.v,w:r.w}),u.out-=a,i(e,n,u)}),a.forEach(t.outEdges(r.v),function(r){var a=t.edge(r),o=t.node(r.w);o.in-=a,i(e,n,o)}),t.removeNode(r.v),s}function i(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var a=n(8),o=n(17).Graph,s=n(700);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,r=0,u=0;a.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),a.forEach(t.edges(),function(t){var i=n.edge(t.v,t.w)||0,a=e(t);n.setEdge(t.v,t.w,i+a),u=Math.max(u,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)});var l=a.range(u+r+3).map(function(){return new s}),c=r+1;return a.forEach(n.nodes(),function(t){i(l,c,n.node(t))}),{graph:n,buckets:l,zeroIdx:c}}(t,e||u),l=function(t,e,n){for(var i,a=[],o=e[e.length-1],s=e[0];t.nodeCount();){for(;i=s.dequeue();)r(t,e,n,i);for(;i=o.dequeue();)r(t,e,n,i);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(i=e[u].dequeue()){a=a.concat(r(t,e,n,i,!0));break}}return a}(n.graph,n.buckets,n.zeroIdx);return a.flatten(a.map(l,function(e){return t.outEdges(e.v,e.w)}),!0)};var u=a.constant(1)},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,i)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(8),i=n(10);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),function(e){!function(t,e){var n=e.v,r=t.node(n).rank,a=e.w,o=t.node(a).rank,s=e.name,u=t.edge(e),l=u.labelRank;if(o!==r+1){var c,h,f;for(t.removeEdge(e),f=0,++r;r<o;++f,++r)u.points=[],c=i.addDummyNode(t,"edge",h={width:0,height:0,edgeLabel:u,edgeObj:e,rank:r},"_d"),r===l&&(h.width=u.width,h.height=u.height,h.dummy="edge-label",h.labelpos=u.labelpos),t.setEdge(n,c,{weight:u.weight},s),0===f&&t.graph().dummyChains.push(c),n=c;t.setEdge(n,a,{weight:u.weight},s)}}(t,e)})},undo:function(t){r.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),r=t.node(e=n)})}}},function(t,e,n){"use strict";function r(t){o(t)}var i=n(80).longestPath,a=n(268),o=n(703);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":r(t);break;case"tight-tree":!function(t){i(t),a(t)}(t);break;case"longest-path":s(t);break;default:r(t)}};var s=i},function(t,e,n){"use strict";function r(t){t=m(t),p(t);var e,n=f(t);for(o(n),i(n,t);e=s(n);)l(n,t,e,u(n,t,e))}function i(t,e){var n=v(t,t.nodes());n=n.slice(0,n.length-1),h.forEach(n,function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=a(t,e,n)}(t,e,n)})}function a(t,e,n){var r=t.node(n).parent,i=!0,a=e.edge(n,r),o=0;return a||(i=!1,a=e.edge(r,n)),o=a.weight,h.forEach(e.nodeEdges(n),function(a){var s=a.v===n,u=s?a.w:a.v;if(u!==r){var l=s===i,c=e.edge(a).weight;if(o+=l?c:-c,function(t,e,n){return t.hasEdge(e,u)}(t,n)){var h=t.edge(n,u).cutvalue;o+=l?-h:h}}}),o}function o(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,i,a){var o=r,s=e.node(i);return n[i]=!0,h.forEach(e.neighbors(i),function(a){h.has(n,a)||(r=t(e,n,r,a,i))}),s.low=o,s.lim=r++,a?s.parent=a:delete s.parent,r}(t,{},1,e)}function s(t){return h.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function u(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var a=t.node(r),o=t.node(i),s=a,u=!1;a.lim>o.lim&&(s=o,u=!0);var l=h.filter(e.edges(),function(e){return u===c(0,t.node(e.v),s)&&u!==c(0,t.node(e.w),s)});return h.minBy(l,function(t){return d(e,t)})}function l(t,e,n,r){t.removeEdge(n.v,n.w),t.setEdge(r.v,r.w,{}),o(t),i(t,e),function(t,e){var n=h.find(t.nodes(),function(t){return!e.node(t).parent}),r=g(t,n);r=r.slice(1),h.forEach(r,function(n){var r=t.node(n).parent,i=e.edge(n,r),a=!1;i||(i=e.edge(r,n),a=!0),e.node(n).rank=e.node(r).rank+(a?i.minlen:-i.minlen)})}(t,e)}function c(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var h=n(8),f=n(268),d=n(80).slack,p=n(80).longestPath,g=n(17).alg.preorder,v=n(17).alg.postorder,m=n(10).simplify;t.exports=r,r.initLowLimValues=o,r.initCutValues=i,r.calcCutValue=a,r.leaveEdge=s,r.enterEdge=u,r.exchangeEdges=l},function(t,e,n){var r=n(8);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),function i(a){var o=n;r.forEach(t.children(a),i),e[a]={low:o,lim:n++}}),e}(t);r.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,a=function(t,e,n,r){var i,a,o=[],s=[],u=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),o.push(i)}while(i&&(e[i].low>u||l>e[i].lim));for(a=i,i=r;(i=t.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}(t,e,i.v,i.w),o=a.path,s=a.lca,u=0,l=o[u],c=!0;n!==i.w;){if(r=t.node(n),c){for(;(l=o[u])!==s&&t.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<o.length-1&&t.node(l=o[u+1]).minRank<=r.rank;)u++;l=o[u]}t.setParent(n,l),n=t.successors(n)[0]}})}},function(t,e,n){function r(t,e,n,o,s,u,l){var c=t.children(l);if(c.length){var h=a.addBorderNode(t,"_bt"),f=a.addBorderNode(t,"_bb"),d=t.node(l);t.setParent(h,l),d.borderTop=h,t.setParent(f,l),d.borderBottom=f,i.forEach(c,function(i){r(t,e,n,o,s,u,i);var a=t.node(i),c=a.borderTop?a.borderTop:i,d=a.borderBottom?a.borderBottom:i,p=a.borderTop?o:2*o,g=c!==d?1:s-u[l]+1;t.setEdge(h,c,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(d,f,{weight:p,minlen:g,nestingEdge:!0})}),t.parent(l)||t.setEdge(e,h,{weight:0,minlen:s+u[l]})}else l!==e&&t.setEdge(e,l,{weight:0,minlen:n})}var i=n(8),a=n(10);t.exports={run:function(t){var e=a.addDummyNode(t,"root",{},"_root"),n=function(t){function e(r,a){var o=t.children(r);o&&o.length&&i.forEach(o,function(t){e(t,a+1)}),n[r]=a}var n={};return i.forEach(t.children(),function(t){e(t,1)}),n}(t),o=i.max(i.values(n))-1,s=2*o+1;t.graph().nestingRoot=e,i.forEach(t.edges(),function(e){t.edge(e).minlen*=s});var u=function(t){return i.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;i.forEach(t.children(),function(i){r(t,e,s,u,o,n,i)}),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,i.forEach(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})}}},function(t,e,n){function r(t,e,n,r,i,o){var s=i[e][o-1],u=a.addDummyNode(t,"border",{width:0,height:0,rank:o,borderType:e},n);i[e][o]=u,t.setParent(u,r),s&&t.setEdge(s,u,{weight:1})}var i=n(8),a=n(10);t.exports=function(t){i.forEach(t.children(),function e(n){var a=t.children(n),o=t.node(n);if(a.length&&i.forEach(a,e),i.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var s=o.minRank,u=o.maxRank+1;s<u;++s)r(t,"borderLeft","_bl",n,o,s),r(t,"borderRight","_br",n,o,s)}})}},function(t,e,n){"use strict";function r(t){s.forEach(t.nodes(),function(e){i(t.node(e))}),s.forEach(t.edges(),function(e){i(t.edge(e))})}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function o(t){var e=t.x;t.x=t.y,t.y=e}var s=n(8);t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||r(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){s.forEach(t.nodes(),function(e){a(t.node(e))}),s.forEach(t.edges(),function(e){var n=t.edge(e);s.forEach(n.points,a),s.has(n,"y")&&a(n)})}(t),"lr"!==e&&"rl"!==e||(function(t){s.forEach(t.nodes(),function(e){o(t.node(e))}),s.forEach(t.edges(),function(e){var n=t.edge(e);s.forEach(n.points,o),s.has(n,"x")&&o(n)})}(t),r(t))}}},function(t,e,n){"use strict";function r(t,e,n){return a.map(e,function(e){return l(t,e,n)})}function i(t,e){a.forEach(e,function(e){a.forEach(e,function(e,n){t.node(e).order=n})})}var a=n(8),o=n(709),s=n(710),u=n(711),l=n(715),c=n(716),h=n(17).Graph,f=n(10);t.exports=function(t){var e=f.maxRank(t),n=r(t,a.range(1,e+1),"inEdges"),l=r(t,a.range(e-1,-1,-1),"outEdges"),d=o(t);i(t,d);for(var p,g=Number.POSITIVE_INFINITY,v=0,m=0;m<4;++v,++m){!function(t,e){var n=new h;a.forEach(t,function(t){var r=t.graph().root,i=u(t,r,n,e);a.forEach(i.vs,function(e,n){t.node(e).order=n}),c(t,n,i.vs)})}(v%2?n:l,v%4>=2),d=f.buildLayerMatrix(t);var y=s(t,d);y<g&&(m=0,p=a.cloneDeep(d),g=y)}i(t,p)}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t){var e={},n=r.filter(t.nodes(),function(e){return!t.children(e).length}),i=r.max(r.map(n,function(e){return t.node(e).rank})),a=r.map(r.range(i+1),function(){return[]}),o=r.sortBy(n,function(e){return t.node(e).rank});return r.forEach(o,function n(i){if(!r.has(e,i)){e[i]=!0;var o=t.node(i);a[o.rank].push(i),r.forEach(t.successors(i),n)}}),a}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){for(var n=0,i=1;i<e.length;++i)n+=function(t,e,n){for(var i=r.zipObject(n,r.map(n,function(t,e){return e})),a=r.flatten(r.map(e,function(e){return r.chain(t.outEdges(e)).map(function(e){return{pos:i[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var u=r.map(new Array(s),function(){return 0}),l=0;return r.forEach(a.forEach(function(t){var e=t.pos+o;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;l+=t.weight*n})),l}(t,e[i-1],e[i]);return n}},function(t,e,n){var r=n(8),i=n(712),a=n(713),o=n(714);t.exports=function t(e,n,s,u){var l=e.children(n),c=e.node(n),h=c?c.borderLeft:void 0,f=c?c.borderRight:void 0,d={};h&&(l=r.filter(l,function(t){return t!==h&&t!==f}));var p=i(e,l);r.forEach(p,function(n){if(e.children(n.v).length){var i=t(e,n.v,s,u);d[n.v]=i,r.has(i,"barycenter")&&function(t,e){r.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}(n,i)}});var g=a(p,s);!function(t,e){r.forEach(g,function(t){t.vs=r.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(0,d);var v=o(g,u);if(h&&(v.vs=r.flatten([h,v.vs,f],!0),e.predecessors(h).length)){var m=e.node(e.predecessors(h)[0]),y=e.node(e.predecessors(f)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+m.order+y.order)/(v.weight+2),v.weight+=2}return v}},function(t,e,n){var r=n(8);t.exports=function(t,e){return r.map(e,function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}})}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){var n={};return r.forEach(t,function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)}),r.forEach(e.edges(),function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))}),function(t){function e(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function n(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(var i=[];t.length;){var a=t.pop();i.push(a),r.forEach(a.in.reverse(),e(a)),r.forEach(a.out,n(a))}return r.chain(i).filter(function(t){return!t.merged}).map(function(t){return r.pick(t,["vs","i","barycenter","weight"])}).value()}(r.filter(n,function(t){return!t.indegree}))}},function(t,e,n){function r(t,e,n){for(var r;e.length&&(r=i.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}var i=n(8),a=n(10);t.exports=function(t,e){var n=a.partition(t,function(t){return i.has(t,"barycenter")}),o=n.lhs,s=i.sortBy(n.rhs,function(t){return-t.i}),u=[],l=0,c=0,h=0;o.sort(function(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}(!!e)),h=r(u,s,h),i.forEach(o,function(t){h+=t.vs.length,u.push(t.vs),l+=t.barycenter*t.weight,c+=t.weight,h=r(u,s,h)});var f={vs:i.flatten(u,!0)};return c&&(f.barycenter=l/c,f.weight=c),f}},function(t,e,n){var r=n(8),i=n(17).Graph;t.exports=function(t,e,n){var a=function(t){for(var e;t.hasNode(e=r.uniqueId("_root")););return e}(t),o=new i({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(e){return t.node(e)});return r.forEach(t.nodes(),function(i){var s=t.node(i),u=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(o.setNode(i),o.setParent(i,u||a),r.forEach(t[n](i),function(e){var n=e.v===i?e.w:e.v,a=o.edge(n,i),s=r.isUndefined(a)?0:a.weight;o.setEdge(n,i,{weight:t.edge(e).weight+s})}),r.has(s,"minRank")&&o.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),o}},function(t,e,n){var r=n(8);t.exports=function(t,e,n){var i,a={};r.forEach(n,function(n){for(var r,o,s=t.parent(n);s;){if((r=t.parent(s))?(o=a[r],a[r]=s):(o=i,i=s),o&&o!==s)return void e.setEdge(o,s);s=r}})}},function(t,e,n){"use strict";var r=n(8),i=n(10),a=n(718).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,a=0;r.forEach(e,function(e){var i=r.max(r.map(e,function(e){return t.node(e).height}));r.forEach(e,function(e){t.node(e).y=a+i/2}),a+=i+n})})(t=i.asNonCompoundGraph(t)),r.forEach(a(t),function(e,n){t.node(n).x=e})}},function(t,e,n){"use strict";function r(t,e){var n={};return f.reduce(e,function(e,r){var i=0,o=0,s=e.length,u=f.last(r);return f.forEach(r,function(e,l){var c=function(t,e){if(t.node(e).dummy)return f.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),h=c?t.node(c).order:s;(c||e===u)&&(f.forEach(r.slice(o,l+1),function(e){f.forEach(t.predecessors(e),function(r){var o=t.node(r),s=o.order;!(s<i||h<s)||o.dummy&&t.node(e).dummy||a(n,r,e)})}),o=l+1,i=h)}),r}),n}function i(t,e){function n(e,n,i,o,s){var u;f.forEach(f.range(n,i),function(n){t.node(u=e[n]).dummy&&f.forEach(t.predecessors(u),function(e){var n=t.node(e);n.dummy&&(n.order<o||n.order>s)&&a(r,e,u)})})}var r={};return f.reduce(e,function(e,r){var i,a=-1,o=0;return f.forEach(r,function(s,u){if("border"===t.node(s).dummy){var l=t.predecessors(s);l.length&&(i=t.node(l[0]).order,n(r,o,u,a,i),o=u,a=i)}n(r,o,r.length,i,e.length)}),r}),r}function a(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function o(t,e,n){if(e>n){var r=e;e=n,n=r}return f.has(t[e],n)}function s(t,e,n,r){var i={},a={},s={};return f.forEach(e,function(t){f.forEach(t,function(t,e){i[t]=t,a[t]=t,s[t]=e})}),f.forEach(e,function(t){var e=-1;f.forEach(t,function(t){var u=r(t);if(u.length)for(var l=((u=f.sortBy(u,function(t){return s[t]})).length-1)/2,c=Math.floor(l),h=Math.ceil(l);c<=h;++c){var d=u[c];a[t]===t&&e<s[d]&&!o(n,t,d)&&(a[d]=t,a[t]=i[t]=i[d],e=s[d])}})}),{root:i,align:a}}function u(t,e,n,r,i){function a(t,e){for(var n=s.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}var o={},s=function(t,e,n,r){var i=new d,a=t.graph(),o=function(t,e,n){return function(r,i,a){var o,s=r.node(i),u=r.node(a),l=0;if(l+=s.width/2,f.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":o=-s.width/2;break;case"r":o=s.width/2}if(o&&(l+=n?o:-o),o=0,l+=(s.dummy?e:t)/2,l+=(u.dummy?e:t)/2,l+=u.width/2,f.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":o=u.width/2;break;case"r":o=-u.width/2}return o&&(l+=n?o:-o),o=0,l}}(a.nodesep,a.edgesep,r);return f.forEach(e,function(e){var r;f.forEach(e,function(e){var a=n[e];if(i.setNode(a),r){var s=n[r],u=i.edge(s,a);i.setEdge(s,a,Math.max(o(t,e,r),u||0))}r=e})}),i}(t,e,n,i),u=i?"borderLeft":"borderRight";return a(function(t){o[t]=s.inEdges(t).reduce(function(t,e){return Math.max(t,o[e.v]+s.edge(e))},0)},f.bind(s.predecessors,s)),a(function(e){var n=s.outEdges(e).reduce(function(t,e){return Math.min(t,o[e.w]-s.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(o[e]=Math.max(o[e],n))},f.bind(s.successors,s)),f.forEach(r,function(t){o[t]=o[n[t]]}),o}function l(t,e){return f.minBy(f.values(e),function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return f.forIn(e,function(e,i){var a=function(t,e){return t.node(i).width}(t)/2;n=Math.max(e+a,n),r=Math.min(e-a,r)}),n-r})}function c(t,e){var n=f.values(e),r=f.min(n),i=f.max(n);f.forEach(["u","d"],function(n){f.forEach(["l","r"],function(a){var o,s=n+a,u=t[s];if(u!==e){var l=f.values(u);(o="l"===a?r-f.min(l):i-f.max(l))&&(t[s]=f.mapValues(u,function(t){return t+o}))}})})}function h(t,e){return f.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=f.sortBy(f.map(t,r));return(i[1]+i[2])/2})}var f=n(8),d=n(17).Graph,p=n(10);t.exports={positionX:function(t){var e,n=p.buildLayerMatrix(t),a=f.merge(r(t,n),i(t,n)),o={};f.forEach(["u","d"],function(r){e="u"===r?n:f.values(n).reverse(),f.forEach(["l","r"],function(n){"r"===n&&(e=f.map(e,function(t){return f.values(t).reverse()}));var i=f.bind("u"===r?t.predecessors:t.successors,t),l=s(0,e,a,i),c=u(t,e,l.root,l.align,"r"===n);"r"===n&&(c=f.mapValues(c,function(t){return-t})),o[r+n]=c})});var d=l(t,o);return c(o,d),h(o,t.graph().align)},findType1Conflicts:r,findType2Conflicts:i,addConflict:a,hasConflict:o,verticalAlignment:s,horizontalCompaction:u,alignCoordinates:c,findSmallestWidthAlignment:l,balance:h}},function(t,e,n){var r=n(8),i=n(10),a=n(17).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new a({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),r.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),r.forEach(e,function(t,e){n.setNode("layer"+e,{rank:"same"}),r.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}}},function(t,e){t.exports="0.8.2"},function(t,e,n){function r(t,e){e=i({},g,e);var n=null;a(e.nodeAlign)?n=p[e.nodeAlign]:o(e.nodeAlign)&&(n=e.nodeAlign);var r=u().links(function(t){return t.edges}).nodeWidth(e.nodeWidth).nodePadding(e.nodePadding).extent([[0,0],[1,1]]);o(e.nodeId)&&r.nodeId(e.nodeId),n&&r.nodeAlign(n),r(t),t.nodes.forEach(function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;t.x=[e,n,n,e],t.y=[r,r,i,i]}),t.edges.forEach(function(t){var e=t.source.x1,n=t.target.x0;t.x=[e,e,n,n];var r=t.width/2;t.y=[t.y0+r,t.y0-r,t.y1+r,t.y1-r]})}var i=n(4),a=n(9),o=n(13),s=n(722),u=s.sankey,l=s.sankeyLeft,c=s.sankeyRight,h=s.sankeyCenter,f=s.sankeyJustify,d=n(2).registerTransform,p={sankeyLeft:l,sankeyRight:c,sankeyCenter:h,sankeyJustify:f},g={value:function(t){return t.value},source:function(t){return t.source},target:function(t){return t.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02};d("diagram.sankey",r),d("sankey",r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(723);n.d(e,"sankey",function(){return r.a});var i=n(269);n.d(e,"sankeyCenter",function(){return i.a}),n.d(e,"sankeyLeft",function(){return i.c}),n.d(e,"sankeyRight",function(){return i.d}),n.d(e,"sankeyJustify",function(){return i.b});var a=n(731);n.d(e,"sankeyLinkHorizontal",function(){return a.a})},function(t,e,n){"use strict";function r(t,e){return a(t.source,e.source)||t.index-e.index}function i(t,e){return a(t.target,e.target)||t.index-e.index}function a(t,e){return t.y0-e.y0}function o(t){return t.value}function s(t){return(t.y0+t.y1)/2}function u(t){return s(t.source)*t.value}function l(t){return s(t.target)*t.value}function c(t){return t.index}function h(t){return t.nodes}function f(t){return t.links}function d(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var p=n(16),g=n(724),v=n(269),m=n(730);e.a=function(){function t(){var t={nodes:O.apply(null,arguments),links:C.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=Object(g.a)(t.nodes,S);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=d(e,r)),"object"!=typeof i&&(i=t.target=d(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(t),function(t){t.nodes.forEach(function(t){t.value=Math.max(Object(p.sum)(t.sourceLinks,o),Object(p.sum)(t.targetLinks,o))})}(t),function(t){var e,r,i;for(e=t.nodes,r=[],i=0;e.length;++i,e=r,r=[])e.forEach(function(t){t.depth=i,t.sourceLinks.forEach(function(t){r.indexOf(t.target)<0&&r.push(t.target)})});for(e=t.nodes,r=[],i=0;e.length;++i,e=r,r=[])e.forEach(function(t){t.height=i,t.targetLinks.forEach(function(t){r.indexOf(t.source)<0&&r.push(t.source)})});var a=(x-n-_)/(i-1);t.nodes.forEach(function(t){t.x1=(t.x0=n+Math.max(0,Math.min(i-1,Math.floor(M.call(null,t,i))))*a)+_})}(t),function(t){function e(){n.forEach(function(t){var e,n,r,i=y,o=t.length;for(t.sort(a),r=0;r<o;++r)(n=i-(e=t[r]).y0)>0&&(e.y0+=n,e.y1+=n),i=e.y1+w;if((n=i-w-b)>0)for(i=e.y0-=n,e.y1-=n,r=o-2;r>=0;--r)(n=(e=t[r]).y1+w-i)>0&&(e.y0-=n,e.y1-=n),i=e.y0})}var n=Object(g.b)().key(function(t){return t.x0}).sortKeys(p.ascending).entries(t.nodes).map(function(t){return t.values});(function(){var e=Object(p.min)(n,function(t){return(b-y-(t.length-1)*w)/Object(p.sum)(t,o)});n.forEach(function(t){t.forEach(function(t,n){t.y1=(t.y0=n)+t.value*e})}),t.links.forEach(function(t){t.width=t.value*e})})(),e();for(var r=1,i=A;i>0;--i)!function(t){n.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var n=(Object(p.sum)(e.sourceLinks,l)/Object(p.sum)(e.sourceLinks,o)-s(e))*t;e.y0+=n,e.y1+=n}})})}(r*=.99),e(),function(t){n.forEach(function(e){e.forEach(function(e){if(e.targetLinks.length){var n=(Object(p.sum)(e.targetLinks,u)/Object(p.sum)(e.targetLinks,o)-s(e))*t;e.y0+=n,e.y1+=n}})})}(r),e()}(t),e(t),t}function e(t){t.nodes.forEach(function(t){t.sourceLinks.sort(i),t.targetLinks.sort(r)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}var n=0,y=0,x=1,b=1,_=24,w=8,S=c,M=v.b,O=h,C=f,A=32;return t.update=function(t){return e(t),t},t.nodeId=function(e){return arguments.length?(S="function"==typeof e?e:Object(m.a)(e),t):S},t.nodeAlign=function(e){return arguments.length?(M="function"==typeof e?e:Object(m.a)(e),t):M},t.nodeWidth=function(e){return arguments.length?(_=+e,t):_},t.nodePadding=function(e){return arguments.length?(w=+e,t):w},t.nodes=function(e){return arguments.length?(O="function"==typeof e?e:Object(m.a)(e),t):O},t.links=function(e){return arguments.length?(C="function"==typeof e?e:Object(m.a)(e),t):C},t.size=function(e){return arguments.length?(n=y=0,x=+e[0],b=+e[1],t):[x-n,b-y]},t.extent=function(e){return arguments.length?(n=+e[0][0],x=+e[1][0],y=+e[0][1],b=+e[1][1],t):[[n,y],[x,b]]},t.iterations=function(e){return arguments.length?(A=+e,t):A},t}},function(t,e,n){"use strict";var r=n(725);n.d(e,"b",function(){return r.a}),n(726);var i=n(136);n.d(e,"a",function(){return i.a}),n(727),n(728),n(729)},function(t,e,n){"use strict";function r(){return{}}function i(t,e,n){t[e]=n}function a(){return Object(s.a)()}function o(t,e,n){t.set(e,n)}var s=n(136);e.a=function(){function t(r,i,a,o){if(i>=l.length)return null!=e&&r.sort(e),null!=n?n(r):r;for(var u,c,h,f=-1,d=r.length,p=l[i++],g=Object(s.a)(),v=a();++f<d;)(h=g.get(u=p(c=r[f])+""))?h.push(c):g.set(u,[c]);return g.each(function(e,n){o(v,n,t(e,i,a,o))}),v}var e,n,u,l=[],c=[];return u={object:function(e){return t(e,0,r,i)},map:function(e){return t(e,0,a,o)},entries:function(e){return function t(e,r){if(++r>l.length)return e;var i,a=c[r-1];return null!=n&&r>=l.length?i=e.entries():(i=[],e.each(function(e,n){i.push({key:n,values:t(e,r)})})),null!=a?i.sort(function(t,e){return a(t.key,e.key)}):i}(t(e,0,a,o),0)},key:function(t){return l.push(t),u},sortKeys:function(t){return c[l.length-1]=t,u},sortValues:function(t){return e=t,u},rollup:function(t){return n=t,u}}}},function(t,e,n){"use strict";function r(){}var i=n(136),a=i.a.prototype;r.prototype=(function(t,e){var n=new r;if(t instanceof r)t.each(function(t){n.add(t)});else if(t){var i=-1,a=t.length;if(null==e)for(;++i<a;)n.add(t[i]);else for(;++i<a;)n.add(e(t[i],i,t))}return n}).prototype={constructor:r,has:a.has,add:function(t){return this[i.b+(t+="")]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t){return[t.source.x1,t.y0]}function i(t){return[t.target.x0,t.y1]}var a=n(732);e.a=function(){return Object(a.a)().source(r).target(i)}},function(t,e,n){"use strict";n(733),n(270),n(137),n(734),n(737),n(272),n(273);var r=n(738);n.d(e,"a",function(){return r.a}),n(739),n(275),n(276),n(277),n(279),n(278),n(280),n(281),n(740),n(741),n(83),n(742),n(282),n(283),n(84),n(743),n(744),n(139),n(745),n(81),n(746),n(747),n(748),n(749),n(750),n(751),n(58),n(752),n(753),n(140),n(754),n(755),n(59),n(756)},function(t,e,n){"use strict";n(39),n(34),n(57)},function(t,e,n){"use strict";n(34),n(735),n(736),n(57)},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";n(271),n(270),n(272)},function(t,e,n){"use strict";function r(t){return t.source}function i(t){return t.target}function a(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}e.a=function(){return function(t){function e(){var e,r=s.a.call(arguments),i=n.apply(this,r),u=a.apply(this,r);if(f||(f=e=Object(o.path)()),t(f,+c.apply(this,(r[0]=i,r)),+h.apply(this,r),+c.apply(this,(r[0]=u,r)),+h.apply(this,r)),e)return f=null,e+""||null}var n=r,a=i,c=l.a,h=l.b,f=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(c="function"==typeof t?t:Object(u.a)(+t),e):c},e.y=function(t){return arguments.length?(h="function"==typeof t?t:Object(u.a)(+t),e):h},e.context=function(t){return arguments.length?(f=null==t?null:t,e):f},e}(a)};var o=n(39),s=n(274),u=n(34),l=n(138);n(273)},function(t,e,n){"use strict";n(39),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(34)},function(t,e,n){"use strict";n(82),n(83)},function(t,e,n){"use strict";n(83)},function(t,e,n){"use strict";function r(t,e){this._basis=new i.a(t),this._beta=e}var i=n(83);r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,u=-1;++u<=n;)this._basis.point(this._beta*t[u]+(1-this._beta)*(i+(r=u/n)*o),this._beta*e[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new i.a(t):new r(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(282),a=n(82),o=n(139);r.prototype={areaStart:a.a,areaEnd:a.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(o.a)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(283),a=n(139);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(a.a)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";n(82)},function(t,e,n){"use strict";function r(t){return t<0?-1:1}function i(t,e,n){var i=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(i||a<0&&-0),s=(n-t._y1)/(a||i<0&&-0),u=(o*a+s*i)/(i+a);return(r(o)+r(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function a(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function o(t,e,n){var r=t._x0,i=t._x1,a=t._y1,o=(i-r)/3;t._context.bezierCurveTo(r+o,t._y0+o*e,i-o,a-o*n,i,a)}function s(t){this._context=t}function u(t){this._context=t}s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,n=i(this,t,e)),n);break;default:o(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},((function(t){this._context=new u(t)}).prototype=Object.create(s.prototype)).point=function(t,e){s.prototype.point.call(this,e,t)},u.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}}},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n(274),n(34),n(58),n(59)},function(t,e,n){"use strict";n(58)},function(t,e,n){},function(t,e,n){"use strict";n(58)},function(t,e,n){"use strict";n(58)},function(t,e,n){"use strict";n(140)},function(t,e,n){"use strict";n(59),n(140)},function(t,e,n){"use strict";n(59)},function(t,e,n){function r(t,e){var n=(e=i({},l,e)).as;if(!o(n)||2!==n.length)throw new TypeError("Invalid as: must be an array with two strings!");var r=n[0],s=n[1],c=u(e);if(!o(c)&&2!==c.length)throw new TypeError("Invalid fields: must be an array with two strings!");var h=c[0],f=c[1],d=t.rows,p=d.map(function(t){return[t[h],t[f]]}),g=a.voronoi();e.extend&&g.extent(e.extend),e.size&&g.size(e.size);var v=g(p).polygons();d.forEach(function(t,e){var n=v[e].filter(function(t){return!!t});t[r]=n.map(function(t){return t[0]}),t[s]=n.map(function(t){return t[1]})})}var i=n(4),a=n(758),o=n(3),s=n(2).registerTransform,u=n(7).getFields,l={as:["_x","_y"]};s("diagram.voronoi",r),s("voronoi",r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(759);n.d(e,"voronoi",function(){return r.a})},function(t,e,n){"use strict";var r=n(760),i=n(761),a=n(60);e.a=function(){function t(t){return new a.d(t.map(function(r,i){var o=[Math.round(e(r,i,t)/a.f)*a.f,Math.round(n(r,i,t)/a.f)*a.f];return o.index=i,o.data=r,o}),o)}var e=i.a,n=i.b,o=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(+e),t):n},t.extent=function(e){return arguments.length?(o=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},t.size=function(e){return arguments.length?(o=null==e?null:[[0,0],[+e[0],+e[1]]],t):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},t}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";function r(t){var e=h.pop()||new function(){Object(o.a)(this),this.edge=this.site=this.circle=null};return e.site=t,e}function i(t){Object(u.b)(t),c.a.remove(t),h.push(t),Object(o.a)(t)}function a(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/a-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-a/2)))/h+r:(r+s)/2}e.b=function(t){var e=t.circle,n=e.x,r=e.cy,a=[n,r],o=t.P,s=t.N,h=[t];i(t);for(var f=o;f.circle&&Math.abs(n-f.circle.x)<c.f&&Math.abs(r-f.circle.cy)<c.f;)o=f.P,h.unshift(f),i(f),f=o;h.unshift(f),Object(u.b)(f);for(var d=s;d.circle&&Math.abs(n-d.circle.x)<c.f&&Math.abs(r-d.circle.cy)<c.f;)s=d.N,h.push(d),i(d),d=s;h.push(d),Object(u.b)(d);var p,g=h.length;for(p=1;p<g;++p)d=h[p],f=h[p-1],Object(l.d)(d.edge,f.site,d.site,a);f=h[0],(d=h[g-1]).edge=Object(l.c)(f.site,d.site,null,a),Object(u.a)(f),Object(u.a)(d)},e.a=function(t){for(var e,n,i,o,h=t[0],f=t[1],d=c.a._;d;)if((i=a(d,f)-h)>c.f)d=d.L;else{if(!((o=h-function(t,e){var n=t.N;if(n)return a(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(d,f))>c.f)){i>-c.f?(e=d.P,n=d):o>-c.f?(e=d,n=d.N):e=n=d;break}if(!d.R){e=d;break}d=d.R}Object(s.c)(t);var p=r(t);if(c.a.insert(e,p),e||n){if(e===n)return Object(u.b)(e),n=r(e.site),c.a.insert(p,n),p.edge=n.edge=Object(l.c)(e.site,p.site),Object(u.a)(e),void Object(u.a)(n);if(n){Object(u.b)(e),Object(u.b)(n);var g=e.site,v=g[0],m=g[1],y=t[0]-v,x=t[1]-m,b=n.site,_=b[0]-v,w=b[1]-m,S=2*(y*w-x*_),M=y*y+x*x,O=_*_+w*w,C=[(w*M-x*O)/S+v,(y*O-_*M)/S+m];Object(l.d)(n.edge,g,b,C),p.edge=Object(l.c)(g,t,null,C),n.edge=Object(l.c)(t,b,null,C),Object(u.a)(e),Object(u.a)(n)}else p.edge=Object(l.c)(e.site,p.site)}};var o=n(141),s=n(284),u=n(285),l=n(142),c=n(60),h=[]},function(t,e,n){function r(t,e){if(t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=t.root,r=(e=i({},h,e)).as;if(!o(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var s=void 0;try{s=c(e)}catch(t){console.warn(t)}s&&n.sum(function(t){return t[s]});var l=a.cluster();l.size(e.size),e.nodeSize&&l.nodeSize(e.nodeSize),e.separation&&l.separation(e.separation),l(n);var f=r[0],d=r[1];n.each(function(t){t[f]=t.x,t[d]=t.y})}var i=n(4),a=n(40),o=n(3),s=n(2),u=s.HIERARCHY,l=s.registerTransform,c=n(7).getField,h={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};l("hierarchy.cluster",r),l("dendrogram",r)},function(t,e,n){function r(t,e){var n=t.root;if(e=Object.assign({},u,e),t.dataType!==o)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=i.compactBox(n,e)}var i=n(143),a=n(2),o=a.HIERARCHY,s=a.registerTransform,u={};s("hierarchy.compact-box",r),s("compact-box-tree",r),s("non-layered-tidy-tree",r),s("mindmap-logical",r)},function(t,e,n){function r(t,e){var n=t.root;if(e=Object.assign({},u,e),t.dataType!==o)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=i.dendrogram(n,e)}var i=n(143),a=n(2),o=a.HIERARCHY,s=a.registerTransform,u={};s("hierarchy.dendrogram",r),s("dendrogram",r)},function(t,e,n){function r(t,e){var n=t.root;if(e=Object.assign({},u,e),t.dataType!==o)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=i.indented(n,e)}var i=n(143),a=n(2),o=a.HIERARCHY,s=a.registerTransform,u={};s("hierarchy.indented",r),s("indented-tree",r)},function(t,e,n){function r(t,e){if(t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=t.root,r=(e=i({},h,e)).as;if(!o(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var s=void 0;try{s=c(e)}catch(t){console.warn(t)}s&&n.sum(function(t){return t[s]}).sort(function(t,e){return e[s]-t[s]});var l=a.pack();l.size(e.size),e.padding&&l.padding(e.padding),l(n);var f=r[0],d=r[1],p=r[2];n.each(function(t){t[f]=t.x,t[d]=t.y,t[p]=t.r})}var i=n(4),a=n(40),o=n(3),s=n(2),u=s.HIERARCHY,l=s.registerTransform,c=n(7).getField,h={field:"value",size:[1,1],padding:0,as:["x","y","r"]};l("hierarchy.pack",r),l("hierarchy.circle-packing",r),l("circle-packing",r)},function(t,e,n){function r(t,e){if(t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=t.root,r=(e=i({},h,e)).as;if(!o(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var s=void 0;try{s=c(e)}catch(t){console.warn(t)}s&&n.sum(function(t){return t[s]});var l=a.partition();l.size(e.size).round(e.round).padding(e.padding),l(n);var f=r[0],d=r[1];n.each(function(t){t[f]=[t.x0,t.x1,t.x1,t.x0],t[d]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach(function(e){-1===r.indexOf(e)&&delete t[e]})})}var i=n(4),a=n(40),o=n(3),s=n(2),u=s.HIERARCHY,l=s.registerTransform,c=n(7).getField,h={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};l("hierarchy.partition",r),l("adjacency",r)},function(t,e,n){function r(t,e){if(t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=t.root,r=(e=i({},h,e)).as;if(!o(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var s=void 0;try{s=c(e)}catch(t){console.warn(t)}s&&n.sum(function(t){return t[s]});var l=a.tree();l.size(e.size),e.nodeSize&&l.nodeSize(e.nodeSize),e.separation&&l.separation(e.separation),l(n);var f=r[0],d=r[1];n.each(function(t){t[f]=t.x,t[d]=t.y})}var i=n(4),a=n(40),o=n(3),s=n(2),u=s.HIERARCHY,l=s.registerTransform,c=n(7).getField,h={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};l("hierarchy.tree",r),l("tree",r)},function(t,e,n){function r(t,e){if(t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=t.root,r=(e=i({},h,e)).as;if(!o(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var s=void 0;try{s=c(e)}catch(t){console.warn(t)}s&&n.sum(function(t){return t[s]});var l=a.treemap();l.tile(a[e.tile]).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft),l(n);var f=r[0],d=r[1];n.each(function(t){t[f]=[t.x0,t.x1,t.x1,t.x0],t[d]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach(function(e){-1===r.indexOf(e)&&delete t[e]})})}var i=n(4),a=n(40),o=n(3),s=n(2),u=s.HIERARCHY,l=s.registerTransform,c=n(7).getField,h={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};l("hierarchy.treemap",r),l("treemap",r)},function(t,e,n){function r(t,e){e=i({},l,e);var n=s();["font","fontSize","padding","rotate","size","spiral","timeInterval"].forEach(function(t){e[t]&&n[t](e[t])});var r=u(e),o=r[0],c=r[1];if(!a(o)||!a(c))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var h=t.rows.map(function(t){return t.text=t[o],t.value=t[c],t});n.words(h),e.imageMask&&n.createMask(e.imageMask);var f=n.start(),d=f._tags,p=f._bounds;d.forEach(function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2});var g=e.size,v=g[0],m=g[1],y=f.hasImage;d.push({text:"",value:0,x:y?0:p[0].x,y:y?0:p[0].y,opacity:0}),d.push({text:"",value:0,x:y?v:p[1].x,y:y?m:p[1].y,opacity:0}),t.rows=d,t._tagCloud=f}var i=n(4),a=n(9),o=n(2).registerTransform,s=n(772),u=n(7).getFields,l={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};o("tag-cloud",r),o("word-cloud",r)},function(t,e){function n(t){return t.text}function r(){return"serif"}function i(){return"normal"}function a(t){return t.value}function o(){return 90*~~(2*Math.random())}function s(){return 1}function u(t,e,n,r){if(!e.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(m<<5)/a,y/a);var o=0,s=0,u=0,l=n.length;for(--r;++r<l;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;var c=i.measureText(e.text+"m").width*a,h=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*v),d=Math.cos(e.rotate*v),p=c*d,g=c*f,x=h*d,b=h*f;c=Math.max(Math.abs(p+b),Math.abs(p-b))+31>>5<<5,h=~~Math.max(Math.abs(g+x),Math.abs(g-x))}else c=c+31>>5<<5;if(h>u&&(u=h),o+c>=m<<5&&(o=0,s+=u,u=0),s+h>=y)break;i.translate((o+(c>>1))/a,(s+(h>>1))/a),e.rotate&&i.rotate(e.rotate*v),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=c,e.height=h,e.xoff=o,e.yoff=s,e.x1=c>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=c}for(var _=i.getImageData(0,0,(m<<5)/a,y/a).data,w=[];--r>=0;)if((e=n[r]).hasText){for(var S=e.width,M=S>>5,O=e.y1-e.y0,C=0;C<O*M;C++)w[C]=0;if(null==(o=e.xoff))return;s=e.yoff;for(var A=0,I=-1,T=0;T<O;T++){for(var E=0;E<S;E++){var j=_[(s+T)*(m<<5)+(o+E)<<2]?1<<31-E%32:0;w[M*T+(E>>5)]|=j,A|=j}A?I=T:(e.y0++,O--,T--,s++)}e.y1=e.y0+I,e.sprite=w.slice(0,(e.y1-e.y0)*M)}}}function l(t,e,n){for(var r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=127&a,s=32-o,u=t.y1-t.y0,l=(t.y+t.y0)*(n>>=5)+(a>>5),c=void 0,h=0;h<u;h++){c=0;for(var f=0;f<=i;f++)if((c<<s|(f<i?(c=r[h*i+f])>>>o:0))&e[l+f])return!0;l+=n}return!1}function c(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function h(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function f(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function d(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function p(){return document.createElement("canvas")}function g(t){return"function"==typeof t?t:function(){return t}}var v=Math.PI/180,m=64,y=2048,x={archimedean:f,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};t.exports=function(){var t=[256,256],e=n,v=r,b=a,_=i,w=i,S=o,M=s,O=f,C=[],A=1/0,I=Math.random,T=p,E={canvas:function(t){return arguments.length?(T=g(t),E):T},start:function(){var n=t[0],r=t[1],i=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(m<<5)/e,t.height=y/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(T()),a=E.board?E.board:d((t[0]>>5)*t[1]),o=C.length,s=[],f=C.map(function(t,n){return t.text=e.call(this,t,n),t.font=v.call(this,t,n),t.style=_.call(this,t,n),t.weight=w.call(this,t,n),t.rotate=S.call(this,t,n),t.size=~~b.call(this,t,n),t.padding=M.call(this,t,n),t}).sort(function(t,e){return e.size-t.size}),p=-1,g=E.board?[{x:0,y:0},{x:n,y:r}]:null;return function(){for(var e=Date.now();Date.now()-e<A&&++p<o;){var d=f[p];d.x=n*(I()+.5)>>1,d.y=r*(I()+.5)>>1,u(i,d,f,p),d.hasText&&function(e,n,r){for(var i=n.x,a=n.y,o=Math.sqrt(t[0]*t[0]+t[1]*t[1]),s=O(t),u=I()<.5?1:-1,c=void 0,f=-u,d=void 0,p=void 0;(c=s(f+=u))&&(d=~~c[0],p=~~c[1],!(Math.min(Math.abs(d),Math.abs(p))>=o));)if(n.x=i+d,n.y=a+p,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!l(n,e,t[0]))&&(!r||h(n,r))){for(var g=n.sprite,v=n.width>>5,m=t[0]>>5,y=n.x-(v<<4),x=127&y,b=32-x,_=n.y1-n.y0,w=void 0,S=(n.y+n.y0)*m+(y>>5),M=0;M<_;M++){w=0;for(var C=0;C<=v;C++)e[S+C]|=w<<b|(C<v?(w=g[M*v+C])>>>x:0);S+=m}return delete n.sprite,!0}return!1}(a,d,g)&&(s.push(d),g?E.hasImage||c(g,d):g=[{x:d.x+d.x0,y:d.y+d.y0},{x:d.x+d.x1,y:d.y+d.y1}],d.x-=t[0]>>1,d.y-=t[1]>>1)}E._tags=s,E._bounds=g}(),E},createMask:function(e){var n=document.createElement("canvas"),r=t[0],i=t[1],a=r>>5,o=d((r>>5)*i);n.width=r,n.height=i;var s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height,0,0,r,i);for(var u=s.getImageData(0,0,r,i).data,l=0;l<i;l++)for(var c=0;c<r;c++){var h=l*r+c<<2;o[a*l+(c>>5)]|=u[h]>=250&&u[h+1]>=250&&u[h+2]>=250?1<<31-c%32:0}E.board=o,E.hasImage=!0},timeInterval:function(t){return arguments.length?(A=null==t?1/0:t,E):A},words:function(t){return arguments.length?(C=t,E):C},size:function(e){return arguments.length?(t=[+e[0],+e[1]],E):t},font:function(t){return arguments.length?(v=g(t),E):v},fontStyle:function(t){return arguments.length?(_=g(t),E):_},fontWeight:function(t){return arguments.length?(w=g(t),E):w},rotate:function(t){return arguments.length?(S=g(t),E):S},text:function(t){return arguments.length?(e=g(t),E):e},spiral:function(t){return arguments.length?(O=x[t]||t,E):O},fontSize:function(t){return arguments.length?(b=g(t),E):b},padding:function(t){return arguments.length?(M=g(t),E):M},random:function(t){return arguments.length?(I=t,E):I}};return E}},function(t,e,n){var r=n(4),i=n(774),a=n(12),o=n(11),s=n(776),u=n(52),l=n(27).sum,c=n(19),h=n(2).registerTransform,f=n(7).getFields,d={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};h("waffle",function(t,e){e=r({},d,e);var n=f(e),h=n[0],p=n[1],g=e.as,v=g[0],m=g[1],y=e.groupBy,x=c(t.rows,y),b=o(x),_=e.size,w=_[0],S=e.maxCount,M=_[1]/b.length,O=e.rows,C=e.gapRatio,A=[],I=e.scale,T=0,E=0;a(x,function(t){var e=l(s(t,function(t){return t[p]})),n=Math.ceil(e*I/O);e*I>S&&(I=S/e,n=Math.ceil(e*I/O)),E=w/n}),a(x,function(t){var e=[T*M,(T+1)*M],n=(e[1]-e[0])*(1-C)/O,r=0,a=0;i(t,function(t){for(var i=Math.round(t[p]*I),o=0;o<i;o++){a===O&&(a=0,r++);var s=u(t,[h,p].concat(y));s[v]=r*E+E/2,s[m]=a*n+n/2+e[0],s._wStep=E,s._hStep=n,a++,A.push(s)}}),T+=1}),t.rows=A})},function(t,e,n){t.exports=n(775)},function(t,e,n){var r=n(192),i=n(120),a=n(213),o=n(3);t.exports=function(t,e){return(o(t)?r:i)(t,a(e))}},function(t,e,n){var r=n(50),i=n(48),a=n(261),o=n(3);t.exports=function(t,e){return(o(t)?r:a)(t,i(e,3))}},function(t,e,n){function r(t,e){e=i({},g,e);var n=d(e);if(!a(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var r=e.as,l=r[0],f=r[1],m=r[2];if(!u(l)||!u(f)||!u(m))throw new TypeError("invalid as: must be an array of 3 strings!");var y=e.method;if(u(y)){if(-1===v.indexOf(y))throw new TypeError("invalid method: "+y+". Must be one of "+v.join(", "));y=h[y]}if(!o(y))throw new TypeError("invalid method: kernel method must be a function!");var x=n[0],b=n[1],_=e.extent,w=_[0],S=_[1];a(w)&&a(S)||(w=t.range(x),S=t.range(b));var M=e.bandwidth,O=M[0],C=M[1];(!s(O)||O<=0||!s(C)||C<=0)&&(O=p(t.getColumn(x)),C=p(t.getColumn(b)));for(var A=c(w,O),I=c(S,C),T=t.rows.length,E=[],j=0;j<A.length;j++)for(var P=0;P<I.length;P++){for(var k=0,D=A[j],L=I[P],R=0;R<T;R++)k+=y((D-t.rows[R][x])/O)*y((L-t.rows[R][b])/C);var N=1/(T*O*C)*k,z={};z[l]=D,z[f]=L,z[m]=N,E.push(z)}t.rows=E}var i=n(4),a=n(3),o=n(13),s=n(132),u=n(9),l=n(11),c=n(133),h=n(286),f=n(2).registerTransform,d=n(7).getFields,p=n(134).silverman,g={as:["x","y","z"],method:"gaussian",extent:[],bandwidth:[]},v=l(h);f("kernel-smooth.density",r),f("kernel.density",r),t.exports={KERNEL_METHODS:v}},function(t,e,n){function r(t){return function(e){return o(e)?e.map(function(e){return t(e)}):t(e)}}function i(t,e){e=a({},y,e);var n=v(e);if(!o(n)||1!==n.length&&2!==n.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var i=e.as,h=i[0],g=i[1];if(!c(h)||!c(g))throw new TypeError("invalid as: must be an array of 2 strings!");var b=e.method;if(c(b)){if(-1===x.indexOf(b))throw new TypeError("invalid method: "+b+". Must be one of "+x.join(", "));b=p[b]}if(!s(b))throw new TypeError("invalid method: kernel method must be a function!");var _=n[0],w=n[1],S=t.getColumn(_),M=e.extent;o(M)||(M=t.range(_));var O=e.bandwidth;(!l(O)||O<=0)&&(O=m(S));var C=d(M,O),A=S.length,I=(function(t,e,n,r){return t((r-n)/e)}).bind(null,b,O),T=void 0;if(u(w))T=r(function(t){var e=S.map(function(e){return I(t,e)}),n=f(e),r=A*O;return n&&r?n/r:0});else{var E=t.getColumn(w);T=r(function(t){var e=S.map(function(e){return I(t,e)}),n=f(e.map(function(t,e){return t*E[e]})),r=f(e);return n&&r?n/r:0})}var j=C.map(function(t){var e={};return e[h]=t,e[g]=T(t),e});t.rows=j}var a=n(4),o=n(3),s=n(13),u=n(247),l=n(132),c=n(9),h=n(11),f=n(27).sum,d=n(133),p=n(286),g=n(2).registerTransform,v=n(7).getFields,m=n(134).silverman,y={as:["x","y"],method:"gaussian"},x=h(p);g("kernel-smooth.regression",i),g("kernel.regression",i),t.exports={KERNEL_METHODS:x}}])}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Slider=e():t.Slider=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){var r=n(1);window&&!window.G2&&console.err("Please load the G2 script first!"),t.exports=r},function(t,e,n){var r=n(2),i=window&&window.G2,a=i.Chart,o=i.Util,s=i.Global,u=i.G.Canvas,l=o.DomUtil,c=function(t){return"number"==typeof t},h=function(){function t(t){this._initProps(),o.deepMix(this,t);var e=this.container;if(!e)throw new Error("Please specify the container for the Slider!");this.domContainer=o.isString(e)?document.getElementById(e):e,this.handleStyle=o.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",o.wrapBehavior(this,"_initForceFitEvent"))}var e=t.prototype;return e._initProps=function(){this.height=26,this.width="auto",this.padding=s.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},e._initForceFitEvent=function(){var t=setTimeout(o.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},e.forceFit=function(){if(this&&!this.destroyed){var t=l.getWidth(this.domContainer);if(t!==this.domWidth){var e=this.canvas;e.changeSize(t,this.height),this.bgChart&&this.bgChart.changeWidth(t),e.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),e.draw()}}},e._initWidth=function(){var t;t="auto"===this.width?l.getWidth(this.domContainer):this.width,this.domWidth=t;var e=o.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=t-e[1]-e[3],this.plotPadding=e[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-e[0]-e[2],this.plotPadding=e[0])},e.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},e.changeData=function(t){this.data=t,this.repaint()},e.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var t=this.domContainer;t.hasChildNodes();)t.removeChild(t.firstChild);window.removeEventListener("resize",o.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},e.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},e.repaint=function(){this.clear(),this.render()},e._initCanvas=function(){var t=new u({width:this.domWidth,height:this.height,containerDOM:this.domContainer,capture:!1}),e=t.get("el");e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=3,this.canvas=t},e._initBackground=function(){var t,e=this.data,n=this.xAxis,r=this.yAxis,i=o.deepMix(((t={})[""+n]={range:[0,1]},t),this.scales);if(!e)throw new Error("Please specify the data!");if(!n)throw new Error("Please specify the xAxis!");if(!r)throw new Error("Please specify the yAxis!");var s=this.backgroundChart,u=s.type,l=s.color;o.isArray(u)||(u=[u]);var c=o.toAllPadding(this.padding),h=new a({container:this.container,width:this.domWidth,height:this.height,padding:[0,c[1],0,c[3]],animate:!1});h.source(e),h.scale(i),h.axis(!1),h.tooltip(!1),h.legend(!1),o.each(u,function(t){h[t]().position(n+"*"+r).color(l).opacity(1)}),h.render(),this.bgChart=h,this.scale="horizontal"===this.layout?h.getXScale():h.getYScales()[0],"vertical"===this.layout&&h.destroy()},e._initRange=function(){var t=this.startRadio,e=this.endRadio,n=this.start,r=this.end,i=this.scale,a=0,o=1;c(t)?a=t:n&&(a=i.scale(i.translate(n))),c(e)?o=e:r&&(o=i.scale(i.translate(r)));var s=this.minSpan,u=this.maxSpan,l=0;if("time"===i.type||"timeCat"===i.type){var h=i.values;l=h[h.length-1]-h[0]}else i.isLinear&&(l=i.max-i.min);l&&s&&(this.minRange=s/l*100),l&&u&&(this.maxRange=u/l*100);var f=[100*a,100*o];return this.range=f,f},e._getHandleValue=function(t){var e=this.range,n=e[1]/100,r=this.scale;return"min"===t?this.start?this.start:r.invert(e[0]/100):this.end?this.end:r.invert(n)},e._initSlider=function(){var t=this.canvas,e=this._initRange(),n=this.scale,i=t.addGroup(r,{middleAttr:this.fillerStyle,range:e,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:n.getText(this._getHandleValue("min")),maxText:n.getText(this._getHandleValue("max"))});"horizontal"===this.layout?i.translate(this.plotPadding,0):"vertical"===this.layout&&i.translate(0,this.plotPadding),this.rangeElement=i},e._bindEvent=function(){var t=this;t.rangeElement.on("sliderchange",function(e){var n=e.range;t._updateElement(n[0]/100,n[1]/100)})},e._updateElement=function(t,e){var n=this.scale,r=this.rangeElement,i=r.get("minTextElement"),a=r.get("maxTextElement"),o=n.invert(t),s=n.invert(e),u=n.getText(o),l=n.getText(s);i.attr("text",u),a.attr("text",l),this.start=o,this.end=s,this.onChange&&this.onChange({startText:u,endText:l,startValue:o,endValue:s,startRadio:t,endRadio:e})},t}();t.exports=h},function(t,e){var n=window&&window.G2,r=n.Util,i=r.DomUtil,a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},n._initHandle=function(t){var e,n,i,a=this.addGroup(),o=this.get("layout"),s=this.get("handleStyle"),u=s.img,l=s.width,c=s.height;if("horizontal"===o){var h=s.width;n=a.addShape("Image",{attrs:{x:-h/2,y:0,width:h,height:c,img:u,cursor:i="ew-resize"}}),e=a.addShape("Text",{attrs:r.mix({x:"min"===t?-(h/2+5):h/2+5,y:c/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:this.get("min"===t?"minText":"maxText"),cursor:i},this.get("textStyle"))})}else n=a.addShape("Image",{attrs:{x:0,y:-c/2,width:l,height:c,img:u,cursor:i="ns-resize"}}),e=a.addShape("Text",{attrs:r.mix({x:l/2,y:"min"===t?c/2+5:-(c/2+5),textAlign:"center",textBaseline:"middle",text:this.get("min"===t?"minText":"maxText"),cursor:i},this.get("textStyle"))});return this.set(t+"TextElement",e),this.set(t+"IconElement",n),a},n._initSliderBackground=function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:r.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},n._beforeRenderUI=function(){var t=this._initSliderBackground(),e=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",e),this.set("maxHandleElement",n),this.set("backgroundElement",t),t.set("zIndex",0),r.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},n._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},n._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),a=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");o.resetMatrix?(o.resetMatrix(),s.resetMatrix()):(o.initTransform(),s.initTransform()),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:a}),o.translate(n*i,0),s.translate(r*i,0)):(u.attr({x:0,y:a*(1-r),width:i,height:(r-n)*a}),o.translate(0,(1-n)*a),s.translate(0,(1-r)*a))},n._renderHorizontal=function(){this._transform("horizontal")},n._renderVertical=function(){this._transform("vertical")},n._bindUI=function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},n._isElement=function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&n.get("children").indexOf(t)>-1},n._getRange=function(t,e){var n=t+e;return(n=n>100?100:n)<0?0:n},n._limitRange=function(t,e,n){n[0]=this._getRange(t,n[0]),n[1]=n[0]+e,n[1]>100&&(n[1]=100,n[0]=n[1]-e)},n._updateStatus=function(t,e){var n=this.get("x"===t?"width":"height");t=r.upperFirst(t);var i=this.get("range"),a=this.get("page"+t),o=this.get("currentTarget"),s=this.get("rangeStash"),u="vertical"===this.get("layout")?-1:1,l=e["page"+t],c=(l-a)/n*100*u,h=this.get("minRange"),f=this.get("maxRange");i[1]<=i[0]?(this._isElement(o,"minHandleElement")||this._isElement(o,"maxHandleElement"))&&(i[0]=this._getRange(c,i[0]),i[1]=this._getRange(c,i[0])):(this._isElement(o,"minHandleElement")&&(i[0]=this._getRange(c,i[0]),h&&i[1]-i[0]<=h&&this._limitRange(c,h,i),f&&i[1]-i[0]>=f&&this._limitRange(c,f,i)),this._isElement(o,"maxHandleElement")&&(i[1]=this._getRange(c,i[1]),h&&i[1]-i[0]<=h&&this._limitRange(c,h,i),f&&i[1]-i[0]>=f&&this._limitRange(c,f,i))),this._isElement(o,"middleHandleElement")&&this._limitRange(c,s[1]-s[0],i),this.emit("sliderchange",{range:i}),this.set("page"+t,l),this._renderUI(),this.get("canvas").draw()},n._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},n._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=i.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=i.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=i.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},n._onCanvasMouseMove=function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},n._onCanvasMouseUp=function(){this._removeDocumentEvents()},n._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},e}(n.G.Group);t.exports=a}])});